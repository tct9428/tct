const _0x1a765e=_0x2de3;(function(_0x32860c,_0x57b523){const _0x50ad6f=_0x2de3,_0x491fac=_0x32860c();while(!![]){try{const _0x52f7f2=-parseInt(_0x50ad6f(0x203))/(-0x86*-0x1+0x11*-0x248+0x7a7*0x5)*(parseInt(_0x50ad6f(0x207))/(-0x1*-0xef5+0xa79*-0x2+-0x133*-0x5))+-parseInt(_0x50ad6f(0x1e8))/(0x17*-0x57+0x1330+-0xb5c)*(parseInt(_0x50ad6f(0x1e9))/(-0x24fc+-0x1d7f*0x1+-0x24b*-0x1d))+-parseInt(_0x50ad6f(0x1ea))/(0x1*0x148d+-0x6d*-0x27+-0x2523*0x1)+-parseInt(_0x50ad6f(0x205))/(-0xa1d+0x1b*0x8d+-0x4bc)+parseInt(_0x50ad6f(0x1eb))/(-0xa1f*-0x3+-0xec7+-0x7*0x239)+-parseInt(_0x50ad6f(0x1f9))/(-0x439*0x1+0x1dd9+-0x1998)+parseInt(_0x50ad6f(0x1f2))/(-0x43d+0x1144+-0x2*0x67f)*(parseInt(_0x50ad6f(0x1d9))/(0x1*-0x269+-0x1bff+0x1e72));if(_0x52f7f2===_0x57b523)break;else _0x491fac['push'](_0x491fac['shift']());}catch(_0x52f649){_0x491fac['push'](_0x491fac['shift']());}}}(_0x1654,-0x235*-0x4b1+0x2f665*0x1+0x1c577*-0x2));import{get,set}from'./database.js';import{warn as _0xb31b53,error as _0x52e68d}from'./logger.js';const DB_KEY=_0x1a765e(0x1f1)+'set',warn=_0x1465ae=>{try{_0xb31b53(_0x1465ae);}catch(_0x250769){}},error=_0x539c22=>{try{_0x52e68d(_0x539c22);}catch(_0x2445e5){}};export function normalizeToJid(_0x27ecc8){const _0x8a2d42=_0x1a765e;if(!_0x27ecc8)return null;if(typeof _0x27ecc8==='object')return null;if(typeof _0x27ecc8!==_0x8a2d42(0x1f7))_0x27ecc8=String(_0x27ecc8);let _0x42b85d=_0x27ecc8['trim']();if(!_0x42b85d||_0x42b85d==='[object\x20Ob'+_0x8a2d42(0x1f5)||_0x42b85d[_0x8a2d42(0x1e0)+'e']()==='object')return null;(_0x42b85d['startsWith']('<')&&_0x42b85d[_0x8a2d42(0x1e1)]('>')||_0x42b85d[_0x8a2d42(0x1ed)]('\x22')&&_0x42b85d[_0x8a2d42(0x1e1)]('\x22')||_0x42b85d[_0x8a2d42(0x1ed)]('\x27')&&_0x42b85d[_0x8a2d42(0x1e1)]('\x27'))&&(_0x42b85d=_0x42b85d['slice'](0x191a+0xb3*-0x29+0x1*0x392,-(-0x36*0x95+-0x1c21+0x3b90))[_0x8a2d42(0x1e5)]());const _0x38a406=_0x42b85d[_0x8a2d42(0x1e2)]('/');if(_0x38a406!==-(-0x2441+-0xb07+0x2f49))_0x42b85d=_0x42b85d['slice'](0x1736+-0xf8f+0x28d*-0x3,_0x38a406)[_0x8a2d42(0x1e5)]();const _0x22dbcd=_0x42b85d[_0x8a2d42(0x1e2)]('@');let _0x2022d8=_0x22dbcd>-(0x13c5+-0x1*0x16a9+0x3*0xf7)?_0x42b85d['slice'](-0x25c6+-0x16c9+-0x3c8f*-0x1,_0x22dbcd):_0x42b85d,_0x40938e=_0x22dbcd>-(-0x1164+0x1c7*0x3+0xc10)?_0x42b85d['slice'](_0x22dbcd+(0x4b3+-0x956+0x18c*0x3)):null;const _0x121730=_0x2022d8[_0x8a2d42(0x1e2)](':');if(_0x121730!==-(-0xcb5+0x1*-0x1202+-0x1eb8*-0x1))_0x2022d8=_0x2022d8['slice'](0x37*-0x1f+0x36*-0xab+0x2abb,_0x121730);if(_0x2022d8[_0x8a2d42(0x1ed)]('+'))_0x2022d8=_0x2022d8[_0x8a2d42(0x1d6)](0x198f+-0x3*0xa68+0x5aa);_0x2022d8=_0x2022d8[_0x8a2d42(0x1e5)]();if(!_0x40938e)_0x40938e='s.whatsapp'+_0x8a2d42(0x1ec);_0x40938e=String(_0x40938e)['trim']()[_0x8a2d42(0x1e0)+'e']();const _0x1e2b71=_0x40938e==='g.us',_0x1e7a35=_0x40938e===_0x8a2d42(0x1f8)+'.net';if(!_0x2022d8)return null;if(!/^[a-z0-9.\-]+$/i[_0x8a2d42(0x206)](_0x2022d8))return null;if(_0x1e7a35){if(!/^\d{5,20}$/['test'](_0x2022d8))return null;}else{if(_0x1e2b71){if(!/^\d{5,20}-\d{5,20}$/['test'](_0x2022d8))return null;}else return null;}return _0x2022d8+'@'+_0x40938e;}function getInnerMessage(_0x10b6f2){const _0xea9be8=_0x1a765e;if(!_0x10b6f2)return null;if(Array[_0xea9be8(0x1f0)](_0x10b6f2[_0xea9be8(0x1d8)])&&_0x10b6f2[_0xea9be8(0x1d8)][_0xea9be8(0x1dd)]>0x1aad*-0x1+-0x1*-0x3a+-0x3*-0x8d1)return _0x10b6f2[_0xea9be8(0x1d8)][0x2*-0x11d9+0x2065*0x1+0x34d];if(_0x10b6f2?.[_0xea9be8(0x1dc)]&&(_0x10b6f2?.[_0xea9be8(0x204)+_0xea9be8(0x20d)]||_0x10b6f2?.['message']||_0x10b6f2?.['id']))return _0x10b6f2;return _0x10b6f2;}export function userJidFromCtx(_0x552e08){const _0x20c186=_0x1a765e;try{const _0x20322e=getInnerMessage(_0x552e08);if(!_0x20322e)return{'findings':[],'id':null};const _0x1b0a94=_0x20322e[_0x20c186(0x1dc)]||{},_0x450af0=_0x20322e[_0x20c186(0x20b)]&&_0x20322e['recv'][_0x20c186(0x20a)]||_0x20322e['attrs']||null,_0x234fa2=[];_0x1b0a94?.[_0x20c186(0x1e4)+'lt']&&typeof _0x1b0a94['remoteJidA'+'lt']===_0x20c186(0x1f7)&&_0x234fa2['push']({'field':'remoteJidA'+'lt','jid':_0x1b0a94[_0x20c186(0x1e4)+'lt']});_0x450af0?.[_0x20c186(0x1de)]&&typeof _0x450af0[_0x20c186(0x1de)]==='string'&&_0x234fa2['push']({'field':_0x20c186(0x1de),'jid':_0x450af0[_0x20c186(0x1de)]});_0x1b0a94?.['participan'+_0x20c186(0x208)]&&typeof _0x1b0a94['participan'+_0x20c186(0x208)]===_0x20c186(0x1f7)&&_0x234fa2['push']({'field':_0x20c186(0x1ee)+'tAlt','jid':_0x1b0a94[_0x20c186(0x1ee)+_0x20c186(0x208)]});_0x450af0?.[_0x20c186(0x1ee)+_0x20c186(0x20c)]&&typeof _0x450af0[_0x20c186(0x1ee)+_0x20c186(0x20c)]===_0x20c186(0x1f7)&&_0x234fa2['push']({'field':'participan'+_0x20c186(0x20c),'jid':_0x450af0[_0x20c186(0x1ee)+_0x20c186(0x20c)]});const _0x5253fc=_0x1b0a94?.['id']||_0x20322e?.['id']||null;return{'findings':_0x234fa2,'id':_0x5253fc};}catch(_0x2053d1){return warn(_0x20c186(0x1fa)+_0x20c186(0x1f3)+':\x20'+(_0x2053d1?.[_0x20c186(0x1e3)]||_0x2053d1)),{'findings':[],'id':null};}}async function loadSudoArray(){const _0x5e13f5=_0x1a765e;try{const _0x1a4124=await get(DB_KEY);if(!Array[_0x5e13f5(0x1f0)](_0x1a4124))return[];const _0x44ebf0=[];let _0x41a3fc=![];for(const _0x5d9a88 of _0x1a4124){const _0x32dd06=typeof _0x5d9a88===_0x5e13f5(0x1f7)?normalizeToJid(_0x5d9a88):normalizeToJid(String(_0x5d9a88));_0x32dd06?_0x44ebf0[_0x5e13f5(0x1ef)](_0x32dd06):_0x41a3fc=!![];}const _0x4c27c6=Array[_0x5e13f5(0x1da)](new Set(_0x44ebf0));if(_0x4c27c6[_0x5e13f5(0x1dd)]!==_0x44ebf0['length'])_0x41a3fc=!![];if(_0x41a3fc)try{await set(DB_KEY,_0x4c27c6);}catch(_0x71d553){warn(_0x5e13f5(0x1fb)+_0x5e13f5(0x202)+_0x5e13f5(0x1f4)+_0x5e13f5(0x1fc)+_0x5e13f5(0x200)+_0x5e13f5(0x1fd)+(_0x71d553?.[_0x5e13f5(0x1e3)]||_0x71d553));}return _0x4c27c6;}catch(_0x380995){return warn(_0x5e13f5(0x1fb)+_0x5e13f5(0x1d7)+':\x20'+(_0x380995?.[_0x5e13f5(0x1e3)]||_0x380995)),[];}}export async function listSudo(){return await loadSudoArray();}export async function addSudo(_0x49620b){const _0x13b66b=_0x1a765e;if(!_0x49620b)throw new Error('invalid\x20in'+'put');let _0x36f469=null;if(typeof _0x49620b===_0x13b66b(0x1fe))try{const {findings:_0x4c769b}=userJidFromCtx(_0x49620b);for(const _0x49285e of _0x4c769b||[]){const _0x37e3b5=normalizeToJid(_0x49285e?.[_0x13b66b(0x1db)]);if(_0x37e3b5){_0x36f469=_0x37e3b5;break;}}}catch{}else _0x36f469=normalizeToJid(_0x49620b);if(!_0x36f469)throw new Error(_0x13b66b(0x1f6)+'d');const _0x157360=await loadSudoArray();if(!_0x157360[_0x13b66b(0x20e)](_0x36f469))_0x157360['push'](_0x36f469);return await set(DB_KEY,_0x157360),_0x36f469;}export async function deleteSudo(_0x375b3c){const _0x1b1a31=_0x1a765e;if(!_0x375b3c)return[];const _0x3f9353=[];if(Array[_0x1b1a31(0x1f0)](_0x375b3c))for(const _0x7bb5de of _0x375b3c){if(typeof _0x7bb5de===_0x1b1a31(0x1fe))try{const {findings:_0x1e70f8}=userJidFromCtx(_0x7bb5de);for(const _0x403d2b of _0x1e70f8||[]){const _0x630d0f=normalizeToJid(_0x403d2b?.['jid']);if(_0x630d0f)_0x3f9353['push'](_0x630d0f);}}catch{}else{const _0x5e716a=normalizeToJid(_0x7bb5de);if(_0x5e716a)_0x3f9353[_0x1b1a31(0x1ef)](_0x5e716a);}}else{if(typeof _0x375b3c==='object')try{const {findings:_0x1e18f1}=userJidFromCtx(_0x375b3c);for(const _0x384e50 of _0x1e18f1||[]){const _0x801127=normalizeToJid(_0x384e50?.[_0x1b1a31(0x1db)]);if(_0x801127)_0x3f9353['push'](_0x801127);}}catch{}else{const _0xfedb83=normalizeToJid(_0x375b3c);if(_0xfedb83)_0x3f9353[_0x1b1a31(0x1ef)](_0xfedb83);}}let _0x35e9f8=await loadSudoArray();const _0x224f00=[];if(_0x3f9353[_0x1b1a31(0x1dd)]===-0x38c+0xfa2+0xdd*-0xe)return _0x224f00;for(const _0x1525d2 of _0x3f9353){const _0x574d75=_0x35e9f8[_0x1b1a31(0x1e2)](_0x1525d2);_0x574d75!==-(-0x551*-0x5+-0x3ba+0x6*-0x3cf)&&(_0x224f00[_0x1b1a31(0x1ef)](_0x1525d2),_0x35e9f8[_0x1b1a31(0x1ff)](_0x574d75,0x8*0xfc+0x2*0x421+-0x1021));}return await set(DB_KEY,_0x35e9f8),_0x224f00;}export async function isSudo(_0x1bb166,_0x38724e){const _0xe7da9e=_0x1a765e;try{const _0x11c1a9=await loadSudoArray();if(_0x38724e&&typeof _0x38724e===_0xe7da9e(0x1fe)){const _0x449f09=getInnerMessage(_0x38724e);if(_0x449f09&&_0x449f09[_0xe7da9e(0x1dc)]&&_0x449f09[_0xe7da9e(0x1dc)][_0xe7da9e(0x209)])return!![];const {findings:_0x286f3f}=userJidFromCtx(_0x38724e);if(!_0x286f3f||_0x286f3f[_0xe7da9e(0x1dd)]===-0x48c+0x5d+0x3f*0x11)return![];for(const _0x274768 of _0x286f3f){try{const _0x302e9a=normalizeToJid(_0x274768[_0xe7da9e(0x1db)]);if(!_0x302e9a)continue;if(_0x11c1a9[_0xe7da9e(0x20e)](_0x302e9a))return!![];}catch(_0x5b1f7d){}}return![];}if(!_0x38724e)return![];const _0x518f48=normalizeToJid(_0x38724e);if(!_0x518f48)return![];return(await loadSudoArray())['includes'](_0x518f48);}catch(_0x53fc98){return error(_0xe7da9e(0x1e7)+_0xe7da9e(0x1df)+(_0x53fc98?.[_0xe7da9e(0x1e3)]||_0x53fc98)),![];}}export async function replaceAll(_0x5c392d=[]){const _0x7e650e=_0x1a765e,_0x43a54f=(Array['isArray'](_0x5c392d)?_0x5c392d:[])[_0x7e650e(0x1e6)](normalizeToJid)[_0x7e650e(0x201)](Boolean);return await set(DB_KEY,Array[_0x7e650e(0x1da)](new Set(_0x43a54f))),Array[_0x7e650e(0x1da)](new Set(_0x43a54f));}export async function clearSudo(){return await set(DB_KEY,[]),!![];}function _0x1654(){const _0x4c8011=['splice','ned\x20sudo\x20s','filter','ray:\x20faile','673qpCSkt','messageTim','5756682KvfuVO','test','566SwcxKW','tAlt','fromMe','attrs','recv','t_pn','estamp','includes','slice','ray\x20failed','messages','190XNPwUv','from','jid','key','length','sender_pn','or:\x20','toLowerCas','endsWith','indexOf','message','remoteJidA','trim','map','isSudo\x20err','6ndRzhS','1290308wIDsjn','3757445dcFmPv','4797646AIqPPb','.net','startsWith','participan','push','isArray','sudo.sudo_','1783449THUFFV','mCtx\x20error','d\x20to\x20write','ject]','invalid\x20ji','string','s.whatsapp','10106784yVEYRZ','userJidFro','loadSudoAr','\x20back\x20clea','et:\x20','object'];_0x1654=function(){return _0x4c8011;};return _0x1654();}function _0x2de3(_0x44ac0c,_0x3304af){const _0x3afc4c=_0x1654();return _0x2de3=function(_0x349827,_0x4733e5){_0x349827=_0x349827-(-0x21bd+-0x14bf+0x3852);let _0x4e5315=_0x3afc4c[_0x349827];return _0x4e5315;},_0x2de3(_0x44ac0c,_0x3304af);}export const userjid=userJidFromCtx;export default{'normalizeToJid':normalizeToJid,'userJidFromCtx':userJidFromCtx,'userjid':userjid,'listSudo':listSudo,'addSudo':addSudo,'deleteSudo':deleteSudo,'isSudo':isSudo,'replaceAll':replaceAll,'clearSudo':clearSudo};