const _0x5c83df=_0x5685;(function(_0x49b5ad,_0x1c1bff){const _0x41164b=_0x5685,_0x13971b=_0x49b5ad();while(!![]){try{const _0x5d0a32=parseInt(_0x41164b(0x311))/(0x1a89+-0x9b4+-0x4*0x435)*(-parseInt(_0x41164b(0x15c))/(-0x1a8e*-0x1+-0x22c6*0x1+0x12*0x75))+-parseInt(_0x41164b(0x2b9))/(0x1*-0x319+-0x2*0x132b+0x2972)+parseInt(_0x41164b(0x2a3))/(-0x359*0x5+0x123a+-0x179)+-parseInt(_0x41164b(0x365))/(-0xfdb+-0x8*-0x1fc+0x0)+-parseInt(_0x41164b(0x1f5))/(0x96b*-0x1+0xda0+-0x165*0x3)*(-parseInt(_0x41164b(0x217))/(0x2*-0x685+-0x15f1+0x2302))+parseInt(_0x41164b(0x1c3))/(-0x162e*-0x1+-0x2111+0x41*0x2b)+parseInt(_0x41164b(0x26a))/(0x2*0x22e+-0x5b*-0x61+-0x26ce)*(-parseInt(_0x41164b(0x1fd))/(0x1a33+0x1*0xfe2+-0x1*0x2a0b));if(_0x5d0a32===_0x1c1bff)break;else _0x13971b['push'](_0x13971b['shift']());}catch(_0x3e60fc){_0x13971b['push'](_0x13971b['shift']());}}}(_0x4396,0x2011*-0x43+0x6b1a+0xf1070));import{EventEmitter}from'events';EventEmitter[_0x5c83df(0x19e)+_0x5c83df(0x33b)]=0x1*-0x1631+-0xabd*-0x2+-0xd5*-0x1;import{readdir,stat,readFile}from'fs/promises';import _0x26cd5c from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x153df0 from'p-limit';import _0x360b92 from'crypto';import{performance,PerformanceObserver}from'perf_hooks';import{info,warn,error,debug,trace}from'./logger.js';import{hotReloadConfig,getConfig,PROJECT_ROOT}from'./config.js';const __dirname=_0x26cd5c[_0x5c83df(0x361)](fileURLToPath(import.meta[_0x5c83df(0x2e2)])),MAX_INTERVAL_MS=0x158e4b1*0x7f+0x2290ec76+-0x4daa6046,isProduction=process[_0x5c83df(0x2e9)]['NODE_ENV']===_0x5c83df(0x233)||process[_0x5c83df(0x269)]['includes']('--prod');let chokidar=null;const DEPENDENCY_GRAPH=new Map(),CONFIG_DEPENDENCY_MAP=new Map(),modules=new Map();let messageHandlers=[],callbackHandlers=[],isReloading=![],moduleLoadStats={'totalLoads':0x0,'totalFailures':0x0,'lastError':null,'avgLoadTime':0x0,'maxLoadTime':0x0};const allCommandNames=new Set();let concurrencyLimiter=_0x153df0(getConfig()[_0x5c83df(0x246)+_0x5c83df(0x24f)+_0x5c83df(0x20a)]||-0x19b*-0xe+0x2469+-0x3ade);const fileTimers=new Map();let lastConfigSnapshot={...getConfig()||{}};export const moduleStatus={'loaded':[],'failed':[],'lastReload':null,'dependencies':new Map()};const perfObserver=new PerformanceObserver(_0x204f07=>{const _0x35f5d7=_0x5c83df;_0x204f07[_0x35f5d7(0x1d3)]()[_0x35f5d7(0x32a)](_0x3c5a9c=>{const _0x498960=_0x35f5d7;trace(_0x3c5a9c['name']+_0x498960(0x2d2)+_0x3c5a9c[_0x498960(0x2ff)][_0x498960(0x209)](0x1426+0xaa*-0x27+-0x86*-0xb)+'ms'),_0x3c5a9c[_0x498960(0x36e)]['startsWith']('module:')&&_0x3c5a9c['duration']>moduleLoadStats['maxLoadTim'+'e']&&(moduleLoadStats[_0x498960(0x25a)+'e']=_0x3c5a9c[_0x498960(0x2ff)]);});});perfObserver[_0x5c83df(0x37a)]({'entryTypes':[_0x5c83df(0x2c3)]});function sanitizeError(_0x304d24){const _0x1f0965=_0x5c83df,_0xbca47b=getConfig();if(_0xbca47b[_0x1f0965(0x253)]===_0x1f0965(0x233))return{'name':_0x304d24?.[_0x1f0965(0x36e)]??_0x1f0965(0x1ef),'message':_0x304d24?.[_0x1f0965(0x30e)]??_0x1f0965(0x1ef),'stack':_0x304d24?.[_0x1f0965(0x1d5)]?_0x1f0965(0x191):undefined};return _0x304d24;}function resolveConfiguredDirs(){const _0x5e163b=_0x5c83df,_0x5d0cf5=getConfig(),_0x1cc7f7=_0x5d0cf5[_0x5e163b(0x25f)+_0x5e163b(0x216)]||_0x5d0cf5['MODULES_DI'+'R']||_0x5e163b(0x1d6),_0x18a24d=_0x5d0cf5[_0x5e163b(0x179)+_0x5e163b(0x306)]||'carl',_0x1eed59=Array[_0x5e163b(0x29b)](_0x1cc7f7)?_0x1cc7f7[_0x5e163b(0x19a)]():[_0x1cc7f7],_0x1b2d8b=[];for(const _0x13ab9f of _0x1eed59){if(!_0x13ab9f)continue;_0x1b2d8b[_0x5e163b(0x192)](_0x26cd5c[_0x5e163b(0x342)](_0x13ab9f)?_0x13ab9f:_0x26cd5c['join'](PROJECT_ROOT,_0x13ab9f));}const _0xae9ab2=_0x18a24d?_0x26cd5c['isAbsolute'](_0x18a24d)?_0x18a24d:_0x26cd5c[_0x5e163b(0x368)](PROJECT_ROOT,_0x18a24d):null;if(_0xae9ab2)_0x1b2d8b[_0x5e163b(0x192)](_0xae9ab2);return{'primaryDir':_0x1b2d8b[-0xb4c+0x493+0x6b9*0x1],'secondaryDir':_0xae9ab2,'allDirs':_0x1b2d8b};}function calculateDependencyGraph(){const _0x169138=_0x5c83df;DEPENDENCY_GRAPH[_0x169138(0x238)](),CONFIG_DEPENDENCY_MAP[_0x169138(0x238)]();for(const [_0x49fc43,{mod:_0x1252e3}]of modules){Array['isArray'](_0x1252e3['dependenci'+'es'])?DEPENDENCY_GRAPH[_0x169138(0x351)](_0x49fc43,new Set(_0x1252e3['dependenci'+'es'])):DEPENDENCY_GRAPH[_0x169138(0x351)](_0x49fc43,new Set());const _0x4fda86=normalizeModuleConfigKeys(_0x1252e3);for(const {type:_0x4aa1a3,key:_0x48bdb2}of _0x4fda86){if(!CONFIG_DEPENDENCY_MAP[_0x169138(0x1fe)](_0x48bdb2))CONFIG_DEPENDENCY_MAP['set'](_0x48bdb2,new Set());CONFIG_DEPENDENCY_MAP[_0x169138(0x381)](_0x48bdb2)['add'](_0x49fc43);}}moduleStatus[_0x169138(0x2cd)+'es']=new Map(DEPENDENCY_GRAPH);}function normalizeModuleConfigKeys(_0x42cf73){const _0x95c34e=_0x5c83df,_0x5e7629=[];if(!_0x42cf73)return _0x5e7629;const _0x458173=_0x42cf73[_0x95c34e(0x384)];if(!_0x458173)return _0x5e7629;if(Array['isArray'](_0x458173)){for(const _0x2d165f of _0x458173)if(typeof _0x2d165f===_0x95c34e(0x35d))_0x5e7629['push']({'type':_0x95c34e(0x375),'key':_0x2d165f});return _0x5e7629;}if(typeof _0x458173==='object'){const _0x5ec681={'reload':['reload',_0x95c34e(0x2e8),'keys'],'reinit':[_0x95c34e(0x16a)],'hot':['hot',_0x95c34e(0x166)]};for(const _0xc9367f of Object[_0x95c34e(0x2ad)](_0x5ec681)){for(const _0x3e9d4c of _0x5ec681[_0xc9367f]){if(!_0x458173[_0x3e9d4c])continue;if(Array['isArray'](_0x458173[_0x3e9d4c])){for(const _0x299c47 of _0x458173[_0x3e9d4c])if(typeof _0x299c47===_0x95c34e(0x35d))_0x5e7629[_0x95c34e(0x192)]({'type':_0xc9367f,'key':_0x299c47});}else typeof _0x458173[_0x3e9d4c]===_0x95c34e(0x35d)&&_0x5e7629[_0x95c34e(0x192)]({'type':_0xc9367f,'key':_0x458173[_0x3e9d4c]});}if(Array[_0x95c34e(0x29b)](_0x458173[_0xc9367f])){for(const _0x545f50 of _0x458173[_0xc9367f])if(typeof _0x545f50==='string')_0x5e7629[_0x95c34e(0x192)]({'type':_0xc9367f,'key':_0x545f50});}else typeof _0x458173[_0xc9367f]===_0x95c34e(0x35d)&&_0x5e7629[_0x95c34e(0x192)]({'type':_0xc9367f,'key':_0x458173[_0xc9367f]});}return _0x5e7629;}return _0x5e7629;}function getAffectedModules(_0x35ebe1){const _0x172f70=_0x5c83df,_0x2084e0=new Set([_0x35ebe1]),_0x38c2b=[_0x35ebe1];let _0x48aeba=-0x10a0+0x2181+-0x10e1;while(_0x48aeba<_0x38c2b[_0x172f70(0x370)]){const _0x56f515=_0x38c2b[_0x48aeba++];for(const [_0x44ca43,_0x4c0c42]of DEPENDENCY_GRAPH){_0x4c0c42['has'](_0x56f515)&&!_0x2084e0['has'](_0x44ca43)&&(_0x2084e0[_0x172f70(0x1e3)](_0x44ca43),_0x38c2b[_0x172f70(0x192)](_0x44ca43));}}return Array['from'](_0x2084e0);}function getModulesForConfigKeys(_0x417112){const _0x2e1020=_0x5c83df,_0x463371=new Set();for(const _0x46ce10 of _0x417112){const _0x30cf34=CONFIG_DEPENDENCY_MAP[_0x2e1020(0x381)](_0x46ce10);if(!_0x30cf34)continue;for(const _0x3abe1e of _0x30cf34){const _0x24ec8c=getAffectedModules(_0x3abe1e);for(const _0x3eed94 of _0x24ec8c)_0x463371[_0x2e1020(0x1e3)](_0x3eed94);}}return Array['from'](_0x463371);}function validateModule(_0x1eef9a,_0x2292c7){const _0x1cf962=_0x5c83df,_0xcdecb2=_0x1eef9a&&_0x1eef9a[_0x1cf962(0x36e)]?_0x1eef9a[_0x1cf962(0x36e)]:_0x2292c7,_0x10f62a=[],_0x148cd5=[];if(!_0x1eef9a||!Object[_0x1cf962(0x23a)](_0x1eef9a,_0x1cf962(0x36e)))_0x10f62a['push'](_0x1cf962(0x2f7)+'ame\x22\x20expor'+'t');if(_0x1eef9a&&!Object['hasOwn'](_0x1eef9a,'version'))_0x148cd5['push']('missing\x20\x22v'+_0x1cf962(0x1a6)+'port');_0x1eef9a&&!Object['hasOwn'](_0x1eef9a,_0x1cf962(0x1e1))&&!Object['hasOwn'](_0x1eef9a,_0x1cf962(0x2dc))&&!Object[_0x1cf962(0x23a)](_0x1eef9a,_0x1cf962(0x1a7)+'Query')&&_0x10f62a[_0x1cf962(0x192)]('no\x20usable\x20'+_0x1cf962(0x28d)+_0x1cf962(0x2bb)+'\x20onMessage'+_0x1cf962(0x151)+_0x1cf962(0x281));_0x1eef9a&&Object[_0x1cf962(0x23a)](_0x1eef9a,_0x1cf962(0x2dc))&&typeof _0x1eef9a[_0x1cf962(0x2dc)]!==_0x1cf962(0x162)&&_0x10f62a[_0x1cf962(0x192)](_0x1cf962(0x187)+'\x22\x20is\x20not\x20a'+_0x1cf962(0x29d));_0x1eef9a&&Object[_0x1cf962(0x23a)](_0x1eef9a,'onCallback'+_0x1cf962(0x2b6))&&typeof _0x1eef9a[_0x1cf962(0x1a7)+_0x1cf962(0x2b6)]!==_0x1cf962(0x162)&&_0x10f62a['push'](_0x1cf962(0x18d)+_0x1cf962(0x380)+_0x1cf962(0x33c)+_0x1cf962(0x267));_0x1eef9a&&_0x1eef9a[_0x1cf962(0x2cd)+'es']&&!Array[_0x1cf962(0x29b)](_0x1eef9a[_0x1cf962(0x2cd)+'es'])&&_0x10f62a[_0x1cf962(0x192)]('\x22dependenc'+_0x1cf962(0x1f1)+_0x1cf962(0x1be)+'y');if(_0x10f62a[_0x1cf962(0x370)])warn(_0x1cf962(0x2bd)+_0xcdecb2+(_0x1cf962(0x2be)+_0x1cf962(0x279)+'es:\x20')+_0x10f62a['join'](',\x20'));if(_0x148cd5['length'])warn(_0x1cf962(0x36d)+_0xcdecb2+(_0x1cf962(0x332)+'\x20')+_0x148cd5[_0x1cf962(0x368)](',\x20'));return _0x10f62a[_0x1cf962(0x370)]===0x476+-0x15ff+-0x1189*-0x1;}function updateAllCommandNames(){const _0x122ba1=_0x5c83df;allCommandNames[_0x122ba1(0x238)]();for(const {mod:_0xe24565}of modules[_0x122ba1(0x20f)]()){if(_0xe24565['name']&&typeof _0xe24565[_0x122ba1(0x36e)]===_0x122ba1(0x35d))allCommandNames[_0x122ba1(0x1e3)](_0xe24565['name'][_0x122ba1(0x23e)+'e']());if(Array['isArray'](_0xe24565[_0x122ba1(0x17f)])){for(const _0x453af7 of _0xe24565[_0x122ba1(0x17f)])if(typeof _0x453af7===_0x122ba1(0x35d)&&_0x453af7)allCommandNames['add'](_0x453af7[_0x122ba1(0x23e)+'e']());}}debug(_0x122ba1(0x200)+_0x122ba1(0x177)+_0x122ba1(0x294)+allCommandNames[_0x122ba1(0x22b)]+(_0x122ba1(0x1f3)+_0x122ba1(0x1b6)+_0x122ba1(0x30f)));}function updateHandlers(){const _0x8a7856=_0x5c83df;performance['mark'](_0x8a7856(0x156)+_0x8a7856(0x36a)),messageHandlers=[],callbackHandlers=[];const _0x316146=[...modules[_0x8a7856(0x20f)]()][_0x8a7856(0x30a)]((_0x421360,_0x401399)=>(_0x401399[_0x8a7856(0x335)]??0x14fc+0xf86+-0x2482)-(_0x421360[_0x8a7856(0x335)]??0x53d*0x7+0x1c50+0xf*-0x455));for(const {mod:_0x2414fd}of _0x316146){typeof _0x2414fd[_0x8a7856(0x2dc)]===_0x8a7856(0x162)&&messageHandlers[_0x8a7856(0x192)]({'handler':_0x2414fd[_0x8a7856(0x2dc)][_0x8a7856(0x1b3)](_0x2414fd),'module':_0x2414fd['name'],'priority':_0x2414fd['priority']||0x1*-0x16fd+-0x1*-0x1f15+0x2*-0x40c}),typeof _0x2414fd[_0x8a7856(0x1a7)+_0x8a7856(0x2b6)]==='function'&&callbackHandlers[_0x8a7856(0x192)]({'handler':_0x2414fd[_0x8a7856(0x1a7)+'Query']['bind'](_0x2414fd),'module':_0x2414fd[_0x8a7856(0x36e)],'priority':_0x2414fd[_0x8a7856(0x335)]||-0x1*0x204b+0x456+0x1*0x1bf5});}messageHandlers[_0x8a7856(0x30a)]((_0x29d697,_0x48c928)=>_0x48c928[_0x8a7856(0x335)]-_0x29d697[_0x8a7856(0x335)]),callbackHandlers[_0x8a7856(0x30a)]((_0x25bd62,_0x539655)=>_0x539655[_0x8a7856(0x335)]-_0x25bd62[_0x8a7856(0x335)]);const _0x4d6760=getConfig();messageHandlers[_0x8a7856(0x370)]+callbackHandlers[_0x8a7856(0x370)]>(_0x4d6760[_0x8a7856(0x163)+_0x8a7856(0x2ae)+'_THRESHOLD']||0x266c+0x1450+0xe96*-0x4)&&warn(_0x8a7856(0x356)+_0x8a7856(0x21d)+_0x8a7856(0x19c)+_0x8a7856(0x34d)+messageHandlers[_0x8a7856(0x370)]+'\x20msg,\x20'+callbackHandlers[_0x8a7856(0x370)]+_0x8a7856(0x18c)),performance[_0x8a7856(0x2fe)]('updateHand'+_0x8a7856(0x36b)),performance[_0x8a7856(0x2c3)](_0x8a7856(0x156)+_0x8a7856(0x155),_0x8a7856(0x156)+_0x8a7856(0x36a),_0x8a7856(0x156)+_0x8a7856(0x36b)),updateAllCommandNames(),debug(_0x8a7856(0x2d0)+_0x8a7856(0x364)+messageHandlers[_0x8a7856(0x370)]+'\x20msg,\x20'+callbackHandlers[_0x8a7856(0x370)]+_0x8a7856(0x18c));}async function unloadModule(_0x3356e4,_0x4ca060='reload'){const _0x2b8f5e=_0x5c83df;if(!modules[_0x2b8f5e(0x1fe)](_0x3356e4))return;const _0x2bc69b=modules['get'](_0x3356e4),_0x1af39d=_0x2bc69b[_0x2b8f5e(0x18a)];try{typeof _0x1af39d[_0x2b8f5e(0x283)]===_0x2b8f5e(0x162)&&(await Promise[_0x2b8f5e(0x363)](_0x1af39d['cleanup']()),debug(_0x2b8f5e(0x167)+_0x2b8f5e(0x153)+_0x1af39d[_0x2b8f5e(0x36e)]));}catch(_0x1c478a){error(_0x2b8f5e(0x235)+_0x2b8f5e(0x230)+'\x20'+_0x1af39d['name']+':\x20'+(_0x1c478a?.['message']||_0x1c478a),sanitizeError(_0x1c478a));}finally{modules['delete'](_0x3356e4),moduleStatus[_0x2b8f5e(0x1a0)]=moduleStatus[_0x2b8f5e(0x1a0)][_0x2b8f5e(0x227)](_0x2e00ff=>_0x2e00ff[_0x2b8f5e(0x36e)]!==_0x3356e4),info(_0x2b8f5e(0x2d7)+'\x20'+_0x1af39d[_0x2b8f5e(0x36e)]+'\x20('+_0x4ca060+')');try{calculateDependencyGraph();}catch(_0x117c5b){debug(_0x2b8f5e(0x1cb)+'ependencyG'+_0x2b8f5e(0x35e)+_0x2b8f5e(0x25d)+_0x2b8f5e(0x315),_0x117c5b?.[_0x2b8f5e(0x30e)]||_0x117c5b);}updateHandlers();}}async function loadFile(_0x53fb98,_0x3b7055=![],_0x59edf0=null){const _0x5a7ef8=_0x5c83df,_0x5e2401=getConfig(),_0x36ed9d=_0x26cd5c[_0x5a7ef8(0x1b4)](_0x53fb98)['name'],_0x36c2b1=performance[_0x5a7ef8(0x15f)]();try{const _0x59223a=await stat(_0x53fb98);if(!_0x59223a[_0x5a7ef8(0x197)]())return warn(_0x5a7ef8(0x27b)+'\x20non-file\x20'+'entry:\x20'+_0x53fb98),![];_0x59223a['size']>(_0x5e2401[_0x5a7ef8(0x218)+'_FILE_SIZE'+_0x5a7ef8(0x2fc)+'S']||0xe05*-0x146+-0x2471*-0x5b+-0x14e633*-0x1)&&warn(_0x5a7ef8(0x36d)+_0x53fb98+(_0x5a7ef8(0x1ee)+'(')+(_0x59223a[_0x5a7ef8(0x22b)]/(-0x2e*0x56+-0x1*0x25c+0x10*0x15d))['toFixed'](0x1*-0x1343+0x1f63+-0xc1f)+'\x20KB)');const _0x111d44=await readFile(_0x53fb98),_0x4f10aa=_0x360b92[_0x5a7ef8(0x15b)](_0x5a7ef8(0x367))[_0x5a7ef8(0x2a9)](_0x111d44)[_0x5a7ef8(0x1df)]('hex'),_0x50155c=_0x26cd5c[_0x5a7ef8(0x1b4)](_0x53fb98)[_0x5a7ef8(0x36e)];if(modules[_0x5a7ef8(0x1fe)](_0x50155c)&&modules[_0x5a7ef8(0x381)](_0x50155c)[_0x5a7ef8(0x2d1)]===_0x4f10aa)return debug(_0x5a7ef8(0x1e7)+_0x50155c+('\x20unchanged'+_0x5a7ef8(0x1b7)+'\x20reload.')),![];if(_0x3b7055&&modules[_0x5a7ef8(0x1fe)](_0x50155c)){const {mod:_0x4f56d0}=modules[_0x5a7ef8(0x381)](_0x50155c);if(typeof _0x4f56d0[_0x5a7ef8(0x31b)+'ad']===_0x5a7ef8(0x162))try{await Promise[_0x5a7ef8(0x363)](_0x4f56d0[_0x5a7ef8(0x31b)+'ad']());}catch(_0x15d111){warn(_0x5a7ef8(0x31b)+_0x5a7ef8(0x189)+_0x5a7ef8(0x201)+_0x4f56d0['name']+':\x20'+(_0x15d111?.['message']||_0x15d111));}}const _0x8ca42d=pathToFileURL(_0x53fb98)[_0x5a7ef8(0x282)]+'?t='+Date[_0x5a7ef8(0x15f)](),_0x3bef2c=await import(_0x8ca42d);let _0x44c57e={..._0x3bef2c};_0x3bef2c[_0x5a7ef8(0x36c)]&&typeof _0x3bef2c['default']===_0x5a7ef8(0x27c)&&(_0x44c57e={..._0x44c57e,..._0x3bef2c['default']});if(!validateModule(_0x44c57e,_0x53fb98)){warn(_0x5a7ef8(0x27b)+_0x5a7ef8(0x31f)+_0x5a7ef8(0x14d)+_0x53fb98);if(modules[_0x5a7ef8(0x1fe)](_0x50155c))await unloadModule(_0x50155c,_0x5a7ef8(0x32e)+_0x5a7ef8(0x239)+_0x5a7ef8(0x22d)+'oad');return![];}const _0x2e041c=_0x44c57e['name']||_0x50155c;modules['has'](_0x2e041c)&&await unloadModule(_0x2e041c,_0x5a7ef8(0x27f)+_0x5a7ef8(0x348));typeof _0x44c57e['initialize']===_0x5a7ef8(0x162)&&_0x59edf0&&(performance[_0x5a7ef8(0x2fe)](_0x5a7ef8(0x330)+_0x2e041c+('-initializ'+_0x5a7ef8(0x241))),await Promise[_0x5a7ef8(0x363)](_0x44c57e[_0x5a7ef8(0x1e1)](_0x59edf0)),performance[_0x5a7ef8(0x2fe)](_0x5a7ef8(0x330)+_0x2e041c+(_0x5a7ef8(0x263)+_0x5a7ef8(0x222))),performance[_0x5a7ef8(0x2c3)](_0x5a7ef8(0x330)+_0x2e041c+('-initializ'+'e'),_0x5a7ef8(0x330)+_0x2e041c+(_0x5a7ef8(0x263)+'e-start'),_0x5a7ef8(0x330)+_0x2e041c+(_0x5a7ef8(0x263)+'e-end')),debug(_0x5a7ef8(0x232)+_0x5a7ef8(0x1b5)+_0x2e041c));const _0x552650=resolveConfiguredDirs()[_0x5a7ef8(0x2f2)][_0x5a7ef8(0x2b1)](_0x3a3905=>_0x53fb98['startsWith'](_0x26cd5c[_0x5a7ef8(0x363)](_0x3a3905)))||_0x26cd5c[_0x5a7ef8(0x361)](_0x53fb98);modules[_0x5a7ef8(0x351)](_0x2e041c,{'mod':_0x44c57e,'priority':_0x44c57e[_0x5a7ef8(0x335)]||0x2209+0x177*-0x11+-0x922,'file':_0x53fb98,'originDir':_0x552650,'fileHash':_0x4f10aa,'lastLoaded':Date[_0x5a7ef8(0x15f)]()}),moduleStatus[_0x5a7ef8(0x1a0)]=moduleStatus[_0x5a7ef8(0x1a0)]['filter'](_0x58386c=>_0x58386c['name']!==_0x2e041c),moduleStatus[_0x5a7ef8(0x353)]=moduleStatus[_0x5a7ef8(0x353)][_0x5a7ef8(0x227)](_0x3ac794=>_0x3ac794['file']!==_0x53fb98),moduleStatus['loaded'][_0x5a7ef8(0x192)]({'name':_0x2e041c,'version':_0x44c57e[_0x5a7ef8(0x1ca)]||'?','file':_0x53fb98,'loadedAt':Date[_0x5a7ef8(0x15f)](),'size':_0x59223a[_0x5a7ef8(0x22b)],'hash':_0x4f10aa}),calculateDependencyGraph();const _0x394d85=performance[_0x5a7ef8(0x15f)]()-_0x36c2b1;moduleLoadStats['totalLoads']++,moduleLoadStats[_0x5a7ef8(0x158)+'e']=(moduleLoadStats[_0x5a7ef8(0x158)+'e']*(moduleLoadStats[_0x5a7ef8(0x362)]-(0x8*0xb5+0x1ec7*0x1+-0x246e))+_0x394d85)/moduleLoadStats['totalLoads'];if(_0x394d85>moduleLoadStats['maxLoadTim'+'e'])moduleLoadStats[_0x5a7ef8(0x25a)+'e']=_0x394d85;return debug((_0x3b7055?'♻️\x20Reloaded':'✅\x20Loaded')+'\x20'+_0x2e041c+'\x20v'+(_0x44c57e['version']||'?')+_0x5a7ef8(0x26f)+_0x394d85[_0x5a7ef8(0x209)](-0x221e*-0x1+-0x6f2+0x1b2a*-0x1)+'ms'),!![];}catch(_0x12cb9b){const _0x52f52f=_0x3b7055?_0x5a7ef8(0x375):_0x5a7ef8(0x2fb);error(_0x5a7ef8(0x235)+'o\x20'+_0x52f52f+'\x20'+_0x53fb98+':\x20'+(_0x12cb9b?.[_0x5a7ef8(0x30e)]||_0x12cb9b),sanitizeError(_0x12cb9b)),moduleStatus['failed']['push']({'file':_0x53fb98,'error':_0x12cb9b?.[_0x5a7ef8(0x30e)]||String(_0x12cb9b),'timestamp':Date[_0x5a7ef8(0x15f)]()}),moduleLoadStats[_0x5a7ef8(0x298)+_0x5a7ef8(0x1ac)]++,moduleLoadStats[_0x5a7ef8(0x350)]={'file':_0x53fb98,'timestamp':Date['now'](),'error':_0x12cb9b?.[_0x5a7ef8(0x30e)]||String(_0x12cb9b)};const _0x23d723=_0x26cd5c['parse'](_0x53fb98)[_0x5a7ef8(0x36e)];return modules[_0x5a7ef8(0x379)](_0x23d723),![];}finally{updateHandlers();}}async function loadAllModules(_0x38edc5){const _0x214242=_0x5c83df,_0xb0dff3=getConfig();info('📦\x20Starting'+_0x214242(0x2bf)+_0x214242(0x1c6)+_0x214242(0x17d));const _0xeff7e8=performance['now']();moduleStatus[_0x214242(0x1a0)]=[],moduleStatus[_0x214242(0x353)]=[],moduleLoadStats[_0x214242(0x362)]=-0x1*0x1aae+0x425*-0x7+0x1*0x37b1,moduleLoadStats['totalFailu'+'res']=-0xc67+-0x256a+0x31d1,moduleLoadStats[_0x214242(0x158)+'e']=0x1*-0xe5+-0x1a25+0x1b0a*0x1,moduleLoadStats[_0x214242(0x25a)+'e']=-0x1dcb+-0x1e3+0x1fae,moduleLoadStats['lastError']=null;const {primaryDir:_0x3eedf5,allDirs:_0x2ced89}=resolveConfiguredDirs(),_0x40365a=_0xb0dff3[_0x214242(0x25e)+_0x214242(0x1f7)+'SIONS']||[_0x214242(0x2d6),_0x214242(0x313),'.cjs'];info('📂\x20Scanning'+'\x20for\x20local'+'\x20modules..'+'.');const _0xa65323=[];for(const _0x582600 of _0x2ced89){try{const _0xab1c3f=await readdir(_0x582600);for(const _0x3e87ca of _0xab1c3f){const _0x1c7dce=_0x26cd5c[_0x214242(0x22f)](_0x3e87ca);if(!_0x40365a[_0x214242(0x24e)](_0x1c7dce))continue;_0xa65323[_0x214242(0x192)]({'filePath':_0x26cd5c[_0x214242(0x368)](_0x582600,_0x3e87ca),'dir':_0x582600,'isPrimary':_0x26cd5c['resolve'](_0x582600)===_0x26cd5c[_0x214242(0x363)](_0x3eedf5)});}}catch(_0x32873d){_0x32873d[_0x214242(0x2d4)]!==_0x214242(0x291)&&warn(_0x214242(0x345)+_0x214242(0x258)+_0x214242(0x290)+_0x214242(0x1a3)+_0x582600+_0x214242(0x14a)+(_0x32873d?.[_0x214242(0x30e)]||_0x32873d));}}const _0x2e2b49=new Map();for(const _0x3e52ad of _0xa65323){try{const _0x30fd52=await readFile(_0x3e52ad['filePath'],_0x214242(0x1da)),_0x420267=await stat(_0x3e52ad[_0x214242(0x35c)]);let _0x2eb745=null;const _0x4f588b=[/(?:export\s+const|export\s+let|const|let)\s+name\s*=\s*['"]([^'"]+)['"]/i,/name\s*[:=]\s*['"]([^'"]+)['"]/i,/module\.exports\s*=\s*{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i,/export\s+default\s+{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i];for(const _0x31ffa6 of _0x4f588b){const _0x15885b=_0x30fd52[_0x214242(0x16c)](_0x31ffa6);if(_0x15885b&&_0x15885b[0x28a*-0x7+0x12f*-0x18+0x15*0x233]){_0x2eb745=_0x15885b[-0x4db+0x1f1e+0x2*-0xd21][_0x214242(0x17e)]();break;}}if(!_0x2eb745)_0x2eb745=_0x26cd5c['parse'](_0x3e52ad['filePath'])[_0x214242(0x36e)];let _0x488bbd=-0xdf7+-0x10f3+0xa4e*0x3;const _0x57f655=_0x30fd52[_0x214242(0x16c)](/priority\s*[:=]\s*([0-9]+)/i);if(_0x57f655&&_0x57f655[-0x1cb4+0xc5*0x25+-0x2*-0x1e])_0x488bbd=parseInt(_0x57f655[0x23ef+0x1*-0x1776+0x428*-0x3],0x37f+0x1da*0x13+-0x1d7*0x15);const _0x5ad35e=_0x30fd52[_0x214242(0x16c)](/dependencies\s*[:=]\s*\[([^\]]+)\]/)||_0x30fd52['match'](/configKeys\s*[:=]\s*\[([^\]]+)\]/),_0x5440fa=_0x5ad35e&&_0x5ad35e[0x161*0x14+-0x1*0x248f+0x8fc]?_0x5ad35e[-0x210d+0x424*0x8+-0x1*0x12][_0x214242(0x385)](',')['map'](_0x2eee73=>_0x2eee73[_0x214242(0x17e)]()[_0x214242(0x35f)](/['"]/g,''))[_0x214242(0x227)](Boolean):[];_0x2e2b49[_0x214242(0x351)](_0x3e52ad[_0x214242(0x35c)],{'name':_0x2eb745,'priority':_0x488bbd,'deps':_0x5440fa,'dir':_0x3e52ad[_0x214242(0x318)],'isPrimary':_0x3e52ad['isPrimary'],'size':_0x420267[_0x214242(0x22b)],'text':_0x30fd52});}catch(_0x2df3af){warn(_0x214242(0x345)+'t\x20parse\x20'+_0x3e52ad[_0x214242(0x35c)]+':\x20'+(_0x2df3af?.[_0x214242(0x30e)]||_0x2df3af)),_0x2e2b49[_0x214242(0x351)](_0x3e52ad['filePath'],{'name':_0x26cd5c[_0x214242(0x1b4)](_0x3e52ad[_0x214242(0x35c)])[_0x214242(0x36e)],'priority':0x0,'deps':[],'dir':_0x3e52ad['dir'],'isPrimary':_0x3e52ad[_0x214242(0x2d8)],'size':0x0,'text':null});}}const _0x271f80=new Map();for(const [_0x4c2ac9,_0x3080a9]of _0x2e2b49[_0x214242(0x275)]()){const _0x1a55cc=_0x271f80[_0x214242(0x381)](_0x3080a9[_0x214242(0x36e)])||[];_0x1a55cc[_0x214242(0x192)]({'filePath':_0x4c2ac9,..._0x3080a9}),_0x271f80[_0x214242(0x351)](_0x3080a9[_0x214242(0x36e)],_0x1a55cc);}const _0x3ac979=(_0xb0dff3['MODULE_DUP'+'LICATE_POL'+_0x214242(0x1c2)]||'prefer-pri'+_0x214242(0x299))['toLowerCas'+'e'](),_0x50d095=new Map();for(const [_0x6cbcb1,_0x2e48d9]of _0x271f80[_0x214242(0x275)]()){if(_0x2e48d9[_0x214242(0x370)]===-0x17b*0xa+0x302+-0x9f*-0x13){_0x50d095[_0x214242(0x351)](_0x6cbcb1,_0x2e48d9[-0x1f74+0x2*-0x37d+0x266e][_0x214242(0x35c)]);continue;}if(_0x3ac979===_0x214242(0x37d)){error(_0x214242(0x2c1)+_0x214242(0x25c)+_0x6cbcb1+'\x22\x20found:\x20'+_0x2e48d9[_0x214242(0x2c8)](_0x1e3294=>_0x26cd5c[_0x214242(0x268)](_0x1e3294['filePath']))[_0x214242(0x368)](',\x20')+(_0x214242(0x30b)+_0x214242(0x334)+_0x214242(0x28a)+_0x214242(0x1f6)));for(const _0x27e07c of _0x2e48d9)moduleStatus[_0x214242(0x353)][_0x214242(0x192)]({'file':_0x27e07c[_0x214242(0x35c)],'error':_0x214242(0x26c)+'module\x20nam'+'e\x20(policy='+_0x214242(0x2af),'timestamp':Date[_0x214242(0x15f)]()});continue;}_0x2e48d9['sort']((_0x557273,_0x474069)=>{const _0x833833=_0x214242;if((_0x474069[_0x833833(0x335)]||0x150e+0x1*-0x53a+-0xfd4)!==(_0x557273['priority']||0x32+0x3c*0x1a+-0x64a))return(_0x474069[_0x833833(0x335)]||0x1*0xedb+-0x1372+0x1*0x497)-(_0x557273[_0x833833(0x335)]||-0xad1+-0x1d18+0x11*0x259);if(_0x3ac979===_0x833833(0x17b)+_0x833833(0x299)){if(_0x557273[_0x833833(0x2d8)]!==_0x474069['isPrimary'])return _0x557273[_0x833833(0x2d8)]?-(-0x1441*-0x1+-0x3d*0x29+0x1*-0xa7b):0x73+-0x1*0x94+0x22;}return _0x557273[_0x833833(0x35c)][_0x833833(0x1a2)+'are'](_0x474069[_0x833833(0x35c)]);});const _0x1d835d=_0x2e48d9[0x6*-0x541+0x2*-0xc93+0x7c*0x75];_0x50d095[_0x214242(0x351)](_0x6cbcb1,_0x1d835d[_0x214242(0x35c)]);for(let _0x497399=-0x52e+-0xb83+0x10b2;_0x497399<_0x2e48d9[_0x214242(0x370)];_0x497399++){warn(_0x214242(0x254)+_0x214242(0x336)+_0x214242(0x1aa)+_0x6cbcb1+('\x22\x20detected'+_0x214242(0x1c4)+'rsion\x20from'+'\x20')+_0x26cd5c[_0x214242(0x268)](_0x1d835d[_0x214242(0x35c)])+('.\x20Ignoring'+_0x214242(0x1f0)+_0x214242(0x1c5))+_0x26cd5c[_0x214242(0x268)](_0x2e48d9[_0x497399][_0x214242(0x35c)])+'.');}}const _0x2f6d76=[],_0x12674c=new Set(),_0x33192c=new Set(),_0x18577=new Map();for(const [_0x3c5af5,_0x4e4d6]of _0x50d095[_0x214242(0x275)]()){const _0x1256c3=_0x2e2b49[_0x214242(0x381)](_0x4e4d6)||{'deps':[]};_0x18577['set'](_0x3c5af5,_0x1256c3[_0x214242(0x2f4)]||[]);}function _0x51a995(_0x586dd3){const _0x2ce396=_0x214242;if(!_0x50d095[_0x2ce396(0x1fe)](_0x586dd3))return;if(_0x12674c[_0x2ce396(0x1fe)](_0x586dd3))return;if(_0x33192c[_0x2ce396(0x1fe)](_0x586dd3)){warn(_0x2ce396(0x21c)+_0x2ce396(0x22e)+'y\x20detected'+_0x2ce396(0x180)+':\x20'+_0x586dd3+'.');return;}_0x33192c[_0x2ce396(0x1e3)](_0x586dd3);const _0x5ce72a=_0x18577[_0x2ce396(0x381)](_0x586dd3)||[];for(const _0x329086 of _0x5ce72a)_0x51a995(_0x329086);_0x33192c['delete'](_0x586dd3),_0x12674c[_0x2ce396(0x1e3)](_0x586dd3),_0x2f6d76[_0x2ce396(0x192)](_0x586dd3);}for(const _0x5b661d of _0x50d095[_0x214242(0x2ad)]())_0x51a995(_0x5b661d);const _0x4042e0=_0x2f6d76[_0x214242(0x2c8)](_0x58b94f=>_0x50d095[_0x214242(0x381)](_0x58b94f));debug(_0x214242(0x19b)+_0x214242(0x211)+_0x214242(0x1b9)+_0x214242(0x175)+(_0x2f6d76[_0x214242(0x370)]>0x9f7*-0x3+0x269f+-0x8ba?_0x2f6d76[_0x214242(0x368)](',\x20'):_0x214242(0x37f)+_0x214242(0x2cc)+'nd'));const _0x3d2a9e=_0x4042e0[_0x214242(0x2c8)](_0x1f54f9=>concurrencyLimiter(()=>loadFile(_0x1f54f9,![],_0x38edc5)));await Promise[_0x214242(0x243)](_0x3d2a9e),moduleStatus[_0x214242(0x1a0)][_0x214242(0x30a)]((_0x34f1c4,_0x1b9610)=>_0x34f1c4[_0x214242(0x36e)][_0x214242(0x1a2)+_0x214242(0x1cd)](_0x1b9610[_0x214242(0x36e)]));if(moduleStatus[_0x214242(0x1a0)][_0x214242(0x370)]>-0x2f*-0x80+0x48*0x42+0x542*-0x8){info(_0x214242(0x1e0)+moduleStatus[_0x214242(0x1a0)][_0x214242(0x370)]+(_0x214242(0x338)+_0x214242(0x321)+_0x214242(0x19d)+'s.'));for(const _0x3e3ce8 of moduleStatus[_0x214242(0x1a0)]){info(_0x214242(0x21f)+_0x3e3ce8[_0x214242(0x36e)]+'\x20v'+_0x3e3ce8[_0x214242(0x1ca)]+_0x214242(0x383)+_0x26cd5c[_0x214242(0x268)](_0x26cd5c[_0x214242(0x361)](_0x3e3ce8['file'])));}}else info(_0x214242(0x24d)+_0x214242(0x274)+_0x214242(0x1e2));moduleStatus[_0x214242(0x353)]['length']>-0x5*0x3b7+0x2e6+-0x1*-0xfad&&warn(_0x214242(0x235)+_0x214242(0x2ca)+moduleStatus['failed'][_0x214242(0x2c8)](_0x1f5f60=>_0x26cd5c[_0x214242(0x268)](_0x1f5f60[_0x214242(0x292)]))['join'](',\x20'));const _0x25d40d=performance[_0x214242(0x15f)]()-_0xeff7e8;return info('🕒\x20Full\x20mod'+_0x214242(0x223)+_0x214242(0x24c)+'n\x20'+_0x25d40d['toFixed'](0x69b+-0x249a+0x1e01*0x1)+'ms'),moduleStatus[_0x214242(0x184)]=Date[_0x214242(0x15f)](),calculateDependencyGraph(),updateHandlers(),{'success':moduleStatus[_0x214242(0x1a0)][_0x214242(0x370)],'failed':moduleStatus[_0x214242(0x353)]['length']};}let healthIntervalId=null,statsIntervalId=null;function _0x5685(_0x5b2cb5,_0x5d1945){const _0x3f650b=_0x4396();return _0x5685=function(_0x149a69,_0x49e678){_0x149a69=_0x149a69-(0x569*0x2+0x1*0x1feb+-0x2977);let _0x5de2b0=_0x3f650b[_0x149a69];return _0x5de2b0;},_0x5685(_0x5b2cb5,_0x5d1945);}function clampInterval(_0x93182f){const _0x466546=_0x5c83df;if(!Number[_0x466546(0x190)](_0x93182f)||_0x93182f<=0x26f1+0x6b2+-0x2da3)return 0x1*0x1bdc+0x1510*0x1+-0x30ec;if(_0x93182f>MAX_INTERVAL_MS)return MAX_INTERVAL_MS;return _0x93182f;}export function startHealthMonitor(){const _0x30ae9a=_0x5c83df;if(healthIntervalId)clearInterval(healthIntervalId);const _0x55683f=getConfig();let _0x158d2e=clampInterval(_0x55683f['HEALTH_CHE'+_0x30ae9a(0x240)+_0x30ae9a(0x31a)]||-0x1b439+-0x7678+0x31511);if(_0x158d2e<=0x9*-0xe+-0x1*-0x20b1+0x1*-0x2033){warn('❤️\x20Health\x20c'+'hecks\x20are\x20'+'disabled\x20('+_0x30ae9a(0x300)+_0x30ae9a(0x270));return;}const _0x3ad524=(_0x158d2e/(-0x1*0x2cf+0x5a3+0x114))['toFixed'](0xe03*-0x2+-0xc2a*-0x1+0xef*0x11);info(_0x30ae9a(0x29e)+_0x30ae9a(0x202)+_0x30ae9a(0x204)+_0x30ae9a(0x27a)+_0x3ad524+'s.'),healthIntervalId=setInterval(()=>{const _0xf864cc=_0x30ae9a,_0x507193=process[_0xf864cc(0x237)+'e']()['heapUsed']/(0x19b+0x1a2+0xc3)/(0x15bc+0x1bff*-0x1+0x47*0x25);_0x55683f[_0xf864cc(0x26e)+_0xf864cc(0x1ad)]&&_0x507193>_0x55683f['CRITICAL_M'+_0xf864cc(0x188)+_0xf864cc(0x1ff)]&&(error(_0xf864cc(0x1b2)+_0xf864cc(0x1cf)+_0xf864cc(0x2ba)+_0x507193[_0xf864cc(0x209)](0x2107+0x958+-0x4b5*0x9)+(_0xf864cc(0x369)+'ed\x20limit\x20o'+'f\x20')+_0x55683f[_0xf864cc(0x16f)+'EMORY_USAG'+_0xf864cc(0x1ff)]+(_0xf864cc(0x245)+'g.')),process['exit'](-0x2241+0x243*0x7+0x126d)),_0x507193>_0x55683f['HIGH_MEMOR'+'Y_USAGE_WA'+_0xf864cc(0x172)]&&warn('⚠️\x20High\x20mem'+_0xf864cc(0x341)+'\x20'+_0x507193[_0xf864cc(0x209)](0xb95+0x1497*0x1+0x1015*-0x2)+'MB'),trace(_0xf864cc(0x2a1)+_0xf864cc(0x264)+':\x20'+_0x507193[_0xf864cc(0x209)](0x22e8+-0xf*0x1e9+-0x63f)+'MB');},_0x158d2e);}export function startStatsReporter(){const _0x25d39a=_0x5c83df;if(statsIntervalId)clearInterval(statsIntervalId);const _0x35684f=getConfig();let _0x59347f=clampInterval(_0x35684f['MODULE_STA'+_0x25d39a(0x261)+'L_MS']||-0x82f50+-0x24d5d+0x1*0xf108d);if(_0x59347f<=-0x13d0+-0x40*0x40+0x23d0){warn(_0x25d39a(0x2c4)+_0x25d39a(0x2b0)+_0x25d39a(0x2db)+_0x25d39a(0x247)+'nterval).');return;}const _0x36f1d4=(_0x59347f/(0x11fa+0x1b71+-0x2983))[_0x25d39a(0x209)](-0xf99+-0x21c5+0x3161);info(_0x25d39a(0x37b)+_0x25d39a(0x1c7)+_0x25d39a(0x2c9)+_0x25d39a(0x32b)+_0x36f1d4+'s.'),statsIntervalId=setInterval(()=>{const _0x206030=_0x25d39a,_0x2f98bd=(process['memoryUsag'+'e']()[_0x206030(0x2dd)]/(-0x1ab3+-0x297*0xd+0x405e)/(0x203b+-0x1f9e+0x363))[_0x206030(0x209)](0x2632*0x1+-0xf9b+-0x1*0x1695),_0x4cfeb0=_0x206030(0x376)+modules[_0x206030(0x22b)]+_0x206030(0x150)+(messageHandlers[_0x206030(0x370)]+callbackHandlers[_0x206030(0x370)])+('\x20handlers.'+'\x20Loads:\x20')+moduleLoadStats[_0x206030(0x362)]+_0x206030(0x221)+moduleLoadStats[_0x206030(0x298)+'res']+('.\x20Avg\x20Load'+':\x20')+moduleLoadStats['avgLoadTim'+'e']['toFixed'](-0x2680+0x3e1+-0x2d*-0xc5)+(_0x206030(0x2ef)+_0x206030(0x2ac))+moduleLoadStats[_0x206030(0x25a)+'e'][_0x206030(0x209)](-0x2e6+0x1b57+-0x186f)+'ms.\x20Mem:\x20'+_0x2f98bd+_0x206030(0x31d);info(_0x4cfeb0);},_0x59347f);}export async function reloadAllModules(_0xa2e807){const _0x568015=_0x5c83df;if(isReloading)return warn('⏳\x20Module\x20r'+_0x568015(0x169)+'ady\x20in\x20pro'+'gress,\x20req'+_0x568015(0x320)+'ed.'),{'success':0x0,'failed':0x0};isReloading=!![];try{info(_0x568015(0x170)+'\x20full\x20modu'+_0x568015(0x2a0)+'..');const _0x442bdb=[...modules[_0x568015(0x2ad)]()];await Promise[_0x568015(0x243)](_0x442bdb[_0x568015(0x2c8)](_0x1ce967=>{const _0x4193c7=_0x568015,_0x5f3fb0=modules[_0x4193c7(0x381)](_0x1ce967);if(_0x5f3fb0&&typeof _0x5f3fb0[_0x4193c7(0x18a)][_0x4193c7(0x283)]==='function')return _0x5f3fb0['mod'][_0x4193c7(0x283)]();return Promise[_0x4193c7(0x363)]();})),await Promise[_0x568015(0x243)](_0x442bdb['map'](_0x14b22e=>unloadModule(_0x14b22e,_0x568015(0x206)+'d')));const _0x40dd1d=await loadAllModules(_0xa2e807);return lastConfigSnapshot={...getConfig()||{}},_0x40dd1d;}catch(_0x55c474){error('🔥\x20Critical'+_0x568015(0x373)+_0x568015(0x343)+_0x568015(0x194),sanitizeError(_0x55c474));throw _0x55c474;}finally{isReloading=![];}}async function parseFileMeta(_0x55ddf5){const _0x1b43f8=_0x5c83df;try{const _0x598a4e=await readFile(_0x55ddf5,_0x1b43f8(0x1da)),_0x347c8c=await stat(_0x55ddf5);let _0x4ed178=null;const _0x5ebf4c=[/(?:export\s+const|export\s+let|const|let)\s+name\s*=\s*['"]([^'"]+)['"]/i,/name\s*[:=]\s*['"]([^'"]+)['"]/i,/module\.exports\s*=\s*{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i,/export\s+default\s+{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i];for(const _0xa66187 of _0x5ebf4c){const _0xc5cf86=_0x598a4e[_0x1b43f8(0x16c)](_0xa66187);if(_0xc5cf86&&_0xc5cf86[0x44a+0x2286+-0x5*0x7c3]){_0x4ed178=_0xc5cf86[-0x11*0x85+0x63c+0x29a]['trim']();break;}}if(!_0x4ed178)_0x4ed178=_0x26cd5c['parse'](_0x55ddf5)['name'];let _0x268a30=-0x15a1+-0x1886*-0x1+-0x39*0xd;const _0x1d6154=_0x598a4e[_0x1b43f8(0x16c)](/priority\s*[:=]\s*([0-9]+)/i);if(_0x1d6154&&_0x1d6154[-0xfe1+-0x7c6+-0x8*-0x2f5])_0x268a30=parseInt(_0x1d6154[-0x170a+-0xa86*0x1+0x2191],-0xb*-0x101+0x1*-0x1069+-0x4*-0x15a);const _0x2eedbd=_0x598a4e['match'](/dependencies\s*[:=]\s*\[([^\]]+)\]/)||_0x598a4e['match'](/configKeys\s*[:=]\s*\[([^\]]+)\]/),_0x6b6795=_0x2eedbd&&_0x2eedbd[0x9f6+-0x88e+-0x167]?_0x2eedbd[-0x1a6*0x7+-0x226b+0x2df6]['split'](',')[_0x1b43f8(0x2c8)](_0x41f56a=>_0x41f56a['trim']()[_0x1b43f8(0x35f)](/['"]/g,''))[_0x1b43f8(0x227)](Boolean):[],{primaryDir:_0x5492d4,allDirs:_0x49c85d}=resolveConfiguredDirs(),_0x244b16=_0x49c85d[_0x1b43f8(0x2b1)](_0x469351=>_0x26cd5c[_0x1b43f8(0x363)](_0x55ddf5)[_0x1b43f8(0x248)](_0x26cd5c[_0x1b43f8(0x363)](_0x469351)))||_0x26cd5c[_0x1b43f8(0x361)](_0x55ddf5),_0xfb0d4a=_0x26cd5c[_0x1b43f8(0x363)](_0x244b16)===_0x26cd5c[_0x1b43f8(0x363)](_0x5492d4);return{'name':_0x4ed178,'priority':_0x268a30,'deps':_0x6b6795,'isPrimary':_0xfb0d4a,'dir':_0x244b16,'text':_0x598a4e,'size':_0x347c8c[_0x1b43f8(0x22b)],'filePath':_0x55ddf5};}catch(_0x1e111c){return warn(_0x1b43f8(0x2a6)+_0x1b43f8(0x2f5)+_0x1b43f8(0x14f)+_0x55ddf5+':\x20'+(_0x1e111c?.['message']||_0x1e111c)),null;}}async function scanDirsForName(_0x117836){const _0x2243ba=_0x5c83df,_0x15b33d=getConfig(),{allDirs:_0x4ac381}=resolveConfiguredDirs(),_0x159054=_0x15b33d[_0x2243ba(0x25e)+_0x2243ba(0x1f7)+'SIONS']||[_0x2243ba(0x2d6),_0x2243ba(0x313),_0x2243ba(0x224)],_0x208a62=[];for(const _0x3f07cc of _0x4ac381){try{const _0x4608ed=await readdir(_0x3f07cc);for(const _0x2ffa6b of _0x4608ed){const _0x4d1b09=_0x26cd5c[_0x2243ba(0x22f)](_0x2ffa6b);if(!_0x159054[_0x2243ba(0x24e)](_0x4d1b09))continue;const _0x19c108=_0x26cd5c['join'](_0x3f07cc,_0x2ffa6b),_0x14dca1=await parseFileMeta(_0x19c108);if(!_0x14dca1)continue;if(_0x14dca1['name']===_0x117836)_0x208a62[_0x2243ba(0x192)](_0x14dca1);}}catch(_0xe1efaf){debug('scanDirsFo'+_0x2243ba(0x2a2)+_0x2243ba(0x228)+_0x3f07cc+':\x20'+(_0xe1efaf?.[_0x2243ba(0x30e)]||_0xe1efaf));}}return _0x208a62;}function decideWinnerForCandidates(_0x22596e){const _0x460473=_0x5c83df;if(!_0x22596e||_0x22596e[_0x460473(0x370)]===-0x2*0x6bb+-0x5f1+-0x1367*-0x1)return null;if(_0x22596e[_0x460473(0x370)]===0xa49*0x1+0xa0a*0x2+-0x1e5c)return _0x22596e[-0x1*-0x1c3b+-0x2126+0x4eb];const _0x2bad56=getConfig(),_0x152d37=(_0x2bad56['MODULE_DUP'+'LICATE_POL'+_0x460473(0x1c2)]||_0x460473(0x17b)+'mary')[_0x460473(0x23e)+'e']();if(_0x152d37===_0x460473(0x37d))return error(_0x460473(0x2c1)+_0x460473(0x182)+_0x460473(0x1f8)+_0x460473(0x244)+_0x22596e[-0x224*0x8+-0x11b8+-0x1be*-0x14]['name']+_0x460473(0x2f8)+_0x22596e[_0x460473(0x2c8)](_0x2d162e=>_0x26cd5c[_0x460473(0x268)](_0x2d162e['filePath']))[_0x460473(0x368)](',\x20')+(_0x460473(0x183)+'_DUPLICATE'+_0x460473(0x2ee)+_0x460473(0x22c))),null;return _0x22596e[_0x460473(0x30a)]((_0x5bee95,_0x15efdb)=>{const _0x26d67f=_0x460473;if((_0x15efdb[_0x26d67f(0x335)]||0x1*0x1416+-0xbe9+-0xa1*0xd)!==(_0x5bee95[_0x26d67f(0x335)]||-0x2471*-0x1+0x1d*-0x10c+-0xad*0x9))return(_0x15efdb['priority']||-0x136f+-0x3e+0x1*0x13ad)-(_0x5bee95[_0x26d67f(0x335)]||-0x16df*-0x1+0x501+-0x1be0);if(_0x152d37===_0x26d67f(0x17b)+_0x26d67f(0x299)){if(_0x5bee95['isPrimary']!==_0x15efdb['isPrimary'])return _0x5bee95[_0x26d67f(0x2d8)]?-(0x556+-0x37b+-0x1da):0x386+0x12d+0x259*-0x2;}return _0x5bee95[_0x26d67f(0x35c)][_0x26d67f(0x1a2)+_0x26d67f(0x1cd)](_0x15efdb[_0x26d67f(0x35c)]);}),_0x22596e[-0x15*-0x12f+-0x1*-0x26b9+0x1fca*-0x2];}async function handleFileEvent(_0x1b2aff,_0x1698a7,_0x35e777){const _0x4ed5af=_0x5c83df;try{const _0xfe2364=getConfig();if(!_0xfe2364[_0x4ed5af(0x25e)+_0x4ed5af(0x1f7)+_0x4ed5af(0x1ae)][_0x4ed5af(0x24e)](_0x26cd5c[_0x4ed5af(0x22f)](_0x1698a7)))return;let _0x21e98e=null;if(_0x1b2aff===_0x4ed5af(0x2e3)){for(const [_0x3d4ca5,_0x657242]of modules[_0x4ed5af(0x275)]()){if(_0x657242['file']&&_0x26cd5c[_0x4ed5af(0x363)](_0x657242['file'])===_0x26cd5c[_0x4ed5af(0x363)](_0x1698a7)){_0x21e98e=_0x3d4ca5;break;}}if(!_0x21e98e)_0x21e98e=_0x26cd5c['parse'](_0x1698a7)[_0x4ed5af(0x36e)];}else{const _0x3b37e9=await parseFileMeta(_0x1698a7);if(!_0x3b37e9){debug(_0x4ed5af(0x173)+_0x4ed5af(0x14e)+'ldn\x27t\x20pars'+'e\x20'+_0x1698a7+_0x4ed5af(0x1b7));return;}_0x21e98e=_0x3b37e9[_0x4ed5af(0x36e)];}if(!_0x21e98e){debug(_0x4ed5af(0x173)+_0x4ed5af(0x322)+_0x4ed5af(0x2de)+_0x4ed5af(0x14b)+_0x1698a7);return;}const _0x19521e=await scanDirsForName(_0x21e98e),_0x4e9b84=decideWinnerForCandidates(_0x19521e);if(!_0x4e9b84&&_0x19521e[_0x4ed5af(0x370)]>0xffe+-0x4dd*0x1+-0xb20&&(getConfig()[_0x4ed5af(0x276)+_0x4ed5af(0x387)+_0x4ed5af(0x1c2)]||_0x4ed5af(0x17b)+_0x4ed5af(0x299))[_0x4ed5af(0x23e)+'e']()===_0x4ed5af(0x37d)){modules[_0x4ed5af(0x1fe)](_0x21e98e)&&await unloadModule(_0x21e98e,_0x4ed5af(0x26c)+'policy=err'+'or\x20-\x20unloa'+'d');return;}if(!_0x4e9b84){modules[_0x4ed5af(0x1fe)](_0x21e98e)?(info(_0x4ed5af(0x28c)+_0x4ed5af(0x33f)+'\x20for\x20modul'+_0x4ed5af(0x1dd)+_0x21e98e+(_0x4ed5af(0x323)+'ing.')),await unloadModule(_0x21e98e,_0x4ed5af(0x340)+_0x4ed5af(0x225)+'ndidates\x20l'+_0x4ed5af(0x20d))):debug(_0x4ed5af(0x28c)+_0x4ed5af(0x2cb)+_0x21e98e+('\x20and\x20modul'+_0x4ed5af(0x16d)+_0x4ed5af(0x1a8)+_0x4ed5af(0x146)));return;}const _0x3ac758=_0x26cd5c[_0x4ed5af(0x363)](_0x4e9b84[_0x4ed5af(0x35c)]),_0x4c916e=modules[_0x4ed5af(0x381)](_0x21e98e);if(_0x26cd5c[_0x4ed5af(0x363)](_0x1698a7)===_0x3ac758){info((_0x1b2aff==='add'?_0x4ed5af(0x178):_0x1b2aff==='change'?_0x4ed5af(0x195):'Event')+':\x20'+_0x1698a7+(_0x4ed5af(0x1eb)+_0x4ed5af(0x16b))+_0x21e98e+(_0x4ed5af(0x271)+_0x4ed5af(0x2ea)+'.')),await loadFile(_0x3ac758,!![],_0x35e777);return;}if(!_0x4c916e){info(_0x4ed5af(0x174)+_0x21e98e+(_0x4ed5af(0x1c9)+_0x4ed5af(0x2a4)+'ed\x20but\x20win'+_0x4ed5af(0x29c))+_0x3ac758+(_0x4ed5af(0x2e0)+_0x4ed5af(0x220)+_0x4ed5af(0x377))),await loadFile(_0x3ac758,![],_0x35e777);return;}if(_0x26cd5c[_0x4ed5af(0x363)](_0x4c916e[_0x4ed5af(0x292)])!==_0x3ac758){info(_0x4ed5af(0x149)+'\x20\x22'+_0x21e98e+('\x22\x20changed\x20'+'from\x20')+_0x26cd5c[_0x4ed5af(0x268)](_0x4c916e['file'])+'\x20to\x20'+_0x26cd5c[_0x4ed5af(0x268)](_0x3ac758)+(_0x4ed5af(0x319)+'g.')),await loadFile(_0x3ac758,![],_0x35e777),await unloadModule(_0x21e98e,_0x4ed5af(0x337)+'o\x20new\x20winn'+'er');return;}debug(_0x4ed5af(0x173)+_0x4ed5af(0x352)+'nge\x20on\x20'+_0x1698a7+(_0x4ed5af(0x168)+_0x4ed5af(0x2f0)+_0x4ed5af(0x2cf)+'e\x20\x22')+_0x21e98e+(_0x4ed5af(0x16e)+_0x4ed5af(0x259)+'.'));}catch(_0x1be159){error(_0x4ed5af(0x309)+_0x4ed5af(0x15a)+_0x4ed5af(0x1c8)+_0x1698a7+':\x20'+(_0x1be159?.[_0x4ed5af(0x30e)]||_0x1be159),sanitizeError(_0x1be159));}}function _0x4396(){const _0x58d9dd=['mands\x20reco',',\x20skipping','\x20is\x20disabl','ocal\x20modul','group-part','nal\x20depend','e\x20key-valu','callback_q','be\x20an\x20arra','ing\x20enable','shift','warnings.','ICY','6444640iuUezn','.\x20Using\x20ve','rom\x20','le\x20load\x20pr','ng\x20stats\x20r','ror\x20for\x20','\x22\x20not\x20curr','version','calculateD','tadata','are','store',':\x20Memory\x20u','key','onfig\x20hand','d\x20via\x20chok','getEntries','x\x20listener','stack','modules','ange','g\x20key(s).','ping\x20full\x20','utf-8','serverJid','fetchGroup','e\x20\x22','ants:\x20fetc','digest','✅\x20Loaded\x20','initialize','aded.','add','BOT_HOOKS_','eners','participan','♻️\x20Module\x20','idar\x22\x20to\x20e','chats','irectories','\x20is\x20winner','oader\x20init','\x20due\x20to\x20re','\x20is\x20large\x20','Error','\x20version\x20f','ies\x22\x20must\x20','configured','\x20total\x20com','uery:data','558456YMvztL','rror','DULE_EXTEN','andidates\x20','ed.','remoteJid','s\x20module\x20d','s\x20particip','30iCJDCk','has','E_MB','🔧\x20Updated\x20','iled\x20for\x20','ng\x20health\x20','rs\x20already','checks\x20eve','Modules\x20af','full\x20reloa','\x20not\x20avail','fig\x20failed','toFixed','IMIT','❌\x20onConfig','ompleted.','eft','\x20error','values','pants','rder\x20for\x20l','isGroup','servername','\x20instance','pdate','RECTORY','7DpOheO','MAX_MODULE','\x20for\x20','\x20no\x20initia','fromMe','🔄\x20Circular','e\x20handlers','Config\x20hot','\x20\x20-\x20','loading\x20wi',',\x20Fails:\x20','e-end','ule\x20load\x20c','.cjs','ed\x20-\x20no\x20ca','isabled.\x20R','filter','\x27t\x20read\x20','led\x20for\x20','quoted','size','ror','ted\x20on\x20rel','\x20dependenc','extname','o\x20clean\x20up','pdate\x20hand','⏱️\x20Initiali','production','\x20from\x20netw','❌\x20Failed\x20t','ailed\x20for\x20','memoryUsag','clear','dule\x20detec','hasOwn','Change\x20fai','upParticip','watch','toLowerCas','load.','CK_INTERVA','e-start','Hot-reload','allSettled','for\x20\x22','MB.\x20Exitin','MODULE_CON','(invalid\x20i','startsWith','nable\x20it\x20i','hange\x20—\x20sc','hot','ompleted\x20i','✅\x20No\x20modul','includes','CURRENCY_L','server','PRODUCTION','ler\x20error','NODE_ENV','⚠️\x20Duplicat','\x20due\x20to\x20co','catch','ata','t\x20read\x20mod','unchanged)','maxLoadTim','\x20policy\x20—\x20','e\x20module\x20\x22','d\x20during\x20u','ALLOWED_MO','MODULES_DI','stringify','TS_INTERVA','he\x20changed','-initializ','heck\x20|\x20Mem','sock','\x20module\x20re','ction','basename','argv','1584207HmmPJm','resolveGro','duplicate\x20','send','KILL_ON_HI','\x20in\x20','terval).','\x22.\x20Loading','Metadata','\x20via\x20apply','es\x20were\x20lo','entries','MODULE_DUP','hasOwnProp','OAD_DEBOUN','ation\x20issu','ry\x20','⛔\x20Skipping','object','rectness.','❌\x20initiali','before\x20rel','Could\x20not\x20','ckQuery)','href','cleanup','call','icipants.u','tes\x20have\x20c','Config-hot','raw','ate\x20handle','y\x20policy=e','s.whatsapp','No\x20candida','exports\x20(i','\x20error:\x20','xtMessage','ules\x20direc','ENOENT','file','loader\x20mes','st:\x20','/onConfigC','(idempoten','\x20skipping.','totalFailu','mary','s\x20to\x20','isArray','ner\x20','\x20function','❤️\x20Scheduli','idar\x22.\x20Hot','le\x20reload.','📊\x20Health\x20c','rName:\x20can','3377012HtFtGh','ently\x20load','threw\x20for\x20','⚠️\x20parseFil','onConfigCh','to\x20reply\x20t','update','→\x20Re-initi','ants\x20fatal','ad:\x20','keys','RS_WARNING','error)','porting\x20is','find','fected\x20by\x20','Modules\x20re','rawText','-reloading','Query','isCommand','initializa','1649013fneoxB','sage\x20(','nitialize,','❌\x20A\x20module','⛔\x20Module\x20','\x20has\x20valid','\x20full\x20modu','Handler\x20','❌\x20Duplicat','some','measure','📈\x20Stats\x20re','🔒\x20Global\x20b','getGroupMe','load\x20optio','map','eporting\x20e','o\x20load:\x20','tes\x20for\x20','odules\x20fou','dependenci','init\x20confi','tive\x20modul','🔧\x20Handlers','fileHash','\x20took\x20','botNumber','code','nts\x20for\x20','.js','🗑️\x20Unloaded','isPrimary','n:\x20invalid','shed.\x20Skip','\x20disabled\x20','onMessage','heapUsed','probable\x20n','\x20reload\x20fa','\x20exists\x20—\x20','synchronou','url','unlink','ler\x20failed','applyConfi','Callback\x20h','.net','reloadKeys','env','/reloading','Message','ion\x20for\x20','ants:\x20stor','_POLICY=er','ms.\x20Max\x20Lo','fecting\x20ac','status','allDirs','ly\x20failed','deps','eMeta\x20fail','conversati','missing\x20\x22n','\x22\x20found:\x20','endMessage','→\x20Module\x20','load','_WARN_BYTE','videoMessa','mark','duration','invalid\x20in','\x20participa','KEY_SYMBOL','thod\x20avail','\x20reported)','idar.','TORY','heduling\x20r','jid','❌\x20handleFi','sort','\x20-\x20loaded\x20','text','\x20declared\x20','message','gnized.','COMMAND_PR','1753iQViCv','reason','.mjs','h\x20attempt\x20','nload','iled\x20durin','rs\x20attache','dir','.\x20Switchin','L_MS','beforeRelo','loader.sen','MB.','caption','\x20invalid\x20m','uest\x20ignor','rom\x20local\x20','Event:\x20no\x20','\x22\x20—\x20unload','memberList','s:\x20','for','reply','⚡\x20Config\x20c','able','forEach','very\x20','stall\x20chok','undefined','invalid\x20mo','→\x20Reloadin','module:','d\x20(loader)','\x20warnings:','\x20attached\x20','rejected\x20b','priority','e\x20module\x20n','switched\x20t','\x20modules\x20f','detected\x20—','ll\x20reload\x20','Listeners','\x20not\x20a\x20fun','Config\x20cha','groupMetad','tes\x20remain','file\x20remov','ory\x20usage:','isAbsolute','ing\x20full\x20r','user','⚠️\x20Could\x20no','\x20config\x20ke','ant\x20fetch\x20','oad','Config.','prototype','d\x20failed\x20t','g\x20config\x20c','d:\x20','meta.getPa','DEV\x20MODE:\x20','lastError','set','Event:\x20cha','failed','hed\x20','hange\x20dete','⚠️\x20Excessiv','♻️\x20Bot\x20inst','loader\x20cal','\x20to\x20avoid\x20','ance\x20refre','userid','filePath','string','raph\x20faile','replace','atch\x20error','dirname','totalLoads','resolve','\x20updated:\x20','809700amYLFB','\x20config\x20to','sha256','join','MB)\x20exceed','lers-start','lers-end','default','⚠️\x20Module\x20','name','ig-related','length','change','extendedTe','\x20error\x20dur','sendMessag','reload','📈\x20Stats:\x20','nner.','→\x20Applying','delete','observe','📈\x20Scheduli','eduling\x20re','error','loader.rep','No\x20local\x20m','kQuery\x22\x20is','get','t).','\x20from\x20','configKeys','split','reinit\x20but','LICATE_POL','cted\x20(keys','type','ng\x20to\x20do.','ksAttached','failed\x20aft','Winner\x20for','\x22:\x20','ame\x20for\x20','eners\x20on\x20b','odule:\x20','Event:\x20cou','ed\x20for\x20','\x20modules,\x20',',\x20onCallba','@@myBotHoo','up\x20','ot\x20listene','lers','updateHand','MODULE_REL','avgLoadTim','hange:\x20','leEvent\x20er','createHash','44kpKkPc','✅\x20All\x20conf','nge\x20affect','now','CE_MS','Top-level\x20','function','MAX_HANDLE','from','er\x20socket\x20','hotKeys','🧹\x20Cleaned\x20','\x20is\x20not\x20af','eload\x20alre','reinit','\x20for\x20\x22','match','e\x20not\x20load','\x22\x20(winner\x20','CRITICAL_M','🔄\x20Starting','/duplicate','RN_MB','handleFile','Module\x20\x22','es:\x20','sage\x20dispa','command\x20li','Added','CARL_DIREC','ad\x20for\x20cor','prefer-pri','performing','ocess\x20...','trim','commands','\x20involving','erty','e\x20module\x20c','\x20--\x20MODULE','lastReload','ctx','ut\x20lacks\x20a','\x22onMessage','EMORY_USAG','ad\x20hook\x20fa','mod','able\x20on\x20bo','\x20cb','\x22onCallbac','ialized.','ys\x20—\x20nothi','isFinite','Redacted','push','nfig\x20chang','eload:','Changed','No\x20modules','isFile','rticipants','metadata','slice','\x20\x20-\x20Load\x20o','\x20registere','directorie','defaultMax','sendMentio','loaded','module\x20re-','localeComp','tory\x20\x22','e\x20changes\x20','ror:\x20','ersion\x22\x20ex','onCallback','ed\x20—\x20nothi','getMaxList','ame\x20\x22','andler\x20','res','GH_MEMORY','SIONS','tch\x20error','setMaxList','Watcher\x20er','🔥\x20CRITICAL','bind','parse','zed\x20'];_0x4396=function(){return _0x58d9dd;};return _0x4396();}export function setupWatchers(_0x3c3469){const _0x5299f4=_0x5c83df;if(!chokidar)return;const _0x214672=getConfig(),{allDirs:_0x4f28a8}=resolveConfiguredDirs();if(!_0x4f28a8||_0x4f28a8[_0x5299f4(0x370)]===-0x1f+0x330*0x4+-0xca1){warn('👀\x20No\x20local'+'\x20module\x20di'+'rectories\x20'+_0x5299f4(0x1f2)+'\x20to\x20watch.');return;}info('👀');const _0x3f9bb0=chokidar[_0x5299f4(0x23d)](_0x4f28a8,{'ignoreInitial':!![],'persistent':!![],'atomic':0xc8,'awaitWriteFinish':{'stabilityThreshold':0xc8,'pollInterval':0x64}}),_0x57b45a=new Map(),_0x5bca31=_0x214672[_0x5299f4(0x157)+_0x5299f4(0x278)+_0x5299f4(0x160)]||0xad4+-0xad*0x2+0x2*-0x427,_0x377877=[_0x5299f4(0x1e3),_0x5299f4(0x371),_0x5299f4(0x2e3)];_0x3f9bb0['on']('all',(_0x2a0457,_0x36a242)=>{const _0x1a1847=_0x5299f4;try{if(!_0x377877[_0x1a1847(0x24e)](_0x2a0457))return;const _0x419a01=_0x26cd5c[_0x1a1847(0x22f)](_0x36a242);if(!getConfig()[_0x1a1847(0x25e)+_0x1a1847(0x1f7)+'SIONS'][_0x1a1847(0x24e)](_0x419a01))return;if(_0x57b45a[_0x1a1847(0x1fe)](_0x36a242))clearTimeout(_0x57b45a['get'](_0x36a242));_0x57b45a[_0x1a1847(0x351)](_0x36a242,setTimeout(async()=>{_0x57b45a['delete'](_0x36a242),await handleFileEvent(_0x2a0457,_0x36a242,_0x3c3469);},_0x5bca31));}catch(_0x3bd9f8){error(_0x1a1847(0x1b1)+_0x1a1847(0x1a5)+(_0x3bd9f8?.['message']||_0x3bd9f8),sanitizeError(_0x3bd9f8));}}),hotReloadConfig(async(..._0x18affe)=>{const _0x3d69cb=_0x5299f4;try{const _0x431d7d=Array['isArray'](_0x18affe[-0x269+0x1*-0x1afc+0x1d65])?_0x18affe[0x13c4+-0x9b*0x7+-0xf87]:[],_0x255d2f=_0x18affe[-0xeb+0xaf1+0x357*-0x3]||lastConfigSnapshot||{},_0x11e13c=_0x18affe[-0x1*-0x269b+-0x733+-0x1f66]||getConfig()||{};info(_0x3d69cb(0x328)+_0x3d69cb(0x355)+_0x3d69cb(0x388)+_0x3d69cb(0x304)+':\x20'+_0x431d7d[_0x3d69cb(0x368)](',\x20')),concurrencyLimiter=_0x153df0(getConfig()[_0x3d69cb(0x246)+_0x3d69cb(0x24f)+_0x3d69cb(0x20a)]||0x48d+-0x1986+0x14fe);const _0x345fab=[],_0x44e543=_0x431d7d[_0x3d69cb(0x370)]>0x1f50+0x468*0x3+0xa*-0x474?_0x431d7d:Object['keys'](_0x11e13c);for(const _0x24d8c8 of _0x44e543){const _0x2ad532=_0x255d2f&&Object[_0x3d69cb(0x34a)][_0x3d69cb(0x277)+_0x3d69cb(0x181)][_0x3d69cb(0x284)](_0x255d2f,_0x24d8c8)?_0x255d2f[_0x24d8c8]:undefined,_0x43aad7=_0x11e13c&&Object[_0x3d69cb(0x34a)][_0x3d69cb(0x277)+_0x3d69cb(0x181)][_0x3d69cb(0x284)](_0x11e13c,_0x24d8c8)?_0x11e13c[_0x24d8c8]:undefined,_0x10aedc=_0x2ad532===_0x43aad7||typeof _0x2ad532===_0x3d69cb(0x27c)&&typeof _0x43aad7===_0x3d69cb(0x27c)&&JSON[_0x3d69cb(0x260)](_0x2ad532)===JSON[_0x3d69cb(0x260)](_0x43aad7);if(!_0x10aedc)_0x345fab[_0x3d69cb(0x192)](_0x24d8c8);}if(_0x345fab[_0x3d69cb(0x370)]===-0x17*0x145+-0x1*0x917+0x264a){debug(_0x3d69cb(0x21e)+'\x20reload:\x20n'+'o\x20effectiv'+_0x3d69cb(0x1bc)+_0x3d69cb(0x1a4)+_0x3d69cb(0x339)+_0x3d69cb(0x297)),lastConfigSnapshot={..._0x11e13c};return;}info('⚡\x20Effectiv'+'e\x20config\x20k'+'eys\x20change'+_0x3d69cb(0x34d)+_0x345fab[_0x3d69cb(0x368)](',\x20'));const _0x901ac6=[_0x3d69cb(0x25f)+_0x3d69cb(0x216),_0x3d69cb(0x179)+'TORY','MODULE_DUP'+_0x3d69cb(0x387)+_0x3d69cb(0x1c2)];if(_0x345fab[_0x3d69cb(0x2c2)](_0x32339b=>_0x901ac6[_0x3d69cb(0x24e)](_0x32339b))){warn(_0x3d69cb(0x33d)+_0x3d69cb(0x15e)+_0x3d69cb(0x1fb)+_0x3d69cb(0x1ea)+_0x3d69cb(0x171)+_0x3d69cb(0x25b)+_0x3d69cb(0x17c)+'\x20full\x20relo'+_0x3d69cb(0x17a)+_0x3d69cb(0x27d));try{await reloadAllModules(_0x3c3469);}catch(_0x176334){error(_0x3d69cb(0x287)+'-reload\x20fu'+_0x3d69cb(0x33a)+_0x3d69cb(0x353),sanitizeError(_0x176334));}finally{lastConfigSnapshot={..._0x11e13c};}return;}calculateDependencyGraph();const _0x33010b=getModulesForConfigKeys(_0x345fab);if(_0x33010b[_0x3d69cb(0x370)]===0x29*-0xaa+0x1862+0x68*0x7){info(_0x3d69cb(0x196)+'\x20declare\x20t'+_0x3d69cb(0x262)+_0x3d69cb(0x346)+_0x3d69cb(0x18f)+_0x3d69cb(0x146)),lastConfigSnapshot={..._0x11e13c};return;}info(_0x3d69cb(0x205)+_0x3d69cb(0x2b2)+'config\x20key'+_0x3d69cb(0x325)+_0x33010b[_0x3d69cb(0x368)](',\x20'));const _0x5929b2=[];for(const _0x1edcc2 of _0x33010b){if(!modules[_0x3d69cb(0x1fe)](_0x1edcc2))continue;const _0x200c3a=modules[_0x3d69cb(0x381)](_0x1edcc2),_0x52034a=_0x200c3a[_0x3d69cb(0x18a)],_0x28d523=_0x200c3a[_0x3d69cb(0x292)],_0x4ff632=normalizeModuleConfigKeys(_0x52034a),_0x4d198a=new Set();for(const _0x3a8f50 of _0x4ff632){if(_0x345fab[_0x3d69cb(0x24e)](_0x3a8f50[_0x3d69cb(0x1d0)]))_0x4d198a[_0x3d69cb(0x1e3)](_0x3a8f50[_0x3d69cb(0x389)]);}try{if(_0x4d198a[_0x3d69cb(0x1fe)](_0x3d69cb(0x16a))){if(typeof _0x52034a[_0x3d69cb(0x1e1)]===_0x3d69cb(0x162)){info(_0x3d69cb(0x2aa)+'alizing\x20'+_0x1edcc2+(_0x3d69cb(0x1ed)+_0x3d69cb(0x2ce)+_0x3d69cb(0x1d8)));try{await Promise[_0x3d69cb(0x363)](_0x52034a[_0x3d69cb(0x1e1)](_0x3c3469));}catch(_0x17e85d){error('❌\x20Reinit\x20f'+_0x3d69cb(0x236)+_0x1edcc2+':\x20'+(_0x17e85d?.[_0x3d69cb(0x30e)]||_0x17e85d),sanitizeError(_0x17e85d));}}else info(_0x3d69cb(0x2fa)+_0x1edcc2+('\x20declared\x20'+_0x3d69cb(0x386)+_0x3d69cb(0x21a)+'lize()\x20pre'+'sent\x20—\x20sch'+_0x3d69cb(0x37c)+_0x3d69cb(0x23f))),_0x5929b2['push'](concurrencyLimiter(()=>loadFile(_0x28d523,!![],_0x3c3469)));}else{if(_0x4d198a[_0x3d69cb(0x1fe)](_0x3d69cb(0x24b))){if(typeof _0x52034a[_0x3d69cb(0x2e5)+'g']===_0x3d69cb(0x162)){info(_0x3d69cb(0x378)+_0x3d69cb(0x366)+'\x20'+_0x1edcc2+(_0x3d69cb(0x273)+_0x3d69cb(0x349)));try{await Promise['resolve'](_0x52034a[_0x3d69cb(0x2e5)+'g'](_0x11e13c));}catch(_0x2f2de4){error('❌\x20applyCon'+_0x3d69cb(0x208)+_0x3d69cb(0x219)+_0x1edcc2+':\x20'+(_0x2f2de4?.['message']||_0x2f2de4),sanitizeError(_0x2f2de4)),_0x5929b2[_0x3d69cb(0x192)](concurrencyLimiter(()=>loadFile(_0x28d523,!![],_0x3c3469)));}}else{if(typeof _0x52034a['onConfigCh'+'ange']===_0x3d69cb(0x162)){info('→\x20Calling\x20'+_0x3d69cb(0x2a7)+'ange\x20on\x20'+_0x1edcc2+'.');try{await Promise[_0x3d69cb(0x363)](_0x52034a['onConfigCh'+_0x3d69cb(0x1d7)](_0x11e13c));}catch(_0xb43413){error(_0x3d69cb(0x20b)+_0x3d69cb(0x23b)+_0x3d69cb(0x229)+_0x1edcc2+':\x20'+(_0xb43413?.[_0x3d69cb(0x30e)]||_0xb43413),sanitizeError(_0xb43413)),_0x5929b2[_0x3d69cb(0x192)](concurrencyLimiter(()=>loadFile(_0x28d523,!![],_0x3c3469)));}}else debug('→\x20Module\x20'+_0x1edcc2+(_0x3d69cb(0x30d)+'hot\x20keys\x20b'+_0x3d69cb(0x186)+'pplyConfig'+_0x3d69cb(0x295)+_0x3d69cb(0x24a)+_0x3d69cb(0x307)+'eload.')),_0x5929b2[_0x3d69cb(0x192)](concurrencyLimiter(()=>loadFile(_0x28d523,!![],_0x3c3469)));}}else info(_0x3d69cb(0x32f)+'g\x20'+_0x1edcc2+(_0x3d69cb(0x255)+_0x3d69cb(0x193)+'e.')),_0x5929b2[_0x3d69cb(0x192)](concurrencyLimiter(()=>loadFile(_0x28d523,!![],_0x3c3469)));}}catch(_0x40a7c4){warn('Error\x20sche'+'duling\x20act'+_0x3d69cb(0x2ec)+_0x1edcc2+':\x20'+(_0x40a7c4?.[_0x3d69cb(0x30e)]||_0x40a7c4));}}const _0x277ea6=await Promise[_0x3d69cb(0x243)](_0x5929b2);_0x277ea6[_0x3d69cb(0x32a)](_0x24818b=>{const _0x18e6ff=_0x3d69cb;_0x24818b[_0x18e6ff(0x2f1)]==='rejected'&&error(_0x18e6ff(0x2bc)+_0x18e6ff(0x2df)+_0x18e6ff(0x316)+_0x18e6ff(0x34c)+_0x18e6ff(0x159)+_0x24818b[_0x18e6ff(0x312)]);}),info(_0x3d69cb(0x15d)+_0x3d69cb(0x36f)+_0x3d69cb(0x266)+'loads/upda'+_0x3d69cb(0x286)+_0x3d69cb(0x20c)),lastConfigSnapshot={..._0x11e13c};}catch(_0x15bdf7){error('hotReloadC'+_0x3d69cb(0x1d1)+_0x3d69cb(0x2e4),sanitizeError(_0x15bdf7));}});}const groupParticipantsCache=new Map(),GROUP_PARTIPANTS_CACHE_TTL_MS=(0x1eda+-0x1f*0xa7+-0xa83)*(0x1*-0x215e+0x207d+-0x1*-0x4c9);async function resolveGroupParticipants(_0x3d4416,_0x96d81d){const _0x2bf28a=_0x5c83df;if(!_0x96d81d)return[];try{const _0x5d19c2=Date[_0x2bf28a(0x15f)](),_0x47dbf5=groupParticipantsCache[_0x2bf28a(0x381)](_0x96d81d);if(_0x47dbf5&&_0x47dbf5['expiresAt']>_0x5d19c2)return _0x47dbf5['participan'+'ts'];const _0x2559a3=_0x598b91=>{const _0x29acd6=_0x2bf28a;if(!_0x598b91)return null;if(typeof _0x598b91===_0x29acd6(0x35d))return{'id':_0x598b91,'raw':_0x598b91};if(typeof _0x598b91['id']===_0x29acd6(0x35d))return{'id':_0x598b91['id'],'raw':_0x598b91};if(typeof _0x598b91['jid']===_0x29acd6(0x35d))return{'id':_0x598b91[_0x29acd6(0x308)],'raw':_0x598b91};if(typeof _0x598b91[_0x29acd6(0x1e6)+'t']==='string')return{'id':_0x598b91['participan'+'t'],'raw':_0x598b91};if(_0x598b91['id']&&typeof _0x598b91['id']===_0x29acd6(0x27c)&&(_0x598b91['id'][_0x29acd6(0x344)]||_0x598b91['id'][_0x29acd6(0x250)])){const _0x173737=_0x598b91['id'][_0x29acd6(0x344)]||(typeof _0x598b91['id']===_0x29acd6(0x35d)?_0x598b91['id']:null),_0x3f0b9a=_0x598b91['id'][_0x29acd6(0x250)]||_0x29acd6(0x28b)+_0x29acd6(0x2e7);if(_0x173737)return{'id':_0x173737+'@'+_0x3f0b9a,'raw':_0x598b91};}if((_0x598b91[_0x29acd6(0x344)]||_0x598b91[_0x29acd6(0x35b)])&&(_0x598b91['server']||_0x598b91[_0x29acd6(0x1db)]||_0x598b91['servername'])){const _0x2c3350=_0x598b91[_0x29acd6(0x344)]||_0x598b91[_0x29acd6(0x35b)],_0xecf1c3=_0x598b91['server']||_0x598b91[_0x29acd6(0x1db)]||_0x598b91[_0x29acd6(0x213)]||'s.whatsapp'+_0x29acd6(0x2e7);return{'id':_0x2c3350+'@'+_0xecf1c3,'raw':_0x598b91};}if(_0x598b91['id']&&typeof _0x598b91['id']===_0x29acd6(0x27c)&&typeof _0x598b91['id'][_0x29acd6(0x1e6)+'t']===_0x29acd6(0x35d))return{'id':_0x598b91['id']['participan'+'t'],'raw':_0x598b91};try{const _0x2e2ffa=JSON[_0x29acd6(0x260)](_0x598b91),_0x279f33=_0x2e2ffa[_0x29acd6(0x16c)](/"(\d+@[^"]+)"/);if(_0x279f33)return{'id':_0x279f33[0x1*0xdcb+-0x26da*0x1+-0xc88*-0x2],'raw':_0x598b91};}catch(_0xb13f95){}return null;};try{if(_0x3d4416?.['store']){const _0x335079=_0x3d4416[_0x2bf28a(0x1ce)]['groupMetad'+_0x2bf28a(0x257)]?.[_0x96d81d]||_0x3d4416[_0x2bf28a(0x1ce)][_0x2bf28a(0x33e)+'ata']&&typeof _0x3d4416[_0x2bf28a(0x1ce)][_0x2bf28a(0x33e)+_0x2bf28a(0x257)][_0x2bf28a(0x381)]===_0x2bf28a(0x162)&&_0x3d4416[_0x2bf28a(0x1ce)][_0x2bf28a(0x33e)+_0x2bf28a(0x257)]['get'](_0x96d81d)||_0x3d4416[_0x2bf28a(0x1ce)][_0x2bf28a(0x1e9)]?.[_0x96d81d]||_0x3d4416[_0x2bf28a(0x1ce)][_0x2bf28a(0x1e9)]&&typeof _0x3d4416[_0x2bf28a(0x1ce)][_0x2bf28a(0x1e9)][_0x2bf28a(0x381)]===_0x2bf28a(0x162)&&_0x3d4416['store'][_0x2bf28a(0x1e9)]['get'](_0x96d81d);if(_0x335079){const _0x155fa3=Array['isArray'](_0x335079['participan'+'ts'])?_0x335079['participan'+'ts']:Array['isArray'](_0x335079['participan'+'ts'])?_0x335079[_0x2bf28a(0x1e6)+'ts']:[];if(_0x155fa3&&_0x155fa3['length']>-0x8dd+0x1cab+-0x13ce){const _0x1ad332=_0x155fa3[_0x2bf28a(0x2c8)](_0x2559a3)[_0x2bf28a(0x227)](Boolean),_0x4420ad=_0x1ad332[_0x2bf28a(0x2c8)](_0x195305=>_0x195305['id']?{'id':_0x195305['id'],'raw':_0x195305['raw']}:null)[_0x2bf28a(0x227)](Boolean);return groupParticipantsCache[_0x2bf28a(0x351)](_0x96d81d,{'participants':_0x4420ad,'expiresAt':_0x5d19c2+GROUP_PARTIPANTS_CACHE_TTL_MS}),_0x4420ad;}}}}catch(_0x374533){debug(_0x2bf28a(0x26b)+_0x2bf28a(0x23c)+_0x2bf28a(0x2ed)+'e\x20lookup\x20f'+_0x2bf28a(0x236)+_0x96d81d+':\x20'+(_0x374533?.[_0x2bf28a(0x30e)]||_0x374533));}const _0x442db0=[_0x1c1e06=>typeof _0x3d4416[_0x2bf28a(0x33e)+_0x2bf28a(0x257)]===_0x2bf28a(0x162)?_0x3d4416[_0x2bf28a(0x33e)+_0x2bf28a(0x257)](_0x1c1e06):null,_0x26a180=>_0x3d4416['sock']&&typeof _0x3d4416[_0x2bf28a(0x265)]['groupMetad'+'ata']===_0x2bf28a(0x162)?_0x3d4416[_0x2bf28a(0x265)]['groupMetad'+'ata'](_0x26a180):null,_0x2f0cf5=>_0x3d4416[_0x2bf28a(0x265)]&&typeof _0x3d4416[_0x2bf28a(0x265)]['fetchGroup'+'Metadata']===_0x2bf28a(0x162)?_0x3d4416[_0x2bf28a(0x265)][_0x2bf28a(0x1dc)+_0x2bf28a(0x272)](_0x2f0cf5):null,_0x3af7df=>typeof _0x3d4416[_0x2bf28a(0x1dc)+_0x2bf28a(0x272)]===_0x2bf28a(0x162)?_0x3d4416[_0x2bf28a(0x1dc)+_0x2bf28a(0x272)](_0x3af7df):null,_0x3725b2=>typeof _0x3d4416[_0x2bf28a(0x2c6)+'tadata']===_0x2bf28a(0x162)?_0x3d4416[_0x2bf28a(0x2c6)+_0x2bf28a(0x1cc)](_0x3725b2):null];for(const _0x1ec836 of _0x442db0){try{const _0x14c34d=await Promise['resolve'](_0x1ec836(_0x96d81d))[_0x2bf28a(0x256)](_0x83d39a=>{const _0x3e2ab6=_0x2bf28a;return debug('resolveGro'+'upParticip'+_0x3e2ab6(0x1de)+'h\x20attempt\x20'+_0x3e2ab6(0x353),_0x83d39a?.['message']||_0x83d39a),null;});if(!_0x14c34d)continue;let _0x1e9da3=null;if(Array['isArray'](_0x14c34d))_0x1e9da3=_0x14c34d;else{if(Array[_0x2bf28a(0x29b)](_0x14c34d[_0x2bf28a(0x1e6)+'ts']))_0x1e9da3=_0x14c34d[_0x2bf28a(0x1e6)+'ts'];else{if(Array[_0x2bf28a(0x29b)](_0x14c34d[_0x2bf28a(0x324)]))_0x1e9da3=_0x14c34d[_0x2bf28a(0x324)];else{if(Array[_0x2bf28a(0x29b)](_0x14c34d[_0x2bf28a(0x199)]?.[_0x2bf28a(0x1e6)+'ts']))_0x1e9da3=_0x14c34d[_0x2bf28a(0x199)]['participan'+'ts'];else{if(Array[_0x2bf28a(0x29b)](_0x14c34d?.['participan'+'ts']?.[_0x2bf28a(0x1e6)+'ts']))_0x1e9da3=_0x14c34d[_0x2bf28a(0x1e6)+'ts']['participan'+'ts'];}}}}if(!_0x1e9da3||_0x1e9da3[_0x2bf28a(0x370)]===-0xeec+-0x1262+0x214e){const _0x3b54e5=_0x14c34d[_0x2bf28a(0x1e6)+'ts']||_0x14c34d[_0x2bf28a(0x199)]||_0x14c34d;if(Array[_0x2bf28a(0x29b)](_0x3b54e5))_0x1e9da3=_0x3b54e5;}if(_0x1e9da3&&_0x1e9da3[_0x2bf28a(0x370)]>0x9*-0x13c+-0x1159+0x9b*0x2f){const _0x31cf00=_0x1e9da3['map'](_0x2559a3)[_0x2bf28a(0x227)](Boolean),_0x1d0fd9=_0x31cf00[_0x2bf28a(0x2c8)](_0x56ff50=>_0x56ff50['id']?{'id':_0x56ff50['id'],'raw':_0x56ff50[_0x2bf28a(0x288)]}:null)[_0x2bf28a(0x227)](Boolean);return groupParticipantsCache[_0x2bf28a(0x351)](_0x96d81d,{'participants':_0x1d0fd9,'expiresAt':_0x5d19c2+GROUP_PARTIPANTS_CACHE_TTL_MS}),debug(_0x2bf28a(0x26b)+_0x2bf28a(0x23c)+_0x2bf28a(0x1de)+_0x2bf28a(0x354)+_0x1d0fd9[_0x2bf28a(0x370)]+(_0x2bf28a(0x301)+_0x2bf28a(0x2d5))+_0x96d81d+(_0x2bf28a(0x234)+'ork\x20API')),_0x1d0fd9;}const _0x20c043=[];for(const _0x5ea108 of['participan'+'ts',_0x2bf28a(0x324),'metadata']){const _0x284629=_0x14c34d[_0x5ea108];Array['isArray'](_0x284629)&&_0x284629[_0x2bf28a(0x370)]&&_0x20c043[_0x2bf28a(0x192)](..._0x284629);}if(_0x20c043[_0x2bf28a(0x370)]>-0x1ab2+-0x17b4+0x3266){const _0x3c89c8=_0x20c043[_0x2bf28a(0x2c8)](_0x2559a3)[_0x2bf28a(0x227)](Boolean),_0x510b07=_0x3c89c8[_0x2bf28a(0x2c8)](_0x5becd0=>_0x5becd0['id']?{'id':_0x5becd0['id'],'raw':_0x5becd0[_0x2bf28a(0x288)]}:null)[_0x2bf28a(0x227)](Boolean);return groupParticipantsCache[_0x2bf28a(0x351)](_0x96d81d,{'participants':_0x510b07,'expiresAt':_0x5d19c2+GROUP_PARTIPANTS_CACHE_TTL_MS}),_0x510b07;}}catch(_0x26d377){debug(_0x2bf28a(0x26b)+_0x2bf28a(0x23c)+_0x2bf28a(0x1de)+_0x2bf28a(0x314)+_0x2bf28a(0x2a5)+_0x96d81d+':\x20'+(_0x26d377?.['message']||_0x26d377));}}return groupParticipantsCache[_0x2bf28a(0x351)](_0x96d81d,{'participants':[],'expiresAt':_0x5d19c2+GROUP_PARTIPANTS_CACHE_TTL_MS}),[];}catch(_0x37e62a){return debug(_0x2bf28a(0x26b)+_0x2bf28a(0x23c)+_0x2bf28a(0x2ab)+_0x2bf28a(0x20e),_0x37e62a?.[_0x2bf28a(0x30e)]||_0x37e62a),[];}}export async function initializeModules(_0x598a57){const _0x10bb5f=_0x5c83df;if(!_0x598a57)throw new Error(_0x10bb5f(0x1e1)+_0x10bb5f(0x2b3)+'quires\x20bot'+_0x10bb5f(0x214));if(!isProduction)try{chokidar=(await import('chokidar'))[_0x10bb5f(0x36c)],info(_0x10bb5f(0x34f)+_0x10bb5f(0x242)+_0x10bb5f(0x1bf)+_0x10bb5f(0x1d2)+_0x10bb5f(0x305));}catch(_0x408acb){warn(_0x10bb5f(0x280)+_0x10bb5f(0x2c7)+_0x10bb5f(0x1bb)+'ency\x20\x22chok'+_0x10bb5f(0x29f)+_0x10bb5f(0x2b5)+'\x20will\x20be\x20d'+_0x10bb5f(0x226)+'un\x20\x22npm\x20in'+_0x10bb5f(0x32c)+_0x10bb5f(0x1e8)+_0x10bb5f(0x249)+'n\x20dev\x20mode'+'.'),chokidar=null;}else info(_0x10bb5f(0x251)+'\x20MODE:\x20Hot'+_0x10bb5f(0x2b5)+_0x10bb5f(0x1b8)+_0x10bb5f(0x1f9));const _0x47859a=getConfig(),_0x28fe3a=Symbol[_0x10bb5f(0x326)](_0x47859a[_0x10bb5f(0x1e4)+_0x10bb5f(0x302)]||_0x10bb5f(0x152)+_0x10bb5f(0x147));try{if(typeof _0x598a57['setMaxList'+_0x10bb5f(0x1e5)]==='function'){const _0x391bdf=typeof _0x598a57[_0x10bb5f(0x1a9)+_0x10bb5f(0x1e5)]===_0x10bb5f(0x162)?_0x598a57['getMaxList'+'eners']():0x2428+-0x9be+-0x1a60,_0x586140=Math['max'](_0x391bdf,-0x1*-0x26ab+0x2*0xe5a+-0x432d);_0x598a57[_0x10bb5f(0x1b0)+_0x10bb5f(0x1e5)](_0x586140),debug('Set\x20bot\x20ma'+_0x10bb5f(0x1d4)+_0x10bb5f(0x29a)+_0x586140+(_0x10bb5f(0x359)+_0x10bb5f(0x1c1)));}}catch(_0xe7abfe){debug(_0x10bb5f(0x280)+'setMaxList'+_0x10bb5f(0x14c)+'ot',_0xe7abfe?.[_0x10bb5f(0x30e)]||_0xe7abfe);}!_0x598a57[_0x28fe3a]?(_0x598a57['on'](_0x10bb5f(0x30e),async _0x3f8697=>{const _0x38ee68=_0x10bb5f;try{const _0x3e45b6={};_0x3e45b6[_0x38ee68(0x2d3)]=_0x598a57?.[_0x38ee68(0x265)]&&_0x598a57[_0x38ee68(0x265)]['user']&&_0x598a57[_0x38ee68(0x265)][_0x38ee68(0x344)]['id']||null,_0x3e45b6[_0x38ee68(0x164)]=_0x3f8697?.[_0x38ee68(0x1fa)]||null,_0x3e45b6[_0x38ee68(0x212)]=!!(_0x3e45b6[_0x38ee68(0x164)]&&_0x598a57&&typeof _0x598a57['isGroup']===_0x38ee68(0x162)&&_0x598a57[_0x38ee68(0x212)](_0x3e45b6[_0x38ee68(0x164)])),_0x3e45b6[_0x38ee68(0x2b4)]=_0x3f8697?.[_0x38ee68(0x2b4)]??(_0x3f8697?.[_0x38ee68(0x30e)]?_0x3f8697[_0x38ee68(0x30e)]?.[_0x38ee68(0x2f6)+'on']||_0x3f8697[_0x38ee68(0x30e)]?.[_0x38ee68(0x372)+_0x38ee68(0x28f)]?.[_0x38ee68(0x30c)]||_0x3f8697[_0x38ee68(0x30e)]?.['imageMessa'+'ge']?.[_0x38ee68(0x31e)]||_0x3f8697[_0x38ee68(0x30e)]?.[_0x38ee68(0x2fd)+'ge']?.[_0x38ee68(0x31e)]||_0x3f8697[_0x38ee68(0x30e)]?.['statusText'+_0x38ee68(0x2eb)]?.[_0x38ee68(0x30c)]||'':''),_0x3e45b6[_0x38ee68(0x30c)]=_0x3f8697?.[_0x38ee68(0x30c)]??(typeof _0x3e45b6[_0x38ee68(0x2b4)]===_0x38ee68(0x35d)?_0x3e45b6['rawText'][_0x38ee68(0x17e)]():''),_0x3e45b6[_0x38ee68(0x2b7)]=typeof _0x3f8697?.[_0x38ee68(0x2b7)]==='boolean'?_0x3f8697['isCommand']:((()=>{const _0x166cb6=_0x38ee68;if(!_0x3e45b6[_0x166cb6(0x30c)]||!_0x3e45b6['text']['trim']())return![];const _0x32e77f=_0x3e45b6[_0x166cb6(0x30c)]['trim'](),_0x39881e=_0x47859a[_0x166cb6(0x310)+'EFIX'];if(_0x39881e===null||typeof _0x39881e===_0x166cb6(0x32d)){const _0x117efd=_0x32e77f['split'](/\s+/)[_0x166cb6(0x1c0)]()?.[_0x166cb6(0x23e)+'e']();return _0x117efd&&allCommandNames['has'](_0x117efd);}else{if(Array['isArray'](_0x39881e)){const _0x52a637=_0x39881e['slice']()[_0x166cb6(0x30a)]((_0x4db0c1,_0x91af4a)=>_0x91af4a[_0x166cb6(0x370)]-_0x4db0c1[_0x166cb6(0x370)]),_0xb8192b=_0x52a637[_0x166cb6(0x2b1)](_0x2f52d2=>_0x32e77f['startsWith'](_0x2f52d2));if(!_0xb8192b)return![];const _0x406d9c=_0x32e77f[_0x166cb6(0x19a)](_0xb8192b[_0x166cb6(0x370)])[_0x166cb6(0x17e)](),_0x5da6a9=_0x406d9c[_0x166cb6(0x385)](/\s+/)[_0x166cb6(0x1c0)]()?.[_0x166cb6(0x23e)+'e']();return _0x5da6a9&&allCommandNames['has'](_0x5da6a9);}else{if(typeof _0x39881e===_0x166cb6(0x35d)){if(!_0x32e77f[_0x166cb6(0x248)](_0x39881e))return![];const _0x24916d=_0x32e77f[_0x166cb6(0x19a)](_0x39881e[_0x166cb6(0x370)])[_0x166cb6(0x17e)](),_0x4a463f=_0x24916d[_0x166cb6(0x385)](/\s+/)[_0x166cb6(0x1c0)]()?.[_0x166cb6(0x23e)+'e']();return _0x4a463f&&allCommandNames[_0x166cb6(0x1fe)](_0x4a463f);}}}return![];})()),_0x3e45b6[_0x38ee68(0x26d)]=async(_0x2da421,_0x241f31,_0x36cfea={})=>{const _0x4e250e=_0x38ee68;try{if(_0x598a57&&typeof _0x598a57[_0x4e250e(0x374)+'e']===_0x4e250e(0x162))return await _0x598a57[_0x4e250e(0x374)+'e'](_0x2da421,_0x241f31,_0x36cfea);if(_0x598a57&&_0x598a57['sock']&&typeof _0x598a57['sock'][_0x4e250e(0x374)+'e']===_0x4e250e(0x162))return await _0x598a57[_0x4e250e(0x265)][_0x4e250e(0x374)+'e'](_0x2da421,_0x241f31,_0x36cfea);throw new Error('No\x20send\x20me'+_0x4e250e(0x303)+_0x4e250e(0x18b)+'t');}catch(_0x2febcf){error(_0x4e250e(0x31c)+_0x4e250e(0x34b)+'o\x20'+_0x2da421+':\x20'+(_0x2febcf?.[_0x4e250e(0x30e)]||_0x2febcf));throw _0x2febcf;}},_0x3e45b6[_0x38ee68(0x327)]=async _0x360f15=>{const _0x293349=_0x38ee68;try{const _0x23bf17=_0x3e45b6['from'];if(!_0x23bf17)throw new Error('No\x20target\x20'+_0x293349(0x2a8)+'o');const _0x277f2d={};if(_0x3f8697?.[_0x293349(0x1d0)])_0x277f2d[_0x293349(0x22a)]=_0x3f8697;return await _0x3e45b6[_0x293349(0x26d)](_0x23bf17,_0x360f15,_0x277f2d);}catch(_0x36fd26){error(_0x293349(0x37e)+_0x293349(0x2f3),_0x36fd26?.['message']||_0x36fd26);throw _0x36fd26;}},_0x3e45b6[_0x38ee68(0x1e6)+'ts']=[],_0x3e45b6['getPartici'+_0x38ee68(0x210)]=async()=>{const _0x7cd270=_0x38ee68;if(!_0x3e45b6['isGroup']||!_0x3e45b6[_0x7cd270(0x164)])return[];try{const _0x272fec=await resolveGroupParticipants(_0x598a57,_0x3e45b6['from']);return _0x3e45b6[_0x7cd270(0x1e6)+'ts']=_0x272fec,_0x272fec;}catch(_0x540721){return debug(_0x7cd270(0x34e)+_0x7cd270(0x198)+_0x7cd270(0x20e),_0x540721?.[_0x7cd270(0x30e)]||_0x540721),[];}};if(_0x3e45b6[_0x38ee68(0x212)]&&_0x3e45b6[_0x38ee68(0x164)])try{if(_0x598a57?.['store']){const _0x525d19=_0x598a57[_0x38ee68(0x1ce)][_0x38ee68(0x33e)+'ata']?.[_0x3e45b6[_0x38ee68(0x164)]]||_0x598a57[_0x38ee68(0x1ce)]['groupMetad'+_0x38ee68(0x257)]&&typeof _0x598a57[_0x38ee68(0x1ce)][_0x38ee68(0x33e)+'ata'][_0x38ee68(0x381)]===_0x38ee68(0x162)&&_0x598a57['store'][_0x38ee68(0x33e)+_0x38ee68(0x257)][_0x38ee68(0x381)](_0x3e45b6['from']);if(_0x525d19&&Array[_0x38ee68(0x29b)](_0x525d19[_0x38ee68(0x1e6)+'ts'])&&_0x525d19[_0x38ee68(0x1e6)+'ts'][_0x38ee68(0x370)]>0x1f7e+-0x1c6d+0x5*-0x9d)_0x3e45b6[_0x38ee68(0x1e6)+'ts']=_0x525d19['participan'+'ts']['map'](_0x43cc3f=>({'id':_0x43cc3f['id']||_0x43cc3f}));else{const _0x2bbbea=_0x598a57[_0x38ee68(0x1ce)][_0x38ee68(0x1e9)]?.[_0x3e45b6[_0x38ee68(0x164)]]||_0x598a57[_0x38ee68(0x1ce)][_0x38ee68(0x1e9)]&&typeof _0x598a57[_0x38ee68(0x1ce)][_0x38ee68(0x1e9)]['get']===_0x38ee68(0x162)&&_0x598a57[_0x38ee68(0x1ce)][_0x38ee68(0x1e9)]['get'](_0x3e45b6[_0x38ee68(0x164)]);_0x2bbbea&&Array[_0x38ee68(0x29b)](_0x2bbbea[_0x38ee68(0x1e6)+'ts'])&&_0x2bbbea[_0x38ee68(0x1e6)+'ts'][_0x38ee68(0x370)]>0x166b+-0x2083+0xa18&&(_0x3e45b6[_0x38ee68(0x1e6)+'ts']=_0x2bbbea[_0x38ee68(0x1e6)+'ts'][_0x38ee68(0x2c8)](_0x37d9b6=>({'id':_0x37d9b6['id']||_0x37d9b6})));}}}catch(_0x1ee4d4){debug(_0x38ee68(0x2e1)+_0x38ee68(0x1fc)+_0x38ee68(0x347)+_0x38ee68(0x353),_0x1ee4d4?.[_0x38ee68(0x30e)]||_0x1ee4d4);}_0x3e45b6['body']=_0x3e45b6[_0x38ee68(0x30c)],_0x3e45b6[_0x38ee68(0x21b)]=!!_0x3f8697?.[_0x38ee68(0x21b)],_0x3e45b6[_0x38ee68(0x185)]=_0x3f8697;for(const {handler:_0x42f4f7,module:_0x1a2823}of messageHandlers){try{await Promise[_0x38ee68(0x363)](_0x42f4f7(_0x3f8697,_0x3e45b6));}catch(_0x4f0a52){error(_0x38ee68(0x2c0)+_0x1a2823+_0x38ee68(0x28e)+(_0x4f0a52?.[_0x38ee68(0x30e)]||_0x4f0a52),sanitizeError(_0x4f0a52));}}}catch(_0x46983c){error(_0x38ee68(0x161)+_0x38ee68(0x293)+_0x38ee68(0x176)+_0x38ee68(0x1af),sanitizeError(_0x46983c));}}),_0x598a57['on']('group-part'+_0x10bb5f(0x285)+_0x10bb5f(0x215),_0x5d1aaf=>{const _0xb877eb=_0x10bb5f;try{if(!_0x5d1aaf)return;const _0x4dceb2=_0x5d1aaf['id']||_0x5d1aaf[_0xb877eb(0x1fa)]||null;if(!_0x4dceb2)return;groupParticipantsCache[_0xb877eb(0x379)](_0x4dceb2);if(Array[_0xb877eb(0x29b)](_0x5d1aaf[_0xb877eb(0x1e6)+'ts'])&&_0x5d1aaf[_0xb877eb(0x1e6)+'ts'][_0xb877eb(0x370)]>-0x23*-0x17+0x2*0x7f6+-0x1*0x1311){const _0x299072=Date[_0xb877eb(0x15f)](),_0x785ea4=_0x5d1aaf[_0xb877eb(0x1e6)+'ts'][_0xb877eb(0x2c8)](_0x3a9cba=>({'id':_0x3a9cba}));groupParticipantsCache[_0xb877eb(0x351)](_0x4dceb2,{'participants':_0x785ea4,'expiresAt':_0x299072+GROUP_PARTIPANTS_CACHE_TTL_MS});}}catch(_0x408aff){debug(_0xb877eb(0x1ba)+_0xb877eb(0x285)+_0xb877eb(0x231)+_0xb877eb(0x252),_0x408aff?.[_0xb877eb(0x30e)]||_0x408aff);}}),_0x598a57['on']('groups.upd'+'ate',_0x1498c8=>{const _0x1108c3=_0x10bb5f;try{if(!Array[_0x1108c3(0x29b)](_0x1498c8))return;for(const _0x5504f5 of _0x1498c8){if(!_0x5504f5||!_0x5504f5['id'])continue;groupParticipantsCache[_0x1108c3(0x379)](_0x5504f5['id']);}}catch(_0x3dca72){debug('groups.upd'+_0x1108c3(0x289)+'r\x20error',_0x3dca72?.['message']||_0x3dca72);}}),_0x598a57['on'](_0x10bb5f(0x1bd)+_0x10bb5f(0x1f4),async _0x3189d7=>{const _0x5d6b3b=_0x10bb5f;try{const _0x11363b={'botNumber':_0x598a57?.[_0x5d6b3b(0x265)]&&_0x598a57[_0x5d6b3b(0x265)][_0x5d6b3b(0x344)]&&_0x598a57[_0x5d6b3b(0x265)][_0x5d6b3b(0x344)]['id']||null,'from':_0x3189d7?.[_0x5d6b3b(0x1fa)]||null,'isGroup':!!(_0x3189d7?.[_0x5d6b3b(0x1fa)]&&_0x598a57&&typeof _0x598a57['isGroup']===_0x5d6b3b(0x162)&&_0x598a57[_0x5d6b3b(0x212)](_0x3189d7['remoteJid'])),'ctx':_0x3189d7};for(const {handler:_0x548618,module:_0x4cfd96}of callbackHandlers){try{await Promise['resolve'](_0x548618(_0x3189d7,_0x11363b));}catch(_0x35a2e8){error(_0x5d6b3b(0x2e6)+_0x5d6b3b(0x1ab)+_0x4cfd96+_0x5d6b3b(0x28e)+(_0x35a2e8?.[_0x5d6b3b(0x30e)]||_0x35a2e8),sanitizeError(_0x35a2e8));}}}catch(_0x3c6f4f){error('Top-level\x20'+_0x5d6b3b(0x358)+'lback\x20disp'+_0x5d6b3b(0x360),sanitizeError(_0x3c6f4f));}}),_0x598a57[_0x28fe3a]=!![],info(_0x10bb5f(0x2c5)+_0x10bb5f(0x154)+_0x10bb5f(0x317)+_0x10bb5f(0x331)+'.')):info(_0x10bb5f(0x2c5)+_0x10bb5f(0x154)+_0x10bb5f(0x203)+_0x10bb5f(0x333)+_0x10bb5f(0x296)+_0x10bb5f(0x382));try{modules[_0x10bb5f(0x22b)]===-0x2650+0x25be+0x92?(await loadAllModules(_0x598a57),setupWatchers(_0x598a57),startHealthMonitor(),startStatsReporter(),info('🚀\x20Module\x20l'+_0x10bb5f(0x1ec)+_0x10bb5f(0x18e))):debug(_0x10bb5f(0x357)+_0x10bb5f(0x35a)+_0x10bb5f(0x2da)+_0x10bb5f(0x1d9)+_0x10bb5f(0x1a1)+_0x10bb5f(0x2b8)+'tion.');}catch(_0x4c12f9){error(_0x10bb5f(0x27e)+'zeModules\x20'+_0x10bb5f(0x148)+_0x10bb5f(0x165)+'open',sanitizeError(_0x4c12f9));throw _0x4c12f9;}}export function getModuleStatus(){const _0x33b633=_0x5c83df;return{'loadedCount':moduleStatus[_0x33b633(0x1a0)]['length'],'failedCount':moduleStatus[_0x33b633(0x353)][_0x33b633(0x370)],'reloadInProgress':isReloading,'stats':moduleLoadStats,'health':'ok','loaded':moduleStatus['loaded'],'failed':moduleStatus[_0x33b633(0x353)]};}export function getCommandNames(){return new Set(allCommandNames);}export async function sendMention(_0x509e72,_0x6be601,_0x186aa5,_0x2e6cc5=[]){const _0x2d52a0=_0x5c83df;if(!_0x509e72||typeof _0x509e72[_0x2d52a0(0x374)+'e']!==_0x2d52a0(0x162))throw new Error(_0x2d52a0(0x19f)+_0x2d52a0(0x2d9)+'\x20sock\x20or\x20s'+_0x2d52a0(0x2f9)+_0x2d52a0(0x207)+_0x2d52a0(0x329));return await _0x509e72[_0x2d52a0(0x374)+'e'](_0x6be601,{'text':_0x186aa5,'mentions':_0x2e6cc5});}