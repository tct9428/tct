const _0x4b0ff5=_0x22ea;(function(_0x538dff,_0x52393b){const _0x59af53=_0x22ea,_0x49d616=_0x538dff();while(!![]){try{const _0x1f4b2f=parseInt(_0x59af53(0x28f))/(-0x3d3+0x177a+-0x1*0x13a6)+-parseInt(_0x59af53(0x198))/(-0x1dc2+0x107a+0xe*0xf3)*(-parseInt(_0x59af53(0x367))/(-0x13*-0xe6+0x16de+0x1*-0x27ed))+-parseInt(_0x59af53(0x1d3))/(0x2622+0x5df*0x3+-0x37bb)*(-parseInt(_0x59af53(0x2e3))/(0x1036+0xc23+-0x1c54))+parseInt(_0x59af53(0x142))/(0x1c8*0x8+-0x1bf6+-0xdbc*-0x1)*(parseInt(_0x59af53(0x1e5))/(-0xb73*0x1+0x1e9b*0x1+0x1321*-0x1))+-parseInt(_0x59af53(0x372))/(-0x15*0x148+-0x15a8+-0x26e*-0x14)*(parseInt(_0x59af53(0x26a))/(0xf89+0xd3+-0x1053))+-parseInt(_0x59af53(0x325))/(-0x23eb+-0x7*-0x2f+0x22ac)+-parseInt(_0x59af53(0x285))/(-0x20e2+-0x9fc+-0x34d*-0xd)*(parseInt(_0x59af53(0x259))/(0x2f9+0x1*0x16f+-0x45c));if(_0x1f4b2f===_0x52393b)break;else _0x49d616['push'](_0x49d616['shift']());}catch(_0x2f3074){_0x49d616['push'](_0x49d616['shift']());}}}(_0xa74c,0x1*-0x4774f+0x1*0x687a7+0x1*0x28bee));import{EventEmitter}from'events';EventEmitter[_0x4b0ff5(0x15a)+'Listeners']=0xd6*0x2+-0x2608*-0x1+-0x2796;import{readdir,stat,readFile}from'fs/promises';import _0xaee095 from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x32bf35 from'p-limit';import _0x40dbd6 from'crypto';import{performance,PerformanceObserver}from'perf_hooks';import{info,warn,error,debug,trace}from'./logger.js';import{hotReloadConfig,getConfig,PROJECT_ROOT}from'./config.js';import{isadmin}from'./isadmin.js';const __dirname=_0xaee095[_0x4b0ff5(0x33c)](fileURLToPath(import.meta[_0x4b0ff5(0x2c7)])),MAX_INTERVAL_MS=0x549b8e44+-0x69719253+0x94d6040e,isProduction=process[_0x4b0ff5(0x2a2)][_0x4b0ff5(0x20b)]===_0x4b0ff5(0x150)||process[_0x4b0ff5(0x37b)][_0x4b0ff5(0x13c)](_0x4b0ff5(0x174));let chokidar=null;const DEPENDENCY_GRAPH=new Map(),CONFIG_DEPENDENCY_MAP=new Map(),modules=new Map();let messageHandlers=[],callbackHandlers=[],isReloading=![],moduleLoadStats={'totalLoads':0x0,'totalFailures':0x0,'lastError':null,'avgLoadTime':0x0,'maxLoadTime':0x0};const allCommandNames=new Set();let concurrencyLimiter=_0x32bf35(getConfig()[_0x4b0ff5(0x335)+'CURRENCY_L'+_0x4b0ff5(0x269)]||-0x8d3+0xd6d+-0x495);const fileTimers=new Map();let lastConfigSnapshot={...getConfig()||{}};export const moduleStatus={'loaded':[],'failed':[],'lastReload':null,'dependencies':new Map()};const perfObserver=new PerformanceObserver(_0x47ec25=>{const _0x596ae8=_0x4b0ff5;_0x47ec25['getEntries']()[_0x596ae8(0x1fa)](_0x20a372=>{const _0x47d552=_0x596ae8;trace(_0x20a372[_0x47d552(0x281)]+_0x47d552(0x19d)+_0x20a372[_0x47d552(0x2a0)][_0x47d552(0x294)](-0x1*-0x1e4f+-0x253d*0x1+0x6f0)+'ms'),_0x20a372[_0x47d552(0x281)]['startsWith']('module:')&&_0x20a372[_0x47d552(0x2a0)]>moduleLoadStats[_0x47d552(0x246)+'e']&&(moduleLoadStats[_0x47d552(0x246)+'e']=_0x20a372[_0x47d552(0x2a0)]);});});perfObserver[_0x4b0ff5(0x2f7)]({'entryTypes':[_0x4b0ff5(0x301)]});function sanitizeError(_0x4199bd){const _0x3c7883=_0x4b0ff5,_0x4a4623=getConfig();if(_0x4a4623[_0x3c7883(0x20b)]===_0x3c7883(0x150))return{'name':_0x4199bd?.[_0x3c7883(0x281)]??_0x3c7883(0x1fd),'message':_0x4199bd?.[_0x3c7883(0x1b3)]??_0x3c7883(0x1fd),'stack':_0x4199bd?.[_0x3c7883(0x317)]?_0x3c7883(0x366):undefined};return _0x4199bd;}function resolveConfiguredDirs(){const _0x4009fe=_0x4b0ff5,_0x41b4da=getConfig(),_0x349649=_0x41b4da[_0x4009fe(0x274)+'RECTORY']||_0x41b4da['MODULES_DI'+'R']||_0x4009fe(0x162),_0x1cdfa2=_0x41b4da[_0x4009fe(0x2e5)+'TORY']||_0x4009fe(0x258),_0x746a76=Array[_0x4009fe(0x202)](_0x349649)?_0x349649[_0x4009fe(0x35c)]():[_0x349649],_0x231d4f=[];for(const _0x217574 of _0x746a76){if(!_0x217574)continue;_0x231d4f[_0x4009fe(0x143)](_0xaee095['isAbsolute'](_0x217574)?_0x217574:_0xaee095[_0x4009fe(0x20c)](PROJECT_ROOT,_0x217574));}const _0x1e65dd=_0x1cdfa2?_0xaee095[_0x4009fe(0x23f)](_0x1cdfa2)?_0x1cdfa2:_0xaee095['join'](PROJECT_ROOT,_0x1cdfa2):null;if(_0x1e65dd)_0x231d4f[_0x4009fe(0x143)](_0x1e65dd);return{'primaryDir':_0x231d4f[-0x269a+0x28a+0x2410],'secondaryDir':_0x1e65dd,'allDirs':_0x231d4f};}function calculateDependencyGraph(){const _0x20eab7=_0x4b0ff5;DEPENDENCY_GRAPH[_0x20eab7(0x183)](),CONFIG_DEPENDENCY_MAP['clear']();for(const [_0x32deab,{mod:_0x143bad}]of modules){Array[_0x20eab7(0x202)](_0x143bad['dependenci'+'es'])?DEPENDENCY_GRAPH['set'](_0x32deab,new Set(_0x143bad['dependenci'+'es'])):DEPENDENCY_GRAPH['set'](_0x32deab,new Set());const _0x496e45=normalizeModuleConfigKeys(_0x143bad);for(const {type:_0x2d08c0,key:_0x355369}of _0x496e45){if(!CONFIG_DEPENDENCY_MAP[_0x20eab7(0x19e)](_0x355369))CONFIG_DEPENDENCY_MAP[_0x20eab7(0x14e)](_0x355369,new Set());CONFIG_DEPENDENCY_MAP['get'](_0x355369)[_0x20eab7(0x356)](_0x32deab);}}moduleStatus[_0x20eab7(0x355)+'es']=new Map(DEPENDENCY_GRAPH);}function normalizeModuleConfigKeys(_0x1b3b7b){const _0xff7546=_0x4b0ff5,_0x58b892=[];if(!_0x1b3b7b)return _0x58b892;const _0x6c82f3=_0x1b3b7b[_0xff7546(0x188)];if(!_0x6c82f3)return _0x58b892;if(Array[_0xff7546(0x202)](_0x6c82f3)){for(const _0x3ed6ff of _0x6c82f3)if(typeof _0x3ed6ff===_0xff7546(0x1b8))_0x58b892['push']({'type':_0xff7546(0x1f1),'key':_0x3ed6ff});return _0x58b892;}if(typeof _0x6c82f3===_0xff7546(0x2fd)){const _0x99f99e={'reload':[_0xff7546(0x1f1),'reloadKeys',_0xff7546(0x138)],'reinit':[_0xff7546(0x18c)],'hot':[_0xff7546(0x25c),'hotKeys']};for(const _0x45c857 of Object[_0xff7546(0x138)](_0x99f99e)){for(const _0xd1008d of _0x99f99e[_0x45c857]){if(!_0x6c82f3[_0xd1008d])continue;if(Array[_0xff7546(0x202)](_0x6c82f3[_0xd1008d])){for(const _0x58461c of _0x6c82f3[_0xd1008d])if(typeof _0x58461c==='string')_0x58b892['push']({'type':_0x45c857,'key':_0x58461c});}else typeof _0x6c82f3[_0xd1008d]===_0xff7546(0x1b8)&&_0x58b892[_0xff7546(0x143)]({'type':_0x45c857,'key':_0x6c82f3[_0xd1008d]});}if(Array[_0xff7546(0x202)](_0x6c82f3[_0x45c857])){for(const _0x199f2a of _0x6c82f3[_0x45c857])if(typeof _0x199f2a==='string')_0x58b892[_0xff7546(0x143)]({'type':_0x45c857,'key':_0x199f2a});}else typeof _0x6c82f3[_0x45c857]===_0xff7546(0x1b8)&&_0x58b892[_0xff7546(0x143)]({'type':_0x45c857,'key':_0x6c82f3[_0x45c857]});}return _0x58b892;}return _0x58b892;}function getAffectedModules(_0x15bdd4){const _0x1734ae=_0x4b0ff5,_0x364293=new Set([_0x15bdd4]),_0x4f0f1d=[_0x15bdd4];let _0x14685c=0x24*-0x114+-0x1*-0x1107+0x15c9;while(_0x14685c<_0x4f0f1d['length']){const _0x54467b=_0x4f0f1d[_0x14685c++];for(const [_0xa9c65b,_0x56f340]of DEPENDENCY_GRAPH){_0x56f340[_0x1734ae(0x19e)](_0x54467b)&&!_0x364293[_0x1734ae(0x19e)](_0xa9c65b)&&(_0x364293[_0x1734ae(0x356)](_0xa9c65b),_0x4f0f1d[_0x1734ae(0x143)](_0xa9c65b));}}return Array['from'](_0x364293);}function getModulesForConfigKeys(_0x20a933){const _0x5c292d=new Set();for(const _0x2d8750 of _0x20a933){const _0x8178da=CONFIG_DEPENDENCY_MAP['get'](_0x2d8750);if(!_0x8178da)continue;for(const _0xc1ad9b of _0x8178da){const _0x34d237=getAffectedModules(_0xc1ad9b);for(const _0x125b69 of _0x34d237)_0x5c292d['add'](_0x125b69);}}return Array['from'](_0x5c292d);}function validateModule(_0x63d939,_0x474403){const _0x3f7e8e=_0x4b0ff5,_0x50d61e=_0x63d939&&_0x63d939[_0x3f7e8e(0x281)]?_0x63d939[_0x3f7e8e(0x281)]:_0x474403,_0xfff7eb=[],_0x577d7c=[];if(!_0x63d939||!Object[_0x3f7e8e(0x230)](_0x63d939,_0x3f7e8e(0x281)))_0xfff7eb[_0x3f7e8e(0x143)](_0x3f7e8e(0x32f)+_0x3f7e8e(0x275)+'t');if(_0x63d939&&!Object[_0x3f7e8e(0x230)](_0x63d939,_0x3f7e8e(0x291)))_0x577d7c[_0x3f7e8e(0x143)](_0x3f7e8e(0x24a)+'ersion\x22\x20ex'+_0x3f7e8e(0x2b3));_0x63d939&&!Object['hasOwn'](_0x63d939,_0x3f7e8e(0x358))&&!Object[_0x3f7e8e(0x230)](_0x63d939,_0x3f7e8e(0x179))&&!Object[_0x3f7e8e(0x230)](_0x63d939,'onCallback'+_0x3f7e8e(0x1b5))&&_0xfff7eb[_0x3f7e8e(0x143)](_0x3f7e8e(0x199)+_0x3f7e8e(0x323)+_0x3f7e8e(0x2c6)+'\x20onMessage'+_0x3f7e8e(0x260)+_0x3f7e8e(0x23b));_0x63d939&&Object[_0x3f7e8e(0x230)](_0x63d939,_0x3f7e8e(0x179))&&typeof _0x63d939['onMessage']!==_0x3f7e8e(0x190)&&_0xfff7eb[_0x3f7e8e(0x143)](_0x3f7e8e(0x32e)+_0x3f7e8e(0x25a)+_0x3f7e8e(0x348));_0x63d939&&Object[_0x3f7e8e(0x230)](_0x63d939,_0x3f7e8e(0x240)+_0x3f7e8e(0x1b5))&&typeof _0x63d939[_0x3f7e8e(0x240)+_0x3f7e8e(0x1b5)]!==_0x3f7e8e(0x190)&&_0xfff7eb['push'](_0x3f7e8e(0x368)+'kQuery\x22\x20is'+_0x3f7e8e(0x278)+_0x3f7e8e(0x34e));_0x63d939&&_0x63d939[_0x3f7e8e(0x355)+'es']&&!Array[_0x3f7e8e(0x202)](_0x63d939['dependenci'+'es'])&&_0xfff7eb['push']('\x22dependenc'+_0x3f7e8e(0x21a)+_0x3f7e8e(0x194)+'y');if(_0xfff7eb['length'])warn(_0x3f7e8e(0x302)+_0x50d61e+(_0x3f7e8e(0x204)+_0x3f7e8e(0x251)+_0x3f7e8e(0x37a))+_0xfff7eb[_0x3f7e8e(0x20c)](',\x20'));if(_0x577d7c[_0x3f7e8e(0x326)])warn(_0x3f7e8e(0x245)+_0x50d61e+(_0x3f7e8e(0x378)+'\x20')+_0x577d7c['join'](',\x20'));return _0xfff7eb[_0x3f7e8e(0x326)]===0x23b3+0x4*0x2da+-0x2f1b;}function updateAllCommandNames(){const _0xd492ef=_0x4b0ff5;allCommandNames['clear']();for(const {mod:_0x38e07f}of modules[_0xd492ef(0x197)]()){if(_0x38e07f[_0xd492ef(0x281)]&&typeof _0x38e07f[_0xd492ef(0x281)]==='string')allCommandNames[_0xd492ef(0x356)](_0x38e07f[_0xd492ef(0x281)][_0xd492ef(0x32d)+'e']());if(Array[_0xd492ef(0x202)](_0x38e07f['commands'])){for(const _0x3be457 of _0x38e07f[_0xd492ef(0x2dd)])if(typeof _0x3be457==='string'&&_0x3be457)allCommandNames[_0xd492ef(0x356)](_0x3be457[_0xd492ef(0x32d)+'e']());}}debug('ðŸ”§\x20Updated\x20'+_0xd492ef(0x352)+'st:\x20'+allCommandNames[_0xd492ef(0x151)]+(_0xd492ef(0x265)+'mands\x20reco'+_0xd492ef(0x29c)));}function _0x22ea(_0x4a0fcf,_0x15c636){const _0x1492ff=_0xa74c();return _0x22ea=function(_0x24f1b9,_0x76b1b4){_0x24f1b9=_0x24f1b9-(0x134b+-0x1a45+0x82b);let _0x31bab1=_0x1492ff[_0x24f1b9];return _0x31bab1;},_0x22ea(_0x4a0fcf,_0x15c636);}function updateHandlers(){const _0x111670=_0x4b0ff5;performance[_0x111670(0x293)](_0x111670(0x297)+_0x111670(0x32a)),messageHandlers=[],callbackHandlers=[];const _0x5227a3=[...modules[_0x111670(0x197)]()][_0x111670(0x24f)]((_0x4c2d68,_0x3bf52e)=>(_0x3bf52e[_0x111670(0x1f8)]??0x1adc+-0x3*0x17f+-0x775*0x3)-(_0x4c2d68[_0x111670(0x1f8)]??-0x161*0xb+-0xcaa+-0x3*-0x947));for(const {mod:_0x5e4c8a}of _0x5227a3){typeof _0x5e4c8a[_0x111670(0x179)]===_0x111670(0x190)&&messageHandlers['push']({'handler':_0x5e4c8a['onMessage'][_0x111670(0x172)](_0x5e4c8a),'module':_0x5e4c8a['name'],'priority':_0x5e4c8a[_0x111670(0x1f8)]||-0x4d*0x1+0xcc1*0x1+-0xc74}),typeof _0x5e4c8a[_0x111670(0x240)+_0x111670(0x1b5)]===_0x111670(0x190)&&callbackHandlers[_0x111670(0x143)]({'handler':_0x5e4c8a[_0x111670(0x240)+_0x111670(0x1b5)][_0x111670(0x172)](_0x5e4c8a),'module':_0x5e4c8a['name'],'priority':_0x5e4c8a[_0x111670(0x1f8)]||-0x1*-0x191c+0x9*-0x63+-0x15a1});}messageHandlers[_0x111670(0x24f)]((_0x296201,_0x51369f)=>_0x51369f[_0x111670(0x1f8)]-_0x296201[_0x111670(0x1f8)]),callbackHandlers['sort']((_0x3e7cdb,_0x22a27e)=>_0x22a27e['priority']-_0x3e7cdb[_0x111670(0x1f8)]);const _0x21bf73=getConfig();messageHandlers[_0x111670(0x326)]+callbackHandlers[_0x111670(0x326)]>(_0x21bf73[_0x111670(0x17e)+_0x111670(0x1d5)+_0x111670(0x1b0)]||-0x24*-0x3+-0x7f+-0x1*-0x77)&&warn(_0x111670(0x1c7)+'e\x20handlers'+_0x111670(0x1eb)+_0x111670(0x362)+messageHandlers[_0x111670(0x326)]+_0x111670(0x30e)+callbackHandlers[_0x111670(0x326)]+_0x111670(0x1cc)),performance[_0x111670(0x293)](_0x111670(0x297)+_0x111670(0x33a)),performance[_0x111670(0x301)](_0x111670(0x297)+_0x111670(0x211),'updateHand'+_0x111670(0x32a),'updateHand'+_0x111670(0x33a)),updateAllCommandNames(),debug(_0x111670(0x331)+_0x111670(0x165)+messageHandlers['length']+'\x20msg,\x20'+callbackHandlers[_0x111670(0x326)]+'\x20cb');}async function unloadModule(_0x1d8e05,_0x25502a=_0x4b0ff5(0x1f1)){const _0x4e4fe8=_0x4b0ff5;if(!modules['has'](_0x1d8e05))return;const _0x10e357=modules[_0x4e4fe8(0x2e6)](_0x1d8e05),_0x4712bd=_0x10e357[_0x4e4fe8(0x207)];try{typeof _0x4712bd['cleanup']===_0x4e4fe8(0x190)&&(await Promise[_0x4e4fe8(0x1ad)](_0x4712bd['cleanup']()),debug(_0x4e4fe8(0x1fe)+_0x4e4fe8(0x2fa)+_0x4712bd[_0x4e4fe8(0x281)]));}catch(_0x445cf0){error('âŒ\x20Failed\x20t'+'o\x20clean\x20up'+'\x20'+_0x4712bd[_0x4e4fe8(0x281)]+':\x20'+(_0x445cf0?.[_0x4e4fe8(0x1b3)]||_0x445cf0),sanitizeError(_0x445cf0));}finally{modules[_0x4e4fe8(0x22e)](_0x1d8e05),moduleStatus[_0x4e4fe8(0x15e)]=moduleStatus['loaded'][_0x4e4fe8(0x22c)](_0x343ef9=>_0x343ef9[_0x4e4fe8(0x281)]!==_0x1d8e05),info(_0x4e4fe8(0x1e4)+'\x20'+_0x4712bd[_0x4e4fe8(0x281)]+'\x20('+_0x25502a+')');try{calculateDependencyGraph();}catch(_0xb5b817){debug(_0x4e4fe8(0x16d)+_0x4e4fe8(0x17d)+_0x4e4fe8(0x292)+_0x4e4fe8(0x34d)+_0x4e4fe8(0x227),_0xb5b817?.['message']||_0xb5b817);}updateHandlers();}}async function loadFile(_0x3ed6c4,_0x39b205=![],_0x4e24ff=null){const _0x17610a=_0x4b0ff5,_0x233b4f=getConfig(),_0x32113b=_0xaee095[_0x17610a(0x1d0)](_0x3ed6c4)[_0x17610a(0x281)],_0x4ea56e=performance[_0x17610a(0x1b7)]();try{const _0x28e913=await stat(_0x3ed6c4);if(!_0x28e913[_0x17610a(0x351)]())return warn(_0x17610a(0x1db)+_0x17610a(0x2eb)+_0x17610a(0x1df)+_0x3ed6c4),![];_0x28e913[_0x17610a(0x151)]>(_0x233b4f[_0x17610a(0x29e)+_0x17610a(0x308)+_0x17610a(0x218)+'S']||-0x3a418*-0x3+0x1d2*-0xac5+0x18ae52*0x1)&&warn(_0x17610a(0x245)+_0x3ed6c4+(_0x17610a(0x210)+'(')+(_0x28e913[_0x17610a(0x151)]/(-0x6*-0x477+-0x5c*-0x53+-0x118a*0x3))[_0x17610a(0x294)](-0x174a+0x1b81*-0x1+0x32cc)+_0x17610a(0x2b7));const _0x59f945=await readFile(_0x3ed6c4),_0x58c856=_0x40dbd6['createHash'](_0x17610a(0x2f2))[_0x17610a(0x15d)](_0x59f945)[_0x17610a(0x2e2)](_0x17610a(0x361)),_0x275e91=_0xaee095[_0x17610a(0x1d0)](_0x3ed6c4)[_0x17610a(0x281)];if(modules[_0x17610a(0x19e)](_0x275e91)&&modules[_0x17610a(0x2e6)](_0x275e91)[_0x17610a(0x1e6)]===_0x58c856)return debug(_0x17610a(0x1a1)+_0x275e91+(_0x17610a(0x26b)+_0x17610a(0x2c8)+_0x17610a(0x309))),![];if(_0x39b205&&modules[_0x17610a(0x19e)](_0x275e91)){const {mod:_0x322f28}=modules[_0x17610a(0x2e6)](_0x275e91);if(typeof _0x322f28[_0x17610a(0x23d)+'ad']==='function')try{await Promise[_0x17610a(0x1ad)](_0x322f28['beforeRelo'+'ad']());}catch(_0x227561){warn(_0x17610a(0x23d)+_0x17610a(0x1e8)+_0x17610a(0x31c)+_0x322f28['name']+':\x20'+(_0x227561?.['message']||_0x227561));}}const _0x391fd4=pathToFileURL(_0x3ed6c4)[_0x17610a(0x25d)]+_0x17610a(0x1be)+Date[_0x17610a(0x1b7)](),_0x817b94=await import(_0x391fd4);let _0x260b9e={..._0x817b94};_0x817b94[_0x17610a(0x28d)]&&typeof _0x817b94[_0x17610a(0x28d)]===_0x17610a(0x2fd)&&(_0x260b9e={..._0x260b9e,..._0x817b94['default']});if(!validateModule(_0x260b9e,_0x3ed6c4)){warn(_0x17610a(0x1db)+_0x17610a(0x238)+_0x17610a(0x1d1)+_0x3ed6c4);if(modules[_0x17610a(0x19e)](_0x275e91))await unloadModule(_0x275e91,'invalid\x20mo'+_0x17610a(0x347)+_0x17610a(0x36f)+_0x17610a(0x201));return![];}const _0x52f516=_0x260b9e[_0x17610a(0x281)]||_0x275e91;modules[_0x17610a(0x19e)](_0x52f516)&&await unloadModule(_0x52f516,_0x17610a(0x1ed)+'oad');typeof _0x260b9e['initialize']===_0x17610a(0x190)&&_0x4e24ff&&(performance[_0x17610a(0x293)](_0x17610a(0x141)+_0x52f516+(_0x17610a(0x2ad)+_0x17610a(0x2cf))),await Promise['resolve'](_0x260b9e[_0x17610a(0x358)](_0x4e24ff)),performance[_0x17610a(0x293)](_0x17610a(0x141)+_0x52f516+(_0x17610a(0x2ad)+'e-end')),performance[_0x17610a(0x301)](_0x17610a(0x141)+_0x52f516+(_0x17610a(0x2ad)+'e'),'module:'+_0x52f516+('-initializ'+'e-start'),_0x17610a(0x141)+_0x52f516+('-initializ'+'e-end')),debug('â±ï¸\x20Initiali'+_0x17610a(0x1a8)+_0x52f516));const _0x260b1d=resolveConfiguredDirs()[_0x17610a(0x20f)][_0x17610a(0x313)](_0x34fb40=>_0x3ed6c4[_0x17610a(0x2bd)](_0xaee095['resolve'](_0x34fb40)))||_0xaee095['dirname'](_0x3ed6c4);modules['set'](_0x52f516,{'mod':_0x260b9e,'priority':_0x260b9e[_0x17610a(0x1f8)]||0x11e6+-0xb40+0x353*-0x2,'file':_0x3ed6c4,'originDir':_0x260b1d,'fileHash':_0x58c856,'lastLoaded':Date[_0x17610a(0x1b7)]()}),moduleStatus[_0x17610a(0x15e)]=moduleStatus[_0x17610a(0x15e)]['filter'](_0x1fc35b=>_0x1fc35b[_0x17610a(0x281)]!==_0x52f516),moduleStatus[_0x17610a(0x334)]=moduleStatus[_0x17610a(0x334)][_0x17610a(0x22c)](_0x319d94=>_0x319d94['file']!==_0x3ed6c4),moduleStatus[_0x17610a(0x15e)]['push']({'name':_0x52f516,'version':_0x260b9e['version']||'?','file':_0x3ed6c4,'loadedAt':Date['now'](),'size':_0x28e913[_0x17610a(0x151)],'hash':_0x58c856}),calculateDependencyGraph();const _0xbdd0d1=performance[_0x17610a(0x1b7)]()-_0x4ea56e;moduleLoadStats['totalLoads']++,moduleLoadStats['avgLoadTim'+'e']=(moduleLoadStats[_0x17610a(0x256)+'e']*(moduleLoadStats[_0x17610a(0x23c)]-(0x1262+-0x1970+0x70f))+_0xbdd0d1)/moduleLoadStats[_0x17610a(0x23c)];if(_0xbdd0d1>moduleLoadStats[_0x17610a(0x246)+'e'])moduleLoadStats[_0x17610a(0x246)+'e']=_0xbdd0d1;return debug((_0x39b205?'â™»ï¸\x20Reloaded':_0x17610a(0x288))+'\x20'+_0x52f516+'\x20v'+(_0x260b9e[_0x17610a(0x291)]||'?')+'\x20in\x20'+_0xbdd0d1[_0x17610a(0x294)](0xd*0x1ef+-0x789+-0x2*0x8cc)+'ms'),!![];}catch(_0x5d7771){const _0x16bd38=_0x39b205?_0x17610a(0x1f1):_0x17610a(0x170);error(_0x17610a(0x2d3)+'o\x20'+_0x16bd38+'\x20'+_0x3ed6c4+':\x20'+(_0x5d7771?.['message']||_0x5d7771),sanitizeError(_0x5d7771)),moduleStatus[_0x17610a(0x334)][_0x17610a(0x143)]({'file':_0x3ed6c4,'error':_0x5d7771?.[_0x17610a(0x1b3)]||String(_0x5d7771),'timestamp':Date['now']()}),moduleLoadStats['totalFailu'+'res']++,moduleLoadStats['lastError']={'file':_0x3ed6c4,'timestamp':Date['now'](),'error':_0x5d7771?.[_0x17610a(0x1b3)]||String(_0x5d7771)};const _0x4af9f5=_0xaee095[_0x17610a(0x1d0)](_0x3ed6c4)[_0x17610a(0x281)];return modules[_0x17610a(0x22e)](_0x4af9f5),![];}finally{updateHandlers();}}async function loadAllModules(_0x561fb0){const _0x2db27e=_0x4b0ff5,_0x24fa01=getConfig();info(_0x2db27e(0x134)+_0x2db27e(0x14c)+_0x2db27e(0x1bc)+'ocess\x20...');const _0x44c64d=performance[_0x2db27e(0x1b7)]();moduleStatus[_0x2db27e(0x15e)]=[],moduleStatus[_0x2db27e(0x334)]=[],moduleLoadStats[_0x2db27e(0x23c)]=-0xdc*-0x15+0x728+0xc9a*-0x2,moduleLoadStats[_0x2db27e(0x283)+_0x2db27e(0x21b)]=0x21a1+0x13cd+0x1*-0x356e,moduleLoadStats[_0x2db27e(0x256)+'e']=0xd5e+-0x1*0x26dd+0x197f,moduleLoadStats['maxLoadTim'+'e']=-0x1656+0x1c3d+-0x5e7,moduleLoadStats[_0x2db27e(0x225)]=null;const {primaryDir:_0x317c55,allDirs:_0x1be584}=resolveConfiguredDirs(),_0x254e12=_0x24fa01[_0x2db27e(0x236)+_0x2db27e(0x349)+'SIONS']||[_0x2db27e(0x307),'.mjs','.cjs'];info('ðŸ“‚\x20Scanning'+_0x2db27e(0x284)+'\x20modules..'+'.');const _0x43b278=[];for(const _0x757842 of _0x1be584){try{const _0x4a44ef=await readdir(_0x757842);for(const _0x154e2b of _0x4a44ef){const _0x160a9e=_0xaee095[_0x2db27e(0x139)](_0x154e2b);if(!_0x254e12[_0x2db27e(0x13c)](_0x160a9e))continue;_0x43b278[_0x2db27e(0x143)]({'filePath':_0xaee095[_0x2db27e(0x20c)](_0x757842,_0x154e2b),'dir':_0x757842,'isPrimary':_0xaee095[_0x2db27e(0x1ad)](_0x757842)===_0xaee095[_0x2db27e(0x1ad)](_0x317c55)});}}catch(_0x3e8598){_0x3e8598['code']!=='ENOENT'&&warn(_0x2db27e(0x16a)+_0x2db27e(0x235)+'ules\x20direc'+_0x2db27e(0x158)+_0x757842+_0x2db27e(0x33b)+(_0x3e8598?.[_0x2db27e(0x1b3)]||_0x3e8598));}}const _0xa08701=new Map();for(const _0x4ffddd of _0x43b278){try{const _0x6f51f9=await readFile(_0x4ffddd[_0x2db27e(0x1f9)],_0x2db27e(0x205)),_0x54da93=await stat(_0x4ffddd[_0x2db27e(0x1f9)]);let _0x1c9d4e=null;const _0x403eb9=[/(?:export\s+const|export\s+let|const|let)\s+name\s*=\s*['"]([^'"]+)['"]/i,/name\s*[:=]\s*['"]([^'"]+)['"]/i,/module\.exports\s*=\s*{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i,/export\s+default\s+{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i];for(const _0x1c12a0 of _0x403eb9){const _0x379be5=_0x6f51f9[_0x2db27e(0x22b)](_0x1c12a0);if(_0x379be5&&_0x379be5[0x5*-0x12e+-0x2418+0x29ff]){_0x1c9d4e=_0x379be5[0xab*0x36+-0x226f+-0x1a2][_0x2db27e(0x2b5)]();break;}}if(!_0x1c9d4e)_0x1c9d4e=_0xaee095[_0x2db27e(0x1d0)](_0x4ffddd[_0x2db27e(0x1f9)])[_0x2db27e(0x281)];let _0x51e7d3=0x10*-0x54+0x19*0x7f+-0x1*0x727;const _0x19ff32=_0x6f51f9[_0x2db27e(0x22b)](/priority\s*[:=]\s*([0-9]+)/i);if(_0x19ff32&&_0x19ff32[0x2107+0x592+-0x68*0x5f])_0x51e7d3=parseInt(_0x19ff32[-0x17*0xcd+0x24aa*0x1+-0x123e],-0x1f21*-0x1+-0x1692*0x1+-0x885);const _0x2be101=_0x6f51f9[_0x2db27e(0x22b)](/dependencies\s*[:=]\s*\[([^\]]+)\]/)||_0x6f51f9[_0x2db27e(0x22b)](/configKeys\s*[:=]\s*\[([^\]]+)\]/),_0xa12f47=_0x2be101&&_0x2be101[0x11f9+-0xc*-0x23b+0x7*-0x664]?_0x2be101[-0x1867+0x1448+0x420][_0x2db27e(0x166)](',')[_0x2db27e(0x380)](_0x630fbd=>_0x630fbd['trim']()[_0x2db27e(0x1dc)](/['"]/g,''))[_0x2db27e(0x22c)](Boolean):[];_0xa08701[_0x2db27e(0x14e)](_0x4ffddd[_0x2db27e(0x1f9)],{'name':_0x1c9d4e,'priority':_0x51e7d3,'deps':_0xa12f47,'dir':_0x4ffddd[_0x2db27e(0x2ee)],'isPrimary':_0x4ffddd[_0x2db27e(0x175)],'size':_0x54da93[_0x2db27e(0x151)],'text':_0x6f51f9});}catch(_0x12b6d1){warn(_0x2db27e(0x16a)+_0x2db27e(0x252)+_0x4ffddd[_0x2db27e(0x1f9)]+':\x20'+(_0x12b6d1?.[_0x2db27e(0x1b3)]||_0x12b6d1)),_0xa08701[_0x2db27e(0x14e)](_0x4ffddd[_0x2db27e(0x1f9)],{'name':_0xaee095['parse'](_0x4ffddd[_0x2db27e(0x1f9)])[_0x2db27e(0x281)],'priority':0x0,'deps':[],'dir':_0x4ffddd[_0x2db27e(0x2ee)],'isPrimary':_0x4ffddd[_0x2db27e(0x175)],'size':0x0,'text':null});}}const _0x576358=new Map();for(const [_0x520c9c,_0x3cddc7]of _0xa08701[_0x2db27e(0x2df)]()){const _0x1fa9b6=_0x576358[_0x2db27e(0x2e6)](_0x3cddc7[_0x2db27e(0x281)])||[];_0x1fa9b6[_0x2db27e(0x143)]({'filePath':_0x520c9c,..._0x3cddc7}),_0x576358[_0x2db27e(0x14e)](_0x3cddc7[_0x2db27e(0x281)],_0x1fa9b6);}const _0x102856=(_0x24fa01['MODULE_DUP'+_0x2db27e(0x2c3)+_0x2db27e(0x233)]||_0x2db27e(0x2e9)+_0x2db27e(0x312))[_0x2db27e(0x32d)+'e'](),_0x1b258b=new Map();for(const [_0x43482b,_0x24a922]of _0x576358['entries']()){if(_0x24a922['length']===-0x7*-0x12d+-0x12b5+0xa7b*0x1){_0x1b258b[_0x2db27e(0x14e)](_0x43482b,_0x24a922[-0xfaa+-0xc9+-0x1*-0x1073][_0x2db27e(0x1f9)]);continue;}if(_0x102856==='error'){error(_0x2db27e(0x24d)+'e\x20module\x20\x22'+_0x43482b+_0x2db27e(0x177)+_0x24a922[_0x2db27e(0x380)](_0x25f66f=>_0xaee095[_0x2db27e(0x2dc)](_0x25f66f['filePath']))[_0x2db27e(0x20c)](',\x20')+('\x20-\x20loaded\x20'+_0x2db27e(0x342)+_0x2db27e(0x31d)+_0x2db27e(0x2ca)));for(const _0x180639 of _0x24a922)moduleStatus[_0x2db27e(0x334)][_0x2db27e(0x143)]({'file':_0x180639[_0x2db27e(0x1f9)],'error':_0x2db27e(0x18e)+_0x2db27e(0x231)+_0x2db27e(0x30a)+_0x2db27e(0x262),'timestamp':Date[_0x2db27e(0x1b7)]()});continue;}_0x24a922[_0x2db27e(0x24f)]((_0x35377a,_0x2a7071)=>{const _0x41aa17=_0x2db27e;if((_0x2a7071['priority']||-0x1*-0xa75+-0x1f51*-0x1+-0x1*0x29c6)!==(_0x35377a[_0x41aa17(0x1f8)]||-0x83*-0x49+-0x3*-0xb7f+-0x47d8))return(_0x2a7071[_0x41aa17(0x1f8)]||-0x16*0xdf+0x1e+0x130c)-(_0x35377a[_0x41aa17(0x1f8)]||-0x14e1+0x5*-0x36f+0x1e7*0x14);if(_0x102856==='prefer-pri'+_0x41aa17(0x312)){if(_0x35377a[_0x41aa17(0x175)]!==_0x2a7071[_0x41aa17(0x175)])return _0x35377a['isPrimary']?-(0x1*0x1373+-0x3d*0x7f+0xad1):-0x11e0+0x1*0xfd6+0x20b;}return _0x35377a[_0x41aa17(0x1f9)][_0x41aa17(0x1c6)+'are'](_0x2a7071[_0x41aa17(0x1f9)]);});const _0x4e856f=_0x24a922[0x14*0x26+-0x1ee3*-0x1+0x9*-0x3c3];_0x1b258b['set'](_0x43482b,_0x4e856f[_0x2db27e(0x1f9)]);for(let _0x243838=-0xf1b*0x1+-0x673+0x158f;_0x243838<_0x24a922[_0x2db27e(0x326)];_0x243838++){warn(_0x2db27e(0x156)+'e\x20module\x20n'+'ame\x20\x22'+_0x43482b+('\x22\x20detected'+'.\x20Using\x20ve'+_0x2db27e(0x2b0)+'\x20')+_0xaee095[_0x2db27e(0x2dc)](_0x4e856f[_0x2db27e(0x1f9)])+(_0x2db27e(0x23a)+'\x20version\x20f'+_0x2db27e(0x19c))+_0xaee095[_0x2db27e(0x2dc)](_0x24a922[_0x243838][_0x2db27e(0x1f9)])+'.');}}const _0x4fd243=[],_0x416c43=new Set(),_0x46e7f=new Set(),_0x8bcfad=new Map();for(const [_0x5968a4,_0x22399e]of _0x1b258b['entries']()){const _0x313a0c=_0xa08701['get'](_0x22399e)||{'deps':[]};_0x8bcfad[_0x2db27e(0x14e)](_0x5968a4,_0x313a0c[_0x2db27e(0x1fb)]||[]);}function _0x500fad(_0x1f5f69){const _0xa3dc3f=_0x2db27e;if(!_0x1b258b[_0xa3dc3f(0x19e)](_0x1f5f69))return;if(_0x416c43[_0xa3dc3f(0x19e)](_0x1f5f69))return;if(_0x46e7f[_0xa3dc3f(0x19e)](_0x1f5f69)){warn('ðŸ”„\x20Circular'+'\x20dependenc'+_0xa3dc3f(0x176)+'\x20involving'+':\x20'+_0x1f5f69+'.');return;}_0x46e7f[_0xa3dc3f(0x356)](_0x1f5f69);const _0x351b41=_0x8bcfad['get'](_0x1f5f69)||[];for(const _0x3b6643 of _0x351b41)_0x500fad(_0x3b6643);_0x46e7f[_0xa3dc3f(0x22e)](_0x1f5f69),_0x416c43[_0xa3dc3f(0x356)](_0x1f5f69),_0x4fd243['push'](_0x1f5f69);}for(const _0x569bef of _0x1b258b[_0x2db27e(0x138)]())_0x500fad(_0x569bef);const _0x37eb85=_0x4fd243[_0x2db27e(0x380)](_0x5f595e=>_0x1b258b['get'](_0x5f595e));debug(_0x2db27e(0x28b)+_0x2db27e(0x31e)+_0x2db27e(0x319)+_0x2db27e(0x37a)+(_0x4fd243[_0x2db27e(0x326)]>0x1bf+0x3*0x633+0xba*-0x1c?_0x4fd243['join'](',\x20'):_0x2db27e(0x379)+_0x2db27e(0x37f)+'nd'));const _0x1762bc=_0x37eb85[_0x2db27e(0x380)](_0x1905e9=>concurrencyLimiter(()=>loadFile(_0x1905e9,![],_0x561fb0)));await Promise[_0x2db27e(0x273)](_0x1762bc),moduleStatus[_0x2db27e(0x15e)][_0x2db27e(0x24f)]((_0x37e1b0,_0x24d614)=>_0x37e1b0[_0x2db27e(0x281)]['localeComp'+_0x2db27e(0x316)](_0x24d614[_0x2db27e(0x281)]));if(moduleStatus[_0x2db27e(0x15e)][_0x2db27e(0x326)]>0x1*0x1f1c+-0xd12+0x2*-0x905){info(_0x2db27e(0x2ef)+moduleStatus['loaded'][_0x2db27e(0x326)]+(_0x2db27e(0x1bb)+_0x2db27e(0x21d)+'directorie'+'s.'));for(const _0x2eb297 of moduleStatus[_0x2db27e(0x15e)]){info(_0x2db27e(0x217)+_0x2eb297[_0x2db27e(0x281)]+'\x20v'+_0x2eb297[_0x2db27e(0x291)]+_0x2db27e(0x32b)+_0xaee095[_0x2db27e(0x2dc)](_0xaee095['dirname'](_0x2eb297[_0x2db27e(0x14d)])));}}else info(_0x2db27e(0x1bf)+'es\x20were\x20lo'+'aded.');moduleStatus[_0x2db27e(0x334)]['length']>-0x1597+0x160f*0x1+0x2*-0x3c&&warn(_0x2db27e(0x2d3)+'o\x20load:\x20'+moduleStatus[_0x2db27e(0x334)]['map'](_0x398f22=>_0xaee095[_0x2db27e(0x2dc)](_0x398f22[_0x2db27e(0x14d)]))[_0x2db27e(0x20c)](',\x20'));const _0x406704=performance[_0x2db27e(0x1b7)]()-_0x44c64d;return info('ðŸ•’\x20Full\x20mod'+_0x2db27e(0x1c5)+_0x2db27e(0x268)+'n\x20'+_0x406704[_0x2db27e(0x294)](-0x1*0x141d+0x46*-0x22+0x1d6b*0x1)+'ms'),moduleStatus[_0x2db27e(0x2a4)]=Date[_0x2db27e(0x1b7)](),calculateDependencyGraph(),updateHandlers(),{'success':moduleStatus[_0x2db27e(0x15e)][_0x2db27e(0x326)],'failed':moduleStatus[_0x2db27e(0x334)]['length']};}let healthIntervalId=null,statsIntervalId=null;function clampInterval(_0x4ae3ab){const _0x470191=_0x4b0ff5;if(!Number[_0x470191(0x296)](_0x4ae3ab)||_0x4ae3ab<=-0x96*0x28+-0x143b+0x2bab)return 0x1d62+0x5*-0x58f+-0x197;if(_0x4ae3ab>MAX_INTERVAL_MS)return MAX_INTERVAL_MS;return _0x4ae3ab;}export function startHealthMonitor(){const _0x32e11b=_0x4b0ff5;if(healthIntervalId)clearInterval(healthIntervalId);const _0x3375ba=getConfig();let _0x3057b0=clampInterval(_0x3375ba[_0x32e11b(0x1ff)+_0x32e11b(0x13d)+_0x32e11b(0x1ea)]||0x2114+0x19*-0x511+0x147f5);if(_0x3057b0<=-0x262f+0x12*0x163+0xd39){warn('â¤ï¸\x20Health\x20c'+_0x32e11b(0x145)+'disabled\x20('+_0x32e11b(0x2a3)+_0x32e11b(0x255));return;}const _0x141b92=(_0x3057b0/(0x1677+0x11*0x7d+-0x1adc))['toFixed'](-0x146e+-0xfb*0x21+-0x3e*-0xda);info(_0x32e11b(0x363)+_0x32e11b(0x147)+_0x32e11b(0x340)+_0x32e11b(0x136)+_0x141b92+'s.'),healthIntervalId=setInterval(()=>{const _0x2faa85=_0x32e11b,_0x122c0f=process['memoryUsag'+'e']()['heapUsed']/(-0x2*-0x71+0x2*0x100+-0xd*-0x16)/(0xb4a+0x13*-0x20a+-0x53e*-0x6);_0x3375ba[_0x2faa85(0x1f5)+_0x2faa85(0x1fc)]&&_0x122c0f>_0x3375ba['CRITICAL_M'+_0x2faa85(0x350)+'E_MB']&&(error(_0x2faa85(0x1d6)+_0x2faa85(0x1e7)+_0x2faa85(0x29b)+_0x122c0f['toFixed'](0x39*-0x76+0x56d+0x14db)+(_0x2faa85(0x1f7)+_0x2faa85(0x159)+'f\x20')+_0x3375ba[_0x2faa85(0x16f)+_0x2faa85(0x350)+'E_MB']+(_0x2faa85(0x144)+'g.')),process[_0x2faa85(0x135)](0x105d+-0x98e*-0x1+0x3e*-0x6b)),_0x122c0f>_0x3375ba[_0x2faa85(0x2ab)+_0x2faa85(0x34f)+'RN_MB']&&warn(_0x2faa85(0x232)+'ory\x20usage:'+'\x20'+_0x122c0f[_0x2faa85(0x294)](0x2385+-0xe85+0x14fe*-0x1)+'MB'),trace('ðŸ“Š\x20Health\x20c'+_0x2faa85(0x328)+':\x20'+_0x122c0f[_0x2faa85(0x294)](0xb3a+-0x2*-0x896+-0x5c*0x4f)+'MB');},_0x3057b0);}export function startStatsReporter(){const _0x3a3ef5=_0x4b0ff5;if(statsIntervalId)clearInterval(statsIntervalId);const _0x3ddac7=getConfig();let _0x14cc0c=clampInterval(_0x3ddac7[_0x3a3ef5(0x146)+_0x3a3ef5(0x163)+_0x3a3ef5(0x1ea)]||-0x2*-0x2347f+0x6a052+-0x67570);if(_0x14cc0c<=-0x1af+0x142e+-0x127f){warn(_0x3a3ef5(0x314)+_0x3a3ef5(0x219)+_0x3a3ef5(0x28a)+_0x3a3ef5(0x1ef)+_0x3a3ef5(0x1ee));return;}const _0x49724a=(_0x14cc0c/(0x7*-0x4f3+0x1b24+0xb69))[_0x3a3ef5(0x294)](-0x1bc*0x5+0x11c*-0x1c+0x27bf*0x1);info(_0x3a3ef5(0x2a6)+_0x3a3ef5(0x1c2)+'eporting\x20e'+'very\x20'+_0x49724a+'s.'),statsIntervalId=setInterval(()=>{const _0x5002c2=_0x3a3ef5,_0x4538d8=(process[_0x5002c2(0x191)+'e']()[_0x5002c2(0x353)]/(0x15f7*-0x1+-0x1*0xb99+0x2590)/(0x8*0x473+-0x1*-0x1c38+0x74*-0x84))['toFixed'](0xe*0x2bd+0x1caf+-0xeb*0x49),_0x4a77fd='ðŸ“ˆ\x20Stats:\x20'+modules['size']+_0x5002c2(0x247)+(messageHandlers['length']+callbackHandlers[_0x5002c2(0x326)])+('\x20handlers.'+_0x5002c2(0x1c3))+moduleLoadStats[_0x5002c2(0x23c)]+_0x5002c2(0x213)+moduleLoadStats['totalFailu'+_0x5002c2(0x21b)]+(_0x5002c2(0x1ba)+':\x20')+moduleLoadStats['avgLoadTim'+'e'][_0x5002c2(0x294)](-0x68+-0x18af+0x1919)+('ms.\x20Max\x20Lo'+'ad:\x20')+moduleLoadStats[_0x5002c2(0x246)+'e'][_0x5002c2(0x294)](0x24bd*0x1+0x7f6+-0x2cb1)+_0x5002c2(0x295)+_0x4538d8+_0x5002c2(0x261);info(_0x4a77fd);},_0x14cc0c);}export async function reloadAllModules(_0x5ebad3){const _0x42ee87=_0x4b0ff5;if(isReloading)return warn(_0x42ee87(0x266)+_0x42ee87(0x1aa)+_0x42ee87(0x1ae)+_0x42ee87(0x371)+_0x42ee87(0x2c9)+_0x42ee87(0x2f1)),{'success':0x0,'failed':0x0};isReloading=!![];try{info(_0x42ee87(0x226)+'\x20full\x20modu'+_0x42ee87(0x26c)+'..');const _0x1fe24f=[...modules[_0x42ee87(0x138)]()];await Promise[_0x42ee87(0x273)](_0x1fe24f[_0x42ee87(0x380)](_0x454470=>{const _0x5230b2=_0x42ee87,_0x44ec61=modules[_0x5230b2(0x2e6)](_0x454470);if(_0x44ec61&&typeof _0x44ec61[_0x5230b2(0x207)][_0x5230b2(0x21e)]===_0x5230b2(0x190))return _0x44ec61[_0x5230b2(0x207)][_0x5230b2(0x21e)]();return Promise[_0x5230b2(0x1ad)]();})),await Promise['allSettled'](_0x1fe24f[_0x42ee87(0x380)](_0x413c44=>unloadModule(_0x413c44,'full\x20reloa'+'d')));const _0x39e78b=await loadAllModules(_0x5ebad3);return lastConfigSnapshot={...getConfig()||{}},_0x39e78b;}catch(_0x46465b){error(_0x42ee87(0x365)+'\x20error\x20dur'+_0x42ee87(0x1d8)+_0x42ee87(0x19b),sanitizeError(_0x46465b));throw _0x46465b;}finally{isReloading=![];}}async function parseFileMeta(_0x1a4e1b){const _0x3882bf=_0x4b0ff5;try{const _0x557cfd=await readFile(_0x1a4e1b,_0x3882bf(0x205)),_0x392c25=await stat(_0x1a4e1b);let _0x5bcf89=null;const _0x3a78e1=[/(?:export\s+const|export\s+let|const|let)\s+name\s*=\s*['"]([^'"]+)['"]/i,/name\s*[:=]\s*['"]([^'"]+)['"]/i,/module\.exports\s*=\s*{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i,/export\s+default\s+{[^}]*name\s*[:=]\s*['"]([^'"]+)['"]/i];for(const _0x2aae59 of _0x3a78e1){const _0x52bf00=_0x557cfd[_0x3882bf(0x22b)](_0x2aae59);if(_0x52bf00&&_0x52bf00[0x28b+-0x1415+0x118b]){_0x5bcf89=_0x52bf00[-0x53*-0xe+0x5*-0xa3+-0x15a][_0x3882bf(0x2b5)]();break;}}if(!_0x5bcf89)_0x5bcf89=_0xaee095[_0x3882bf(0x1d0)](_0x1a4e1b)[_0x3882bf(0x281)];let _0x51d07d=-0x7b3+-0x253d+0x59e*0x8;const _0x5b4494=_0x557cfd[_0x3882bf(0x22b)](/priority\s*[:=]\s*([0-9]+)/i);if(_0x5b4494&&_0x5b4494[0x7*-0x4b1+-0xe*0x139+0x31f6])_0x51d07d=parseInt(_0x5b4494[-0x1be3+0xdc4*-0x1+-0x8*-0x535],-0x15fa+0x1*-0x13a+0x173e);const _0x1b7694=_0x557cfd[_0x3882bf(0x22b)](/dependencies\s*[:=]\s*\[([^\]]+)\]/)||_0x557cfd[_0x3882bf(0x22b)](/configKeys\s*[:=]\s*\[([^\]]+)\]/),_0x3b7027=_0x1b7694&&_0x1b7694[0x64f+0x505*-0x1+0x2f*-0x7]?_0x1b7694[0xb2a*0x3+0x1b85+-0x3d02][_0x3882bf(0x166)](',')['map'](_0x353cdf=>_0x353cdf['trim']()[_0x3882bf(0x1dc)](/['"]/g,''))[_0x3882bf(0x22c)](Boolean):[],{primaryDir:_0x2ebc17,allDirs:_0x540301}=resolveConfiguredDirs(),_0x3bf403=_0x540301[_0x3882bf(0x313)](_0xf25165=>_0xaee095['resolve'](_0x1a4e1b)['startsWith'](_0xaee095[_0x3882bf(0x1ad)](_0xf25165)))||_0xaee095[_0x3882bf(0x33c)](_0x1a4e1b),_0x4f39ee=_0xaee095[_0x3882bf(0x1ad)](_0x3bf403)===_0xaee095[_0x3882bf(0x1ad)](_0x2ebc17);return{'name':_0x5bcf89,'priority':_0x51d07d,'deps':_0x3b7027,'isPrimary':_0x4f39ee,'dir':_0x3bf403,'text':_0x557cfd,'size':_0x392c25[_0x3882bf(0x151)],'filePath':_0x1a4e1b};}catch(_0x2476a0){return warn(_0x3882bf(0x17f)+_0x3882bf(0x1b9)+'ed\x20for\x20'+_0x1a4e1b+':\x20'+(_0x2476a0?.['message']||_0x2476a0)),null;}}async function scanDirsForName(_0x2509ec){const _0x3d45b9=_0x4b0ff5,_0x21ac97=getConfig(),{allDirs:_0x51484e}=resolveConfiguredDirs(),_0x1518f6=_0x21ac97[_0x3d45b9(0x236)+_0x3d45b9(0x349)+_0x3d45b9(0x345)]||[_0x3d45b9(0x307),_0x3d45b9(0x193),'.cjs'],_0x2f90f2=[];for(const _0x4b0b9f of _0x51484e){try{const _0x25f94c=await readdir(_0x4b0b9f);for(const _0x375d3d of _0x25f94c){const _0x5d5ddf=_0xaee095[_0x3d45b9(0x139)](_0x375d3d);if(!_0x1518f6[_0x3d45b9(0x13c)](_0x5d5ddf))continue;const _0x259652=_0xaee095[_0x3d45b9(0x20c)](_0x4b0b9f,_0x375d3d),_0x109f54=await parseFileMeta(_0x259652);if(!_0x109f54)continue;if(_0x109f54[_0x3d45b9(0x281)]===_0x2509ec)_0x2f90f2[_0x3d45b9(0x143)](_0x109f54);}}catch(_0x5c857f){debug('scanDirsFo'+_0x3d45b9(0x16e)+_0x3d45b9(0x35d)+_0x4b0b9f+':\x20'+(_0x5c857f?.['message']||_0x5c857f));}}return _0x2f90f2;}function decideWinnerForCandidates(_0x2cd496){const _0x46c4df=_0x4b0ff5;if(!_0x2cd496||_0x2cd496[_0x46c4df(0x326)]===-0x18f9+0x20dd+0x14*-0x65)return null;if(_0x2cd496[_0x46c4df(0x326)]===-0x5*-0x49+-0x168a+-0x22*-0x9f)return _0x2cd496[-0xd5a+-0x1*-0x6b0+0x6aa];const _0x4d2b73=getConfig(),_0xc4de03=(_0x4d2b73['MODULE_DUP'+'LICATE_POL'+_0x46c4df(0x233)]||_0x46c4df(0x2e9)+_0x46c4df(0x312))['toLowerCas'+'e']();if(_0xc4de03===_0x46c4df(0x131))return error(_0x46c4df(0x24d)+_0x46c4df(0x250)+_0x46c4df(0x18f)+'for\x20\x22'+_0x2cd496[-0x788+-0xe5c+-0x15e4*-0x1][_0x46c4df(0x281)]+'\x22\x20found:\x20'+_0x2cd496[_0x46c4df(0x380)](_0x48efaa=>_0xaee095[_0x46c4df(0x2dc)](_0x48efaa[_0x46c4df(0x1f9)]))['join'](',\x20')+('\x20--\x20MODULE'+_0x46c4df(0x36c)+_0x46c4df(0x148)+_0x46c4df(0x214))),null;return _0x2cd496['sort']((_0x145f4b,_0x2cc807)=>{const _0x434ea6=_0x46c4df;if((_0x2cc807['priority']||0x21d5*-0x1+0x1709+-0x566*-0x2)!==(_0x145f4b[_0x434ea6(0x1f8)]||-0x1*0x265+0x895*0x1+-0x30*0x21))return(_0x2cc807[_0x434ea6(0x1f8)]||-0x2*0x28e+0x11f5+-0xcd9)-(_0x145f4b[_0x434ea6(0x1f8)]||-0x522+-0x2529*0x1+-0x9*-0x4b3);if(_0xc4de03===_0x434ea6(0x2e9)+_0x434ea6(0x312)){if(_0x145f4b[_0x434ea6(0x175)]!==_0x2cc807['isPrimary'])return _0x145f4b['isPrimary']?-(-0xcc4*0x2+0x2*-0x2b6+0x13d*0x19):-0x50c+0x6f8+-0x1eb;}return _0x145f4b[_0x434ea6(0x1f9)][_0x434ea6(0x1c6)+_0x434ea6(0x316)](_0x2cc807[_0x434ea6(0x1f9)]);}),_0x2cd496[-0xe17*-0x1+-0x1b43+0xd2c];}async function handleFileEvent(_0x32b0b0,_0x5ca599,_0x492e7d){const _0x399437=_0x4b0ff5;try{const _0x16e618=getConfig();if(!_0x16e618[_0x399437(0x236)+_0x399437(0x349)+_0x399437(0x345)][_0x399437(0x13c)](_0xaee095[_0x399437(0x139)](_0x5ca599)))return;let _0x468fd1=null;if(_0x32b0b0===_0x399437(0x167)){for(const [_0x3b3120,_0x196863]of modules[_0x399437(0x2df)]()){if(_0x196863['file']&&_0xaee095[_0x399437(0x1ad)](_0x196863[_0x399437(0x14d)])===_0xaee095[_0x399437(0x1ad)](_0x5ca599)){_0x468fd1=_0x3b3120;break;}}if(!_0x468fd1)_0x468fd1=_0xaee095[_0x399437(0x1d0)](_0x5ca599)['name'];}else{const _0x3a6858=await parseFileMeta(_0x5ca599);if(!_0x3a6858){debug('handleFile'+_0x399437(0x244)+_0x399437(0x360)+'e\x20'+_0x5ca599+_0x399437(0x2c8));return;}_0x468fd1=_0x3a6858[_0x399437(0x281)];}if(!_0x468fd1){debug(_0x399437(0x229)+_0x399437(0x26e)+_0x399437(0x1e0)+_0x399437(0x1f6)+_0x5ca599);return;}const _0x4e9958=await scanDirsForName(_0x468fd1),_0x264b9e=decideWinnerForCandidates(_0x4e9958);if(!_0x264b9e&&_0x4e9958[_0x399437(0x326)]>0x1c5d+-0xaf0+0x8b6*-0x2&&(getConfig()[_0x399437(0x1da)+_0x399437(0x2c3)+'ICY']||_0x399437(0x2e9)+_0x399437(0x312))['toLowerCas'+'e']()==='error'){modules[_0x399437(0x19e)](_0x468fd1)&&await unloadModule(_0x468fd1,'duplicate\x20'+_0x399437(0x30f)+_0x399437(0x2d8)+'d');return;}if(!_0x264b9e){modules[_0x399437(0x19e)](_0x468fd1)?(info(_0x399437(0x36a)+_0x399437(0x300)+'\x20for\x20modul'+_0x399437(0x20d)+_0x468fd1+(_0x399437(0x195)+_0x399437(0x18d))),await unloadModule(_0x468fd1,_0x399437(0x327)+_0x399437(0x30b)+'ndidates\x20l'+'eft')):debug('No\x20candida'+_0x399437(0x286)+_0x468fd1+(_0x399437(0x2bc)+_0x399437(0x1a0)+_0x399437(0x206)+_0x399437(0x35e)));return;}const _0x572bf9=_0xaee095[_0x399437(0x1ad)](_0x264b9e[_0x399437(0x1f9)]),_0x2890bc=modules[_0x399437(0x2e6)](_0x468fd1);if(_0xaee095['resolve'](_0x5ca599)===_0x572bf9){info((_0x32b0b0===_0x399437(0x356)?_0x399437(0x241):_0x32b0b0==='change'?'Changed':'Event')+':\x20'+_0x5ca599+(_0x399437(0x30d)+_0x399437(0x272))+_0x468fd1+(_0x399437(0x34a)+_0x399437(0x2ce)+'.')),await loadFile(_0x572bf9,!![],_0x492e7d);return;}if(!_0x2890bc){info(_0x399437(0x305)+_0x468fd1+('\x22\x20not\x20curr'+_0x399437(0x1d4)+'ed\x20but\x20win'+_0x399437(0x1c1))+_0x572bf9+(_0x399437(0x186)+_0x399437(0x14a)+'nner.')),await loadFile(_0x572bf9,![],_0x492e7d);return;}if(_0xaee095[_0x399437(0x1ad)](_0x2890bc[_0x399437(0x14d)])!==_0x572bf9){info(_0x399437(0x2fb)+'\x20\x22'+_0x468fd1+(_0x399437(0x27d)+_0x399437(0x1e2))+_0xaee095[_0x399437(0x2dc)](_0x2890bc['file'])+_0x399437(0x310)+_0xaee095[_0x399437(0x2dc)](_0x572bf9)+(_0x399437(0x254)+'g.')),await loadFile(_0x572bf9,![],_0x492e7d),await unloadModule(_0x468fd1,_0x399437(0x36b)+_0x399437(0x243)+'er');return;}debug(_0x399437(0x229)+_0x399437(0x18a)+_0x399437(0x2f9)+_0x5ca599+('\x20is\x20not\x20af'+_0x399437(0x23e)+_0x399437(0x24e)+_0x399437(0x20d))+_0x468fd1+('\x22\x20(winner\x20'+_0x399437(0x221)+'.'));}catch(_0x53eb04){error(_0x399437(0x1a4)+_0x399437(0x1e9)+'ror\x20for\x20'+_0x5ca599+':\x20'+(_0x53eb04?.['message']||_0x53eb04),sanitizeError(_0x53eb04));}}export function setupWatchers(_0x24af00){const _0x2164c1=_0x4b0ff5;if(!chokidar)return;const _0x48158a=getConfig(),{allDirs:_0x2cfb83}=resolveConfiguredDirs();if(!_0x2cfb83||_0x2cfb83['length']===0x7*-0x252+-0x1171+0x21af){warn(_0x2164c1(0x1f4)+_0x2164c1(0x2a5)+_0x2164c1(0x33d)+_0x2164c1(0x2de)+_0x2164c1(0x2c1));return;}info('ðŸ‘€');const _0x37c459=chokidar[_0x2164c1(0x153)](_0x2cfb83,{'ignoreInitial':!![],'persistent':!![],'atomic':0xc8,'awaitWriteFinish':{'stabilityThreshold':0xc8,'pollInterval':0x64}}),_0x2c1ffe=new Map(),_0x178f83=_0x48158a[_0x2164c1(0x2bb)+_0x2164c1(0x2ed)+_0x2164c1(0x2fc)]||0x184e+0x26e8+-0x3e0a,_0x44efca=[_0x2164c1(0x356),'change',_0x2164c1(0x167)];_0x37c459['on'](_0x2164c1(0x180),(_0x9276a0,_0x4e12f4)=>{const _0x57fb42=_0x2164c1;try{if(!_0x44efca[_0x57fb42(0x13c)](_0x9276a0))return;const _0x2b4d78=_0xaee095['extname'](_0x4e12f4);if(!getConfig()[_0x57fb42(0x236)+_0x57fb42(0x349)+_0x57fb42(0x345)]['includes'](_0x2b4d78))return;if(_0x2c1ffe[_0x57fb42(0x19e)](_0x4e12f4))clearTimeout(_0x2c1ffe[_0x57fb42(0x2e6)](_0x4e12f4));_0x2c1ffe[_0x57fb42(0x14e)](_0x4e12f4,setTimeout(async()=>{const _0xb768a1=_0x57fb42;_0x2c1ffe[_0xb768a1(0x22e)](_0x4e12f4),await handleFileEvent(_0x9276a0,_0x4e12f4,_0x24af00);},_0x178f83));}catch(_0x1aacf8){error(_0x57fb42(0x157)+_0x57fb42(0x257)+(_0x1aacf8?.[_0x57fb42(0x1b3)]||_0x1aacf8),sanitizeError(_0x1aacf8));}}),hotReloadConfig(async(..._0x392e36)=>{const _0x1c3a73=_0x2164c1;try{const _0x418525=Array['isArray'](_0x392e36[0x5*-0x355+0x1eac+-0xe03])?_0x392e36[0xa21+-0x543+-0x4de]:[],_0x3a5812=_0x392e36[0x8*-0x1a1+0x1*-0x2087+0x2d90]||lastConfigSnapshot||{},_0x438617=_0x392e36[-0x1*0x1f3e+-0x1f46*0x1+-0x3e86*-0x1]||getConfig()||{};info(_0x1c3a73(0x1a2)+'hange\x20dete'+_0x1c3a73(0x279)+_0x1c3a73(0x298)+':\x20'+_0x418525[_0x1c3a73(0x20c)](',\x20')),concurrencyLimiter=_0x32bf35(getConfig()[_0x1c3a73(0x335)+_0x1c3a73(0x37c)+_0x1c3a73(0x269)]||0x18*-0x187+-0x20ad+0x455a);const _0x95df87=[],_0xcc9c93=_0x418525['length']>-0x109d+0xd6d+-0x2*-0x198?_0x418525:Object[_0x1c3a73(0x138)](_0x438617);for(const _0x24a662 of _0xcc9c93){const _0xca8839=_0x3a5812&&Object[_0x1c3a73(0x276)][_0x1c3a73(0x2e1)+_0x1c3a73(0x2e4)]['call'](_0x3a5812,_0x24a662)?_0x3a5812[_0x24a662]:undefined,_0x30bdf8=_0x438617&&Object[_0x1c3a73(0x276)][_0x1c3a73(0x2e1)+_0x1c3a73(0x2e4)][_0x1c3a73(0x216)](_0x438617,_0x24a662)?_0x438617[_0x24a662]:undefined,_0x1f0ea5=_0xca8839===_0x30bdf8||typeof _0xca8839===_0x1c3a73(0x2fd)&&typeof _0x30bdf8===_0x1c3a73(0x2fd)&&JSON[_0x1c3a73(0x2a8)](_0xca8839)===JSON[_0x1c3a73(0x2a8)](_0x30bdf8);if(!_0x1f0ea5)_0x95df87[_0x1c3a73(0x143)](_0x24a662);}if(_0x95df87['length']===-0x3b*0x29+-0x1673+0xaa2*0x3){debug(_0x1c3a73(0x1f3)+'\x20reload:\x20n'+_0x1c3a73(0x22f)+_0x1c3a73(0x25e)+'e\x20changes\x20'+_0x1c3a73(0x271)+_0x1c3a73(0x2da)),lastConfigSnapshot={..._0x438617};return;}info(_0x1c3a73(0x287)+_0x1c3a73(0x1c8)+_0x1c3a73(0x2b9)+_0x1c3a73(0x362)+_0x95df87[_0x1c3a73(0x20c)](',\x20'));const _0x2836ba=['MODULES_DI'+'RECTORY',_0x1c3a73(0x2e5)+_0x1c3a73(0x248),_0x1c3a73(0x1da)+_0x1c3a73(0x2c3)+_0x1c3a73(0x233)];if(_0x95df87[_0x1c3a73(0x322)](_0x440312=>_0x2836ba['includes'](_0x440312))){warn(_0x1c3a73(0x2ec)+_0x1c3a73(0x2d0)+_0x1c3a73(0x1dd)+_0x1c3a73(0x24c)+_0x1c3a73(0x1a5)+_0x1c3a73(0x181)+'performing'+_0x1c3a73(0x242)+_0x1c3a73(0x152)+_0x1c3a73(0x290));try{await reloadAllModules(_0x24af00);}catch(_0xdbe63){error(_0x1c3a73(0x32c)+'-reload\x20fu'+_0x1c3a73(0x196)+_0x1c3a73(0x334),sanitizeError(_0xdbe63));}finally{lastConfigSnapshot={..._0x438617};}return;}calculateDependencyGraph();const _0x1ed7de=getModulesForConfigKeys(_0x95df87);if(_0x1ed7de[_0x1c3a73(0x326)]===-0x416+-0x17*0x13+0x5cb){info(_0x1c3a73(0x20e)+_0x1c3a73(0x1e3)+_0x1c3a73(0x304)+'\x20config\x20ke'+'ys\x20â€”\x20nothi'+'ng\x20to\x20do.'),lastConfigSnapshot={..._0x438617};return;}info(_0x1c3a73(0x154)+'fected\x20by\x20'+_0x1c3a73(0x13e)+_0x1c3a73(0x169)+_0x1ed7de[_0x1c3a73(0x20c)](',\x20'));const _0x642fea=[];for(const _0x3ebada of _0x1ed7de){if(!modules[_0x1c3a73(0x19e)](_0x3ebada))continue;const _0x22ba74=modules[_0x1c3a73(0x2e6)](_0x3ebada),_0x13a443=_0x22ba74[_0x1c3a73(0x207)],_0x411851=_0x22ba74[_0x1c3a73(0x14d)],_0x52ddec=normalizeModuleConfigKeys(_0x13a443),_0x42a463=new Set();for(const _0x27063c of _0x52ddec){if(_0x95df87[_0x1c3a73(0x13c)](_0x27063c[_0x1c3a73(0x15c)]))_0x42a463[_0x1c3a73(0x356)](_0x27063c['type']);}try{if(_0x42a463[_0x1c3a73(0x19e)](_0x1c3a73(0x18c))){if(typeof _0x13a443[_0x1c3a73(0x358)]===_0x1c3a73(0x190)){info(_0x1c3a73(0x239)+_0x1c3a73(0x1b2)+_0x3ebada+('\x20due\x20to\x20re'+_0x1c3a73(0x31a)+_0x1c3a73(0x329)));try{await Promise[_0x1c3a73(0x1ad)](_0x13a443['initialize'](_0x24af00));}catch(_0x15d01f){error(_0x1c3a73(0x182)+_0x1c3a73(0x184)+_0x3ebada+':\x20'+(_0x15d01f?.[_0x1c3a73(0x1b3)]||_0x15d01f),sanitizeError(_0x15d01f));}}else info('â†’\x20Module\x20'+_0x3ebada+(_0x1c3a73(0x234)+_0x1c3a73(0x343)+_0x1c3a73(0x344)+_0x1c3a73(0x26f)+_0x1c3a73(0x189)+'eduling\x20re'+_0x1c3a73(0x24b))),_0x642fea[_0x1c3a73(0x143)](concurrencyLimiter(()=>loadFile(_0x411851,!![],_0x24af00)));}else{if(_0x42a463['has']('hot')){if(typeof _0x13a443['applyConfi'+'g']===_0x1c3a73(0x190)){info(_0x1c3a73(0x2d7)+_0x1c3a73(0x2b6)+'\x20'+_0x3ebada+(_0x1c3a73(0x149)+_0x1c3a73(0x1ac)));try{await Promise[_0x1c3a73(0x1ad)](_0x13a443[_0x1c3a73(0x178)+'g'](_0x438617));}catch(_0x7af9f0){error(_0x1c3a73(0x220)+_0x1c3a73(0x28e)+_0x1c3a73(0x192)+_0x3ebada+':\x20'+(_0x7af9f0?.['message']||_0x7af9f0),sanitizeError(_0x7af9f0)),_0x642fea[_0x1c3a73(0x143)](concurrencyLimiter(()=>loadFile(_0x411851,!![],_0x24af00)));}}else{if(typeof _0x13a443['onConfigCh'+_0x1c3a73(0x2af)]==='function'){info(_0x1c3a73(0x20a)+'onConfigCh'+_0x1c3a73(0x282)+_0x3ebada+'.');try{await Promise[_0x1c3a73(0x1ad)](_0x13a443[_0x1c3a73(0x29f)+_0x1c3a73(0x2af)](_0x438617));}catch(_0x4c1f0e){error(_0x1c3a73(0x2d9)+_0x1c3a73(0x25f)+_0x1c3a73(0x185)+_0x3ebada+':\x20'+(_0x4c1f0e?.[_0x1c3a73(0x1b3)]||_0x4c1f0e),sanitizeError(_0x4c1f0e)),_0x642fea['push'](concurrencyLimiter(()=>loadFile(_0x411851,!![],_0x24af00)));}}else debug(_0x1c3a73(0x253)+_0x3ebada+('\x20declared\x20'+_0x1c3a73(0x263)+_0x1c3a73(0x1a3)+_0x1c3a73(0x1d2)+_0x1c3a73(0x29d)+_0x1c3a73(0x25b)+_0x1c3a73(0x2ac)+_0x1c3a73(0x2cb))),_0x642fea[_0x1c3a73(0x143)](concurrencyLimiter(()=>loadFile(_0x411851,!![],_0x24af00)));}}else info(_0x1c3a73(0x1af)+'g\x20'+_0x3ebada+(_0x1c3a73(0x264)+_0x1c3a73(0x337)+'e.')),_0x642fea['push'](concurrencyLimiter(()=>loadFile(_0x411851,!![],_0x24af00)));}}catch(_0x56942e){warn(_0x1c3a73(0x1ca)+_0x1c3a73(0x303)+_0x1c3a73(0x22a)+_0x3ebada+':\x20'+(_0x56942e?.[_0x1c3a73(0x1b3)]||_0x56942e));}}const _0x45f802=await Promise[_0x1c3a73(0x273)](_0x642fea);_0x45f802[_0x1c3a73(0x1fa)](_0x566049=>{const _0x3dbbe7=_0x1c3a73;_0x566049[_0x3dbbe7(0x2f4)]===_0x3dbbe7(0x2d5)&&error(_0x3dbbe7(0x2b1)+_0x3dbbe7(0x374)+_0x3dbbe7(0x228)+_0x3dbbe7(0x306)+'hange:\x20'+_0x566049[_0x3dbbe7(0x1c0)]);}),info(_0x1c3a73(0x33f)+'ig-related'+_0x1c3a73(0x289)+'loads/upda'+_0x1c3a73(0x223)+_0x1c3a73(0x2cd)),lastConfigSnapshot={..._0x438617};}catch(_0x19019b){error(_0x1c3a73(0x2cc)+_0x1c3a73(0x27e)+_0x1c3a73(0x30c),sanitizeError(_0x19019b));}});}const groupParticipantsCache=new Map(),GROUP_PARTIPANTS_CACHE_TTL_MS=(0x260+-0x21e9+0x1fa7)*(-0xd*0x1d1+-0x27*0x3+0x2*0xdfd);async function resolveGroupParticipants(_0x556a1d,_0x28c42a){const _0x46de78=_0x4b0ff5;if(!_0x28c42a)return[];try{const _0x59b497=Date[_0x46de78(0x1b7)](),_0x5aa35d=groupParticipantsCache[_0x46de78(0x2e6)](_0x28c42a);if(_0x5aa35d&&_0x5aa35d[_0x46de78(0x36e)]>_0x59b497)return _0x5aa35d[_0x46de78(0x359)+'ts'];const _0x3a75bc=_0x11ec10=>{const _0x30435e=_0x46de78;if(!_0x11ec10)return null;if(typeof _0x11ec10==='string')return{'id':_0x11ec10,'raw':_0x11ec10};if(typeof _0x11ec10['id']==='string')return{'id':_0x11ec10['id'],'raw':_0x11ec10};if(typeof _0x11ec10[_0x30435e(0x27f)]===_0x30435e(0x1b8))return{'id':_0x11ec10[_0x30435e(0x27f)],'raw':_0x11ec10};if(typeof _0x11ec10['participan'+'t']===_0x30435e(0x1b8))return{'id':_0x11ec10['participan'+'t'],'raw':_0x11ec10};if(_0x11ec10['id']&&typeof _0x11ec10['id']==='object'&&(_0x11ec10['id'][_0x30435e(0x320)]||_0x11ec10['id'][_0x30435e(0x2c0)])){const _0x35e5ec=_0x11ec10['id'][_0x30435e(0x320)]||(typeof _0x11ec10['id']===_0x30435e(0x1b8)?_0x11ec10['id']:null),_0x5762b1=_0x11ec10['id'][_0x30435e(0x2c0)]||'s.whatsapp'+_0x30435e(0x324);if(_0x35e5ec)return{'id':_0x35e5ec+'@'+_0x5762b1,'raw':_0x11ec10};}if((_0x11ec10[_0x30435e(0x320)]||_0x11ec10['userid'])&&(_0x11ec10[_0x30435e(0x2c0)]||_0x11ec10[_0x30435e(0x2a7)]||_0x11ec10[_0x30435e(0x2d1)])){const _0x5f0890=_0x11ec10[_0x30435e(0x320)]||_0x11ec10[_0x30435e(0x369)],_0x5a22cf=_0x11ec10[_0x30435e(0x2c0)]||_0x11ec10[_0x30435e(0x2a7)]||_0x11ec10['servername']||_0x30435e(0x1a7)+_0x30435e(0x324);return{'id':_0x5f0890+'@'+_0x5a22cf,'raw':_0x11ec10};}if(_0x11ec10['id']&&typeof _0x11ec10['id']===_0x30435e(0x2fd)&&typeof _0x11ec10['id'][_0x30435e(0x359)+'t']===_0x30435e(0x1b8))return{'id':_0x11ec10['id'][_0x30435e(0x359)+'t'],'raw':_0x11ec10};try{const _0x534b13=JSON[_0x30435e(0x2a8)](_0x11ec10),_0xb4fd0f=_0x534b13[_0x30435e(0x22b)](/"(\d+@[^"]+)"/);if(_0xb4fd0f)return{'id':_0xb4fd0f[0x1*0xf19+0x617+-0x152f],'raw':_0x11ec10};}catch(_0x2f0abc){}return null;};try{if(_0x556a1d?.[_0x46de78(0x36d)]){const _0x563678=_0x556a1d[_0x46de78(0x36d)][_0x46de78(0x2ff)+_0x46de78(0x21c)]?.[_0x28c42a]||_0x556a1d['store']['groupMetad'+_0x46de78(0x21c)]&&typeof _0x556a1d['store'][_0x46de78(0x2ff)+_0x46de78(0x21c)]['get']===_0x46de78(0x190)&&_0x556a1d[_0x46de78(0x36d)][_0x46de78(0x2ff)+_0x46de78(0x21c)]['get'](_0x28c42a)||_0x556a1d[_0x46de78(0x36d)][_0x46de78(0x132)]?.[_0x28c42a]||_0x556a1d[_0x46de78(0x36d)][_0x46de78(0x132)]&&typeof _0x556a1d[_0x46de78(0x36d)][_0x46de78(0x132)][_0x46de78(0x2e6)]===_0x46de78(0x190)&&_0x556a1d['store'][_0x46de78(0x132)][_0x46de78(0x2e6)](_0x28c42a);if(_0x563678){const _0x2c4884=Array[_0x46de78(0x202)](_0x563678[_0x46de78(0x359)+'ts'])?_0x563678[_0x46de78(0x359)+'ts']:Array[_0x46de78(0x202)](_0x563678[_0x46de78(0x359)+'ts'])?_0x563678[_0x46de78(0x359)+'ts']:[];if(_0x2c4884&&_0x2c4884[_0x46de78(0x326)]>0x3*-0x5a+0xdcc*-0x2+-0xc1*-0x26){const _0x2ce09e=_0x2c4884[_0x46de78(0x380)](_0x3a75bc)[_0x46de78(0x22c)](Boolean),_0x3ae2b8=_0x2ce09e[_0x46de78(0x380)](_0x2d0528=>_0x2d0528['id']?{'id':_0x2d0528['id'],'raw':_0x2d0528[_0x46de78(0x2f0)]}:null)['filter'](Boolean);return groupParticipantsCache[_0x46de78(0x14e)](_0x28c42a,{'participants':_0x3ae2b8,'expiresAt':_0x59b497+GROUP_PARTIPANTS_CACHE_TTL_MS}),_0x3ae2b8;}}}}catch(_0x11a4e0){debug(_0x46de78(0x2f6)+_0x46de78(0x16c)+_0x46de78(0x237)+'e\x20lookup\x20f'+_0x46de78(0x184)+_0x28c42a+':\x20'+(_0x11a4e0?.['message']||_0x11a4e0));}const _0x4e8dda=[_0x2241fa=>typeof _0x556a1d[_0x46de78(0x2ff)+_0x46de78(0x21c)]===_0x46de78(0x190)?_0x556a1d[_0x46de78(0x2ff)+_0x46de78(0x21c)](_0x2241fa):null,_0x178d85=>_0x556a1d['sock']&&typeof _0x556a1d[_0x46de78(0x13a)][_0x46de78(0x2ff)+_0x46de78(0x21c)]===_0x46de78(0x190)?_0x556a1d['sock'][_0x46de78(0x2ff)+_0x46de78(0x21c)](_0x178d85):null,_0x26a2cd=>_0x556a1d[_0x46de78(0x13a)]&&typeof _0x556a1d[_0x46de78(0x13a)][_0x46de78(0x155)+'Metadata']===_0x46de78(0x190)?_0x556a1d[_0x46de78(0x13a)][_0x46de78(0x155)+'Metadata'](_0x26a2cd):null,_0x58b139=>typeof _0x556a1d[_0x46de78(0x155)+_0x46de78(0x19a)]===_0x46de78(0x190)?_0x556a1d[_0x46de78(0x155)+_0x46de78(0x19a)](_0x58b139):null,_0x10934c=>typeof _0x556a1d['getGroupMe'+_0x46de78(0x17c)]===_0x46de78(0x190)?_0x556a1d[_0x46de78(0x37e)+_0x46de78(0x17c)](_0x10934c):null];for(const _0x4601d3 of _0x4e8dda){try{const _0x5892b3=await Promise[_0x46de78(0x1ad)](_0x4601d3(_0x28c42a))['catch'](_0x39e965=>{const _0x5dec8a=_0x46de78;return debug('resolveGro'+_0x5dec8a(0x16c)+_0x5dec8a(0x27b)+_0x5dec8a(0x28c)+'failed',_0x39e965?.[_0x5dec8a(0x1b3)]||_0x39e965),null;});if(!_0x5892b3)continue;let _0x2ca75c=null;if(Array[_0x46de78(0x202)](_0x5892b3))_0x2ca75c=_0x5892b3;else{if(Array['isArray'](_0x5892b3['participan'+'ts']))_0x2ca75c=_0x5892b3[_0x46de78(0x359)+'ts'];else{if(Array['isArray'](_0x5892b3['memberList']))_0x2ca75c=_0x5892b3[_0x46de78(0x164)];else{if(Array[_0x46de78(0x202)](_0x5892b3[_0x46de78(0x2c2)]?.[_0x46de78(0x359)+'ts']))_0x2ca75c=_0x5892b3[_0x46de78(0x2c2)][_0x46de78(0x359)+'ts'];else{if(Array[_0x46de78(0x202)](_0x5892b3?.['participan'+'ts']?.[_0x46de78(0x359)+'ts']))_0x2ca75c=_0x5892b3[_0x46de78(0x359)+'ts'][_0x46de78(0x359)+'ts'];}}}}if(!_0x2ca75c||_0x2ca75c[_0x46de78(0x326)]===0x41b*0x9+-0x1864+-0xc8f){const _0x1f14e9=_0x5892b3['participan'+'ts']||_0x5892b3[_0x46de78(0x2c2)]||_0x5892b3;if(Array[_0x46de78(0x202)](_0x1f14e9))_0x2ca75c=_0x1f14e9;}if(_0x2ca75c&&_0x2ca75c[_0x46de78(0x326)]>-0x1*0x26b3+-0x1bab+-0x6a3*-0xa){const _0x131fe4=_0x2ca75c[_0x46de78(0x380)](_0x3a75bc)[_0x46de78(0x22c)](Boolean),_0x1f8758=_0x131fe4['map'](_0xe235b=>_0xe235b['id']?{'id':_0xe235b['id'],'raw':_0xe235b[_0x46de78(0x2f0)]}:null)['filter'](Boolean);return groupParticipantsCache[_0x46de78(0x14e)](_0x28c42a,{'participants':_0x1f8758,'expiresAt':_0x59b497+GROUP_PARTIPANTS_CACHE_TTL_MS}),debug(_0x46de78(0x2f6)+'upParticip'+_0x46de78(0x27b)+_0x46de78(0x2aa)+_0x1f8758[_0x46de78(0x326)]+('\x20participa'+_0x46de78(0x160))+_0x28c42a+(_0x46de78(0x187)+'ork\x20API')),_0x1f8758;}const _0x2fe485=[];for(const _0x1fdd98 of[_0x46de78(0x359)+'ts',_0x46de78(0x164),_0x46de78(0x2c2)]){const _0x539d46=_0x5892b3[_0x1fdd98];Array[_0x46de78(0x202)](_0x539d46)&&_0x539d46[_0x46de78(0x326)]&&_0x2fe485[_0x46de78(0x143)](..._0x539d46);}if(_0x2fe485[_0x46de78(0x326)]>-0x2347+-0x1118+0x345f){const _0x107583=_0x2fe485[_0x46de78(0x380)](_0x3a75bc)[_0x46de78(0x22c)](Boolean),_0x3dbcc5=_0x107583['map'](_0x57ff5e=>_0x57ff5e['id']?{'id':_0x57ff5e['id'],'raw':_0x57ff5e[_0x46de78(0x2f0)]}:null)[_0x46de78(0x22c)](Boolean);return groupParticipantsCache[_0x46de78(0x14e)](_0x28c42a,{'participants':_0x3dbcc5,'expiresAt':_0x59b497+GROUP_PARTIPANTS_CACHE_TTL_MS}),_0x3dbcc5;}}catch(_0x160088){debug('resolveGro'+_0x46de78(0x16c)+_0x46de78(0x27b)+_0x46de78(0x28c)+_0x46de78(0x2ea)+_0x28c42a+':\x20'+(_0x160088?.[_0x46de78(0x1b3)]||_0x160088));}}return groupParticipantsCache[_0x46de78(0x14e)](_0x28c42a,{'participants':[],'expiresAt':_0x59b497+GROUP_PARTIPANTS_CACHE_TTL_MS}),[];}catch(_0x2f194c){return debug(_0x46de78(0x2f6)+'upParticip'+'ants\x20fatal'+_0x46de78(0x2ba),_0x2f194c?.['message']||_0x2f194c),[];}}function _0xa74c(){const _0x3b4d2a=['\x20invalid\x20m','â†’\x20Re-initi','.\x20Ignoring','ckQuery)','totalLoads','beforeRelo','fecting\x20ac','isAbsolute','onCallback','Added','\x20full\x20relo','o\x20new\x20winn','Event:\x20cou','âš ï¸\x20Module\x20','maxLoadTim','\x20modules,\x20','TORY','\x20MODE:\x20Hot','missing\x20\x22v','load.','irectories','âŒ\x20Duplicat','tive\x20modul','sort','e\x20module\x20c','ation\x20issu','t\x20parse\x20','â†’\x20Module\x20','.\x20Switchin','terval).','avgLoadTim','ror:\x20','carl','372yzboIj','\x22\x20is\x20not\x20a','hange\x20â€”\x20sc','hot','href','e\x20key-valu','Change\x20fai',',\x20onCallba','MB.','error)','hot\x20keys\x20b','\x20due\x20to\x20co','\x20total\x20com','â³\x20Module\x20r','for','ompleted\x20i','IMIT','9dtEHzw','\x20unchanged','le\x20reload.','shift','Event:\x20no\x20','lize()\x20pre','callback_q','detected\x20â€”','\x20for\x20\x22','allSettled','MODULES_DI','ame\x22\x20expor','prototype','tion.','\x20not\x20a\x20fun','cted\x20(keys','d\x20failed\x20t','ants:\x20fetc','thod\x20avail','\x22\x20changed\x20','onfig\x20hand','jid','loader.rep','name','ange\x20on\x20','totalFailu','\x20for\x20local','308506PVJXgx','tes\x20for\x20','âš¡\x20Effectiv','âœ…\x20Loaded','\x20module\x20re','\x20disabled\x20','\x20\x20-\x20Load\x20o','h\x20attempt\x20','default','fig\x20failed','584717JQqZlr','rectness.','version','raph\x20faile','mark','toFixed','ms.\x20Mem:\x20','isFinite','updateHand','\x20reported)','\x20will\x20be\x20d','isGroup','sage\x20(','gnized.','/onConfigC','MAX_MODULE','onConfigCh','duration','\x20is\x20disabl','env','invalid\x20in','lastReload','\x20module\x20di','ðŸ“ˆ\x20Scheduli','serverJid','stringify','conversati','hed\x20','HIGH_MEMOR','heduling\x20r','-initializ','undefined','ange','rsion\x20from','âŒ\x20A\x20module','\x20error:\x20','port','able','trim','\x20config\x20to','\x20KB)','PRODUCTION','eys\x20change','\x20error','MODULE_REL','\x20and\x20modul','startsWith','andler\x20','oader\x20init','server','\x20to\x20watch.','metadata','LICATE_POL','Callback\x20h','reply','nitialize,','url',',\x20skipping','uest\x20ignor','rror','eload.','hotReloadC','ompleted.','/reloading','e-start','nge\x20affect','servername','getMaxList','âŒ\x20Failed\x20t','loader\x20mes','rejected','shed.\x20Skip','â†’\x20Applying','or\x20-\x20unloa','âŒ\x20onConfig','\x20skipping.','caption','basename','commands','configured','entries','to\x20reply\x20t','hasOwnProp','digest','6855JCvlOl','erty','CARL_DIREC','get','d\x20via\x20chok','Handler\x20','prefer-pri','threw\x20for\x20','\x20non-file\x20','Config\x20cha','OAD_DEBOUN','dir','âœ…\x20Loaded\x20','raw','ed.','sha256','\x20isadmin\x20c','status','isabled.\x20R','resolveGro','observe','Top-level\x20','nge\x20on\x20','up\x20','Winner\x20for','CE_MS','object','warnings.','groupMetad','tes\x20remain','measure','â›”\x20Module\x20','duling\x20act','he\x20changed','Module\x20\x22','g\x20config\x20c','.js','_FILE_SIZE','\x20reload.','e\x20(policy=','ed\x20-\x20no\x20ca','ler\x20failed','\x20is\x20winner','\x20msg,\x20','policy=err','\x20to\x20','KEY_SYMBOL','mary','find','ðŸ“ˆ\x20Stats\x20re','n\x20dev\x20mode','are','stack','No\x20target\x20','ocal\x20modul','init\x20confi','\x20to\x20avoid\x20','iled\x20for\x20','y\x20policy=e','rder\x20for\x20l','rawText','user','rticipants','some','exports\x20(i','.net','218670zZwqZS','length','file\x20remov','heck\x20|\x20Mem','g\x20key(s).','lers-start','\x20from\x20','Config-hot','toLowerCas','\x22onMessage','missing\x20\x22n','Set\x20bot\x20ma','ðŸ”§\x20Handlers','heck\x20faile','ialized.','failed','MODULE_CON','max','nfig\x20chang','n:\x20invalid','d\x20(loader)','lers-end','\x22:\x20','dirname','rectories\x20','ance\x20refre','âœ…\x20All\x20conf','checks\x20eve','remoteJid','rejected\x20b','reinit\x20but','\x20no\x20initia','SIONS','COMMAND_PR','dule\x20detec','\x20function','DULE_EXTEN','\x22.\x20Loading','EFIX','isAdmin','d\x20during\x20u','ction','Y_USAGE_WA','EMORY_USAG','isFile','command\x20li','heapUsed','BOT_HOOKS_','dependenci','add','\x20attached\x20','initialize','participan','nable\x20it\x20i','eners','slice','\x27t\x20read\x20','ng\x20to\x20do.','boolean','ldn\x27t\x20pars','hex','d:\x20','â¤ï¸\x20Scheduli','s\x20to\x20','ðŸ”¥\x20Critical','Redacted','282105xJJoTO','\x22onCallbac','userid','No\x20candida','switched\x20t','_DUPLICATE','store','expiresAt','ted\x20on\x20rel','eners\x20on\x20b','gress,\x20req','2527688lMfsMD','Could\x20not\x20','\x20reload\x20fa','idar.','text','loader\x20cal','\x20warnings:','No\x20local\x20m','es:\x20','argv','CURRENCY_L','from','getGroupMe','odules\x20fou','map','error','chats','sendMessag','ðŸ“¦\x20Starting','exit','ry\x20','idar\x22.\x20Hot','keys','extname','sock','ðŸš€\x20Module\x20l','includes','CK_INTERVA','config\x20key','Modules\x20re','\x20sock\x20or\x20s','module:','4506MFDSLf','push','MB.\x20Exitin','hecks\x20are\x20','MODULE_STA','ng\x20health\x20','_POLICY=er','\x20via\x20apply','loading\x20wi','isCommand','\x20full\x20modu','file','set','No\x20send\x20me','production','size','ad\x20for\x20cor','watch','Modules\x20af','fetchGroup','âš ï¸\x20Duplicat','Watcher\x20er','tory\x20\x22','ed\x20limit\x20o','defaultMax','quoted','key','update','loaded','getPartici','nts\x20for\x20','ðŸ”’\x20Global\x20b','modules','TS_INTERVA','memberList','\x20updated:\x20','split','unlink','atch\x20error','s:\x20','âš ï¸\x20Could\x20no','entralized','upParticip','calculateD','rName:\x20can','CRITICAL_M','load','ly\x20failed','bind','zeModules\x20','--prod','isPrimary','y\x20detected','\x22\x20found:\x20','applyConfi','onMessage','ate','synchronou','tadata','ependencyG','MAX_HANDLE','âš ï¸\x20parseFil','all','\x20policy\x20â€”\x20','âŒ\x20Reinit\x20f','clear','ailed\x20for\x20','led\x20for\x20','\x20exists\x20â€”\x20','\x20from\x20netw','configKeys','sent\x20â€”\x20sch','Event:\x20cha','x\x20listener','reinit','ing.','duplicate\x20','andidates\x20','function','memoryUsag','\x20for\x20','.mjs','be\x20an\x20arra','\x22\x20â€”\x20unload','ll\x20reload\x20','values','10BOURVN','no\x20usable\x20','Metadata','eload:','rom\x20','\x20took\x20','has','ency\x20\x22chok','e\x20not\x20load','â™»ï¸\x20Module\x20','âš¡\x20Config\x20c','ut\x20lacks\x20a','âŒ\x20handleFi','/duplicate','setMaxList','s.whatsapp','zed\x20','ing\x20enable','eload\x20alre','load\x20optio','Config.','resolve','ady\x20in\x20pro','â†’\x20Reloadin','_THRESHOLD','-reloading','alizing\x20','message','ant\x20fetch\x20','Query','fromMe','now','string','eMeta\x20fail','.\x20Avg\x20Load','\x20modules\x20f','le\x20load\x20pr','idar\x22\x20to\x20e','?t=','âœ…\x20No\x20modul','reason','ner\x20','ng\x20stats\x20r','\x20Loads:\x20','un\x20\x22npm\x20in','ule\x20load\x20c','localeComp','âš ï¸\x20Excessiv','e\x20config\x20k','[Loader]\x20C','Error\x20sche','endMessage','\x20cb','DEV\x20MODE:\x20','videoMessa','Message','parse','odule:\x20','pplyConfig','64TkPLOS','ently\x20load','RS_WARNING','ðŸ”¥\x20CRITICAL','ctx','ing\x20full\x20r','send','MODULE_DUP','â›”\x20Skipping','replace','s\x20module\x20d','xtMessage','entry:\x20','probable\x20n','botNumber','from\x20','\x20declare\x20t','ðŸ—‘ï¸\x20Unloaded','4032IgulSE','fileHash',':\x20Memory\x20u','ad\x20hook\x20fa','leEvent\x20er','L_MS','\x20registere','failed\x20aft','before\x20rel','nterval).','(invalid\x20i','imageMessa','reload','module\x20re-','Config\x20hot','ðŸ‘€\x20No\x20local','KILL_ON_HI','ame\x20for\x20','MB)\x20exceed','priority','filePath','forEach','deps','GH_MEMORY','Error','ðŸ§¹\x20Cleaned\x20','HEALTH_CHE','quires\x20bot','oad','isArray','\x20not\x20avail','\x20has\x20valid','utf-8','ed\x20â€”\x20nothi','mod','ping\x20full\x20','tch\x20error','â†’\x20Calling\x20','NODE_ENV','join','e\x20\x22','No\x20modules','allDirs','\x20is\x20large\x20','lers','sage\x20dispa',',\x20Fails:\x20','ror','lback\x20disp','call','\x20\x20-\x20','_WARN_BYTE','porting\x20is','ies\x22\x20must\x20','res','ata','rom\x20local\x20','cleanup','loader.sen','âŒ\x20applyCon','unchanged)','ot\x20listene','tes\x20have\x20c','able\x20on\x20bo','lastError','ðŸ”„\x20Starting','nload','iled\x20durin','handleFile','ion\x20for\x20','match','filter','â™»ï¸\x20Bot\x20inst','delete','o\x20effectiv','hasOwn','module\x20nam','âš ï¸\x20High\x20mem','ICY','\x20declared\x20','t\x20read\x20mod','ALLOWED_MO','ants:\x20stor'];_0xa74c=function(){return _0x3b4d2a;};return _0xa74c();}export async function initializeModules(_0x58a73e){const _0x3cd1f8=_0x4b0ff5;if(!_0x58a73e)throw new Error('initialize'+_0x3cd1f8(0x13f)+_0x3cd1f8(0x200)+'\x20instance');if(!isProduction)try{chokidar=(await import('chokidar'))['default'],info(_0x3cd1f8(0x1cd)+'Hot-reload'+_0x3cd1f8(0x1a9)+_0x3cd1f8(0x2e7)+_0x3cd1f8(0x375));}catch(_0xc6c55d){warn(_0x3cd1f8(0x373)+_0x3cd1f8(0x1ab)+'nal\x20depend'+_0x3cd1f8(0x19f)+_0x3cd1f8(0x137)+_0x3cd1f8(0x1b1)+_0x3cd1f8(0x299)+_0x3cd1f8(0x2f5)+_0x3cd1f8(0x1c4)+'stall\x20chok'+_0x3cd1f8(0x1bd)+_0x3cd1f8(0x35a)+_0x3cd1f8(0x315)+'.'),chokidar=null;}else info(_0x3cd1f8(0x2b8)+_0x3cd1f8(0x249)+_0x3cd1f8(0x1b1)+_0x3cd1f8(0x2a1)+_0x3cd1f8(0x2f1));const _0x4c1c6f=getConfig(),_0xa314bc=Symbol[_0x3cd1f8(0x267)](_0x4c1c6f[_0x3cd1f8(0x354)+_0x3cd1f8(0x311)]||'@@myBotHoo'+'ksAttached');try{if(typeof _0x58a73e['setMaxList'+_0x3cd1f8(0x35b)]==='function'){const _0x4a4764=typeof _0x58a73e[_0x3cd1f8(0x2d2)+_0x3cd1f8(0x35b)]===_0x3cd1f8(0x190)?_0x58a73e[_0x3cd1f8(0x2d2)+_0x3cd1f8(0x35b)]():-0x9*-0x2a4+0x235+-0x1*0x19ef,_0x5548c6=Math[_0x3cd1f8(0x336)](_0x4a4764,0x1*0x171a+0x1bca+-0x32b2);_0x58a73e[_0x3cd1f8(0x1a6)+_0x3cd1f8(0x35b)](_0x5548c6),debug(_0x3cd1f8(0x330)+_0x3cd1f8(0x18b)+_0x3cd1f8(0x364)+_0x5548c6+(_0x3cd1f8(0x31b)+_0x3cd1f8(0x2fe)));}}catch(_0x4bc1d5){debug(_0x3cd1f8(0x373)+_0x3cd1f8(0x1a6)+_0x3cd1f8(0x370)+'ot',_0x4bc1d5?.[_0x3cd1f8(0x1b3)]||_0x4bc1d5);}!_0x58a73e[_0xa314bc]?(_0x58a73e['on'](_0x3cd1f8(0x1b3),async _0x3e7fe5=>{const _0x206265=_0x3cd1f8;try{const _0x1a55ca={};_0x1a55ca[_0x206265(0x1e1)]=_0x58a73e?.[_0x206265(0x13a)]&&_0x58a73e[_0x206265(0x13a)][_0x206265(0x320)]&&_0x58a73e[_0x206265(0x13a)][_0x206265(0x320)]['id']||null,_0x1a55ca[_0x206265(0x37d)]=_0x3e7fe5?.[_0x206265(0x341)]||null,_0x1a55ca[_0x206265(0x29a)]=!!(_0x1a55ca[_0x206265(0x37d)]&&_0x58a73e&&typeof _0x58a73e[_0x206265(0x29a)]==='function'&&_0x58a73e[_0x206265(0x29a)](_0x1a55ca[_0x206265(0x37d)])),_0x1a55ca['rawText']=_0x3e7fe5?.[_0x206265(0x31f)]??(_0x3e7fe5?.[_0x206265(0x1b3)]?_0x3e7fe5['message']?.[_0x206265(0x2a9)+'on']||_0x3e7fe5[_0x206265(0x1b3)]?.['extendedTe'+_0x206265(0x1de)]?.['text']||_0x3e7fe5[_0x206265(0x1b3)]?.[_0x206265(0x1f0)+'ge']?.[_0x206265(0x2db)]||_0x3e7fe5['message']?.[_0x206265(0x1ce)+'ge']?.['caption']||_0x3e7fe5[_0x206265(0x1b3)]?.['statusText'+_0x206265(0x1cf)]?.[_0x206265(0x376)]||'':''),_0x1a55ca['text']=_0x3e7fe5?.[_0x206265(0x376)]??(typeof _0x1a55ca[_0x206265(0x31f)]===_0x206265(0x1b8)?_0x1a55ca[_0x206265(0x31f)][_0x206265(0x2b5)]():''),_0x1a55ca[_0x206265(0x14b)]=typeof _0x3e7fe5?.[_0x206265(0x14b)]===_0x206265(0x35f)?_0x3e7fe5[_0x206265(0x14b)]:((()=>{const _0x3bd2f6=_0x206265;if(!_0x1a55ca[_0x3bd2f6(0x376)]||!_0x1a55ca[_0x3bd2f6(0x376)][_0x3bd2f6(0x2b5)]())return![];const _0x3a49eb=_0x1a55ca[_0x3bd2f6(0x376)][_0x3bd2f6(0x2b5)](),_0x32233b=_0x4c1c6f[_0x3bd2f6(0x346)+_0x3bd2f6(0x34b)];if(_0x32233b===null||typeof _0x32233b===_0x3bd2f6(0x2ae)){const _0x46c418=_0x3a49eb[_0x3bd2f6(0x166)](/\s+/)[_0x3bd2f6(0x26d)]()?.[_0x3bd2f6(0x32d)+'e']();return _0x46c418&&allCommandNames[_0x3bd2f6(0x19e)](_0x46c418);}else{if(Array[_0x3bd2f6(0x202)](_0x32233b)){const _0x787cb1=_0x32233b[_0x3bd2f6(0x35c)]()[_0x3bd2f6(0x24f)]((_0x42637e,_0x54260e)=>_0x54260e[_0x3bd2f6(0x326)]-_0x42637e[_0x3bd2f6(0x326)]),_0x3948aa=_0x787cb1[_0x3bd2f6(0x313)](_0x11e3b8=>_0x3a49eb[_0x3bd2f6(0x2bd)](_0x11e3b8));if(!_0x3948aa)return![];const _0x5670e3=_0x3a49eb['slice'](_0x3948aa[_0x3bd2f6(0x326)])[_0x3bd2f6(0x2b5)](),_0x1a8b99=_0x5670e3[_0x3bd2f6(0x166)](/\s+/)[_0x3bd2f6(0x26d)]()?.[_0x3bd2f6(0x32d)+'e']();return _0x1a8b99&&allCommandNames['has'](_0x1a8b99);}else{if(typeof _0x32233b===_0x3bd2f6(0x1b8)){if(!_0x3a49eb[_0x3bd2f6(0x2bd)](_0x32233b))return![];const _0x9d3b8f=_0x3a49eb[_0x3bd2f6(0x35c)](_0x32233b[_0x3bd2f6(0x326)])[_0x3bd2f6(0x2b5)](),_0x4de0e1=_0x9d3b8f[_0x3bd2f6(0x166)](/\s+/)[_0x3bd2f6(0x26d)]()?.['toLowerCas'+'e']();return _0x4de0e1&&allCommandNames[_0x3bd2f6(0x19e)](_0x4de0e1);}}}return![];})());if(_0x1a55ca['isGroup'])try{_0x1a55ca[_0x206265(0x34c)]=await isadmin(_0x58a73e,_0x3e7fe5);}catch(_0x40d7cf){warn(_0x206265(0x1c9)+_0x206265(0x16b)+_0x206265(0x2f3)+_0x206265(0x332)+_0x206265(0x362)+(_0x40d7cf?.[_0x206265(0x1b3)]||_0x40d7cf)),_0x1a55ca['isAdmin']=!![];}else _0x1a55ca[_0x206265(0x34c)]=![];_0x1a55ca[_0x206265(0x1d9)]=async(_0x49b144,_0x3861b9,_0x24535c={})=>{const _0xb6494b=_0x206265;try{if(_0x58a73e&&typeof _0x58a73e[_0xb6494b(0x133)+'e']==='function')return await _0x58a73e['sendMessag'+'e'](_0x49b144,_0x3861b9,_0x24535c);if(_0x58a73e&&_0x58a73e[_0xb6494b(0x13a)]&&typeof _0x58a73e[_0xb6494b(0x13a)][_0xb6494b(0x133)+'e']==='function')return await _0x58a73e[_0xb6494b(0x13a)]['sendMessag'+'e'](_0x49b144,_0x3861b9,_0x24535c);throw new Error(_0xb6494b(0x14f)+_0xb6494b(0x27c)+_0xb6494b(0x224)+'t');}catch(_0x4e64fd){error(_0xb6494b(0x21f)+_0xb6494b(0x27a)+'o\x20'+_0x49b144+':\x20'+(_0x4e64fd?.[_0xb6494b(0x1b3)]||_0x4e64fd));throw _0x4e64fd;}},_0x1a55ca[_0x206265(0x2c5)]=async _0x4da1c2=>{const _0x1ce5e7=_0x206265;try{const _0x49d690=_0x1a55ca[_0x1ce5e7(0x37d)];if(!_0x49d690)throw new Error(_0x1ce5e7(0x318)+_0x1ce5e7(0x2e0)+'o');const _0x4936b5={};if(_0x3e7fe5?.[_0x1ce5e7(0x15c)])_0x4936b5[_0x1ce5e7(0x15b)]=_0x3e7fe5;return await _0x1a55ca[_0x1ce5e7(0x1d9)](_0x49d690,_0x4da1c2,_0x4936b5);}catch(_0x2a7fe3){error(_0x1ce5e7(0x280)+_0x1ce5e7(0x171),_0x2a7fe3?.[_0x1ce5e7(0x1b3)]||_0x2a7fe3);throw _0x2a7fe3;}},_0x1a55ca['participan'+'ts']=[],_0x1a55ca[_0x206265(0x15f)+'pants']=async()=>{const _0x4bf423=_0x206265;if(!_0x1a55ca[_0x4bf423(0x29a)]||!_0x1a55ca[_0x4bf423(0x37d)])return[];try{const _0x124a76=await resolveGroupParticipants(_0x58a73e,_0x1a55ca['from']);return _0x1a55ca[_0x4bf423(0x359)+'ts']=_0x124a76,_0x124a76;}catch(_0x5c3eb3){return debug('meta.getPa'+_0x4bf423(0x321)+_0x4bf423(0x2ba),_0x5c3eb3?.[_0x4bf423(0x1b3)]||_0x5c3eb3),[];}};if(_0x1a55ca[_0x206265(0x29a)]&&_0x1a55ca['from'])try{if(_0x58a73e?.['store']){const _0x1920f7=_0x58a73e[_0x206265(0x36d)]['groupMetad'+'ata']?.[_0x1a55ca[_0x206265(0x37d)]]||_0x58a73e[_0x206265(0x36d)][_0x206265(0x2ff)+_0x206265(0x21c)]&&typeof _0x58a73e[_0x206265(0x36d)][_0x206265(0x2ff)+_0x206265(0x21c)][_0x206265(0x2e6)]===_0x206265(0x190)&&_0x58a73e['store']['groupMetad'+_0x206265(0x21c)][_0x206265(0x2e6)](_0x1a55ca[_0x206265(0x37d)]);if(_0x1920f7&&Array[_0x206265(0x202)](_0x1920f7['participan'+'ts'])&&_0x1920f7[_0x206265(0x359)+'ts'][_0x206265(0x326)]>0xa0*-0x32+-0x75e*-0x2+0x1084)_0x1a55ca['participan'+'ts']=_0x1920f7[_0x206265(0x359)+'ts'][_0x206265(0x380)](_0x2fcd7a=>({'id':_0x2fcd7a['id']||_0x2fcd7a}));else{const _0x29ac22=_0x58a73e[_0x206265(0x36d)][_0x206265(0x132)]?.[_0x1a55ca[_0x206265(0x37d)]]||_0x58a73e[_0x206265(0x36d)][_0x206265(0x132)]&&typeof _0x58a73e[_0x206265(0x36d)][_0x206265(0x132)][_0x206265(0x2e6)]===_0x206265(0x190)&&_0x58a73e[_0x206265(0x36d)]['chats'][_0x206265(0x2e6)](_0x1a55ca[_0x206265(0x37d)]);_0x29ac22&&Array[_0x206265(0x202)](_0x29ac22['participan'+'ts'])&&_0x29ac22[_0x206265(0x359)+'ts'][_0x206265(0x326)]>-0x1e0d*0x1+-0x10a2*0x2+0x3f51&&(_0x1a55ca[_0x206265(0x359)+'ts']=_0x29ac22['participan'+'ts'][_0x206265(0x380)](_0x2fe15f=>({'id':_0x2fe15f['id']||_0x2fe15f})));}}}catch(_0x586c23){debug(_0x206265(0x17b)+'s\x20particip'+_0x206265(0x1b4)+'failed',_0x586c23?.[_0x206265(0x1b3)]||_0x586c23);}_0x1a55ca['body']=_0x1a55ca['text'],_0x1a55ca[_0x206265(0x1b6)]=!!_0x3e7fe5?.[_0x206265(0x1b6)],_0x1a55ca[_0x206265(0x1d7)]=_0x3e7fe5;for(const {handler:_0x41645e,module:_0x5f52ac}of messageHandlers){try{await Promise[_0x206265(0x1ad)](_0x41645e(_0x3e7fe5,_0x1a55ca));}catch(_0x43ed91){error(_0x206265(0x2e8)+_0x5f52ac+_0x206265(0x2b2)+(_0x43ed91?.['message']||_0x43ed91),sanitizeError(_0x43ed91));}}}catch(_0x41a9af){error(_0x206265(0x2f8)+_0x206265(0x2d4)+_0x206265(0x212)+_0x206265(0x209),sanitizeError(_0x41a9af));}}),_0x58a73e['on']('groups.upd'+_0x3cd1f8(0x17a),_0x15b7cb=>{const _0x4a4329=_0x3cd1f8;try{if(!Array[_0x4a4329(0x202)](_0x15b7cb))return;for(const _0x2a5609 of _0x15b7cb){if(!_0x2a5609||!_0x2a5609['id'])continue;groupParticipantsCache[_0x4a4329(0x22e)](_0x2a5609['id']);}}catch(_0x3bc138){debug('groups.upd'+'ate\x20handle'+'r\x20error',_0x3bc138?.[_0x4a4329(0x1b3)]||_0x3bc138);}}),_0x58a73e['on'](_0x3cd1f8(0x270)+'uery:data',async _0x4e2391=>{const _0x5c2858=_0x3cd1f8;try{const _0x2aa732={'botNumber':_0x58a73e?.['sock']&&_0x58a73e['sock'][_0x5c2858(0x320)]&&_0x58a73e[_0x5c2858(0x13a)][_0x5c2858(0x320)]['id']||null,'from':_0x4e2391?.[_0x5c2858(0x341)]||null,'isGroup':!!(_0x4e2391?.[_0x5c2858(0x341)]&&_0x58a73e&&typeof _0x58a73e[_0x5c2858(0x29a)]===_0x5c2858(0x190)&&_0x58a73e[_0x5c2858(0x29a)](_0x4e2391[_0x5c2858(0x341)])),'ctx':_0x4e2391};for(const {handler:_0x53dbf0,module:_0x113a09}of callbackHandlers){try{await Promise['resolve'](_0x53dbf0(_0x4e2391,_0x2aa732));}catch(_0x1fd14f){error(_0x5c2858(0x2c4)+_0x5c2858(0x2be)+_0x113a09+_0x5c2858(0x2b2)+(_0x1fd14f?.[_0x5c2858(0x1b3)]||_0x1fd14f),sanitizeError(_0x1fd14f));}}}catch(_0x4f6680){error(_0x5c2858(0x2f8)+_0x5c2858(0x377)+_0x5c2858(0x215)+_0x5c2858(0x168),sanitizeError(_0x4f6680));}}),_0x58a73e[_0xa314bc]=!![],info(_0x3cd1f8(0x161)+'ot\x20listene'+'rs\x20attache'+_0x3cd1f8(0x339)+'.')):info(_0x3cd1f8(0x161)+_0x3cd1f8(0x222)+'rs\x20already'+_0x3cd1f8(0x357)+'(idempoten'+'t).');try{modules['size']===-0x1c4*0x1+-0x1c86+0x1e4a?(await loadAllModules(_0x58a73e),setupWatchers(_0x58a73e),startHealthMonitor(),startStatsReporter(),info(_0x3cd1f8(0x13b)+_0x3cd1f8(0x2bf)+_0x3cd1f8(0x333))):debug(_0x3cd1f8(0x22d)+_0x3cd1f8(0x33e)+_0x3cd1f8(0x2d6)+_0x3cd1f8(0x208)+_0x3cd1f8(0x1f2)+'initializa'+_0x3cd1f8(0x277));}catch(_0x2bde70){error('âŒ\x20initiali'+_0x3cd1f8(0x173)+_0x3cd1f8(0x1ec)+'er\x20socket\x20'+'open',sanitizeError(_0x2bde70));throw _0x2bde70;}}export function getModuleStatus(){const _0x371887=_0x4b0ff5;return{'loadedCount':moduleStatus[_0x371887(0x15e)]['length'],'failedCount':moduleStatus['failed'][_0x371887(0x326)],'reloadInProgress':isReloading,'stats':moduleLoadStats,'health':'ok','loaded':moduleStatus['loaded'],'failed':moduleStatus[_0x371887(0x334)]};}export function getCommandNames(){return new Set(allCommandNames);}export async function sendMention(_0xdc685c,_0x6a132f,_0x11ad2c,_0x5679b7=[]){const _0x435ecf=_0x4b0ff5;if(!_0xdc685c||typeof _0xdc685c[_0x435ecf(0x133)+'e']!==_0x435ecf(0x190))throw new Error('sendMentio'+_0x435ecf(0x338)+_0x435ecf(0x140)+_0x435ecf(0x1cb)+_0x435ecf(0x203)+_0x435ecf(0x2b4));return await _0xdc685c[_0x435ecf(0x133)+'e'](_0x6a132f,{'text':_0x11ad2c,'mentions':_0x5679b7});}