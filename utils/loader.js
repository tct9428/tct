const _0x1c8811=_0x202f;(function(_0x42adbd,_0x4e967f){const _0x5a1b2b=_0x202f,_0x4cb1e0=_0x42adbd();while(!![]){try{const _0x211c82=-parseInt(_0x5a1b2b(0x176))/(0x1*-0x2303+0x19*-0x39+0x2895)+parseInt(_0x5a1b2b(0x1e7))/(-0x4a7*-0x3+0x1*-0x24c5+-0x1*-0x16d2)+-parseInt(_0x5a1b2b(0x1e2))/(0x9*-0x41c+0x263a+-0x13b)*(-parseInt(_0x5a1b2b(0x19c))/(0x2c3+-0x453*0x2+-0x5e7*-0x1))+-parseInt(_0x5a1b2b(0x1bc))/(0x21a0+0x1542*0x1+0x35*-0x109)*(-parseInt(_0x5a1b2b(0x16d))/(-0xeea+-0x15c6+0x7f*0x4a))+parseInt(_0x5a1b2b(0x159))/(-0x12*-0x1f8+-0x26af+0x2*0x1a3)+-parseInt(_0x5a1b2b(0x15b))/(0x2e*0x43+-0x156c+0x96a)+parseInt(_0x5a1b2b(0x1b7))/(0x3ce+0x16f*-0xb+0xc00)*(parseInt(_0x5a1b2b(0x1b6))/(0x1db5+-0x127d+0x1dd*-0x6));if(_0x211c82===_0x4e967f)break;else _0x4cb1e0['push'](_0x4cb1e0['shift']());}catch(_0x1c8dc2){_0x4cb1e0['push'](_0x4cb1e0['shift']());}}}(_0x284c,-0xf09bf+0x56db4*0x3+-0x4d0f9*-0x2));import{EventEmitter}from'events';EventEmitter[_0x1c8811(0x170)+'Listeners']=-0xa75+-0x1*0x2371+0x2e04;import{readdir,stat,readFile}from'fs/promises';import _0x1eb7f9 from'path';import{fileURLToPath,pathToFileURL}from'url';import _0x399a1b from'p-limit';import _0x155db2 from'crypto';import{performance,PerformanceObserver}from'perf_hooks';import{info,warn,error,debug,trace}from'./logger.js';import{hotReloadConfig,getConfig,PROJECT_ROOT}from'./config.js';const __dirname=_0x1eb7f9[_0x1c8811(0x1b0)](fileURLToPath(import.meta.url)),MAX_INTERVAL_MS=-0x861be79b+0xb648f81b+0x4fd2ef7f,isProduction=process[_0x1c8811(0x17a)][_0x1c8811(0x1d4)]===_0x1c8811(0x197)||process[_0x1c8811(0x1c6)][_0x1c8811(0x16f)](_0x1c8811(0x1e5));let chokidar=null;const DEPENDENCY_GRAPH=new Map(),CONFIG_DEPENDENCY_MAP=new Map(),modules=new Map();let messageHandlers=[],callbackHandlers=[],isReloading=![],moduleLoadStats={'totalLoads':0x0,'totalFailures':0x0,'lastError':null,'avgLoadTime':0x0,'maxLoadTime':0x0};const allCommandNames=new Set();let concurrencyLimiter=_0x399a1b(getConfig()['MODULE_CON'+_0x1c8811(0x1d7)+_0x1c8811(0x174)]||0x32f+0x1735+-0x1a5f),lastConfigSnapshot={...getConfig()||{}};export const moduleStatus={'loaded':[],'failed':[],'lastReload':null,'dependencies':new Map()};function _0x284c(){const _0xfd7e13=['Handler\x20','hasOwn','createHash','o\x20clean\x20up','oad','delete','argv','isGroup','set','sha256','ersion\x22\x20ex','slice','cleanup','\x20not\x20a\x20fun','user','rs\x20attache','toFixed','from','no\x20usable\x20','commands','NODE_ENV','isAdmin','ted\x20on\x20rel','CURRENCY_L','values','rawText','version','onCallback','RECTORY','extname','le\x20load\x20pr','reload','for','loaded','17301rLVoYn','ksAttached','ot\x20listene','--prod','size','638930DWICZn','botNumber','ALLOWED_MO','filter','\x20full\x20modu','boolean','dule\x20detec','maxLoadTim','tch\x20error','BOT_HOOKS_','carl','invalid\x20mo','conversati','COMMAND_PR','DULE_EXTEN','before\x20rel','totalFailu','duration','string','res','split','Error','\x20instance','5317354TqZijd','SIONS','7545840sGFhoA','load','\x20warnings:','get','fileHash','es:\x20','quires\x20bot','name','.mjs','isFile','beforeRelo','zeModules\x20','object','toLowerCas','has','caption','dependenci','default','1008oLuFje','find','includes','defaultMax','digest','file','ction','IMIT','failed','895699jlzRFL','‚ùå\x20Failed\x20t','sendMessag','extendedTe','env','hot','reinit','ation\x20issu','observe','kQuery\x22\x20is','parse','?t=','‚ö†Ô∏è\x20Module\x20','sage\x20dispa','sock','module:',',\x20onCallba','EFIX','hotKeys','onMessage','watch','d\x20(loader)','hex','text','\x22onMessage','@@myBotHoo','now','loader\x20mes','resolve','isArray','length','change','isCommand','production','‚ôªÔ∏è\x20Reloaded','iled\x20for\x20','keys','avgLoadTim','68XzFDiI','totalLoads','trim','push','startsWith','href','function','sort','add','clear','TORY','priority','remoteJid','Top-level\x20','join','MODULES_DI','.js','forEach','Modules\x20re','reloadKeys','dirname','imageMessa','initialize','bind','message','KEY_SYMBOL','700icGbuh','5823IUPfYO','measure','reply','ame\x22\x20expor','stack','39570egOsJe','configKeys','Query','‚úÖ\x20Loaded'];_0x284c=function(){return _0xfd7e13;};return _0x284c();}const perfObserver=new PerformanceObserver(_0x2b78c4=>{const _0x1c0f2d=_0x1c8811;_0x2b78c4['getEntries']()[_0x1c0f2d(0x1ad)](_0x574c42=>{const _0xfcf0ba=_0x1c0f2d;_0x574c42['name']['startsWith'](_0xfcf0ba(0x185))&&_0x574c42[_0xfcf0ba(0x153)]>moduleLoadStats[_0xfcf0ba(0x1ee)+'e']&&(moduleLoadStats[_0xfcf0ba(0x1ee)+'e']=_0x574c42[_0xfcf0ba(0x153)]);});});perfObserver[_0x1c8811(0x17e)]({'entryTypes':[_0x1c8811(0x1b8)]});function sanitizeError(_0x5cf6be){const _0x43b3ee=_0x1c8811,_0x27c4d9=getConfig();if(_0x27c4d9[_0x43b3ee(0x1d4)]===_0x43b3ee(0x197))return{'name':_0x5cf6be?.[_0x43b3ee(0x162)]??_0x43b3ee(0x157),'message':_0x5cf6be?.[_0x43b3ee(0x1b4)]??'Error','stack':_0x5cf6be?.[_0x43b3ee(0x1bb)]?'Redacted':undefined};return _0x5cf6be;}function resolveConfiguredDirs(){const _0x4924b9=_0x1c8811,_0xa865b2=getConfig(),_0x29054f=_0xa865b2[_0x4924b9(0x1ab)+_0x4924b9(0x1dc)]||_0xa865b2['MODULES_DI'+'R']||'modules',_0x19d980=_0xa865b2['CARL_DIREC'+_0x4924b9(0x1a6)]||_0x4924b9(0x14c),_0x318c4a=Array[_0x4924b9(0x193)](_0x29054f)?_0x29054f[_0x4924b9(0x1cb)]():[_0x29054f],_0x1e76d6=[];for(const _0x4d1aeb of _0x318c4a){if(!_0x4d1aeb)continue;_0x1e76d6[_0x4924b9(0x19f)](_0x1eb7f9['isAbsolute'](_0x4d1aeb)?_0x4d1aeb:_0x1eb7f9[_0x4924b9(0x1aa)](PROJECT_ROOT,_0x4d1aeb));}const _0x87d51b=_0x19d980?_0x1eb7f9['isAbsolute'](_0x19d980)?_0x19d980:_0x1eb7f9['join'](PROJECT_ROOT,_0x19d980):null;if(_0x87d51b)_0x1e76d6['push'](_0x87d51b);return{'primaryDir':_0x1e76d6[0x1a05+0xc97+-0x269c],'secondaryDir':_0x87d51b,'allDirs':_0x1e76d6};}function calculateDependencyGraph(){const _0xf97d20=_0x1c8811;DEPENDENCY_GRAPH['clear'](),CONFIG_DEPENDENCY_MAP['clear']();for(const [_0x3e059c,{mod:_0x50991f}]of modules){Array[_0xf97d20(0x193)](_0x50991f[_0xf97d20(0x16b)+'es'])?DEPENDENCY_GRAPH[_0xf97d20(0x1c8)](_0x3e059c,new Set(_0x50991f[_0xf97d20(0x16b)+'es'])):DEPENDENCY_GRAPH[_0xf97d20(0x1c8)](_0x3e059c,new Set());const _0x2ab6a4=normalizeModuleConfigKeys(_0x50991f);for(const {type:_0x39c4d6,key:_0x748819}of _0x2ab6a4){if(!CONFIG_DEPENDENCY_MAP[_0xf97d20(0x169)](_0x748819))CONFIG_DEPENDENCY_MAP[_0xf97d20(0x1c8)](_0x748819,new Set());CONFIG_DEPENDENCY_MAP[_0xf97d20(0x15e)](_0x748819)[_0xf97d20(0x1a4)](_0x3e059c);}}moduleStatus[_0xf97d20(0x16b)+'es']=new Map(DEPENDENCY_GRAPH);}function normalizeModuleConfigKeys(_0x2cd2d0){const _0x4c79fa=_0x1c8811,_0x212b09=[];if(!_0x2cd2d0)return _0x212b09;const _0x37e349=_0x2cd2d0[_0x4c79fa(0x1bd)];if(!_0x37e349)return _0x212b09;if(Array[_0x4c79fa(0x193)](_0x37e349)){for(const _0x53ff47 of _0x37e349)if(typeof _0x53ff47===_0x4c79fa(0x154))_0x212b09['push']({'type':_0x4c79fa(0x1df),'key':_0x53ff47});return _0x212b09;}if(typeof _0x37e349===_0x4c79fa(0x167)){const _0x1a386c={'reload':[_0x4c79fa(0x1df),_0x4c79fa(0x1af),_0x4c79fa(0x19a)],'reinit':[_0x4c79fa(0x17c)],'hot':[_0x4c79fa(0x17b),_0x4c79fa(0x188)]};for(const _0x45d7c8 of Object[_0x4c79fa(0x19a)](_0x1a386c)){for(const _0x4779f4 of _0x1a386c[_0x45d7c8]){if(!_0x37e349[_0x4779f4])continue;if(Array[_0x4c79fa(0x193)](_0x37e349[_0x4779f4])){for(const _0x51dd32 of _0x37e349[_0x4779f4])if(typeof _0x51dd32==='string')_0x212b09[_0x4c79fa(0x19f)]({'type':_0x45d7c8,'key':_0x51dd32});}else typeof _0x37e349[_0x4779f4]===_0x4c79fa(0x154)&&_0x212b09['push']({'type':_0x45d7c8,'key':_0x37e349[_0x4779f4]});}if(Array[_0x4c79fa(0x193)](_0x37e349[_0x45d7c8])){for(const _0x4f122d of _0x37e349[_0x45d7c8])if(typeof _0x4f122d==='string')_0x212b09[_0x4c79fa(0x19f)]({'type':_0x45d7c8,'key':_0x4f122d});}else typeof _0x37e349[_0x45d7c8]===_0x4c79fa(0x154)&&_0x212b09[_0x4c79fa(0x19f)]({'type':_0x45d7c8,'key':_0x37e349[_0x45d7c8]});}return _0x212b09;}return _0x212b09;}function getAffectedModules(_0x57171e){const _0x2eb5c6=_0x1c8811,_0x92788b=new Set([_0x57171e]),_0x2e5e63=[_0x57171e];let _0x1833a9=-0x9e8+0x1a29+-0x1041;while(_0x1833a9<_0x2e5e63['length']){const _0x929f2f=_0x2e5e63[_0x1833a9++];for(const [_0x38d50f,_0x546b53]of DEPENDENCY_GRAPH){_0x546b53['has'](_0x929f2f)&&!_0x92788b['has'](_0x38d50f)&&(_0x92788b[_0x2eb5c6(0x1a4)](_0x38d50f),_0x2e5e63[_0x2eb5c6(0x19f)](_0x38d50f));}}return Array[_0x2eb5c6(0x1d1)](_0x92788b);}function getModulesForConfigKeys(_0x4f9175){const _0x322aa1=_0x1c8811,_0x24cc02=new Set();for(const _0x30bc83 of _0x4f9175){const _0xe3508c=CONFIG_DEPENDENCY_MAP['get'](_0x30bc83);if(!_0xe3508c)continue;for(const _0x2f251e of _0xe3508c){const _0x3f7913=getAffectedModules(_0x2f251e);for(const _0x18caea of _0x3f7913)_0x24cc02[_0x322aa1(0x1a4)](_0x18caea);}}return Array['from'](_0x24cc02);}function validateModule(_0x5e3e2a,_0x55bc1c){const _0x3e5fb5=_0x1c8811,_0x33509c=_0x5e3e2a&&_0x5e3e2a[_0x3e5fb5(0x162)]?_0x5e3e2a[_0x3e5fb5(0x162)]:_0x55bc1c,_0xed7b3e=[],_0x39e2b8=[];if(!_0x5e3e2a||!Object[_0x3e5fb5(0x1c1)](_0x5e3e2a,_0x3e5fb5(0x162)))_0xed7b3e['push']('missing\x20\x22n'+_0x3e5fb5(0x1ba)+'t');if(_0x5e3e2a&&!Object[_0x3e5fb5(0x1c1)](_0x5e3e2a,_0x3e5fb5(0x1da)))_0x39e2b8[_0x3e5fb5(0x19f)]('missing\x20\x22v'+_0x3e5fb5(0x1ca)+'port');_0x5e3e2a&&!Object[_0x3e5fb5(0x1c1)](_0x5e3e2a,'initialize')&&!Object[_0x3e5fb5(0x1c1)](_0x5e3e2a,'onMessage')&&!Object[_0x3e5fb5(0x1c1)](_0x5e3e2a,_0x3e5fb5(0x1db)+_0x3e5fb5(0x1be))&&_0xed7b3e[_0x3e5fb5(0x19f)](_0x3e5fb5(0x1d2)+'exports\x20(i'+'nitialize,'+'\x20onMessage'+_0x3e5fb5(0x186)+'ckQuery)');_0x5e3e2a&&Object['hasOwn'](_0x5e3e2a,_0x3e5fb5(0x189))&&typeof _0x5e3e2a['onMessage']!=='function'&&_0xed7b3e[_0x3e5fb5(0x19f)](_0x3e5fb5(0x18e)+'\x22\x20is\x20not\x20a'+'\x20function');_0x5e3e2a&&Object['hasOwn'](_0x5e3e2a,_0x3e5fb5(0x1db)+'Query')&&typeof _0x5e3e2a['onCallback'+'Query']!==_0x3e5fb5(0x1a2)&&_0xed7b3e['push']('\x22onCallbac'+_0x3e5fb5(0x17f)+_0x3e5fb5(0x1cd)+_0x3e5fb5(0x173));if(_0xed7b3e['length'])warn('‚õî\x20Module\x20'+_0x33509c+('\x20has\x20valid'+_0x3e5fb5(0x17d)+_0x3e5fb5(0x160))+_0xed7b3e['join'](',\x20'));if(_0x39e2b8['length'])warn(_0x3e5fb5(0x182)+_0x33509c+(_0x3e5fb5(0x15d)+'\x20')+_0x39e2b8[_0x3e5fb5(0x1aa)](',\x20'));return _0xed7b3e[_0x3e5fb5(0x194)]===-0x1*0x4f2+-0x1fbb+0x24ad;}function updateAllCommandNames(){const _0x850229=_0x1c8811;allCommandNames[_0x850229(0x1a5)]();for(const {mod:_0x5782c3}of modules[_0x850229(0x1d8)]()){if(_0x5782c3[_0x850229(0x162)]&&typeof _0x5782c3[_0x850229(0x162)]===_0x850229(0x154))allCommandNames[_0x850229(0x1a4)](_0x5782c3['name'][_0x850229(0x168)+'e']());if(Array[_0x850229(0x193)](_0x5782c3[_0x850229(0x1d3)])){for(const _0x23ab1c of _0x5782c3['commands'])if(typeof _0x23ab1c==='string'&&_0x23ab1c)allCommandNames[_0x850229(0x1a4)](_0x23ab1c[_0x850229(0x168)+'e']());}}}function _0x202f(_0x3a3afd,_0x4a508c){_0x3a3afd=_0x3a3afd-(-0xe8a+-0x18e1+-0x3*-0xd92);const _0xa1fafa=_0x284c();let _0x5a984=_0xa1fafa[_0x3a3afd];return _0x5a984;}function updateHandlers(){const _0xac9d5b=_0x1c8811;messageHandlers=[],callbackHandlers=[];const _0x38a430=[...modules['values']()]['sort']((_0xe85b8f,_0x27538c)=>(_0x27538c['priority']??0x1b55+0x1fed+-0x25*0x19a)-(_0xe85b8f[_0xac9d5b(0x1a7)]??-0x1*0x189+-0x28b+0x20a*0x2));for(const {mod:_0x10bfb2}of _0x38a430){typeof _0x10bfb2[_0xac9d5b(0x189)]===_0xac9d5b(0x1a2)&&messageHandlers[_0xac9d5b(0x19f)]({'handler':_0x10bfb2[_0xac9d5b(0x189)][_0xac9d5b(0x1b3)](_0x10bfb2),'module':_0x10bfb2[_0xac9d5b(0x162)],'priority':_0x10bfb2[_0xac9d5b(0x1a7)]||-0xdab*-0x1+-0x166b+-0x230*-0x4}),typeof _0x10bfb2[_0xac9d5b(0x1db)+_0xac9d5b(0x1be)]===_0xac9d5b(0x1a2)&&callbackHandlers[_0xac9d5b(0x19f)]({'handler':_0x10bfb2[_0xac9d5b(0x1db)+_0xac9d5b(0x1be)][_0xac9d5b(0x1b3)](_0x10bfb2),'module':_0x10bfb2['name'],'priority':_0x10bfb2[_0xac9d5b(0x1a7)]||0x21*0xbf+0x2688+0x3b7*-0x11});}messageHandlers[_0xac9d5b(0x1a3)]((_0x938d8f,_0x588b21)=>_0x588b21[_0xac9d5b(0x1a7)]-_0x938d8f[_0xac9d5b(0x1a7)]),callbackHandlers[_0xac9d5b(0x1a3)]((_0x16e0b3,_0x3f860c)=>_0x3f860c[_0xac9d5b(0x1a7)]-_0x16e0b3['priority']),updateAllCommandNames();}async function unloadModule(_0xbf2ad0,_0x1899c9=_0x1c8811(0x1df)){const _0x26b3b2=_0x1c8811;if(!modules['has'](_0xbf2ad0))return;const _0x3dbcb4=modules[_0x26b3b2(0x15e)](_0xbf2ad0),_0x409894=_0x3dbcb4['mod'];try{typeof _0x409894[_0x26b3b2(0x1cc)]==='function'&&await Promise[_0x26b3b2(0x192)](_0x409894[_0x26b3b2(0x1cc)]());}catch(_0x33b96e){error('‚ùå\x20Failed\x20t'+_0x26b3b2(0x1c3)+'\x20'+_0x409894[_0x26b3b2(0x162)]+':\x20'+(_0x33b96e?.[_0x26b3b2(0x1b4)]||_0x33b96e),sanitizeError(_0x33b96e));}finally{modules[_0x26b3b2(0x1c5)](_0xbf2ad0),moduleStatus[_0x26b3b2(0x1e1)]=moduleStatus[_0x26b3b2(0x1e1)][_0x26b3b2(0x1ea)](_0x31fb98=>_0x31fb98[_0x26b3b2(0x162)]!==_0xbf2ad0),info('üóëÔ∏è\x20Unloaded'+'\x20'+_0x409894[_0x26b3b2(0x162)]+'\x20('+_0x1899c9+')');try{calculateDependencyGraph();}catch(_0x3dec76){}updateHandlers();}}async function loadFile(_0x2311b3,_0x2cef5c=![],_0x2f30f9=null){const _0x41cfe5=_0x1c8811,_0x4f9c3f=getConfig(),_0x25aaea=performance['now']();try{const _0x1aab7a=await stat(_0x2311b3);if(!_0x1aab7a[_0x41cfe5(0x164)]())return![];const _0x726879=await readFile(_0x2311b3),_0x573352=_0x155db2[_0x41cfe5(0x1c2)](_0x41cfe5(0x1c9))['update'](_0x726879)[_0x41cfe5(0x171)](_0x41cfe5(0x18c)),_0x9d29c3=_0x1eb7f9[_0x41cfe5(0x180)](_0x2311b3)['name'];if(modules[_0x41cfe5(0x169)](_0x9d29c3)&&modules[_0x41cfe5(0x15e)](_0x9d29c3)[_0x41cfe5(0x15f)]===_0x573352)return![];if(_0x2cef5c&&modules['has'](_0x9d29c3)){const {mod:_0x1aa8db}=modules['get'](_0x9d29c3);if(typeof _0x1aa8db[_0x41cfe5(0x165)+'ad']===_0x41cfe5(0x1a2))try{await Promise[_0x41cfe5(0x192)](_0x1aa8db['beforeRelo'+'ad']());}catch(_0x39d651){warn(_0x41cfe5(0x165)+'ad\x20hook\x20fa'+_0x41cfe5(0x199)+_0x1aa8db[_0x41cfe5(0x162)]);}}const _0x244359=pathToFileURL(_0x2311b3)[_0x41cfe5(0x1a1)]+_0x41cfe5(0x181)+Date['now'](),_0x33b41a=await import(_0x244359);let _0x208282={..._0x33b41a};_0x33b41a[_0x41cfe5(0x16c)]&&typeof _0x33b41a[_0x41cfe5(0x16c)]==='object'&&(_0x208282={..._0x208282,..._0x33b41a[_0x41cfe5(0x16c)]});if(!validateModule(_0x208282,_0x2311b3)){if(modules[_0x41cfe5(0x169)](_0x9d29c3))await unloadModule(_0x9d29c3,_0x41cfe5(0x14d)+_0x41cfe5(0x1ed)+_0x41cfe5(0x1d6)+_0x41cfe5(0x1c4));return![];}const _0x3c4a44=_0x208282['name']||_0x9d29c3;modules[_0x41cfe5(0x169)](_0x3c4a44)&&await unloadModule(_0x3c4a44,_0x41cfe5(0x151)+_0x41cfe5(0x1c4));typeof _0x208282[_0x41cfe5(0x1b2)]===_0x41cfe5(0x1a2)&&_0x2f30f9&&await Promise[_0x41cfe5(0x192)](_0x208282[_0x41cfe5(0x1b2)](_0x2f30f9));const _0x4a9ab2=resolveConfiguredDirs()['allDirs'][_0x41cfe5(0x16e)](_0x22a92c=>_0x2311b3[_0x41cfe5(0x1a0)](_0x1eb7f9[_0x41cfe5(0x192)](_0x22a92c)))||_0x1eb7f9[_0x41cfe5(0x1b0)](_0x2311b3);modules[_0x41cfe5(0x1c8)](_0x3c4a44,{'mod':_0x208282,'priority':_0x208282[_0x41cfe5(0x1a7)]||0x4*0x65f+0xa*0x376+-0x3c18,'file':_0x2311b3,'originDir':_0x4a9ab2,'fileHash':_0x573352,'lastLoaded':Date[_0x41cfe5(0x190)]()}),moduleStatus[_0x41cfe5(0x1e1)]=moduleStatus['loaded'][_0x41cfe5(0x1ea)](_0x20c7c6=>_0x20c7c6[_0x41cfe5(0x162)]!==_0x3c4a44),moduleStatus[_0x41cfe5(0x175)]=moduleStatus['failed'][_0x41cfe5(0x1ea)](_0x29f743=>_0x29f743[_0x41cfe5(0x172)]!==_0x2311b3),moduleStatus[_0x41cfe5(0x1e1)][_0x41cfe5(0x19f)]({'name':_0x3c4a44,'version':_0x208282['version']||'?','file':_0x2311b3,'loadedAt':Date['now'](),'size':_0x1aab7a[_0x41cfe5(0x1e6)],'hash':_0x573352}),calculateDependencyGraph();const _0x492c09=performance[_0x41cfe5(0x190)]()-_0x25aaea;moduleLoadStats[_0x41cfe5(0x19d)]++,moduleLoadStats[_0x41cfe5(0x19b)+'e']=(moduleLoadStats['avgLoadTim'+'e']*(moduleLoadStats['totalLoads']-(0x1*0x26b3+-0x21a3+-0x1*0x50f))+_0x492c09)/moduleLoadStats['totalLoads'];if(_0x492c09>moduleLoadStats[_0x41cfe5(0x1ee)+'e'])moduleLoadStats[_0x41cfe5(0x1ee)+'e']=_0x492c09;return debug((_0x2cef5c?_0x41cfe5(0x198):_0x41cfe5(0x1bf))+'\x20'+_0x3c4a44+'\x20in\x20'+_0x492c09[_0x41cfe5(0x1d0)](0x249+0x12af*0x1+-0x14f6)+'ms'),!![];}catch(_0x301f52){const _0x442247=_0x2cef5c?_0x41cfe5(0x1df):_0x41cfe5(0x15c);error(_0x41cfe5(0x177)+'o\x20'+_0x442247+'\x20'+_0x2311b3+':\x20'+(_0x301f52?.[_0x41cfe5(0x1b4)]||_0x301f52),sanitizeError(_0x301f52)),moduleStatus[_0x41cfe5(0x175)]['push']({'file':_0x2311b3,'error':_0x301f52?.[_0x41cfe5(0x1b4)]||String(_0x301f52),'timestamp':Date[_0x41cfe5(0x190)]()}),moduleLoadStats[_0x41cfe5(0x152)+_0x41cfe5(0x155)]++;const _0x420de0=_0x1eb7f9[_0x41cfe5(0x180)](_0x2311b3)[_0x41cfe5(0x162)];return modules['delete'](_0x420de0),![];}finally{updateHandlers();}}async function loadAllModules(_0x1c4548){const _0x4b8802=_0x1c8811,_0x560645=getConfig();info('üì¶\x20Starting'+_0x4b8802(0x1eb)+_0x4b8802(0x1de)+'ocess\x20...'),moduleStatus[_0x4b8802(0x1e1)]=[],moduleStatus['failed']=[];const {primaryDir:_0x1927d8,allDirs:_0x526feb}=resolveConfiguredDirs(),_0x4d69d2=_0x560645['ALLOWED_MO'+_0x4b8802(0x150)+_0x4b8802(0x15a)]||[_0x4b8802(0x1ac),_0x4b8802(0x163),'.cjs'],_0x710153=[];for(const _0x1a5384 of _0x526feb){try{const _0x45315d=await readdir(_0x1a5384);for(const _0x5607f7 of _0x45315d){const _0x1c2933=_0x1eb7f9[_0x4b8802(0x1dd)](_0x5607f7);if(!_0x4d69d2[_0x4b8802(0x16f)](_0x1c2933))continue;_0x710153[_0x4b8802(0x19f)]({'filePath':_0x1eb7f9[_0x4b8802(0x1aa)](_0x1a5384,_0x5607f7),'dir':_0x1a5384,'isPrimary':_0x1eb7f9[_0x4b8802(0x192)](_0x1a5384)===_0x1eb7f9[_0x4b8802(0x192)](_0x1927d8)});}}catch(_0x5142af){}}for(const _0x8c12df of _0x710153){await loadFile(_0x8c12df['filePath'],![],_0x1c4548);}return calculateDependencyGraph(),updateHandlers(),{'success':moduleStatus['loaded'][_0x4b8802(0x194)],'failed':moduleStatus[_0x4b8802(0x175)][_0x4b8802(0x194)]};}async function handleFileEvent(_0x11ff9a,_0x14ade4,_0x501f47){const _0x1d5592=_0x1c8811,_0x22afd5=getConfig();if(!_0x22afd5[_0x1d5592(0x1e9)+_0x1d5592(0x150)+_0x1d5592(0x15a)][_0x1d5592(0x16f)](_0x1eb7f9['extname'](_0x14ade4)))return;(_0x11ff9a===_0x1d5592(0x195)||_0x11ff9a===_0x1d5592(0x1a4))&&await loadFile(_0x14ade4,!![],_0x501f47);}export function setupWatchers(_0x11013b){const _0x43c73d=_0x1c8811;if(!chokidar)return;const {allDirs:_0x20774a}=resolveConfiguredDirs(),_0x4356f1=chokidar[_0x43c73d(0x18a)](_0x20774a,{'ignoreInitial':!![],'persistent':!![]});_0x4356f1['on']('all',async(_0x238da6,_0x431d63)=>{await handleFileEvent(_0x238da6,_0x431d63,_0x11013b);});}export async function initializeModules(_0x2510da){const _0x36e939=_0x1c8811;if(!_0x2510da)throw new Error(_0x36e939(0x1b2)+_0x36e939(0x1ae)+_0x36e939(0x161)+_0x36e939(0x158));if(!isProduction)try{chokidar=(await import('chokidar'))['default'];}catch(_0x36cce1){chokidar=null;}const _0x5cad18=getConfig(),_0x348306=Symbol[_0x36e939(0x1e0)](_0x5cad18[_0x36e939(0x14b)+_0x36e939(0x1b5)]||_0x36e939(0x18f)+_0x36e939(0x1e3));!_0x2510da[_0x348306]&&(_0x2510da['on'](_0x36e939(0x1b4),async _0x53797e=>{const _0x2f2a1e=_0x36e939;try{const _0x116edd={};_0x116edd[_0x2f2a1e(0x1e8)]=_0x2510da?.['sock']&&_0x2510da['sock'][_0x2f2a1e(0x1ce)]&&_0x2510da[_0x2f2a1e(0x184)][_0x2f2a1e(0x1ce)]['id']||null,_0x116edd['from']=_0x53797e?.[_0x2f2a1e(0x1a8)]||null,_0x116edd[_0x2f2a1e(0x1c7)]=!!(_0x116edd[_0x2f2a1e(0x1d1)]&&_0x2510da&&typeof _0x2510da[_0x2f2a1e(0x1c7)]===_0x2f2a1e(0x1a2)&&_0x2510da[_0x2f2a1e(0x1c7)](_0x116edd[_0x2f2a1e(0x1d1)])),_0x116edd[_0x2f2a1e(0x1d9)]=_0x53797e?.['rawText']??(_0x53797e?.[_0x2f2a1e(0x1b4)]?_0x53797e[_0x2f2a1e(0x1b4)]?.[_0x2f2a1e(0x14e)+'on']||_0x53797e['message']?.[_0x2f2a1e(0x179)+'xtMessage']?.[_0x2f2a1e(0x18d)]||_0x53797e[_0x2f2a1e(0x1b4)]?.[_0x2f2a1e(0x1b1)+'ge']?.[_0x2f2a1e(0x16a)]||_0x53797e[_0x2f2a1e(0x1b4)]?.['videoMessa'+'ge']?.[_0x2f2a1e(0x16a)]||'':''),_0x116edd[_0x2f2a1e(0x18d)]=_0x53797e?.[_0x2f2a1e(0x18d)]??(typeof _0x116edd['rawText']===_0x2f2a1e(0x154)?_0x116edd[_0x2f2a1e(0x1d9)]['trim']():''),_0x116edd[_0x2f2a1e(0x196)]=typeof _0x53797e?.[_0x2f2a1e(0x196)]===_0x2f2a1e(0x1ec)?_0x53797e[_0x2f2a1e(0x196)]:((()=>{const _0x164cb9=_0x2f2a1e;if(!_0x116edd[_0x164cb9(0x18d)])return![];const _0x40cfb9=_0x116edd['text'][_0x164cb9(0x19e)](),_0x268161=_0x5cad18[_0x164cb9(0x14f)+_0x164cb9(0x187)];if(!_0x268161)return allCommandNames[_0x164cb9(0x169)](_0x40cfb9[_0x164cb9(0x156)](/\s+/)[0x1e13*0x1+-0xad*-0x2f+-0x3dd6*0x1]?.[_0x164cb9(0x168)+'e']());const _0x150d8a=Array[_0x164cb9(0x193)](_0x268161)?_0x268161:[_0x268161],_0x4c67d1=_0x150d8a['find'](_0x318557=>_0x40cfb9[_0x164cb9(0x1a0)](_0x318557));if(!_0x4c67d1)return![];return allCommandNames[_0x164cb9(0x169)](_0x40cfb9[_0x164cb9(0x1cb)](_0x4c67d1['length'])['trim']()[_0x164cb9(0x156)](/\s+/)[0x3*0x5df+-0x13*0x9d+0x2*-0x2fb]?.[_0x164cb9(0x168)+'e']());})()),_0x116edd[_0x2f2a1e(0x1d5)]=![],_0x116edd[_0x2f2a1e(0x1b9)]=async _0xb9156d=>{const _0x5a37f4=_0x2f2a1e;if(_0x2510da&&typeof _0x2510da[_0x5a37f4(0x178)+'e']===_0x5a37f4(0x1a2))return await _0x2510da['sendMessag'+'e'](_0x116edd[_0x5a37f4(0x1d1)],_0xb9156d,{'quoted':_0x53797e});};for(const {handler:_0x1ad253,module:_0xda41fd}of messageHandlers){try{await Promise[_0x2f2a1e(0x192)](_0x1ad253(_0x53797e,_0x116edd));}catch(_0x288280){error(_0x2f2a1e(0x1c0)+_0xda41fd+'\x20error:\x20'+(_0x288280?.[_0x2f2a1e(0x1b4)]||_0x288280),sanitizeError(_0x288280));}}}catch(_0x50dc7e){error(_0x2f2a1e(0x1a9)+_0x2f2a1e(0x191)+_0x2f2a1e(0x183)+_0x2f2a1e(0x1ef),sanitizeError(_0x50dc7e));}}),_0x2510da[_0x348306]=!![],info('üîí\x20Global\x20b'+_0x36e939(0x1e4)+_0x36e939(0x1cf)+_0x36e939(0x18b)+'.'));try{modules['size']===0x1b2*0x9+-0x2385+0x1443&&(await loadAllModules(_0x2510da),setupWatchers(_0x2510da));}catch(_0xb02ac6){error('‚ùå\x20initiali'+_0x36e939(0x166)+_0x36e939(0x175),sanitizeError(_0xb02ac6));}}export function getCommandNames(){return new Set(allCommandNames);}export function getModuleStatus(){const _0x4267e8=_0x1c8811;return{'loadedCount':moduleStatus[_0x4267e8(0x1e1)][_0x4267e8(0x194)],'failedCount':moduleStatus[_0x4267e8(0x175)][_0x4267e8(0x194)],'loaded':moduleStatus[_0x4267e8(0x1e1)],'failed':moduleStatus[_0x4267e8(0x175)]};}