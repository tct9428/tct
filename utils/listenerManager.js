(function(_0x1582a2,_0x2ecbe6){const _0x102c19=_0x4be8,_0x4118df=_0x1582a2();while(!![]){try{const _0x5c274a=parseInt(_0x102c19(0xff))/(-0x83f*-0x3+-0xeff*0x2+0x542*0x1)*(-parseInt(_0x102c19(0x103))/(-0x2362+-0xe*-0x15b+0x106a))+parseInt(_0x102c19(0x11b))/(0x20b2+-0xbaa+-0x1505*0x1)+parseInt(_0x102c19(0x101))/(0x750*0x1+0x2*-0x1318+-0x1*-0x1ee4)*(-parseInt(_0x102c19(0xdf))/(0x16b0+0xdbe+-0x2469))+parseInt(_0x102c19(0x113))/(-0x3c6+0x32*-0x6+0x4*0x13e)*(-parseInt(_0x102c19(0xe3))/(-0x1b2f*0x1+-0x430+0x1f66))+parseInt(_0x102c19(0x118))/(0x3*0xb03+-0x64c*-0x5+-0x407d)+parseInt(_0x102c19(0x107))/(-0x24d5+-0x3ce*0xa+-0x1be*-0x2b)+-parseInt(_0x102c19(0x11c))/(-0x129a+0x636+0xc6e);if(_0x5c274a===_0x2ecbe6)break;else _0x4118df['push'](_0x4118df['shift']());}catch(_0x415420){_0x4118df['push'](_0x4118df['shift']());}}}(_0x218b,-0x55f6*-0x1+-0x7fab4+0xbe57e));function _0x4be8(_0x185b26,_0x3d2871){const _0x50b265=_0x218b();return _0x4be8=function(_0xf6823e,_0x4b9669){_0xf6823e=_0xf6823e-(0x10b9+0x34*0xb8+-0x1*0x353c);let _0x2fcbb5=_0x50b265[_0xf6823e];return _0x2fcbb5;},_0x4be8(_0x185b26,_0x3d2871);}import{info,warn}from'./logger.js';import{getConfig}from'./config.js';const managedListeners=new Map();function createManagedListener({botRef:_0x134e9d,eventName:_0x518d75,handler:_0x3e8e9,moduleName:_0x57590a}){const _0xdd4515=_0x4be8;if(!_0x134e9d||!_0x518d75||!_0x3e8e9||!_0x57590a)return warn('[ListenerM'+'anager]\x20In'+_0xdd4515(0xf0)+_0xdd4515(0xf7)+_0xdd4515(0xfa)+_0xdd4515(0x109)+_0xdd4515(0xfe)+_0x57590a+_0xdd4515(0xf8)+_0x518d75+'.'),null;const _0x215e79=getConfig(),_0x528256=_0x215e79[_0xdd4515(0xe7)+_0xdd4515(0xf1)],_0x362707=_0x215e79['SOCK_MONIT'+'OR_MS'],_0x4a89fb={'botRef':_0x134e9d,'eventName':_0x518d75,'handler':_0x3e8e9,'moduleName':_0x57590a,'attached':![],'lastSockIdentity':null,'attachWatcherInterval':null,'sockMonitorInterval':null,'connectionUpdateHandler':null},_0x2b7d4c=()=>{const _0xd997c5=_0xdd4515;try{const _0x50dd6a=_0x4a89fb['botRef']?.['sock'];if(!_0x50dd6a?.['ev'])return;const _0x1a1ed1=_0x50dd6a['ev'][_0xd997c5(0x11a)]||_0x50dd6a['ev']['removeList'+'ener'];typeof _0x1a1ed1===_0xd997c5(0x106)&&_0x1a1ed1[_0xd997c5(0x119)](_0x50dd6a['ev'],_0x4a89fb[_0xd997c5(0x102)],_0x4a89fb[_0xd997c5(0xf9)]);}catch(_0x4d60bc){warn(_0xd997c5(0x120)+_0xd997c5(0xdd)+'ror\x20detach'+_0xd997c5(0x10e)+_0x4a89fb[_0xd997c5(0x102)]+'\x20for\x20'+_0x4a89fb[_0xd997c5(0x114)]+':\x20'+(_0x4d60bc?.['message']||_0x4d60bc));}finally{_0x4a89fb[_0xd997c5(0xe1)]=![],_0x4a89fb[_0xd997c5(0xef)+'entity']=null;}},_0x4330cc=()=>{const _0x3062a7=_0xdd4515;try{const _0x2ab519=_0x4a89fb['botRef']?.[_0x3062a7(0x121)];if(!_0x2ab519?.['ev'])return![];_0x2b7d4c();const _0x1ca983=_0x2ab519['ev']['on']||_0x2ab519['ev'][_0x3062a7(0xf3)+'r'];return typeof _0x1ca983===_0x3062a7(0x106)?(_0x1ca983['call'](_0x2ab519['ev'],_0x4a89fb[_0x3062a7(0x102)],_0x4a89fb['handler']),!_0x4a89fb[_0x3062a7(0xe1)]&&info(_0x3062a7(0x120)+_0x3062a7(0xe6)+_0x3062a7(0xec)+_0x3062a7(0x10d)+'\x22'+_0x4a89fb[_0x3062a7(0x102)]+(_0x3062a7(0x10a)+_0x3062a7(0xea))+_0x4a89fb[_0x3062a7(0x114)]+'\x22.'),_0x4a89fb[_0x3062a7(0xe1)]=!![],_0x4a89fb[_0x3062a7(0xef)+'entity']=_0x2ab519,!![]):(warn(_0x3062a7(0x120)+_0x3062a7(0xfd)+_0x3062a7(0x10b)+_0x3062a7(0xe5)+_0x3062a7(0x10c)+_0x3062a7(0xe4)+_0x3062a7(0xf2)+_0x4a89fb[_0x3062a7(0x114)]+'.'),![]);}catch(_0x46a6b8){return warn(_0x3062a7(0x120)+_0x3062a7(0x112)+_0x3062a7(0xfb)+_0x3062a7(0x115)+_0x4a89fb[_0x3062a7(0x102)]+'\x20for\x20'+_0x4a89fb[_0x3062a7(0x114)]+':\x20'+(_0x46a6b8?.[_0x3062a7(0x11e)]||_0x46a6b8)),_0x4a89fb[_0x3062a7(0xe1)]=![],![];}},_0xa31291=()=>{const _0x37aa44=_0xdd4515;if(_0x4a89fb[_0x37aa44(0x11f)+'herInterva'+'l'])clearInterval(_0x4a89fb[_0x37aa44(0x11f)+'herInterva'+'l']);if(_0x4a89fb[_0x37aa44(0x117)+_0x37aa44(0x108)])clearInterval(_0x4a89fb[_0x37aa44(0x117)+_0x37aa44(0x108)]);_0x4a89fb[_0x37aa44(0x11f)+_0x37aa44(0x10f)+'l']=null,_0x4a89fb[_0x37aa44(0x117)+_0x37aa44(0x108)]=null;if(_0x4a89fb['connection'+'UpdateHand'+'ler']&&_0x4a89fb[_0x37aa44(0xe0)]?.[_0x37aa44(0x121)]?.['ev']){const _0x10aedf=_0x4a89fb['botRef'][_0x37aa44(0x121)]['ev'][_0x37aa44(0x11a)]||_0x4a89fb[_0x37aa44(0xe0)][_0x37aa44(0x121)]['ev'][_0x37aa44(0x11d)+'ener'];if(typeof _0x10aedf===_0x37aa44(0x106))try{_0x10aedf[_0x37aa44(0x119)](_0x4a89fb[_0x37aa44(0xe0)]['sock']['ev'],'connection'+_0x37aa44(0xe2),_0x4a89fb[_0x37aa44(0xfc)+_0x37aa44(0xf6)+_0x37aa44(0x111)]);}catch(_0x1f1621){}_0x4a89fb[_0x37aa44(0xfc)+_0x37aa44(0xf6)+'ler']=null;}},_0x26f5a7=()=>{const _0x5e48d3=_0xdd4515;_0xa31291(),_0x4a89fb[_0x5e48d3(0x11f)+_0x5e48d3(0x10f)+'l']=setInterval(()=>{const _0x26702b=_0x5e48d3;if(_0x4a89fb[_0x26702b(0xe0)]?.['sock']?.['ev']&&!_0x4a89fb[_0x26702b(0xe1)])_0x4330cc();},_0x528256),_0x4a89fb[_0x5e48d3(0x117)+_0x5e48d3(0x108)]=setInterval(()=>{const _0x3199f6=_0x5e48d3,_0x13c707=_0x4a89fb[_0x3199f6(0xe0)]?.[_0x3199f6(0x121)]||null;_0x13c707&&_0x4a89fb['lastSockId'+_0x3199f6(0x100)]!==_0x13c707&&(info('[ListenerM'+_0x3199f6(0xde)+_0x3199f6(0xee)+_0x3199f6(0x110)+_0x3199f6(0xf5)+_0x4a89fb[_0x3199f6(0x114)]+('\x22,\x20re-atta'+_0x3199f6(0xeb)+_0x3199f6(0xe9))),_0x4330cc());},_0x362707);if(_0x4a89fb['botRef']?.['sock']?.['ev']){_0x4a89fb['connection'+_0x5e48d3(0xf6)+_0x5e48d3(0x111)]=()=>setTimeout(()=>_0x4330cc(),0x3d*-0x6f+-0x214*-0xb+0x58b*0x1);const _0x352175=_0x4a89fb[_0x5e48d3(0xe0)][_0x5e48d3(0x121)]['ev']['on']||_0x4a89fb[_0x5e48d3(0xe0)][_0x5e48d3(0x121)]['ev'][_0x5e48d3(0xf3)+'r'];typeof _0x352175===_0x5e48d3(0x106)&&_0x352175[_0x5e48d3(0x119)](_0x4a89fb[_0x5e48d3(0xe0)][_0x5e48d3(0x121)]['ev'],'connection'+_0x5e48d3(0xe2),_0x4a89fb[_0x5e48d3(0xfc)+_0x5e48d3(0xf6)+_0x5e48d3(0x111)]);}},_0x21ddcb={'start':()=>{_0x4330cc(),_0x26f5a7();},'stop':()=>{_0xa31291(),_0x2b7d4c();}};return _0x21ddcb;}export function startManagedListener(_0x28d5c0){const _0x48ce6b=_0x4be8,{moduleName:_0x5f568e,eventName:_0x45110e}=_0x28d5c0,_0x5a9279=_0x5f568e+':'+_0x45110e;managedListeners[_0x48ce6b(0x116)](_0x5a9279)&&managedListeners[_0x48ce6b(0x105)](_0x5a9279)[_0x48ce6b(0xf4)]();const _0x297c79=createManagedListener(_0x28d5c0);return _0x297c79&&(managedListeners[_0x48ce6b(0xe8)](_0x5a9279,_0x297c79),_0x297c79[_0x48ce6b(0xed)]()),_0x297c79;}function _0x218b(){const _0xf3bd08=['get','function','4903560MACLuY','rInterval','istener:\x20m','\x22\x20in\x20modul','tRef.sock.','\x20.on\x20metho','tener\x20for\x20','ing\x20','herInterva','nce\x20change','ler','anager]\x20Fa','148866HRaCcH','moduleName','tach\x20','has','sockMonito','3991576fWcQzQ','call','off','802581ZxDajp','4896560MFsLce','removeList','message','attachWatc','[ListenerM','sock','anager]\x20Er','anager]\x20So','72860VeyDVb','botRef','attached','.update','35lsuROF','d\x20for\x20modu','ev\x20missing','anager]\x20At','ATTACH_WAT','set','ener.','e\x20\x22','ching\x20list','tached\x20lis','start','cket\x20insta','lastSockId','valid\x20argu','CHER_MS','le\x20','addListene','stop','d\x20for\x20\x22','UpdateHand','ments\x20for\x20',',\x20event=','handler','creating\x20l','iled\x20to\x20at','connection','anager]\x20bo','odule=','10867bCCzdj','entity','112IgjIKB','eventName','2vwPriW','delete'];_0x218b=function(){return _0xf3bd08;};return _0x218b();}export function stopManagedListener(_0x12132b,_0x38c113){const _0x303ebb=_0x4be8,_0x2e0dbf=_0x12132b+':'+_0x38c113;managedListeners[_0x303ebb(0x116)](_0x2e0dbf)&&(managedListeners['get'](_0x2e0dbf)[_0x303ebb(0xf4)](),managedListeners[_0x303ebb(0x104)](_0x2e0dbf));}