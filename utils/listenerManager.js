(function(_0xde3af1,_0x409953){const _0x16f638=_0x5523,_0x1f028f=_0xde3af1();while(!![]){try{const _0x3b05d3=parseInt(_0x16f638(0x91))/(-0x726+-0x1*0xc0b+-0x4e*-0x3f)*(-parseInt(_0x16f638(0xca))/(0xc5*0x21+-0x6d9*-0x5+0x3*-0x13e0))+-parseInt(_0x16f638(0xae))/(-0x7a*0x2c+-0x1ee6+0x33e1)+-parseInt(_0x16f638(0xb3))/(-0x89*0x25+-0x208*-0x8+0x391)+parseInt(_0x16f638(0x8a))/(0x1*0x231d+-0x2234+0x4*-0x39)+parseInt(_0x16f638(0x97))/(0x1e72+-0x157+-0x1d15)+parseInt(_0x16f638(0x9c))/(-0x1874+0x2657+-0xddc)*(parseInt(_0x16f638(0xc8))/(0x1*-0x16f7+0xe54+-0x8ab*-0x1))+parseInt(_0x16f638(0xb7))/(0xb5*-0x33+0x1e44*-0x1+-0x4*-0x1097);if(_0x3b05d3===_0x409953)break;else _0x1f028f['push'](_0x1f028f['shift']());}catch(_0x3d26cb){_0x1f028f['push'](_0x1f028f['shift']());}}}(_0x3439,-0x6*0x22f16+0x132fd2*0x1+0x8e5bd));import{info,warn}from'./logger.js';import{getConfig}from'./config.js';const managedListeners=new Map();function createManagedListener({botRef:_0x3f249c,eventName:_0x1989f3,handler:_0x5297df,moduleName:_0x564683}){const _0x4c5878=_0x5523;if(!_0x3f249c||!_0x1989f3||!_0x5297df||!_0x564683)return warn(_0x4c5878(0xba)+_0x4c5878(0x94)+_0x4c5878(0xa6)+_0x4c5878(0xac)+_0x4c5878(0xab)+_0x4c5878(0xbd)+_0x4c5878(0x98)+_0x564683+_0x4c5878(0xb2)+_0x1989f3+'.'),null;const _0x4f8479=getConfig(),_0x4fa162=_0x4f8479[_0x4c5878(0xa8)+_0x4c5878(0x95)],_0x44c402=_0x4f8479[_0x4c5878(0xa0)+_0x4c5878(0xa5)],_0x2c784b={'botRef':_0x3f249c,'eventName':_0x1989f3,'handler':_0x5297df,'moduleName':_0x564683,'attached':![],'lastSockIdentity':null,'attachWatcherInterval':null,'sockMonitorInterval':null,'connectionUpdateHandler':null},_0x4f50fa=()=>{const _0x255abf=_0x4c5878;try{const _0x3ca2be=_0x2c784b['botRef']?.[_0x255abf(0x8d)];if(!_0x3ca2be?.['ev'])return;const _0x1a1e59=_0x3ca2be['ev'][_0x255abf(0x9d)]||_0x3ca2be['ev'][_0x255abf(0xbb)+_0x255abf(0x9f)];typeof _0x1a1e59===_0x255abf(0xad)&&_0x1a1e59[_0x255abf(0x8e)](_0x3ca2be['ev'],_0x2c784b['eventName'],_0x2c784b[_0x255abf(0x8f)]);}catch(_0x3740d6){warn(_0x255abf(0xba)+_0x255abf(0xb6)+_0x255abf(0xb5)+_0x255abf(0x99)+_0x2c784b[_0x255abf(0xa3)]+'\x20for\x20'+_0x2c784b[_0x255abf(0xb0)]+':\x20'+(_0x3740d6?.[_0x255abf(0x96)]||_0x3740d6));}finally{_0x2c784b[_0x255abf(0x9a)]=![],_0x2c784b[_0x255abf(0x9e)+_0x255abf(0xa2)]=null;}},_0x10037d=()=>{const _0x5c8515=_0x4c5878;try{const _0x48176d=_0x2c784b['botRef']?.[_0x5c8515(0x8d)];if(!_0x48176d?.['ev'])return![];_0x4f50fa();const _0x1d1396=_0x48176d['ev']['on']||_0x48176d['ev'][_0x5c8515(0xbe)+'r'];return typeof _0x1d1396===_0x5c8515(0xad)?(_0x1d1396[_0x5c8515(0x8e)](_0x48176d['ev'],_0x2c784b[_0x5c8515(0xa3)],_0x2c784b[_0x5c8515(0x8f)]),!_0x2c784b[_0x5c8515(0x9a)]&&info('[ListenerM'+_0x5c8515(0xbf)+'tached\x20lis'+_0x5c8515(0xb8)+'\x22'+_0x2c784b[_0x5c8515(0xa3)]+(_0x5c8515(0xa9)+_0x5c8515(0x8b))+_0x2c784b[_0x5c8515(0xb0)]+'\x22.'),_0x2c784b[_0x5c8515(0x9a)]=!![],_0x2c784b['lastSockId'+_0x5c8515(0xa2)]=_0x48176d,!![]):(warn('[ListenerM'+_0x5c8515(0xb1)+_0x5c8515(0xc7)+_0x5c8515(0xb4)+'\x20.on\x20metho'+_0x5c8515(0xc0)+_0x5c8515(0xa7)+_0x2c784b[_0x5c8515(0xb0)]+'.'),![]);}catch(_0xfcd9c9){return warn('[ListenerM'+_0x5c8515(0xbc)+'iled\x20to\x20at'+'tach\x20'+_0x2c784b[_0x5c8515(0xa3)]+_0x5c8515(0xb9)+_0x2c784b[_0x5c8515(0xb0)]+':\x20'+(_0xfcd9c9?.['message']||_0xfcd9c9)),_0x2c784b[_0x5c8515(0x9a)]=![],![];}},_0x587bf8=()=>{const _0x5d9df9=_0x4c5878;if(_0x2c784b[_0x5d9df9(0x90)+_0x5d9df9(0x93)+'l'])clearInterval(_0x2c784b[_0x5d9df9(0x90)+'herInterva'+'l']);if(_0x2c784b[_0x5d9df9(0xaf)+'rInterval'])clearInterval(_0x2c784b[_0x5d9df9(0xaf)+'rInterval']);_0x2c784b[_0x5d9df9(0x90)+_0x5d9df9(0x93)+'l']=null,_0x2c784b[_0x5d9df9(0xaf)+_0x5d9df9(0xc6)]=null;if(_0x2c784b['connection'+'UpdateHand'+_0x5d9df9(0xaa)]&&_0x2c784b[_0x5d9df9(0xc3)]?.[_0x5d9df9(0x8d)]?.['ev']){const _0x57f52f=_0x2c784b[_0x5d9df9(0xc3)][_0x5d9df9(0x8d)]['ev'][_0x5d9df9(0x9d)]||_0x2c784b[_0x5d9df9(0xc3)][_0x5d9df9(0x8d)]['ev'][_0x5d9df9(0xbb)+_0x5d9df9(0x9f)];if(typeof _0x57f52f===_0x5d9df9(0xad))try{_0x57f52f[_0x5d9df9(0x8e)](_0x2c784b[_0x5d9df9(0xc3)][_0x5d9df9(0x8d)]['ev'],'connection'+'.update',_0x2c784b[_0x5d9df9(0x92)+'UpdateHand'+_0x5d9df9(0xaa)]);}catch(_0x5dc461){}_0x2c784b[_0x5d9df9(0x92)+_0x5d9df9(0xa1)+_0x5d9df9(0xaa)]=null;}},_0x3bb891=()=>{const _0x4bf9cd=_0x4c5878;_0x587bf8(),_0x2c784b[_0x4bf9cd(0x90)+'herInterva'+'l']=setInterval(()=>{const _0x4320ab=_0x4bf9cd;if(_0x2c784b[_0x4320ab(0xc3)]?.[_0x4320ab(0x8d)]?.['ev']&&!_0x2c784b[_0x4320ab(0x9a)])_0x10037d();},_0x4fa162),_0x2c784b['sockMonito'+_0x4bf9cd(0xc6)]=setInterval(()=>{const _0x2a9d3a=_0x4bf9cd,_0x14ce6e=_0x2c784b['botRef']?.['sock']||null;_0x14ce6e&&_0x2c784b['lastSockId'+_0x2a9d3a(0xa2)]!==_0x14ce6e&&(info(_0x2a9d3a(0xba)+_0x2a9d3a(0xc2)+'cket\x20insta'+_0x2a9d3a(0xc5)+_0x2a9d3a(0x8c)+_0x2c784b[_0x2a9d3a(0xb0)]+('\x22,\x20re-atta'+'ching\x20list'+_0x2a9d3a(0x9b))),_0x10037d());},_0x44c402);if(_0x2c784b[_0x4bf9cd(0xc3)]?.[_0x4bf9cd(0x8d)]?.['ev']){_0x2c784b[_0x4bf9cd(0x92)+_0x4bf9cd(0xa1)+_0x4bf9cd(0xaa)]=()=>setTimeout(()=>_0x10037d(),-0x11*0x3d+0xed0+-0x8cf);const _0x2d7988=_0x2c784b['botRef']['sock']['ev']['on']||_0x2c784b[_0x4bf9cd(0xc3)][_0x4bf9cd(0x8d)]['ev'][_0x4bf9cd(0xbe)+'r'];typeof _0x2d7988===_0x4bf9cd(0xad)&&_0x2d7988['call'](_0x2c784b['botRef'][_0x4bf9cd(0x8d)]['ev'],'connection'+_0x4bf9cd(0xc1),_0x2c784b[_0x4bf9cd(0x92)+'UpdateHand'+_0x4bf9cd(0xaa)]);}},_0x2f1bda={'start':()=>{_0x10037d(),_0x3bb891();},'stop':()=>{_0x587bf8(),_0x4f50fa();}};return _0x2f1bda;}function _0x3439(){const _0x2ec355=[',\x20event=','3496060GxBcQn','ev\x20missing','ror\x20detach','anager]\x20Er','2232522dRNEDt','tener\x20for\x20','\x20for\x20','[ListenerM','removeList','anager]\x20Fa','istener:\x20m','addListene','anager]\x20At','d\x20for\x20modu','.update','anager]\x20So','botRef','set','nce\x20change','rInterval','tRef.sock.','281752CQbnEh','delete','2gNBiUm','has','get','3843010rNNFTN','e\x20\x22','d\x20for\x20\x22','sock','call','handler','attachWatc','380329yXiRuE','connection','herInterva','anager]\x20In','CHER_MS','message','7605168UqndbW','odule=','ing\x20','attached','ener.','28onWJBU','off','lastSockId','ener','SOCK_MONIT','UpdateHand','entity','eventName','start','OR_MS','valid\x20argu','le\x20','ATTACH_WAT','\x22\x20in\x20modul','ler','creating\x20l','ments\x20for\x20','function','566847fvKJrj','sockMonito','moduleName','anager]\x20bo'];_0x3439=function(){return _0x2ec355;};return _0x3439();}function _0x5523(_0x6d773f,_0x48cc6b){const _0xfc4093=_0x3439();return _0x5523=function(_0x541e29,_0x2abe42){_0x541e29=_0x541e29-(0x1be6*-0x1+-0x2320+0x3f8f);let _0x41c489=_0xfc4093[_0x541e29];return _0x41c489;},_0x5523(_0x6d773f,_0x48cc6b);}export function startManagedListener(_0x15ae5f){const _0x5da943=_0x5523,{moduleName:_0x239d49,eventName:_0x1b81af}=_0x15ae5f,_0x5305d4=_0x239d49+':'+_0x1b81af;managedListeners[_0x5da943(0xcb)](_0x5305d4)&&managedListeners[_0x5da943(0x89)](_0x5305d4)['stop']();const _0x272ba9=createManagedListener(_0x15ae5f);return _0x272ba9&&(managedListeners[_0x5da943(0xc4)](_0x5305d4,_0x272ba9),_0x272ba9[_0x5da943(0xa4)]()),_0x272ba9;}export function stopManagedListener(_0x3245bf,_0x5ef674){const _0xced248=_0x5523,_0x5b449d=_0x3245bf+':'+_0x5ef674;managedListeners[_0xced248(0xcb)](_0x5b449d)&&(managedListeners[_0xced248(0x89)](_0x5b449d)['stop'](),managedListeners[_0xced248(0xc9)](_0x5b449d));}