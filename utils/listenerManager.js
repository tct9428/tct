(function(_0x350b88,_0x75d5eb){const _0x20a5ea=_0x2ab2,_0x3b4ab0=_0x350b88();while(!![]){try{const _0x5db25f=-parseInt(_0x20a5ea(0x1b5))/(0x1*-0x9a9+-0x7*-0x10+0x93a)+-parseInt(_0x20a5ea(0x1b9))/(-0x213a+-0x144d*0x1+0x3589)*(-parseInt(_0x20a5ea(0x195))/(-0x26ea*0x1+-0xd5e+0x344b))+-parseInt(_0x20a5ea(0x18e))/(-0x1*0xf9d+0x1d66+-0xdc5)*(parseInt(_0x20a5ea(0x19f))/(-0x1*0x2342+0x4*0x9a4+-0x1*0x349))+-parseInt(_0x20a5ea(0x186))/(0x947+0x1f65+0x1*-0x28a6)*(parseInt(_0x20a5ea(0x1ab))/(0x7b0+0x1d*0x3d+-0xe92))+-parseInt(_0x20a5ea(0x1c1))/(0xe6e+-0x35b*0x9+-0xfcd*-0x1)+-parseInt(_0x20a5ea(0x1ae))/(0x1411+0x3a*-0x61+0x1f2)+-parseInt(_0x20a5ea(0x1a3))/(-0x1*-0x134b+-0x1e2e+-0xaed*-0x1)*(-parseInt(_0x20a5ea(0x1a9))/(0x89*-0xd+-0x2d5*-0x6+0x2*-0x4ff));if(_0x5db25f===_0x75d5eb)break;else _0x3b4ab0['push'](_0x3b4ab0['shift']());}catch(_0x31a1e3){_0x3b4ab0['push'](_0x3b4ab0['shift']());}}}(_0x2726,0x10754e*0x1+0xde6fc+-0x128e0f));function _0x2ab2(_0x25ca91,_0x3b2700){const _0x25cc07=_0x2726();return _0x2ab2=function(_0x4884aa,_0x3df47d){_0x4884aa=_0x4884aa-(0x1acb+0x14a1+0x16f6*-0x2);let _0x272ce4=_0x25cc07[_0x4884aa];return _0x272ce4;},_0x2ab2(_0x25ca91,_0x3b2700);}import{info,warn}from'./logger.js';import{getConfig}from'./config.js';const managedListeners=new Map();function _0x2726(){const _0x2378ef=['attached','ing\x20','herInterva','6JYCQvU','istener:\x20m','eventName','\x20.on\x20metho','OR_MS','botRef','handler','start','4orKiEj','anager]\x20Fa','connection','get','ener','rInterval','anager]\x20In','9OctFXd','ror\x20detach','ments\x20for\x20','ler','e\x20\x22','sockMonito','iled\x20to\x20at','.update','valid\x20argu','anager]\x20Er','3857605DShZxV','moduleName','attachWatc','anager]\x20At','9340PNdrxJ','\x20for\x20','tRef.sock.','\x22,\x20re-atta','tener\x20for\x20','entity','48785GuKgbW','d\x20for\x20\x22','7316799qzfAni','call','has','12888756vwRFGp','UpdateHand','anager]\x20So','delete','ATTACH_WAT','anager]\x20bo','tach\x20','976900newjqP','message','cket\x20insta','set','596614fBKkeL','nce\x20change','removeList','off','lastSockId','sock','d\x20for\x20modu','function','302064DmJxxT',',\x20event=','odule=','[ListenerM'];_0x2726=function(){return _0x2378ef;};return _0x2726();}function createManagedListener({botRef:_0x3c55a8,eventName:_0x3ca70b,handler:_0x255056,moduleName:_0x5ac2e9}){const _0x6e5e0b=_0x2ab2;if(!_0x3c55a8||!_0x3ca70b||!_0x255056||!_0x5ac2e9)return warn('[ListenerM'+_0x6e5e0b(0x194)+_0x6e5e0b(0x19d)+_0x6e5e0b(0x197)+'creating\x20l'+_0x6e5e0b(0x187)+_0x6e5e0b(0x181)+_0x5ac2e9+_0x6e5e0b(0x180)+_0x3ca70b+'.'),null;const _0x544d61=getConfig(),_0x1e36ee=_0x544d61[_0x6e5e0b(0x1b2)+'CHER_MS'],_0x4c3741=_0x544d61['SOCK_MONIT'+_0x6e5e0b(0x18a)],_0x18716c={'botRef':_0x3c55a8,'eventName':_0x3ca70b,'handler':_0x255056,'moduleName':_0x5ac2e9,'attached':![],'lastSockIdentity':null,'attachWatcherInterval':null,'sockMonitorInterval':null,'connectionUpdateHandler':null},_0x532f3e=()=>{const _0x3f182e=_0x6e5e0b;try{const _0x1c408c=_0x18716c[_0x3f182e(0x18b)]?.[_0x3f182e(0x1be)];if(!_0x1c408c?.['ev'])return;const _0xc5a1f=_0x1c408c['ev']['off']||_0x1c408c['ev'][_0x3f182e(0x1bb)+_0x3f182e(0x192)];typeof _0xc5a1f===_0x3f182e(0x1c0)&&_0xc5a1f[_0x3f182e(0x1ac)](_0x1c408c['ev'],_0x18716c[_0x3f182e(0x188)],_0x18716c[_0x3f182e(0x18c)]);}catch(_0x4bebeb){warn('[ListenerM'+_0x3f182e(0x19e)+_0x3f182e(0x196)+_0x3f182e(0x184)+_0x18716c[_0x3f182e(0x188)]+_0x3f182e(0x1a4)+_0x18716c['moduleName']+':\x20'+(_0x4bebeb?.[_0x3f182e(0x1b6)]||_0x4bebeb));}finally{_0x18716c[_0x3f182e(0x183)]=![],_0x18716c[_0x3f182e(0x1bd)+'entity']=null;}},_0x1883ab=()=>{const _0x582ba5=_0x6e5e0b;try{const _0x4f9903=_0x18716c[_0x582ba5(0x18b)]?.[_0x582ba5(0x1be)];if(!_0x4f9903?.['ev'])return![];_0x532f3e();const _0x40d557=_0x4f9903['ev']['on']||_0x4f9903['ev']['addListene'+'r'];return typeof _0x40d557===_0x582ba5(0x1c0)?(_0x40d557['call'](_0x4f9903['ev'],_0x18716c['eventName'],_0x18716c[_0x582ba5(0x18c)]),!_0x18716c[_0x582ba5(0x183)]&&info(_0x582ba5(0x182)+_0x582ba5(0x1a2)+'tached\x20lis'+_0x582ba5(0x1a7)+'\x22'+_0x18716c[_0x582ba5(0x188)]+('\x22\x20in\x20modul'+_0x582ba5(0x199))+_0x18716c[_0x582ba5(0x1a0)]+'\x22.'),_0x18716c[_0x582ba5(0x183)]=!![],_0x18716c['lastSockId'+'entity']=_0x4f9903,!![]):(warn(_0x582ba5(0x182)+_0x582ba5(0x1b3)+_0x582ba5(0x1a5)+'ev\x20missing'+_0x582ba5(0x189)+_0x582ba5(0x1bf)+'le\x20'+_0x18716c[_0x582ba5(0x1a0)]+'.'),![]);}catch(_0x51d296){return warn('[ListenerM'+_0x582ba5(0x18f)+_0x582ba5(0x19b)+_0x582ba5(0x1b4)+_0x18716c[_0x582ba5(0x188)]+_0x582ba5(0x1a4)+_0x18716c[_0x582ba5(0x1a0)]+':\x20'+(_0x51d296?.['message']||_0x51d296)),_0x18716c['attached']=![],![];}},_0xddada2=()=>{const _0x382cef=_0x6e5e0b;if(_0x18716c[_0x382cef(0x1a1)+_0x382cef(0x185)+'l'])clearInterval(_0x18716c['attachWatc'+_0x382cef(0x185)+'l']);if(_0x18716c[_0x382cef(0x19a)+_0x382cef(0x193)])clearInterval(_0x18716c[_0x382cef(0x19a)+'rInterval']);_0x18716c[_0x382cef(0x1a1)+'herInterva'+'l']=null,_0x18716c['sockMonito'+_0x382cef(0x193)]=null;if(_0x18716c[_0x382cef(0x190)+_0x382cef(0x1af)+_0x382cef(0x198)]&&_0x18716c['botRef']?.['sock']?.['ev']){const _0xf44efc=_0x18716c[_0x382cef(0x18b)][_0x382cef(0x1be)]['ev'][_0x382cef(0x1bc)]||_0x18716c[_0x382cef(0x18b)][_0x382cef(0x1be)]['ev'][_0x382cef(0x1bb)+_0x382cef(0x192)];if(typeof _0xf44efc===_0x382cef(0x1c0))try{_0xf44efc['call'](_0x18716c[_0x382cef(0x18b)][_0x382cef(0x1be)]['ev'],'connection'+_0x382cef(0x19c),_0x18716c[_0x382cef(0x190)+'UpdateHand'+_0x382cef(0x198)]);}catch(_0x569f50){}_0x18716c[_0x382cef(0x190)+_0x382cef(0x1af)+_0x382cef(0x198)]=null;}},_0x2f267a=()=>{const _0x4f48b8=_0x6e5e0b;_0xddada2(),_0x18716c[_0x4f48b8(0x1a1)+_0x4f48b8(0x185)+'l']=setInterval(()=>{const _0x21ae30=_0x4f48b8;if(_0x18716c[_0x21ae30(0x18b)]?.[_0x21ae30(0x1be)]?.['ev']&&!_0x18716c[_0x21ae30(0x183)])_0x1883ab();},_0x1e36ee),_0x18716c['sockMonito'+'rInterval']=setInterval(()=>{const _0x52de95=_0x4f48b8,_0x4a83f9=_0x18716c[_0x52de95(0x18b)]?.[_0x52de95(0x1be)]||null;_0x4a83f9&&_0x18716c[_0x52de95(0x1bd)+_0x52de95(0x1a8)]!==_0x4a83f9&&(info('[ListenerM'+_0x52de95(0x1b0)+_0x52de95(0x1b7)+_0x52de95(0x1ba)+_0x52de95(0x1aa)+_0x18716c['moduleName']+(_0x52de95(0x1a6)+'ching\x20list'+'ener.')),_0x1883ab());},_0x4c3741);if(_0x18716c['botRef']?.['sock']?.['ev']){_0x18716c['connection'+'UpdateHand'+_0x4f48b8(0x198)]=()=>setTimeout(()=>_0x1883ab(),-0xb*-0x110+-0x6fa+0x161*-0x2);const _0x27f604=_0x18716c[_0x4f48b8(0x18b)][_0x4f48b8(0x1be)]['ev']['on']||_0x18716c['botRef']['sock']['ev']['addListene'+'r'];typeof _0x27f604===_0x4f48b8(0x1c0)&&_0x27f604[_0x4f48b8(0x1ac)](_0x18716c['botRef'][_0x4f48b8(0x1be)]['ev'],_0x4f48b8(0x190)+'.update',_0x18716c[_0x4f48b8(0x190)+_0x4f48b8(0x1af)+_0x4f48b8(0x198)]);}},_0x1f4846={'start':()=>{_0x1883ab(),_0x2f267a();},'stop':()=>{_0xddada2(),_0x532f3e();}};return _0x1f4846;}export function startManagedListener(_0x5ed7fb){const _0x3e82a0=_0x2ab2,{moduleName:_0x3da844,eventName:_0x3d9cea}=_0x5ed7fb,_0x458c99=_0x3da844+':'+_0x3d9cea;managedListeners[_0x3e82a0(0x1ad)](_0x458c99)&&managedListeners['get'](_0x458c99)['stop']();const _0xd240cf=createManagedListener(_0x5ed7fb);return _0xd240cf&&(managedListeners[_0x3e82a0(0x1b8)](_0x458c99,_0xd240cf),_0xd240cf[_0x3e82a0(0x18d)]()),_0xd240cf;}export function stopManagedListener(_0x2acb08,_0x1f6577){const _0x2883b3=_0x2ab2,_0x11ef44=_0x2acb08+':'+_0x1f6577;managedListeners['has'](_0x11ef44)&&(managedListeners[_0x2883b3(0x191)](_0x11ef44)['stop'](),managedListeners[_0x2883b3(0x1b1)](_0x11ef44));}