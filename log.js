const _0x3f44dd=_0x31ae;(function(_0x897b2,_0xa3d506){const _0x273bc4=_0x31ae,_0x5ad91f=_0x897b2();while(!![]){try{const _0x1cf06f=parseInt(_0x273bc4(0xb4))/(0x1*0xdcf+-0x1b55+0xd87)*(parseInt(_0x273bc4(0xa6))/(0x8a2*0x4+-0x26bf+0x439))+-parseInt(_0x273bc4(0xfd))/(0x1*0x1939+-0xf71*-0x2+-0x3818)*(-parseInt(_0x273bc4(0xe0))/(-0x62d+-0x1*0x120e+0x183f*0x1))+parseInt(_0x273bc4(0xea))/(-0x705*0x3+0x4f*0x26+-0x156*-0x7)+-parseInt(_0x273bc4(0xfc))/(0x26c7+0x1fd2*-0x1+-0x6ef)*(-parseInt(_0x273bc4(0x111))/(-0x4f2+-0xc+-0x505*-0x1))+-parseInt(_0x273bc4(0xbe))/(-0x1fd1+0x174c+-0x88d*-0x1)*(parseInt(_0x273bc4(0x112))/(0xd04+0x9e*-0x5+-0x9e5))+-parseInt(_0x273bc4(0xf4))/(0x134e*0x2+0xbbd*-0x1+-0x1ad5)*(parseInt(_0x273bc4(0xde))/(-0x1862+0xfd5*0x2+-0x73d))+-parseInt(_0x273bc4(0xdc))/(-0x1*0xd34+0x1*-0x227d+0x65*0x79);if(_0x1cf06f===_0xa3d506)break;else _0x5ad91f['push'](_0x5ad91f['shift']());}catch(_0x27eef4){_0x5ad91f['push'](_0x5ad91f['shift']());}}}(_0x2d74,-0xa3*-0x1861+-0x1472a5+-0xc349*-0x19));import _0x4a2680 from'pino';import _0x326908 from'pino-pretty';import _0x586ab4 from'path';import _0x1f6813 from'fs/promises';import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,makeCacheableSignalKeyStore}from'@whiskeysockets/baileys';import{Boom}from'@hapi/boom';import{ensureAuth,deepSerialize}from'./qrcode.js';const globalMessagesToSuppress=[_0x3f44dd(0xf5)+_0x3f44dd(0x9e)+_0x3f44dd(0x102)+'essionEntr'+'y',_0x3f44dd(0x93)+_0x3f44dd(0xaf)+'ssage\x20with'+_0x3f44dd(0x11d)+_0x3f44dd(0xb6),_0x3f44dd(0xfe)+'ror:Error:'+_0x3f44dd(0xc8),_0x3f44dd(0xcf)+'eds.json\x22',_0x3f44dd(0xd5)+_0x3f44dd(0xf6)+_0x3f44dd(0xe6),_0x3f44dd(0xdb)+_0x3f44dd(0xf8)+'ession\x20for'+'\x20new\x20outgo'+_0x3f44dd(0xec)+_0x3f44dd(0xd7),'Closing\x20op'+_0x3f44dd(0x107)+_0x3f44dd(0xcc)+_0x3f44dd(0x95)+'g\x20prekey\x20b'+'undle','Decrypted\x20'+'message\x20wi'+'th\x20closed\x20'+'session.',_0x3f44dd(0xe7)+_0x3f44dd(0xaf)+'ssage',_0x3f44dd(0xc5)+_0x3f44dd(0x98)+'decrypt\x20me'+_0x3f44dd(0xcd),'Invalid\x20Pr'+_0x3f44dd(0x11b)],originalStdoutWrite=process['stdout'][_0x3f44dd(0x116)][_0x3f44dd(0xf1)](process['stdout']),originalStderrWrite=process[_0x3f44dd(0xc9)][_0x3f44dd(0x116)]['bind'](process['stderr']);function createGlobalFilteringWriter(_0x3b42be){return function(_0x45de2b,_0x16e42d,_0xcf7fe3){const _0x3e99d0=_0x31ae;try{const _0x5e419c=_0x45de2b&&_0x45de2b[_0x3e99d0(0x119)]?_0x45de2b[_0x3e99d0(0x119)]():String(_0x45de2b),_0x600781=globalMessagesToSuppress[_0x3e99d0(0x104)](_0x4964af=>_0x5e419c['includes'](_0x4964af));if(_0x600781){if(typeof _0xcf7fe3===_0x3e99d0(0xb1))_0xcf7fe3();return!![];}}catch(_0x4d7a73){}return _0x3b42be(_0x45de2b,_0x16e42d,_0xcf7fe3);};}process[_0x3f44dd(0xb9)]['write']=createGlobalFilteringWriter(originalStdoutWrite),process[_0x3f44dd(0xc9)][_0x3f44dd(0x116)]=createGlobalFilteringWriter(originalStderrWrite);const prettyStream=_0x326908({'colorize':!![],'translateTime':'SYS:standa'+'rd','ignore':'pid,hostna'+'me'}),logger=_0x4a2680({'level':_0x3f44dd(0x9b)},prettyStream),baileysLogger=_0x4a2680({'level':_0x3f44dd(0xdd)});process['on'](_0x3f44dd(0x10f)+_0x3f44dd(0xa8),_0x2088a6=>{const _0x542d04=_0x3f44dd;logger[_0x542d04(0xb5)]({'err':_0x2088a6},_0x542d04(0x103)+_0x542d04(0x106));}),process['on']('uncaughtEx'+_0x3f44dd(0xc6),_0x1cbc6c=>{const _0x3efea9=_0x3f44dd;logger[_0x3efea9(0xa5)]({'err':_0x1cbc6c},_0x3efea9(0x101)+_0x3efea9(0x10a)),process[_0x3efea9(0x100)](0x29*0x7+0x40*-0x14+0x2*0x1f1);});class FifoMutex{constructor(){const _0x6b66c=_0x3f44dd;this['_locked']=![],this[_0x6b66c(0xd6)]=[];}async[_0x3f44dd(0xf3)](){const _0x3a6484=_0x3f44dd;if(!this[_0x3a6484(0xc4)]){this['_locked']=!![];let _0x4e0335=![];return()=>{const _0x116553=_0x3a6484;!_0x4e0335&&(_0x4e0335=!![],this[_0x116553(0x9d)]());};}return new Promise(_0x2886fc=>this['_queue'][_0x3a6484(0xb3)](_0x2886fc))[_0x3a6484(0xd1)](()=>{let _0x585715=![];return()=>{const _0xf89f54=_0x31ae;!_0x585715&&(_0x585715=!![],this[_0xf89f54(0x9d)]());};});}[_0x3f44dd(0x9d)](){const _0x59e699=_0x3f44dd;this[_0x59e699(0xd6)]['length']>0x2*-0x119a+-0x1910+0x3c44?this[_0x59e699(0xd6)][_0x59e699(0x96)]()():this[_0x59e699(0xc4)]=![];}}const authMutex=new FifoMutex();let _authStateForFlush=null,_authFlushTimer=null,_authWriteInProgress=![];async function _atomicWriteAuthFile(_0x4df995,_0x38b475){const _0x4abc6a=_0x3f44dd,_0x1321c4=await authMutex[_0x4abc6a(0xf3)]();try{const _0xe09461=_0x586ab4['join'](_0x38b475,_0x4abc6a(0x105)+_0x4abc6a(0xd3)),_0x4a0cad=_0x586ab4[_0x4abc6a(0xdf)](_0x38b475,'creds.json');return await _0x1f6813['mkdir'](_0x586ab4[_0x4abc6a(0xe1)](_0x4a0cad),{'recursive':!![]})['catch'](()=>{}),await _0x1f6813[_0x4abc6a(0xe9)](_0xe09461,JSON[_0x4abc6a(0xa1)](_0x4df995,null,-0xa*0x1bd+0x2*0xf58+0x4*-0x353),{'encoding':'utf8'}),await _0x1f6813['rename'](_0xe09461,_0x4a0cad),_0x4a0cad;}finally{_0x1321c4();}}async function flushAuthToDisk(){const _0x52c352=_0x3f44dd;if(!_authStateForFlush||_authWriteInProgress)return;_authWriteInProgress=!![];try{const {state:_0x4b3c32,getKeysCache:_0x49dc63,authDir:_0x4e3099}=_authStateForFlush,_0x42f5b3=_0x49dc63()||{},_0x24a7a7={'creds':deepSerialize(_0x4b3c32[_0x52c352(0xed)]),'keys':deepSerialize(_0x42f5b3)};await _atomicWriteAuthFile(_0x24a7a7,_0x4e3099),logger['info'](_0x52c352(0xb8)+_0x52c352(0xd9)+'sh\x20to\x20disk'+_0x52c352(0xcb)+'l.');}catch(_0x5167a2){logger[_0x52c352(0xb5)]({'err':_0x5167a2},_0x52c352(0xb8)+'ounced\x20flu'+'sh\x20to\x20disk'+_0x52c352(0x10c));}finally{_authWriteInProgress=![];}}function scheduleAuthFlush(){if(_authFlushTimer)clearTimeout(_authFlushTimer);_authFlushTimer=setTimeout(()=>{const _0x1279f1=_0x31ae;flushAuthToDisk()[_0x1279f1(0xf9)](_0x5ca2df=>logger['error']({'err':_0x5ca2df},_0x1279f1(0xac)+_0x1279f1(0xa3)+'\x20failed'));},-0x4*0x371+-0x1597+-0x1*-0x2b2b);}function _0x2d74(){const _0x37fe5d=['Received\x20\x27','TCT_Logger','.auth','set','2192EobeoP','.update','presence.u','isteners','Logged\x20out','warn','_locked','No\x20session','ception','ate','\x20Bad\x20MAC','stderr','blocklist.','\x20successfu','\x20in\x20favor\x20','ssage','iled','\x22\x20.auth/cr','groups.ups','then','âœ…\x20Connecti','.tmp','close','Saved\x20upda','_queue','\x20bundle','logger\x20cli','ounced\x20flu','tempt\x20fail','Closing\x20st','24106932rAoIeb','silent','11jhdZzN','join','6639396LTjUvO','dirname','Chrome','open','eason:\x20','message','to\x20disk','failed\x20to\x20','chats.upda','writeFile','1552220tcrISL','pdate','ing\x20prekey','creds','Scheduling','log\x20all\x20ev','Restart\x20at','bind','icipants.u','acquire','4838440Hseeay','Removing\x20o','ted\x20creds\x20','info','ale\x20open\x20s','catch','Connection','ent.','8919276jfXsDo','3BMbDBB','Session\x20er','Using\x20Bail','exit','UNCAUGHT\x20E','session:\x20S','UNHANDLED\x20','some','creds.json','REJECTION','en\x20session','psert','loggedOut','XCEPTION','messages.u','\x20failed.','min','eys\x20versio','unhandledR','groups.upd','7qNQrQP','58014LVNHPe','\x20closed.\x20R','Initial\x20st','tart.','write','.auth\x20fold','ents.','toString','elete\x20the\x20','eKey\x20ID','Unknown','\x20any\x20known','ttempt\x20#','output','statusCode','messages.r','s\x20due\x20to:\x20','Failed\x20to\x20','\x20Closed','of\x20incomin','shift','eaction','\x20found\x20to\x20','n:\x20','art\x20failed','debug','start\x20the\x20','_release','ld\x20closed\x20','120.0','pow','stringify','\x20in\x20','auth\x20flush','ert','fatal','2UNVIne','\x20restart\x20a','ejection','removeAllL','contacts.u','elete','Scheduled\x20','keys','update','decrypt\x20me','.\x20Please\x20d','function','\x20bot','push','1729159oUdrfV','error','\x20session','creds.upda','[AUTH]\x20Deb','stdout'];_0x2d74=function(){return _0x37fe5d;};return _0x2d74();}function registerAuthStateForFlush(_0x4ea9f6){_authStateForFlush=_0x4ea9f6;}let sock=null,restartAttempts=-0x2fa*-0x9+0x255a+-0x4024;const MAX_BACKOFF=(0x3e*-0x8b+0xd49*0x2+0x71d)*(-0x1fed+0x246c+-0x443*0x1)*(0xc5f*0x3+-0x6db+-0x1a5a);function scheduleRestart(_0x523ae7){const _0xb2ec51=_0x3f44dd;restartAttempts++;const _0x5ecefa=Math[_0xb2ec51(0x10d)](MAX_BACKOFF,(-0x235*-0x1+0x218d+-0x103a)*Math[_0xb2ec51(0xa0)](-0x1*-0x1675+-0x12*-0xe8+-0x26c3,restartAttempts-(0x1707+-0x851*-0x3+-0x2ff9)));logger[_0xb2ec51(0xc3)](_0xb2ec51(0xee)+_0xb2ec51(0xa7)+_0xb2ec51(0x11e)+restartAttempts+_0xb2ec51(0xa2)+_0x5ecefa/(-0xfcd+0x311+0x10a4)+_0xb2ec51(0x92)+_0x523ae7),setTimeout(()=>{const _0x3db844=_0xb2ec51;if(sock){try{sock['end'](new Error('Restarting'+_0x3db844(0xb2)));}catch(_0x2347f6){}try{sock['ev'][_0x3db844(0xa9)+_0x3db844(0xc1)]();}catch(_0x183de8){}sock=null;}start()[_0x3db844(0xf9)](_0x1c52d4=>{const _0x817de6=_0x3db844;logger[_0x817de6(0xb5)]({'err':_0x1c52d4},_0x817de6(0xf0)+_0x817de6(0xda)+'ed'),scheduleRestart('Restart\x20fa'+_0x817de6(0xce));});},_0x5ecefa);}async function start(){const _0x1ed321=_0x3f44dd;try{const _0x3fbf5d=_0x1ed321(0xbc),{state:_0x5cc56c,getKeysCache:_0x57670e}=await ensureAuth({'authDir':_0x3fbf5d,'logLevel':_0x1ed321(0xdd)});registerAuthStateForFlush({'state':_0x5cc56c,'getKeysCache':_0x57670e,'authDir':_0x3fbf5d});const _0x5c30c1=makeCacheableSignalKeyStore(_0x5cc56c[_0x1ed321(0xad)],logger),_0x2a1dfa=_0x5c30c1[_0x1ed321(0xbd)];_0x5c30c1[_0x1ed321(0xbd)]=_0x4b6eaa=>{_0x2a1dfa(_0x4b6eaa),scheduleAuthFlush();};const {version:_0x105ace}=await fetchLatestBaileysVersion();logger['info'](_0x1ed321(0xff)+_0x1ed321(0x10e)+_0x1ed321(0x99)+_0x105ace[_0x1ed321(0xdf)]('.')),sock=makeWASocket({'version':_0x105ace,'auth':{'creds':_0x5cc56c[_0x1ed321(0xed)],'keys':_0x5c30c1},'logger':baileysLogger,'browser':[_0x1ed321(0xbb),_0x1ed321(0xe2),_0x1ed321(0x9f)]});const _0x59a747=_0x5953ff=>_0x44d885=>{const _0x3d7d9d=_0x1ed321;logger[_0x3d7d9d(0xf7)]({'event':_0x5953ff,'data':_0x44d885},_0x3d7d9d(0xba)+_0x5953ff+'\x27\x20event');},_0x39a437=[_0x1ed321(0x10b)+_0x1ed321(0x108),_0x1ed321(0x10b)+_0x1ed321(0xeb),'messages.d'+_0x1ed321(0xab),_0x1ed321(0x91)+_0x1ed321(0x97),_0x1ed321(0xc0)+_0x1ed321(0xeb),'chats.upse'+'rt',_0x1ed321(0xe8)+'te','chats.dele'+'te','contacts.u'+'psert',_0x1ed321(0xaa)+'pdate','message-re'+'ceipt.upda'+'te',_0x1ed321(0xd0)+_0x1ed321(0xa4),_0x1ed321(0x110)+_0x1ed321(0xc7),'group-part'+_0x1ed321(0xf2)+_0x1ed321(0xeb),_0x1ed321(0xca)+_0x1ed321(0xbd),'blocklist.'+_0x1ed321(0xae),'call'];for(const _0x2ea119 of _0x39a437){sock['ev']['on'](_0x2ea119,_0x59a747(_0x2ea119));}sock['ev']['on'](_0x1ed321(0xb7)+'te',_0x9d8759=>{Object['assign'](_0x5cc56c['creds'],_0x9d8759),scheduleAuthFlush();}),sock['ev']['on']('connection'+_0x1ed321(0xbf),_0x246df1=>{const _0x10e11c=_0x1ed321,{connection:_0x3f488b,lastDisconnect:_0x423000}=_0x246df1;if(_0x3f488b===_0x10e11c(0xd4)){const _0x33e7d4=_0x423000?.['error']instanceof Boom?_0x423000[_0x10e11c(0xb5)]:new Boom(_0x10e11c(0xfa)+_0x10e11c(0x94),{'statusCode':0x1f4}),_0x151b1d=_0x33e7d4[_0x10e11c(0x11f)]?.[_0x10e11c(0x90)]!==DisconnectReason[_0x10e11c(0x109)];logger[_0x10e11c(0xb5)]({'error':_0x33e7d4[_0x10e11c(0xe5)],'shouldRestart':_0x151b1d},'Connection'+_0x10e11c(0x113)+_0x10e11c(0xe4)+(DisconnectReason[_0x33e7d4[_0x10e11c(0x11f)]?.[_0x10e11c(0x90)]]||_0x10e11c(0x11c)));if(_0x151b1d)scheduleRestart(_0x33e7d4[_0x10e11c(0xe5)]);else{logger[_0x10e11c(0xa5)](_0x10e11c(0xc2)+_0x10e11c(0xb0)+_0x10e11c(0x11a)+_0x10e11c(0x117)+'er\x20and\x20res'+_0x10e11c(0x115));try{_0x1f6813['rm'](_0x3fbf5d,{'recursive':!![],'force':!![]});}catch(_0x1dc6db){}process[_0x10e11c(0x100)](-0x171e+0x1db5+0x696*-0x1);}}else _0x3f488b===_0x10e11c(0xe3)&&(logger['info'](_0x10e11c(0xd2)+'on\x20opened.'+'\x20Ready\x20to\x20'+_0x10e11c(0xef)+_0x10e11c(0x118)),restartAttempts=0x374+-0x23b4+0x20*0x102);});}catch(_0x4f5389){logger[_0x1ed321(0xa5)]({'err':_0x4f5389},_0x1ed321(0x93)+_0x1ed321(0x9c)+_0x1ed321(0xd8)+_0x1ed321(0xfb)),!sock&&scheduleRestart(_0x1ed321(0x114)+_0x1ed321(0x9a));}}function _0x31ae(_0x3e204e,_0x20445c){_0x3e204e=_0x3e204e-(-0x1db3+0x3*-0x9f7+-0x37*-0x118);const _0x14891b=_0x2d74();let _0x310e76=_0x14891b[_0x3e204e];return _0x310e76;}start();