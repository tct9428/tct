const _0x18d875=_0x969f;(function(_0x1ae4ce,_0x5be86b){const _0x4f9147=_0x969f,_0x448473=_0x1ae4ce();while(!![]){try{const _0x551d18=parseInt(_0x4f9147(0xdb))/(0x16ce+-0x2308+-0x1f*-0x65)*(-parseInt(_0x4f9147(0x99))/(-0x986*-0x2+0x5bd+-0x18c7))+-parseInt(_0x4f9147(0x7c))/(-0x1f2b+0x1643+-0x1*-0x8eb)+parseInt(_0x4f9147(0xbc))/(-0x1172+-0x181c+0x2992)+-parseInt(_0x4f9147(0xa3))/(-0x1*-0x1621+-0x1a09+0x3ed)+-parseInt(_0x4f9147(0xf7))/(0x1c76+-0x13a7+-0x8c9)*(-parseInt(_0x4f9147(0xb6))/(0x1*-0x1f5a+0x1390+0xbd1))+parseInt(_0x4f9147(0x9f))/(0x1d2a+0x2273+-0x3f95)+parseInt(_0x4f9147(0xef))/(0xe*0x1d0+-0x1b05+-0x2*-0xd7);if(_0x551d18===_0x5be86b)break;else _0x448473['push'](_0x448473['shift']());}catch(_0xda7442){_0x448473['push'](_0x448473['shift']());}}}(_0x560b,-0xd0a*-0x67+-0x543*0x83+-0x16a1*-0x3));import _0x14203d from'pino';import _0x28bf4a from'pino-pretty';import _0x180cc6 from'path';import _0x79b73f from'fs/promises';import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,makeCacheableSignalKeyStore}from'@whiskeysockets/baileys';import{Boom}from'@hapi/boom';import{ensureAuth,deepSerialize}from'./qrcode.js';function _0x560b(){const _0x27dfa8=['on\x20opened.','end','ssage\x20with','groups.upd','ert','art\x20failed','_locked','ssage','groups.ups','Session\x20er','\x20successfu','rename','1045305jFgckM','er\x20and\x20res','SYS:standa','stringify','.\x20Please\x20d','min','s\x20due\x20to:\x20','info','1614702UceBfH','chats.dele','ing\x20prekey','No\x20session','\x20failed','Restarting','then','Logged\x20out','eds.json\x22','message','isteners','g\x20prekey\x20b','Saved\x20upda','\x20session','pdate','.update','ld\x20closed\x20','pow','\x20Ready\x20to\x20','icipants.u','catch','\x20failed.','tart.','Initial\x20st','failed\x20to\x20','bind','chats.upse','undle','ttempt\x20#','998304wQzEAZ','eKey\x20ID','includes','function','ror:Error:','uncaughtEx','en\x20session','creds.json','statusCode','\x20new\x20outgo','stderr','\x20in\x20favor\x20','error','join','Removing\x20o','acquire','presence.u','messages.d','Connection','fatal','auth\x20flush','eaction','sh\x20to\x20disk','utf8','psert','Closing\x20st','length','to\x20disk','elete\x20the\x20','10748unRASy','removeAllL','unhandledR','silent','dirname','Unknown','2102776orHCff','toString','elete','messages.r','1401890rALRjH','ents.','iled','ounced\x20flu','ate','push','tempt\x20fail','output','creds','open','message\x20wi','_release','blocklist.','\x20bundle','connection','ception','log\x20all\x20ev','\x20Closed','eason:\x20','7YDFBqP','\x20found\x20to\x20','Scheduled\x20','write','Using\x20Bail','group-part','663580RvfZvG','_queue','TCT_Logger','warn','n:\x20','of\x20incomin','ejection','logger\x20cli','set','ent.','some','Invalid\x20Pr','Failed\x20to\x20','assign','stdout','messages.u','Restart\x20at','essionEntr','contacts.u','session.','Received\x20\x27','eys\x20versio','XCEPTION','mkdir','loggedOut','\x20Bad\x20MAC','ession\x20for','\x27\x20event','Chrome','session:\x20S','creds.upda','3sQjYsO','Decrypted\x20','Scheduling','start\x20the\x20','pid,hostna','message-re','REJECTION','writeFile'];_0x560b=function(){return _0x27dfa8;};return _0x560b();}const globalMessagesToSuppress=[_0x18d875(0x8a)+_0x18d875(0x107)+_0x18d875(0xd9)+_0x18d875(0xcd)+'y','Failed\x20to\x20'+'decrypt\x20me'+_0x18d875(0xe5)+'\x20any\x20known'+_0x18d875(0x104),_0x18d875(0xec)+_0x18d875(0x80)+_0x18d875(0xd5),'\x22\x20.auth/cr'+_0x18d875(0xff),_0x18d875(0x103)+'ted\x20creds\x20'+_0x18d875(0x97),_0x18d875(0x95)+'ale\x20open\x20s'+_0x18d875(0xd6)+_0x18d875(0x85)+_0x18d875(0xf9)+_0x18d875(0xb0),'Closing\x20op'+_0x18d875(0x82)+_0x18d875(0x87)+_0x18d875(0xc1)+_0x18d875(0x102)+_0x18d875(0x7a),_0x18d875(0xdc)+_0x18d875(0xad)+'th\x20closed\x20'+_0x18d875(0xcf),_0x18d875(0x10f)+'decrypt\x20me'+_0x18d875(0xea),_0x18d875(0xfa)+_0x18d875(0xb7)+'decrypt\x20me'+_0x18d875(0xea),_0x18d875(0xc7)+_0x18d875(0x7d)],originalStdoutWrite=process[_0x18d875(0xca)][_0x18d875(0xb9)][_0x18d875(0x78)](process[_0x18d875(0xca)]),originalStderrWrite=process[_0x18d875(0x86)][_0x18d875(0xb9)]['bind'](process[_0x18d875(0x86)]);function createGlobalFilteringWriter(_0x3a0bba){return function(_0xf94c7c,_0x3a82ee,_0x5a4f52){const _0x293e65=_0x969f;try{const _0x4330d6=_0xf94c7c&&_0xf94c7c[_0x293e65(0xa0)]?_0xf94c7c['toString']():String(_0xf94c7c),_0x3b0202=globalMessagesToSuppress[_0x293e65(0xc6)](_0x52dd20=>_0x4330d6[_0x293e65(0x7e)](_0x52dd20));if(_0x3b0202){if(typeof _0x5a4f52===_0x293e65(0x7f))_0x5a4f52();return!![];}}catch(_0x20ef4f){}return _0x3a0bba(_0xf94c7c,_0x3a82ee,_0x5a4f52);};}process[_0x18d875(0xca)][_0x18d875(0xb9)]=createGlobalFilteringWriter(originalStdoutWrite),process['stderr'][_0x18d875(0xb9)]=createGlobalFilteringWriter(originalStderrWrite);const prettyStream=_0x28bf4a({'colorize':!![],'translateTime':_0x18d875(0xf1)+'rd','ignore':_0x18d875(0xdf)+'me'}),logger=_0x14203d({'level':'debug'},prettyStream),baileysLogger=_0x14203d({'level':_0x18d875(0x9c)});process['on'](_0x18d875(0x9b)+_0x18d875(0xc2),_0x450a58=>{const _0x54cc0d=_0x18d875;logger['error']({'err':_0x450a58},'UNHANDLED\x20'+_0x54cc0d(0xe1));}),process['on'](_0x18d875(0x81)+_0x18d875(0xb2),_0x360b66=>{const _0x452f53=_0x18d875;logger[_0x452f53(0x8f)]({'err':_0x360b66},'UNCAUGHT\x20E'+_0x452f53(0xd2)),process['exit'](0x9ba*-0x2+0x3*0x7db+-0x20e*0x2);});class FifoMutex{constructor(){const _0x2b5433=_0x18d875;this[_0x2b5433(0xe9)]=![],this['_queue']=[];}async[_0x18d875(0x8b)](){const _0x2ed488=_0x18d875;if(!this[_0x2ed488(0xe9)]){this[_0x2ed488(0xe9)]=!![];let _0x497441=![];return()=>{const _0x238bff=_0x2ed488;!_0x497441&&(_0x497441=!![],this[_0x238bff(0xae)]());};}return new Promise(_0x39aa8a=>this[_0x2ed488(0xbd)][_0x2ed488(0xa8)](_0x39aa8a))[_0x2ed488(0xfd)](()=>{let _0x2314a5=![];return()=>{const _0x307caa=_0x969f;!_0x2314a5&&(_0x2314a5=!![],this[_0x307caa(0xae)]());};});}[_0x18d875(0xae)](){const _0x40875c=_0x18d875;this['_queue'][_0x40875c(0x96)]>0x59*0x8+0x226a+-0x12*0x211?this[_0x40875c(0xbd)]['shift']()():this[_0x40875c(0xe9)]=![];}}const authMutex=new FifoMutex();let _authStateForFlush=null,_authFlushTimer=null,_authWriteInProgress=![];async function _atomicWriteAuthFile(_0x2f472d,_0x98e864){const _0x5d2f02=_0x18d875,_0x5d00ff=await authMutex[_0x5d2f02(0x8b)]();try{const _0x40b17f=_0x180cc6[_0x5d2f02(0x89)](_0x98e864,_0x5d2f02(0x83)+'.tmp'),_0x4642c3=_0x180cc6['join'](_0x98e864,_0x5d2f02(0x83));return await _0x79b73f[_0x5d2f02(0xd3)](_0x180cc6[_0x5d2f02(0x9d)](_0x4642c3),{'recursive':!![]})['catch'](()=>{}),await _0x79b73f[_0x5d2f02(0xe2)](_0x40b17f,JSON[_0x5d2f02(0xf2)](_0x2f472d,null,-0x3e3*0x9+0x3*-0x98b+-0x1df*-0x22),{'encoding':_0x5d2f02(0x93)}),await _0x79b73f[_0x5d2f02(0xee)](_0x40b17f,_0x4642c3),_0x4642c3;}finally{_0x5d00ff();}}async function flushAuthToDisk(){const _0x49680b=_0x18d875;if(!_authStateForFlush||_authWriteInProgress)return;_authWriteInProgress=!![];try{const {state:_0x25e5f4,getKeysCache:_0x339519,authDir:_0x22e3c9}=_authStateForFlush,_0x5d75d9=_0x339519()||{},_0x1bd475={'creds':deepSerialize(_0x25e5f4[_0x49680b(0xab)]),'keys':deepSerialize(_0x5d75d9)};await _atomicWriteAuthFile(_0x1bd475,_0x22e3c9),logger[_0x49680b(0xf6)]('[AUTH]\x20Deb'+_0x49680b(0xa6)+_0x49680b(0x92)+_0x49680b(0xed)+'l.');}catch(_0x45912b){logger['error']({'err':_0x45912b},'[AUTH]\x20Deb'+_0x49680b(0xa6)+_0x49680b(0x92)+_0x49680b(0x10c));}finally{_authWriteInProgress=![];}}function scheduleAuthFlush(){if(_authFlushTimer)clearTimeout(_authFlushTimer);_authFlushTimer=setTimeout(()=>{const _0x5aaa76=_0x969f;flushAuthToDisk()[_0x5aaa76(0x10b)](_0x5f1709=>logger['error']({'err':_0x5f1709},_0x5aaa76(0xb8)+_0x5aaa76(0x90)+_0x5aaa76(0xfb)));},0x1e9d+-0x9c3+0x685*-0x2);}function registerAuthStateForFlush(_0x26b6c7){_authStateForFlush=_0x26b6c7;}let sock=null,restartAttempts=-0xe*-0x135+-0x82*0x1d+-0x116*0x2;const MAX_BACKOFF=(0x1*-0x1ebb+-0x23fe+0x42be)*(0x1*-0x1849+-0x1af*0x13+0x3*0x12d6)*(-0x1e0*0x14+-0x2130+0x4a98);function _0x969f(_0x55a62d,_0x3b01e0){const _0x3a1838=_0x560b();return _0x969f=function(_0x55a87c,_0x17f1dd){_0x55a87c=_0x55a87c-(-0x42*-0x5+-0xc33+0xb61);let _0x4c740b=_0x3a1838[_0x55a87c];return _0x4c740b;},_0x969f(_0x55a62d,_0x3b01e0);}function scheduleRestart(_0x11cbcc){const _0x1267ad=_0x18d875;restartAttempts++;const _0x52c42f=Math[_0x1267ad(0xf4)](MAX_BACKOFF,(0x2*0xe5f+0x13*-0x153+0xff3)*Math[_0x1267ad(0x108)](0x4*0x48d+-0x26b2+0x1480,restartAttempts-(-0x1*0x1742+-0x18ac+-0x2fef*-0x1)));logger[_0x1267ad(0xbf)](_0x1267ad(0xdd)+'\x20restart\x20a'+_0x1267ad(0x7b)+restartAttempts+'\x20in\x20'+_0x52c42f/(0x165c+0x167d+-0x28f1)+_0x1267ad(0xf5)+_0x11cbcc),setTimeout(()=>{const _0x24dc22=_0x1267ad;if(sock){try{sock[_0x24dc22(0xe4)](new Error(_0x24dc22(0xfc)+'\x20bot'));}catch(_0xc43f50){}try{sock['ev'][_0x24dc22(0x9a)+_0x24dc22(0x101)]();}catch(_0x9c32e){}sock=null;}start()[_0x24dc22(0x10b)](_0x3934f8=>{const _0xf63ca8=_0x24dc22;logger['error']({'err':_0x3934f8},_0xf63ca8(0xcc)+_0xf63ca8(0xa9)+'ed'),scheduleRestart('Restart\x20fa'+_0xf63ca8(0xa5));});},_0x52c42f);}async function start(){const _0x42ce53=_0x18d875;try{const _0x42292a='.auth',{state:_0x11f72c,getKeysCache:_0x3cc1c5}=await ensureAuth({'authDir':_0x42292a,'logLevel':_0x42ce53(0x9c)});registerAuthStateForFlush({'state':_0x11f72c,'getKeysCache':_0x3cc1c5,'authDir':_0x42292a});const _0x16f9c9=makeCacheableSignalKeyStore(_0x11f72c['keys'],logger),_0x44202b=_0x16f9c9[_0x42ce53(0xc4)];_0x16f9c9[_0x42ce53(0xc4)]=_0x2be20d=>{_0x44202b(_0x2be20d),scheduleAuthFlush();};const {version:_0x1477d0}=await fetchLatestBaileysVersion();logger['info'](_0x42ce53(0xba)+_0x42ce53(0xd1)+_0x42ce53(0xc0)+_0x1477d0[_0x42ce53(0x89)]('.')),sock=makeWASocket({'version':_0x1477d0,'auth':{'creds':_0x11f72c[_0x42ce53(0xab)],'keys':_0x16f9c9},'logger':baileysLogger,'browser':[_0x42ce53(0xbe),_0x42ce53(0xd8),'120.0']});const _0x10fd8a=_0x202c22=>_0x1e4a26=>{const _0x18743d=_0x42ce53;logger[_0x18743d(0xf6)]({'event':_0x202c22,'data':_0x1e4a26},_0x18743d(0xd0)+_0x202c22+_0x18743d(0xd7));},_0x4bcb26=['messages.u'+_0x42ce53(0x94),_0x42ce53(0xcb)+_0x42ce53(0x105),_0x42ce53(0x8d)+_0x42ce53(0xa1),_0x42ce53(0xa2)+_0x42ce53(0x91),_0x42ce53(0x8c)+'pdate',_0x42ce53(0x79)+'rt','chats.upda'+'te',_0x42ce53(0xf8)+'te',_0x42ce53(0xce)+_0x42ce53(0x94),_0x42ce53(0xce)+'pdate',_0x42ce53(0xe0)+'ceipt.upda'+'te',_0x42ce53(0xeb)+_0x42ce53(0xe7),_0x42ce53(0xe6)+_0x42ce53(0xa7),_0x42ce53(0xbb)+_0x42ce53(0x10a)+_0x42ce53(0x105),_0x42ce53(0xaf)+_0x42ce53(0xc4),'blocklist.'+'update','call'];for(const _0x1887a3 of _0x4bcb26){sock['ev']['on'](_0x1887a3,_0x10fd8a(_0x1887a3));}sock['ev']['on'](_0x42ce53(0xda)+'te',_0x27f070=>{const _0x22c43f=_0x42ce53;Object[_0x22c43f(0xc9)](_0x11f72c[_0x22c43f(0xab)],_0x27f070),scheduleAuthFlush();}),sock['ev']['on'](_0x42ce53(0xb1)+_0x42ce53(0x106),_0x3344f5=>{const _0x1c7649=_0x42ce53,{connection:_0x3ec64e,lastDisconnect:_0x33c8bd}=_0x3344f5;if(_0x3ec64e==='close'){const _0xfafb8c=_0x33c8bd?.[_0x1c7649(0x88)]instanceof Boom?_0x33c8bd[_0x1c7649(0x88)]:new Boom(_0x1c7649(0x8e)+_0x1c7649(0xb4),{'statusCode':0x1f4}),_0xcd4543=_0xfafb8c[_0x1c7649(0xaa)]?.[_0x1c7649(0x84)]!==DisconnectReason[_0x1c7649(0xd4)];logger['error']({'error':_0xfafb8c[_0x1c7649(0x100)],'shouldRestart':_0xcd4543},_0x1c7649(0x8e)+'\x20closed.\x20R'+_0x1c7649(0xb5)+(DisconnectReason[_0xfafb8c[_0x1c7649(0xaa)]?.['statusCode']]||_0x1c7649(0x9e)));if(_0xcd4543)scheduleRestart(_0xfafb8c[_0x1c7649(0x100)]);else{logger['fatal'](_0x1c7649(0xfe)+_0x1c7649(0xf3)+_0x1c7649(0x98)+'.auth\x20fold'+_0x1c7649(0xf0)+_0x1c7649(0x10d));try{_0x79b73f['rm'](_0x42292a,{'recursive':!![],'force':!![]});}catch(_0x12c46c){}process['exit'](0xe41+-0xa2*0x9+-0x88e);}}else _0x3ec64e===_0x1c7649(0xac)&&(logger[_0x1c7649(0xf6)]('âœ…\x20Connecti'+_0x1c7649(0xe3)+_0x1c7649(0x109)+_0x1c7649(0xb3)+_0x1c7649(0xa4)),restartAttempts=-0x25dc+-0x61*-0x11+0x1f6b*0x1);});}catch(_0x5b6e0e){logger[_0x42ce53(0x8f)]({'err':_0x5b6e0e},_0x42ce53(0xc8)+_0x42ce53(0xde)+_0x42ce53(0xc3)+_0x42ce53(0xc5)),!sock&&scheduleRestart(_0x42ce53(0x10e)+_0x42ce53(0xe8));}}start();