const _0x294ef3=_0x27a8;(function(_0x5d7c0b,_0x2baa58){const _0x5ef30e=_0x27a8,_0x158aa8=_0x5d7c0b();while(!![]){try{const _0x1c7b92=-parseInt(_0x5ef30e(0x278))/(-0x237c+-0x848+0x2bc5)+-parseInt(_0x5ef30e(0x2da))/(-0xcca+-0x236c+0x3038)+-parseInt(_0x5ef30e(0x13d))/(0x704+0x1*-0x2cf+-0x432)*(parseInt(_0x5ef30e(0x143))/(-0x99d+-0x1246+0x1be7))+parseInt(_0x5ef30e(0x33b))/(0x7*-0x225+-0x72*-0x46+0x1*-0x1024)*(-parseInt(_0x5ef30e(0x1d2))/(-0x269*-0x3+-0xd*0x167+-0x22*-0x53))+-parseInt(_0x5ef30e(0x2e1))/(-0x1634+0x26*-0xdf+-0x1*-0x3755)*(parseInt(_0x5ef30e(0x37b))/(0x19*-0x15a+0x3ab*0xa+-0x2dc))+-parseInt(_0x5ef30e(0x113))/(0x16f3+-0x1db2+0x6c8)+parseInt(_0x5ef30e(0x221))/(0xf23+0xc7*-0x14+-0x17*-0x5);if(_0x1c7b92===_0x2baa58)break;else _0x158aa8['push'](_0x158aa8['shift']());}catch(_0xeb14a6){_0x158aa8['push'](_0x158aa8['shift']());}}}(_0xe433,0xc4cff+0xb7851+-0x2cb83*0x4));import _0x5dbd8a from'axios';function _0x27a8(_0x1d5e2a,_0x3ef83b){_0x1d5e2a=_0x1d5e2a-(-0x406+0x12c+0x3db);const _0x90d570=_0xe433();let _0x496552=_0x90d570[_0x1d5e2a];return _0x496552;}import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,jidNormalizedUser,makeCacheableSignalKeyStore,downloadMediaMessage,getAggregateVotesInPollMessage,proto,areJidsSameUser,isJidGroup,isJidStatusBroadcast,isJidBroadcast,isJidNewsletter}from'@whiskeysockets/baileys';import _0x1d8f8e from'pino';import _0xf49cb6 from'events';import _0x50c6cb from'path';import _0x174ddf from'fs/promises';import{existsSync,readFileSync}from'fs';import{fileURLToPath}from'url';import{createRequire}from'module';import{Writable}from'stream';import{initLogger,debug,info,warn,error,fatal}from'./utils/logger.js';import*as _0x3b4db8 from'./utils/connection.js';import{isadmin}from'./utils/isadmin.js';import{initBotState}from'./utils/bot-state.js';const require=createRequire(import.meta.url),__filename=fileURLToPath(import.meta.url),__dirname=_0x50c6cb[_0x294ef3(0x375)](__filename);let cfg;try{const configModule=await import('./utils/config.js');cfg=configModule['getConfig'](),configModule[_0x294ef3(0x20b)+_0x294ef3(0x176)]&&configModule[_0x294ef3(0x20b)+_0x294ef3(0x176)](_0x308af9=>{const _0x3c514b=_0x294ef3;info('Hot-reload'+_0x3c514b(0x322)+_0x3c514b(0x1aa)+_0x3c514b(0x38f)+_0x308af9['join'](',\x20')+')'),cfg=configModule[_0x3c514b(0x2cf)]();});}catch(_0x2f5954){cfg={'CACHE_TTL_MS':(-0x69f*0x4+0x1163*0x1+0x955)*(-0x252e+0x1bcb*-0x1+0x44e1),'CACHE_MAX_SIZE_BYTES':(0x894+-0x1*-0x32f+0x1*-0xbaf)*(0x266b+0x1a24+-0x1*0x3c8f)*(-0xe0d+-0xd7e+-0x55*-0x5f),'MEMORY_STORE_MAX_BYTES':(0x1fc7+-0x1*-0x363+-0x2136)*(-0x465+0xa2f*0x2+0xbf9*-0x1)*(0x302+0x107b+-0xf7d*0x1),'AUTH_STATE_DIR':_0x294ef3(0x1d5),'AUTH_FLUSH_INTERVAL_MS':(-0x449*0x7+0x1*0x25bf+0x3d1*-0x2)*(0xa3d*-0x3+0x17ab+0x748)*(0x47f*0x1+-0xdee*0x1+-0x5*-0x2ab),'RATE_LIMIT':{'window':0x3e8,'limit':0x5},'OUTGOING_MAX_QUEUE':0x7d0,'SEND_RETRY_ATTEMPTS':0x2,'SEND_RETRY_BASE_MS':0x1f4,'SHUTDOWN_DRAIN_MS':0x1388,'BAILEYS_BROWSER':[_0x294ef3(0x31c),_0x294ef3(0x1e3),_0x294ef3(0x25d)],'PROJECT_ROOT':process[_0x294ef3(0x27b)](),'COMMAND_PREFIX':null,'ADMIN_TOKEN':process['env']['ADMIN_TOKE'+'N']||null,'LOG_LEVEL':_0x294ef3(0x2d1),'BAILEYS_PINO_LEVEL':_0x294ef3(0x1ee),'SYNC_FULL_HISTORY':!![]},warn('Could\x20not\x20'+'load\x20confi'+'guration;\x20'+_0x294ef3(0x152)+_0x294ef3(0x1fa));}try{initLogger(cfg),info(_0x294ef3(0x399)+'tialized\x20('+'utils/logg'+_0x294ef3(0x19d));}catch(_0x3fb96e){console[_0x294ef3(0x1ee)]('Failed\x20to\x20'+_0x294ef3(0x12f)+'r\x20from\x20uti'+_0x294ef3(0x37a)+'js',_0x3fb96e);}const globalMessagesToSuppress=['Removing\x20o'+_0x294ef3(0x2e9)+_0x294ef3(0x28b)+_0x294ef3(0x381)+'y',_0x294ef3(0x24c)+_0x294ef3(0x2ea)+_0x294ef3(0x1ef)+_0x294ef3(0x18e)+_0x294ef3(0x2b1),'Session\x20er'+_0x294ef3(0x118)+_0x294ef3(0x163),_0x294ef3(0x2f7)+_0x294ef3(0x393),_0x294ef3(0x341)+_0x294ef3(0x34d)+_0x294ef3(0x25c),_0x294ef3(0x102)+_0x294ef3(0x38b)+_0x294ef3(0x177)+_0x294ef3(0x35c)+_0x294ef3(0x193)+_0x294ef3(0x2bd),'Closing\x20op'+_0x294ef3(0x311)+'\x20in\x20favor\x20'+'of\x20incomin'+_0x294ef3(0x169)+_0x294ef3(0x22f),_0x294ef3(0x1b8)+_0x294ef3(0x2b4)+'th\x20closed\x20'+_0x294ef3(0x2ce),_0x294ef3(0x37f)+'decrypt\x20me'+_0x294ef3(0x2b8),'No\x20session'+'\x20found\x20to\x20'+_0x294ef3(0x2ea)+_0x294ef3(0x2b8),_0x294ef3(0x136)+_0x294ef3(0x194),_0x294ef3(0x15c)+'n\x20failed,\x20'+_0x294ef3(0x212)+'ck'];function createGlobalFilteringWriter(_0x177aab){return function(_0x1b8242,_0x27dd8a,_0x3e162a){const _0x594837=_0x27a8;try{const _0x226846=_0x1b8242[_0x594837(0x1bc)]();if(globalMessagesToSuppress['some'](_0x5974c7=>_0x226846[_0x594837(0x385)](_0x5974c7))){if(typeof _0x3e162a===_0x594837(0x286))_0x3e162a();return!![];}}catch(_0x25114c){}return _0x177aab(_0x1b8242,_0x27dd8a,_0x3e162a);};}process[_0x294ef3(0x2d5)][_0x294ef3(0x2e6)]=createGlobalFilteringWriter(process['stdout'][_0x294ef3(0x2e6)][_0x294ef3(0x203)](process['stdout'])),process['stderr'][_0x294ef3(0x2e6)]=createGlobalFilteringWriter(process[_0x294ef3(0x30f)]['write'][_0x294ef3(0x203)](process[_0x294ef3(0x30f)]));class FifoMutex{constructor(){const _0x4c79d1=_0x294ef3;this['_locked']=![],this[_0x4c79d1(0x140)]=[];}async[_0x294ef3(0x22c)](){const _0x55dff3=_0x294ef3;if(!this[_0x55dff3(0x220)]){this[_0x55dff3(0x220)]=!![];let _0x57c8c7=![];return()=>{const _0x486776=_0x55dff3;!_0x57c8c7&&(_0x57c8c7=!![],this[_0x486776(0x180)]());};}return new Promise(_0x3140c4=>this[_0x55dff3(0x140)][_0x55dff3(0x327)](_0x3140c4))[_0x55dff3(0x363)](()=>{let _0x128f78=![];return()=>{const _0x3cec7d=_0x27a8;!_0x128f78&&(_0x128f78=!![],this[_0x3cec7d(0x180)]());};});}['_release'](){const _0xc7a47=_0x294ef3;if(this[_0xc7a47(0x140)][_0xc7a47(0x32d)]>0x268f+-0xc17+-0x1a78)this[_0xc7a47(0x140)]['shift']()();else this['_locked']=![];}}const authMutex=new FifoMutex(),storeMutex=new FifoMutex();let _authFlushCounter=0x1d06+0x2358+-0x405e,_lastAuthFlushLogTime=Date[_0x294ef3(0x384)]();const _authLogSummaryIntervalMs=(0xb84+-0x2150+0x15ea)*(-0xd15+0x22d+0x2c9*0x4)*(-0x7c3*0x2+0x1fd*0x12+0x15d*-0xc),voluntaryLeaverStore=new Map(),baileysLogInterceptor=new Writable({'write'(_0x1791f9,_0x34d6d5,_0x3d16c9){const _0x1ca71c=_0x294ef3;try{const _0x3827ce=_0x1791f9[_0x1ca71c(0x1bc)]();if(!_0x3827ce[_0x1ca71c(0x385)]('sent\x20ack')){_0x3d16c9();return;}const _0x49ab53=JSON[_0x1ca71c(0x388)](_0x3827ce);if(_0x49ab53[_0x1ca71c(0x21b)]===_0x1ca71c(0x293)&&_0x49ab53[_0x1ca71c(0x25b)]){const _0x42000d=_0x49ab53['recv'][_0x1ca71c(0x370)];if(_0x42000d&&_0x42000d[_0x1ca71c(0x335)+'t']&&voluntaryLeaverStore[_0x1ca71c(0x1c6)](_0x42000d[_0x1ca71c(0x335)+'t'])){const _0x1ec6d9=voluntaryLeaverStore[_0x1ca71c(0x354)](_0x42000d['participan'+'t']),_0x4d806e={'id':_0x42000d['id'],'groupId':_0x1ec6d9[_0x1ca71c(0x337)],'action':_0x1ca71c(0x1f2),'type':'voluntary_'+_0x1ca71c(0x297),'notify':_0x42000d[_0x1ca71c(0x142)],'participant_pn':_0x42000d['participan'+_0x1ca71c(0x20e)]};bot[_0x1ca71c(0x252)]('voluntary.'+_0x1ca71c(0x297),_0x4d806e),voluntaryLeaverStore[_0x1ca71c(0x345)](_0x42000d['participan'+'t']);}}}catch(_0x111144){}_0x3d16c9();}}),messageEditCache=new Map(),MESSAGE_CACHE_TTL_MS=0x4d4216+0x5b4da8+-0x71a13e,MESSAGE_CACHE_SWEEP_INTERVAL_MS=(-0x21e0+0x1aba+0x72b)*(-0x9f+0x55c+-0x1*0x481)*(-0x1996+-0x6*-0x3f9+0x5a8),cacheSweepTimer=setInterval(()=>{const _0x76c09c=_0x294ef3,_0x3f12dd=Date['now']();for(const [_0x4e4397,_0x25f79b]of messageEditCache[_0x76c09c(0x1cf)]()){_0x3f12dd-_0x25f79b[_0x76c09c(0x185)]>MESSAGE_CACHE_TTL_MS&&messageEditCache[_0x76c09c(0x345)](_0x4e4397);}},MESSAGE_CACHE_SWEEP_INTERVAL_MS);if(cacheSweepTimer[_0x294ef3(0x23d)])cacheSweepTimer[_0x294ef3(0x23d)]();const baileysPinoLevel=(cfg[_0x294ef3(0x37c)+_0x294ef3(0x397)]||_0x294ef3(0x1ee))['toString']();let baileysPinoLogger=_0x1d8f8e({'level':baileysPinoLevel}),_authState_for_flush=null,_authFlushTimeout=null,deepSerialize=null;async function _atomicWriteDirect(_0x918eba,_0x1e2895){const _0x36532c=_0x294ef3,_0x213e99=_0x50c6cb['dirname'](_0x918eba),_0x13699b=_0x50c6cb[_0x36532c(0x147)](_0x213e99,_0x50c6cb[_0x36532c(0x207)](_0x918eba)+'.'+Date['now']()+_0x36532c(0x17f));return await _0x174ddf['mkdir'](_0x213e99,{'recursive':!![]})[_0x36532c(0x317)](()=>{}),await _0x174ddf[_0x36532c(0x296)](_0x13699b,_0x1e2895,{'encoding':_0x36532c(0x20f)}),await _0x174ddf[_0x36532c(0x15f)](_0x13699b,_0x918eba),debug(_0x36532c(0x371)+'mically\x20wr'+_0x36532c(0x10c)+_0x918eba),_0x918eba;}function _0xe433(){const _0x4e4097=['etter\x20chec','makeStatus','ssage','session','user','valid\x20loca','Deleted\x20le','\x20bundle','\x20times.\x20Op','ply.','trim','\x20disk\x20via\x20','Remote\x20cre','status:','BAILEYS_BR','\x20type\x20\x22','ng.','videoMessa','essages\x20ac','ate\x20flush\x20','re\x20restart','\x20attempts)','Unknown','ry\x20files\x20f','session.','getConfig','dential\x20re','info','ity/priori','ng\x20shutdow','RATE_LIMIT','stdout','n\x20alive.','stringify','import\x20qrc','ociation','2015704FIBjMI','[Heartbeat','string','tialize\x20lo','essages\x20of','RSION','selectedDi','4196437GMbOEM','psert','ing\x20circui','startup\x20fa','s\x20due\x20to:\x20','write','tore\x20file\x20','No\x20prior\x20s','ld\x20closed\x20','decrypt\x20me','\x20API\x20faile','FATAL:\x20SES','st\x20Baileys','proto','ch\x20until\x20','readFile','response','getCommand','Cleanup\x20co','Deleted\x20au','[STORE]\x20Re','\x20ready.','\x22\x20.auth/cr','groupMetad','re\x20readFro','setActiveG','resolve','unknown','eded','contacts','temporary\x20','write\x20stor','Connection','falling\x20ba','oadcast\x20ch','startsWith','elete','ting\x20local','tityKey','max','next','state','age','g\x20to\x20HALF_','floor','SIZE_BYTES','stderr','/creds','en\x20session','eUser','dentials\x20a','No\x20valid\x20c','warnThresh','download\x20m','catch','isteners','mFile:\x20not','assign','ed\x20(no\x20dra','lwskky','toISOStrin','slice','_sweep','ilure\x20seem','xtMessage','ing\x20config','hing\x20to\x20lo','orts.','findIndex','bytes','push','isBroadcas','ssion.','module.det','ert','delete\x20tem','length','ound.\x20Proc','add','sendMessag','N\x20serializ','Database','ote\x20recove','motely.\x20St','participan','data','groupId','raw.messag','\x20failed:\x20','ued\x20item\x20(','5ewJmyI','ngth\x20high:','statusCode','h\x20state\x20to','OWSER','tializeMod','Saved\x20upda','status','ore\x20auth\x20o','creds.json','delete','_DIR','ilure.','size','minutes.','unhandledR','\x20timed\x20out','emote\x20cred','ted\x20creds\x20','hutdown\x20on','no\x20session','own\x20(signa','[AUTH]\x20Loc','n\x20failures','min','get','[AUTH]\x20Loa','splice','art\x20failed','saveCreds','object','eue:','statusText','\x20new\x20outgo','ssage:\x20','persist\x20me','mkdir','\x20available','e\x20to\x20capac','-request','then','timeoutMs','age.','off','\x20message\x20','dling.','ftover\x20tem','sh.','\x20found\x20loc','ode.js\x20bef','oDisk\x20fail','Initial\x20st','RE_MAX_BYT','attrs','[AUTH]\x20Ato','multistrea','initialize','erJid','dirname','xt\x20auth\x20st','contacts.u','messageTim','chats.upda','ls/logger.','8wLXmac','BAILEYS_PI','nextAttemp','ceUpdate','failed\x20to\x20',']\x20Failed\x20t','essionEntr','\x20bytes=','te\x20handler','now','includes','\x20Persisted','Graceful\x20s','parse','âœ…\x20Connecti','successful','ale\x20open\x20s','createdAt','sender','conversati','keys:\x20','ds\x20fetch\x20a','cache','start\x20bot\x20','eds.json\x22','mapById','SYNC_FULL_','roupForUse','NO_LEVEL','_touch','Logger\x20ini','ach\x20failed','isArray','Shutdown\x20c','\x20connectio','fter\x20pairi','Closing\x20st','message-re','n\x20environm','buffer','.\x20Status:\x20','ION_ID:\x20','eanup\x20for\x20','endsWith','\x20file(s).','\x20auth\x20befo','ote\x20to\x20','map','No\x20tempora','ated.\x20Dele','reject','MEMORY_STO','Memory\x20sto','11540250FFSpZZ','SION_ID\x20is','invalid\x20se','\x20version,\x20','number','ror:Error:','ize','mpt','bot\x20requir','isStatusBr','connection','items','ttl','contact:','saveCreds(','loggedOut','ceipt.upda','sock','Dropped\x20fr','process\x20me','auth','sence\x20upda','downloadMe','\x20id\x20provid','window','COMMAND_PR','splayText','newsletter','init\x20logge','\x20history\x20m','pt:\x20','windowMs','end','.join-requ','isNewslett','Invalid\x20Pr','ults','nextTimer','group-part','Modules','che.\x20Skipp','read\x20main\x20','5667AvYYjl','Using\x20SESS','\x20Evicted\x20k','_queue','isUser','notify','2204uadZgJ','OutgoingSe','on\x20ID\x20(sta','readFromFi','join','attempts','Message\x20qu','omplete.','editedMess','from\x20initi','n\x20attempt\x20','attach','arting\x20pai','detach','delete\x20aut','using\x20defa','eanup\x20in\x20','initialBac','al\x20call','es\x20it\x20to\x20f','uested\x20a\x20d','d\x20too\x20many','mote\x20creds','exit','writeToFil','transactio','\x20chats.','ck\x20failed','rename','s\x20due\x20to\x20r','loaded\x20and','estamp','\x20Bad\x20MAC','module.att','signedIden','icted\x20','onMessage','OPEN','g\x20prekey\x20b','covery...','key','\x20priority=','SIGINT','priority=','OPEN_TIMEO','areJidsSam','chats.upse','split','defaultTtl','No\x20target\x20','n\x20error:\x20','onfig','ession\x20for','del','ry\x20failed:','seMessage','headers',').\x20Schedul','ation.','ensureAuth','.tmp','_release','groups.ups','\x20mins.','turned\x20inv','alid\x20data.','timestamp','eduling\x20ne','sendPresen','HALF_OPEN','timestamps','ch\x20failed\x20','ng\x20attempt','isGroup','Error\x20proc','\x20any\x20known','_ATTEMPTS','_cleanup','artup\x20fail','[SYNC]\x20Sto','ing\x20prekey','eKey\x20ID','byteLength','e\x20message\x20','deepSerial','qrcode\x20imp','AUTH_STATE','store.json','other\x20atte','Persistent','er)','ctReply','pdate','llback\x20JSO','append','maxQueue','n\x20failure\x20','unregister','count','JID\x20for\x20re','manual\x20flu','priority','Shutting\x20d','\x20(changed\x20','remote\x20cre','ult',')\x20(','ocessing\x20f','\x20restart\x20a','isBuffer','registerMo','registrati','mplete.\x20De','oadcast','ndQueue\x20pr','isUser\x20che','to\x20read\x20it','Decrypted\x20','fromMe','https://i-','\x20restart\x20n','toString','Names','_INTERVAL_','RESHOLD','_tryProces','\x20not\x20in\x20ca','normalize\x20','meout\x20elap','g\x20for\x20stor','tization','has','\x20on\x20restar','AX_QUEUE','failures','ry\x20due\x20to\x20',';\x20using\x20fa','s.\x20Update\x20',']\x20Sent\x20pre','te\x20to\x20keep','entries','[AUTH]\x20Sch','No\x20respons','8041662gDThVQ','eeding\x20wit','Module','.auth','ry\x20file\x20cl','get\x20poll\x20r','EFIX','eys\x20versio','ucceeded\x20o','_evictIfNe','.update','code','red\x20','[MEMSTORE]','Replaced','retry-afte','essing\x20liv','Chrome','rateLimite','isJidNewsl','badSession','ote\x20API\x20re','obtain\x20any','[CIRCUIT_B','available','canSend','getContact','close','error','ssage\x20with','remote\x20fet','keys','remove','toLowerCas','enqueue','stack','redsFileSt','_BASE_MS','itical\x20exp','loadLocalC','ults.','toJSON','reject\x20dro','eaction','recordSend','@broadcast','ean\x20up.','ining\x20need',')\x20to\x20make\x20','bind','sisted\x20aut','al\x20creds\x20f','own','basename','BAILEYS_VE','n\x20to\x20file','getPollRes','hotReloadC','array','Running\x20cl','t_pn','utf8','creds','message','rolling\x20ba','SEND_RETRY','Database\x20i','mory\x20store','ejection','queue','h\x20and\x20rest','e\x20to\x20file','_sweepTime','msg','labels.edi','[AUTH]\x20No\x20','th\x20directo','h\x20director','_locked','66266230AZyYBW','edia-updat','rom\x20file',',\x20isLatest','ize\x20is\x20not','\x20size=','chats.dele','totalBytes','for\x20','SESSION_ID','ndQueue:\x20d','acquire','FAILURE_TH','[CACHE]\x20Ev','undle','_estimateB','ENOENT','sed.\x20Movin','ttempt\x20#','Store\x20save','ader\x20modul','able.\x20Clos','perations','lastAccess','chats','import/ini','lly.','ng\x20tempora','unref','ate\x20limiti','ytes','ck\x20to\x20defa','msgbox:','ata','unction.','_makeMsgBo','ad\x20store\x20f','\x22.\x20Batchin','chedule\x20an','elay\x20of\x20','messages.u','reverse','pollCreati','Failed\x20to\x20',')...','ception','Error\x20duri','esults','message-ed','emit','old','.\x20Deleting','\x20updates)\x20','limit','persistent','icipants.u','call','ponseMessa','recv','to\x20disk','19.1.0','upsert','all','Message','ing\x20edit\x20l','readdir','arting.','og.','REAKER]\x20Re','uncaughtEx','ort\x20failed','ing\x20reconn','ross\x20','eived\x20','est','tempt\x20fail','dia','OUTGOING_M','flushAuthT','k\x20failed:','clear','\x20after\x20','SIGTERM','CLOSED','pushName','ng\x20detachA','nitializat','530758JcuhsL','unlink','\x20not\x20set\x20i','cwd','noiseKey','successes','meString','random','Restart\x20at','ly.','processing','value','find','expiry','function','p\x20file\x20','creds\x20file','extAvailab','creds.upda','session:\x20S','group.join','CACHE_MAX_','ble\x20sessio','Scheduling','remoteJid','fromJSON','\x20Loaded\x20','sent\x20ack','ttempt\x20','timeUntilN','writeFile','leave','fetch\x20late','o\x20send\x20hea','trace','\x20in\x20','apply','maxBytes','s\x20fetched\x20','rcuit\x20is\x20o','\x20local\x20aut','edia','HISTORY','ss...','\x20attempts:','prepend','[AUTH]\x20Per','tials\x20from','adcast','loader.ini','pow','eues\x20clear','set','text','...','imageMessa','update','\x20session','onId','unexpected','message\x20wi','[EditCache'];_0xe433=function(){return _0x4e4097;};return _0xe433();}async function flushAuthToDisk(){const _0x34c440=_0x294ef3;if(!_authState_for_flush)return;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);_authFlushTimeout=null;const _0x1e6eed=await authMutex[_0x34c440(0x22c)]();try{const {state:_0x31baa7}=_authState_for_flush;if(typeof _0x31baa7[_0x34c440(0x358)]===_0x34c440(0x286)){await _0x31baa7[_0x34c440(0x358)]();const _0x5ef5a9=Date[_0x34c440(0x384)]();_0x5ef5a9-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info(_0x34c440(0x2a6)+_0x34c440(0x204)+_0x34c440(0x33e)+_0x34c440(0x2c1)+_0x34c440(0x121)+_0x34c440(0x1ad)+_authFlushCounter+(_0x34c440(0x255)+'in\x20last\x2030'+_0x34c440(0x182))),_lastAuthFlushLogTime=_0x5ef5a9,_authFlushCounter=0x1b5+0x2419+0x6*-0x64d):debug('[AUTH]\x20Per'+_0x34c440(0x204)+'h\x20state\x20to'+_0x34c440(0x2c1)+_0x34c440(0x121)+').');}else{const _0x1f822e=cfg['AUTH_STATE'+'_DIR']||_0x34c440(0x1d5),_0x161cbf=_0x31baa7[_0x34c440(0x1f1)]?_0x31baa7[_0x34c440(0x1f1)]['all']?_0x31baa7[_0x34c440(0x1f1)][_0x34c440(0x25f)]():{}:{};let _0x46df71;typeof deepSerialize===_0x34c440(0x286)?_0x46df71={'creds':deepSerialize(_0x31baa7['creds']),'keys':deepSerialize(_0x161cbf)}:(warn(_0x34c440(0x197)+_0x34c440(0x225)+_0x34c440(0x360)+_0x34c440(0x1cb)+_0x34c440(0x1a0)+_0x34c440(0x331)+_0x34c440(0x17d)),_0x46df71={'creds':_0x31baa7[_0x34c440(0x210)],'keys':_0x161cbf});const _0x3c369c=_0x50c6cb[_0x34c440(0x147)](_0x1f822e,_0x34c440(0x344)),_0x2d56e2=JSON[_0x34c440(0x2d7)](_0x46df71,null,-0x8*0x13c+-0x5cc+0xdf*0x12);await _atomicWriteDirect(_0x3c369c,_0x2d56e2);const _0x5382b3=Date[_0x34c440(0x384)]();_0x5382b3-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info(_0x34c440(0x2a6)+'sisted\x20aut'+_0x34c440(0x33e)+_0x34c440(0x2c1)+_0x34c440(0x1a7)+'sh\x20('+_authFlushCounter+(_0x34c440(0x255)+'in\x20last\x2030'+_0x34c440(0x182))),_lastAuthFlushLogTime=_0x5382b3,_authFlushCounter=0x7*-0x11d+-0x2*0xcc4+0x2153):debug(_0x34c440(0x2a6)+_0x34c440(0x204)+'h\x20state\x20to'+_0x34c440(0x2c1)+'manual\x20flu'+_0x34c440(0x36a));}}catch(_0x535f24){warn(_0x34c440(0x26f)+_0x34c440(0x36d)+'ed',_0x535f24?.[_0x34c440(0x1f5)]||_0x535f24);}finally{_0x1e6eed();}}function scheduleAuthFlush(){const _0x10e7e5=_0x294ef3;_authFlushCounter++;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);const _0x4ec9e1=cfg['AUTH_FLUSH'+_0x10e7e5(0x1be)+'MS']||(0x1*0x22f2+0x1*-0xbb+0x2a1*-0xd)*(0x61*-0x49+-0x869+0x27fa);debug(_0x10e7e5(0x1d0)+_0x10e7e5(0x186)+_0x10e7e5(0x376)+_0x10e7e5(0x2c9)+'in\x20'+_0x4ec9e1/(-0xba5+0x89b*-0x2+0x20c3)+(_0x10e7e5(0x1cc)+'#')+_authFlushCounter),_authFlushTimeout=setTimeout(flushAuthToDisk,_0x4ec9e1);}function registerAuthStateForFlush(_0x5aad62){_authState_for_flush=_0x5aad62;}async function loadCredsFromDisk(_0x599d37){const _0x4a3532=_0x294ef3,_0x5db8c5=_0x50c6cb[_0x4a3532(0x147)](_0x599d37,_0x4a3532(0x344));let _0xab754f={'creds':{},'keys':{}};try{existsSync(_0x5db8c5)&&(_0xab754f=JSON['parse'](readFileSync(_0x5db8c5,_0x4a3532(0x20f))),info(_0x4a3532(0x355)+'ded\x20creden'+_0x4a3532(0x2a7)+'\x20'+_0x5db8c5));}catch(_0x259b05){debug('Could\x20not\x20'+_0x4a3532(0x13c)+_0x4a3532(0x288)+':\x20'+_0x259b05[_0x4a3532(0x211)]+'.');}return _0xab754f;}async function loadLocalCredsFileStartup(_0x10685e){const _0x37ee95=_0x294ef3;try{return await loadCredsFromDisk(_0x10685e);}catch(_0x4a6fb1){return debug(_0x37ee95(0x1f9)+_0x37ee95(0x1f6)+_0x37ee95(0x191)+'ed',_0x4a6fb1?.['message']||_0x4a6fb1),null;}}const SESSION_ID=(cfg[_0x294ef3(0x22a)]||'')[_0x294ef3(0x2c0)](),remoteCredsCircuitBreaker={'state':_0x294ef3(0x274),'failures':0x0,'successes':0x0,'nextAttempt':Date[_0x294ef3(0x384)](),'FAILURE_THRESHOLD':0x3,'SUCCESS_THRESHOLD':0x2,'OPEN_TIMEOUT':(0x1*-0x1951+0x1a5*-0x8+-0x2*-0x133f)*(-0xb*-0x176+-0xa2a+0x2d6*-0x2)*(-0x251a+-0x30*-0x1e+0x2362)};function recordFailure(){const _0x4b53fc=_0x294ef3,_0x140fa9=remoteCredsCircuitBreaker;_0x140fa9[_0x4b53fc(0x1c9)]++,_0x140fa9[_0x4b53fc(0x27d)]=0x67b*-0x3+-0xb89*-0x1+0x7e8,_0x140fa9[_0x4b53fc(0x1c9)]>=_0x140fa9[_0x4b53fc(0x22d)+'RESHOLD']&&(_0x140fa9[_0x4b53fc(0x30a)]='OPEN',_0x140fa9['nextAttemp'+'t']=Date['now']()+_0x140fa9[_0x4b53fc(0x16f)+'UT'],warn(_0x4b53fc(0x1e9)+_0x4b53fc(0x265)+'mote\x20creds'+_0x4b53fc(0x2eb)+_0x4b53fc(0x158)+_0x4b53fc(0x2be)+'ening\x20circ'+'uit\x20for\x205\x20'+_0x4b53fc(0x349)));}function recordSuccess(){const _0x2cadc3=_0x294ef3,_0x1bba55=remoteCredsCircuitBreaker;_0x1bba55[_0x2cadc3(0x27d)]++;if(_0x1bba55['state']==='HALF_OPEN'&&_0x1bba55[_0x2cadc3(0x27d)]>=_0x1bba55['SUCCESS_TH'+_0x2cadc3(0x1bf)])_0x1bba55['state']=_0x2cadc3(0x274),_0x1bba55['failures']=-0x1e75*-0x1+-0x931+-0x1544,info(_0x2cadc3(0x1e9)+'REAKER]\x20Re'+_0x2cadc3(0x159)+'\x20API\x20is\x20st'+_0x2cadc3(0x236)+_0x2cadc3(0x2e3)+'t.');else _0x1bba55[_0x2cadc3(0x30a)]==='CLOSED'&&(_0x1bba55[_0x2cadc3(0x1c9)]=-0x9bf*-0x3+0x5*-0x527+-0x37a);}async function fetchRemoteCredsAxios(_0x3e0d73,_0x3dc3fb={'timeoutMs':0x1388,'attempts':0x3,'initialBackoffMs':0x1f4}){const _0x59b507=_0x294ef3,_0x3861a8=remoteCredsCircuitBreaker;if(_0x3861a8[_0x59b507(0x30a)]===_0x59b507(0x168)){if(Date[_0x59b507(0x384)]()>=_0x3861a8[_0x59b507(0x37d)+'t'])_0x3861a8[_0x59b507(0x30a)]=_0x59b507(0x188),info(_0x59b507(0x1e9)+'REAKER]\x20Ti'+_0x59b507(0x1c3)+_0x59b507(0x232)+_0x59b507(0x30c)+'OPEN\x20state'+'.');else throw new Error(_0x59b507(0x1e9)+'REAKER]\x20Ci'+_0x59b507(0x29f)+'pen.\x20Not\x20a'+'ttempting\x20'+_0x59b507(0x1f0)+_0x59b507(0x2ef)+new Date(_0x3861a8[_0x59b507(0x37d)+'t'])['toLocaleTi'+_0x59b507(0x27e)]());}if(!_0x3e0d73)throw new Error(_0x59b507(0x34f)+_0x59b507(0x12a)+'ed');const _0x31ecbb=encodeURIComponent(_0x3e0d73),_0x22fa3e=_0x59b507(0x1ba)+'tct.com/'+_0x31ecbb+_0x59b507(0x310),_0x21023c=Math[_0x59b507(0x308)](-0x699*0x4+0x2178+-0x1*0x713,Number(_0x3dc3fb[_0x59b507(0x148)]||-0x74d+0x1e6b+-0x171b));let _0x3206bf=Number(_0x3dc3fb[_0x59b507(0x154)+'koffMs']||-0x24aa+-0x162b+0x3cc9);for(let _0x1be80d=-0x847+-0xa0f+0x1257;_0x1be80d<=_0x21023c;_0x1be80d++){try{info(_0x59b507(0x2c2)+_0x59b507(0x390)+'ttempt\x20'+_0x1be80d+'/'+_0x21023c+('\x20for\x20sessi'+_0x59b507(0x145)+'te=')+_0x3861a8[_0x59b507(0x30a)]+')');const _0x16bead=await _0x5dbd8a[_0x59b507(0x354)](_0x22fa3e,{'timeout':_0x3dc3fb[_0x59b507(0x364)],'responseType':'json','validateStatus':_0x106ef8=>_0x106ef8>=-0x1684+0x20cf*0x1+-0x983&&_0x106ef8<0x2357+-0x1ce7+-0x544});return recordSuccess(),info(_0x59b507(0x2c2)+'ds\x20fetch\x20s'+_0x59b507(0x1da)+_0x59b507(0x14d)+_0x1be80d+'.'),_0x16bead[_0x59b507(0x336)];}catch(_0x1fde88){const _0x6e8ad6=_0x1fde88[_0x59b507(0x2f1)]?.[_0x59b507(0x342)],_0x2708bd=_0x1fde88[_0x59b507(0x2f1)]?.[_0x59b507(0x336)]?JSON[_0x59b507(0x2d7)](_0x1fde88['response'][_0x59b507(0x336)]):_0x59b507(0x1d1)+'e\x20data';warn(_0x59b507(0x2c2)+'ds\x20fetch\x20a'+_0x59b507(0x294)+_0x1be80d+_0x59b507(0x339)+_0x1fde88['message']+_0x59b507(0x106)+_0x6e8ad6+'.\x20Data:\x20'+_0x2708bd);if(_0x6e8ad6===0x37*-0xb+-0x2*-0x9af+-0xf54){const _0x11ccd6=_0x1fde88['response'][_0x59b507(0x17b)]?.[_0x59b507(0x1e1)+'r'];if(_0x11ccd6){const _0x5e9e6d=parseInt(_0x11ccd6,0x1698+0x16f+0x7ff*-0x3)*(-0x1fd4+-0x7*-0x509+0x7d*0x1);if(_0x5e9e6d>0x83*0x6+-0xe84*-0x1+-0x1196){warn('Server\x20req'+_0x59b507(0x157)+_0x59b507(0x248)+_0x5e9e6d/(0x1fa5*-0x1+-0x1d*-0x73+0x1686)+(_0x59b507(0x160)+_0x59b507(0x23e)+_0x59b507(0x2c6))),await new Promise(_0x3b6165=>setTimeout(_0x3b6165,_0x5e9e6d));continue;}}}if(_0x1be80d===_0x21023c){recordFailure();throw new Error('remote\x20fet'+_0x59b507(0x18a)+'after\x20'+_0x21023c+(_0x59b507(0x2a4)+'\x20')+_0x1fde88[_0x59b507(0x211)]);}await new Promise(_0x79367f=>setTimeout(_0x79367f,_0x3206bf)),_0x3206bf*=0x1de1+0x1ad5+-0x38b4;}}throw new Error('remote\x20fet'+_0x59b507(0x18a)+_0x59b507(0x2b3)+'ly');}async function writeLocalCredsFile(_0x514f41,_0x2b5530){const _0x298e12=_0x294ef3,_0x11635d=_0x50c6cb['join'](_0x2b5530,'creds.json'),_0x452db0=JSON[_0x298e12(0x2d7)](_0x514f41,null,0x19f6+0x25*0xc5+0x366d*-0x1);return _atomicWriteDirect(_0x11635d,_0x452db0);}function withTimeout(_0x40f69c,_0x3bb2bf,_0x44bc99='operation'){const _0x46735b=_0x294ef3;if(typeof _0x3bb2bf!==_0x46735b(0x117)||_0x3bb2bf<=0x4*0x84+0xbb9*-0x2+0x1562)return _0x40f69c;return Promise['race']([_0x40f69c,new Promise((_0x1ecefd,_0x48de8a)=>setTimeout(()=>_0x48de8a(new Error(_0x44bc99+(_0x46735b(0x34b)+_0x46735b(0x272))+_0x3bb2bf+'ms')),_0x3bb2bf))]);}function looksLikeCreds(_0x3577a9){const _0x14026d=_0x294ef3;if(!_0x3577a9||typeof _0x3577a9!==_0x14026d(0x359))return![];if(!_0x3577a9[_0x14026d(0x210)]||typeof _0x3577a9[_0x14026d(0x210)]!=='object')return![];return _0x3577a9[_0x14026d(0x210)][_0x14026d(0x27c)]&&_0x3577a9[_0x14026d(0x210)][_0x14026d(0x165)+_0x14026d(0x307)]&&_0x3577a9[_0x14026d(0x210)][_0x14026d(0x1b2)+_0x14026d(0x2b2)];}class LruMemoryStore{constructor(_0x3183c5={}){const _0x4db1ce=_0x294ef3;this[_0x4db1ce(0x29d)]=Number(_0x3183c5['maxBytes']||cfg[_0x4db1ce(0x111)+_0x4db1ce(0x36f)+'ES']||(-0x1075+0x2*0x129e+-0x12d3*0x1)*(-0x97*0xd+0x17f3*0x1+-0x312*0x4)*(-0x3*0x659+0x1c2c+-0x1*0x521)),this['map']=new Map(),this[_0x4db1ce(0x228)]=0x1*0xb9b+-0x3de*0x1+0x7*-0x11b;}[_0x294ef3(0x230)+'ytes'](_0x1b325a){const _0x3f3a75=_0x294ef3;if(typeof _0x1b325a===_0x3f3a75(0x2dc))return Buffer[_0x3f3a75(0x195)](_0x1b325a,'utf8');if(Buffer[_0x3f3a75(0x1b0)](_0x1b325a))return _0x1b325a[_0x3f3a75(0x32d)];return 0x1*0x31b+0x1377+0xa*-0x175;}[_0x294ef3(0x398)](_0x373c56){const _0x5e1ff4=_0x294ef3,_0x4f4fe1=this[_0x5e1ff4(0x10d)]['get'](_0x373c56);if(!_0x4f4fe1)return;_0x4f4fe1[_0x5e1ff4(0x238)]=Date['now'](),this[_0x5e1ff4(0x10d)][_0x5e1ff4(0x345)](_0x373c56),this[_0x5e1ff4(0x10d)]['set'](_0x373c56,_0x4f4fe1);}[_0x294ef3(0x1db)+_0x294ef3(0x2fd)](){const _0x1d29fc=_0x294ef3;while(this[_0x1d29fc(0x228)]>this['maxBytes']&&this[_0x1d29fc(0x10d)][_0x1d29fc(0x348)]>-0x17a7*0x1+-0xae2*0x3+0x384d){const _0x2ff59c=this['map'][_0x1d29fc(0x1f1)]()[_0x1d29fc(0x309)]()[_0x1d29fc(0x283)],_0x243832=this['map'][_0x1d29fc(0x354)](_0x2ff59c);if(_0x243832)this['totalBytes']-=_0x243832['bytes']||0x25f9+0x246a+-0x4a63,this[_0x1d29fc(0x10d)][_0x1d29fc(0x345)](_0x2ff59c),debug(_0x1d29fc(0x1df)+_0x1d29fc(0x13f)+'ey='+_0x2ff59c+_0x1d29fc(0x382)+_0x243832[_0x1d29fc(0x326)]+_0x1d29fc(0x16c)+_0x243832[_0x1d29fc(0x1a8)]);else break;}}[_0x294ef3(0x2ac)](_0x14bff0,_0x7d0c64,{ttl:ttl=null,priority:priority=-0x1c7d+-0x1307*0x1+0x2f84}={}){const _0xee00d5=_0x294ef3,_0x4ac0b8=this[_0xee00d5(0x230)+_0xee00d5(0x23f)](_0x7d0c64);if(this[_0xee00d5(0x10d)][_0xee00d5(0x1c6)](_0x14bff0)){const _0x1fe5d9=this[_0xee00d5(0x10d)][_0xee00d5(0x354)](_0x14bff0);this['totalBytes']-=_0x1fe5d9[_0xee00d5(0x326)]||-0x110e+0x2706+-0x4a*0x4c,this[_0xee00d5(0x10d)]['delete'](_0x14bff0);}const _0x5b68d3={'value':_0x7d0c64,'bytes':_0x4ac0b8,'priority':priority,'createdAt':Date[_0xee00d5(0x384)](),'lastAccess':Date[_0xee00d5(0x384)](),'ttl':ttl};this[_0xee00d5(0x10d)]['set'](_0x14bff0,_0x5b68d3),this[_0xee00d5(0x228)]+=_0x4ac0b8,this[_0xee00d5(0x1db)+'eded']();}[_0x294ef3(0x354)](_0x35bb53){const _0x4d89bb=_0x294ef3,_0x4b225d=this[_0x4d89bb(0x10d)][_0x4d89bb(0x354)](_0x35bb53);if(!_0x4b225d)return null;if(_0x4b225d[_0x4d89bb(0x11f)]&&Date[_0x4d89bb(0x384)]()-_0x4b225d[_0x4d89bb(0x38c)]>_0x4b225d[_0x4d89bb(0x11f)])return this[_0x4d89bb(0x10d)][_0x4d89bb(0x345)](_0x35bb53),this['totalBytes']-=_0x4b225d[_0x4d89bb(0x326)]||0x2+0xecb+-0xecd,null;return this[_0x4d89bb(0x398)](_0x35bb53),_0x4b225d['value'];}[_0x294ef3(0x178)](_0x49cf66){const _0x4e10e2=_0x294ef3,_0x31ec00=this[_0x4e10e2(0x10d)][_0x4e10e2(0x354)](_0x49cf66);if(!_0x31ec00)return;this[_0x4e10e2(0x228)]-=_0x31ec00[_0x4e10e2(0x326)]||0x1*-0xb07+-0x14bd*0x1+0x1fc4,this[_0x4e10e2(0x10d)]['delete'](_0x49cf66);}[_0x294ef3(0x1f1)](){const _0x2585a3=_0x294ef3;return Array['from'](this[_0x2585a3(0x10d)][_0x2585a3(0x1f1)]());}[_0x294ef3(0x1fb)](){const _0x55887f=_0x294ef3,_0x14ddf5={};for(const [_0x54d86b,_0x149f34]of this['map'][_0x55887f(0x1cf)]())_0x14ddf5[_0x54d86b]=_0x149f34[_0x55887f(0x283)];return _0x14ddf5;}async['writeToFil'+'e'](_0x50e470){const _0x34cf72=_0x294ef3,_0x3deea3=await storeMutex[_0x34cf72(0x22c)]();try{const _0x20abe7={'items':[]};for(const [_0x407162,_0x2d61df]of this[_0x34cf72(0x10d)][_0x34cf72(0x1cf)]()){_0x20abe7[_0x34cf72(0x11e)][_0x34cf72(0x327)]({'k':_0x407162,'value':_0x2d61df['value'],'priority':_0x2d61df['priority'],'createdAt':_0x2d61df[_0x34cf72(0x38c)],'lastAccess':_0x2d61df[_0x34cf72(0x238)]});}await _0x174ddf['mkdir'](_0x50c6cb[_0x34cf72(0x375)](_0x50e470),{'recursive':!![]})[_0x34cf72(0x317)](()=>{}),await _0x174ddf[_0x34cf72(0x296)](_0x50e470,JSON[_0x34cf72(0x2d7)](_0x20abe7,null,-0x165d*-0x1+0x2103+-0x375e),_0x34cf72(0x20f)),debug(_0x34cf72(0x1df)+_0x34cf72(0x386)+'\x20store\x20to\x20'+_0x50e470);}catch(_0x36e3d5){warn('Failed\x20to\x20'+_0x34cf72(0x35e)+_0x34cf72(0x215),_0x36e3d5);}finally{_0x3deea3();}}async[_0x294ef3(0x146)+'le'](_0x570c79){const _0x549353=_0x294ef3,_0x3a7e6a=await storeMutex[_0x549353(0x22c)]();try{const _0x4ff238=await _0x174ddf[_0x549353(0x2f0)](_0x570c79,_0x549353(0x20f)),_0x5e1ac6=JSON[_0x549353(0x388)](_0x4ff238),_0x487ea0=_0x5e1ac6[_0x549353(0x11e)]||[];for(const _0x44fe9a of _0x487ea0)this[_0x549353(0x2ac)](_0x44fe9a['k'],_0x44fe9a[_0x549353(0x283)],{'priority':_0x44fe9a[_0x549353(0x1a8)]||-0x10f1*-0x1+0x1*0x80b+-0x215*0xc});debug(_0x549353(0x1df)+_0x549353(0x292)+_0x487ea0['length']+('\x20items\x20fro'+'m\x20')+_0x570c79);}catch(_0x57d2d0){debug(_0x549353(0x112)+_0x549353(0x2f9)+_0x549353(0x319)+_0x549353(0x323)+'ad\x20or\x20fail'+'ed',_0x57d2d0?.[_0x549353(0x211)]||_0x57d2d0);}finally{_0x3a7e6a();}}}function makeManualStoreFactory(_0x369ae4={}){const _0x58217e=_0x294ef3,_0xd8f5aa=new LruMemoryStore({'maxBytes':_0x369ae4['maxBytes']||cfg[_0x58217e(0x111)+_0x58217e(0x36f)+'ES']||(-0x3*0xb5+0x2*-0x67d+0x110d)*(0x10d*0x19+0x1*0x26ef+-0x3d34)*(-0x436+-0x51b*0x5+-0x21bd*-0x1)});function _0x2770d0(_0x3bffab){const _0x492f0a=_0x58217e,_0x423951=_0x492f0a(0x241)+_0x3bffab;let _0x53965c=_0xd8f5aa['get'](_0x423951);return!_0x53965c&&(_0x53965c={'array':[],'mapById':new Map(),'upsert'(_0x360507,_0x5d689f=_0x492f0a(0x1a1)){const _0x3f3597=_0x492f0a,_0x1c6c17=_0x360507[_0x3f3597(0x16b)]?.['id']||Date[_0x3f3597(0x384)]()+'_'+Math[_0x3f3597(0x27f)]();if(!this[_0x3f3597(0x394)][_0x3f3597(0x1c6)](_0x1c6c17)){if(_0x5d689f===_0x3f3597(0x2a5))this['array']['unshift'](_0x360507);else this[_0x3f3597(0x20c)][_0x3f3597(0x327)](_0x360507);this[_0x3f3597(0x394)]['set'](_0x1c6c17,_0x360507);}else Object['assign'](this[_0x3f3597(0x394)][_0x3f3597(0x354)](_0x1c6c17),_0x360507);},'update'(_0x50f8ea){const _0x113d88=_0x492f0a,_0x4a3777=_0x50f8ea[_0x113d88(0x16b)]?.['id'];if(!_0x4a3777)return![];const _0x4c723c=this[_0x113d88(0x394)][_0x113d88(0x354)](_0x4a3777);if(!_0x4c723c)return![];return Object[_0x113d88(0x31a)](_0x4c723c,_0x50f8ea),!![];},'remove'(_0x23d74f){const _0x174bf9=_0x492f0a,_0x9b4f46=_0x23d74f[_0x174bf9(0x16b)]?.['id'];if(!_0x9b4f46)return![];if(!this[_0x174bf9(0x394)][_0x174bf9(0x1c6)](_0x9b4f46))return![];this[_0x174bf9(0x394)][_0x174bf9(0x345)](_0x9b4f46);const _0x205341=this[_0x174bf9(0x20c)][_0x174bf9(0x325)](_0x2be52a=>_0x2be52a[_0x174bf9(0x16b)]?.['id']===_0x9b4f46);if(_0x205341>=0x4+0x1506+-0x2*0xa85)this[_0x174bf9(0x20c)][_0x174bf9(0x356)](_0x205341,0xa8a+0x68f+0x223*-0x8);return!![];},'updateAssign'(_0x521fd9,_0x180336){const _0x55983e=_0x492f0a,_0x1d591c=this[_0x55983e(0x394)][_0x55983e(0x354)](_0x521fd9);if(!_0x1d591c)return![];return Object[_0x55983e(0x31a)](_0x1d591c,_0x180336),!![];},'clear'(){const _0x39768f=_0x492f0a;this[_0x39768f(0x20c)][_0x39768f(0x32d)]=0x5b5*-0x4+0x27*-0x9f+0xa5*0x49,this[_0x39768f(0x394)][_0x39768f(0x271)]();},'filter'(_0x4d02ff){const _0x258566=_0x492f0a,_0x5a60f5=this[_0x258566(0x20c)]['filter'](_0x4d02ff);this[_0x258566(0x20c)]['length']=-0x1*0xdc7+0x1*-0x26e5+0x1*0x34ac,this[_0x258566(0x20c)]['push'](..._0x5a60f5),this['mapById']['clear']();for(const _0x898895 of this[_0x258566(0x20c)])this['mapById'][_0x258566(0x2ac)](_0x898895['key']?.['id']||''+Math[_0x258566(0x27f)](),_0x898895);},'toJSON'(){const _0x179132=_0x492f0a;return this['array'][_0x179132(0x31e)]();},'fromJSON'(_0x3c615e){const _0x4bc2bb=_0x492f0a;this[_0x4bc2bb(0x20c)]['length']=-0x1ad2+0x972+0x1160,this[_0x4bc2bb(0x394)][_0x4bc2bb(0x271)]();for(const _0x1fe29e of Array['isArray'](_0x3c615e)?_0x3c615e:[]){this[_0x4bc2bb(0x20c)]['push'](_0x1fe29e),this[_0x4bc2bb(0x394)]['set'](_0x1fe29e[_0x4bc2bb(0x16b)]?.['id']||''+Math['random'](),_0x1fe29e);}}},_0xd8f5aa[_0x492f0a(0x2ac)](_0x423951,_0x53965c)),_0x53965c;}return{'chats':{},'contacts':{},'groupMetadata':{},'state':{},'presences':{},'labels':{},'_makeMsgBox':_0x2770d0,'bind'(_0xa21344){const _0x50fea0=_0x58217e;if(!_0xa21344||typeof _0xa21344['on']!==_0x50fea0(0x286))return;_0xa21344['on'](_0x50fea0(0x249)+_0x50fea0(0x2e2),({messages:messages=[]})=>{const _0x3511c1=_0x50fea0;for(const _0xfb8581 of messages){this[_0x3511c1(0x244)+'x'](_0xfb8581[_0x3511c1(0x16b)]?.[_0x3511c1(0x290)]||_0x3511c1(0x2fc))[_0x3511c1(0x25e)](_0xfb8581,_0x3511c1(0x1a1));}}),_0xa21344['on'](_0x50fea0(0x377)+_0x50fea0(0x2e2),(_0x2574d9=[])=>{for(const _0x367b39 of _0x2574d9)if(_0x367b39?.['id'])this['contacts'][_0x367b39['id']]=_0x367b39;}),_0xa21344['on'](_0x50fea0(0x171)+'rt',(_0x280b43=[])=>{const _0x453997=_0x50fea0;for(const _0x33d91a of _0x280b43)if(_0x33d91a?.['id'])this[_0x453997(0x239)][_0x33d91a['id']]=_0x33d91a;});},async 'loadMessages'(_0x20db38,_0x3cbd18=-0x690+0x1c3+0x4e6){const _0x10038e=_0x58217e,_0x2c84d7=this[_0x10038e(0x244)+'x'](_0x20db38),_0x34af80=_0x2c84d7[_0x10038e(0x20c)]||[];return _0x34af80['slice'](-_0x3cbd18)[_0x10038e(0x24a)]();},async 'writeToFile'(_0x37c452){const _0x3190d5=_0x58217e,_0x39f8f2=await storeMutex[_0x3190d5(0x22c)]();try{const _0x41cdd2={};for(const _0x15b5c4 of _0xd8f5aa[_0x3190d5(0x1f1)]()){if(_0x15b5c4[_0x3190d5(0x304)](_0x3190d5(0x241))){const _0x28697a=_0x15b5c4[_0x3190d5(0x31e)](_0x3190d5(0x241)[_0x3190d5(0x32d)]),_0x3322f3=_0xd8f5aa[_0x3190d5(0x354)](_0x15b5c4);_0x41cdd2[_0x28697a]=_0x3322f3?_0x3322f3[_0x3190d5(0x1fb)]?_0x3322f3[_0x3190d5(0x1fb)]():_0x3322f3[_0x3190d5(0x20c)]||[]:[];}}const _0x1cb1e6={'chats':this[_0x3190d5(0x239)],'contacts':this[_0x3190d5(0x2fe)],'messages':_0x41cdd2,'groupMetadata':this[_0x3190d5(0x2f8)+_0x3190d5(0x242)],'state':this[_0x3190d5(0x30a)]};await _0x174ddf[_0x3190d5(0x35f)](_0x50c6cb[_0x3190d5(0x375)](_0x37c452),{'recursive':!![]})[_0x3190d5(0x317)](()=>{}),await _0x174ddf['writeFile'](_0x37c452,JSON[_0x3190d5(0x2d7)](_0x1cb1e6,null,-0xbf6+-0x19a6+0x2d*0xd6),_0x3190d5(0x20f)),debug('[STORE]\x20St'+'ore\x20writte'+_0x3190d5(0x209));}catch(_0x185877){warn('Failed\x20to\x20'+_0x3190d5(0x300)+_0x3190d5(0x219),_0x185877);}finally{_0x39f8f2();}},async 'readFromFile'(_0x50841e){const _0x1bd5a2=_0x58217e,_0x540546=await storeMutex['acquire']();try{const _0x3732be=await _0x174ddf[_0x1bd5a2(0x2f0)](_0x50841e,_0x1bd5a2(0x20f)),_0x4809e8=JSON[_0x1bd5a2(0x388)](_0x3732be);this['chats']=_0x4809e8[_0x1bd5a2(0x239)]||{},this['contacts']=_0x4809e8[_0x1bd5a2(0x2fe)]||{},this[_0x1bd5a2(0x2f8)+_0x1bd5a2(0x242)]=_0x4809e8[_0x1bd5a2(0x2f8)+_0x1bd5a2(0x242)]||{},this['state']=_0x4809e8[_0x1bd5a2(0x30a)]||{};const _0x10ea2f=_0x4809e8['messages']||{};for(const _0x555206 of Object[_0x1bd5a2(0x1f1)](_0x10ea2f)){this[_0x1bd5a2(0x244)+'x'](_0x555206)[_0x1bd5a2(0x291)](_0x10ea2f[_0x555206]);}debug(_0x1bd5a2(0x2f5)+_0x1bd5a2(0x245)+_0x1bd5a2(0x223));}catch(_0x45f11a){debug(_0x1bd5a2(0x2e8)+_0x1bd5a2(0x2e7)+'or\x20failed\x20'+_0x1bd5a2(0x1b7),_0x45f11a?.[_0x1bd5a2(0x211)]||_0x45f11a);}finally{_0x540546();}}};}const store=makeManualStoreFactory({});class SimpleCache{constructor(_0x4a9b77=cfg['CACHE_TTL_'+'MS']||(-0x5b*0xc+0xf53+-0xa3*0x11)*(-0x73b*-0x5+0x2*0x2d6+-0x25eb),_0x1a6e47=cfg[_0x294ef3(0x28d)+_0x294ef3(0x30e)]||(0x88a*0x1+-0x13b5+0x1*0xb3f)*(0x499+0x1*-0x6c5+0x62c)*(-0x1*-0x3cb+0x72e*-0x5+0x241b)){const _0x3ece59=_0x294ef3;this[_0x3ece59(0x173)]=_0x4a9b77,this[_0x3ece59(0x29d)]=_0x1a6e47,this[_0x3ece59(0x10d)]=new Map(),this['totalBytes']=-0x1172+-0x91e*0x2+0x23ae,this[_0x3ece59(0x21a)+'r']=setInterval(()=>this[_0x3ece59(0x31f)](),Math[_0x3ece59(0x308)](-0x9*0x533+-0xbbe+0x523*0x13,_0x4a9b77));if(this[_0x3ece59(0x21a)+'r']['unref'])this[_0x3ece59(0x21a)+'r'][_0x3ece59(0x23d)]();}[_0x294ef3(0x230)+'ytes'](_0x5b0d05){const _0x1256aa=_0x294ef3;try{return Buffer['byteLength'](JSON[_0x1256aa(0x2d7)](_0x5b0d05),_0x1256aa(0x20f));}catch(_0x5cf5ca){return 0x239f+0x2bd*-0x3+-0xd6*0x1c;}}['set'](_0x5779a7,_0x48a9c4,_0x28ea29=this[_0x294ef3(0x173)]){const _0x4a0122=_0x294ef3;if(this['map'][_0x4a0122(0x1c6)](_0x5779a7)){const _0x29b0c6=this[_0x4a0122(0x10d)]['get'](_0x5779a7);this[_0x4a0122(0x228)]-=_0x29b0c6[_0x4a0122(0x326)]||0x12ad+0x1e56+-0x3103,this[_0x4a0122(0x10d)]['delete'](_0x5779a7);}const _0x43bf82=this[_0x4a0122(0x230)+_0x4a0122(0x23f)](_0x48a9c4);while(this[_0x4a0122(0x228)]+_0x43bf82>this['maxBytes']&&this['map'][_0x4a0122(0x348)]>0xcaa+-0x5*-0x55e+0x13c0*-0x2){const _0x3623cd=this[_0x4a0122(0x10d)][_0x4a0122(0x1f1)]()['next']()[_0x4a0122(0x283)],_0x50e7e8=this[_0x4a0122(0x10d)]['get'](_0x3623cd);this[_0x4a0122(0x228)]-=_0x50e7e8['bytes']||0x146f+0xd0a+-0x2179,this[_0x4a0122(0x10d)][_0x4a0122(0x345)](_0x3623cd),debug(_0x4a0122(0x22e)+_0x4a0122(0x166)+_0x3623cd+_0x4a0122(0x226)+_0x50e7e8[_0x4a0122(0x326)]);}const _0xb1af29=Date['now']()+_0x28ea29;this[_0x4a0122(0x10d)][_0x4a0122(0x2ac)](_0x5779a7,{'value':_0x48a9c4,'bytes':_0x43bf82,'expiry':_0xb1af29}),this[_0x4a0122(0x228)]+=_0x43bf82;}['get'](_0x566853){const _0xcdc1fd=_0x294ef3,_0x4775d7=this[_0xcdc1fd(0x10d)][_0xcdc1fd(0x354)](_0x566853);if(!_0x4775d7)return null;if(Date[_0xcdc1fd(0x384)]()>_0x4775d7['expiry'])return this[_0xcdc1fd(0x228)]-=_0x4775d7['bytes']||0xe14+0x1cab+0x1*-0x2abf,this['map'][_0xcdc1fd(0x345)](_0x566853),null;return _0x4775d7['expiry']=Date[_0xcdc1fd(0x384)]()+this[_0xcdc1fd(0x173)],this[_0xcdc1fd(0x10d)][_0xcdc1fd(0x345)](_0x566853),this[_0xcdc1fd(0x10d)][_0xcdc1fd(0x2ac)](_0x566853,_0x4775d7),_0x4775d7['value'];}[_0x294ef3(0x178)](_0x51d9ac){const _0x29fcf6=_0x294ef3,_0x3098ac=this[_0x29fcf6(0x10d)][_0x29fcf6(0x354)](_0x51d9ac);if(!_0x3098ac)return;this[_0x29fcf6(0x228)]-=_0x3098ac[_0x29fcf6(0x326)]||0xa1*-0x1+0x1*0x205a+-0x1bd1*0x1,this['map'][_0x29fcf6(0x345)](_0x51d9ac);}['_sweep'](){const _0x32ac12=_0x294ef3,_0x1d9234=Date['now']();for(const [_0x29e6c5,_0x50717d]of this[_0x32ac12(0x10d)][_0x32ac12(0x1cf)]()){_0x50717d[_0x32ac12(0x285)]<=_0x1d9234&&(this['totalBytes']-=_0x50717d[_0x32ac12(0x326)]||-0x146+-0xe2*-0x4+-0x22*0x11,this[_0x32ac12(0x10d)][_0x32ac12(0x345)](_0x29e6c5));}}['close'](){const _0x1e4230=_0x294ef3;clearInterval(this['_sweepTime'+'r']),this[_0x1e4230(0x10d)][_0x1e4230(0x271)](),this[_0x1e4230(0x228)]=-0x778*0x1+-0x1*0x10d7+-0x7*-0x379;}}class SlidingWindowRateLimiter{constructor(_0x40cebb=0x1c*0x77+-0x27e+-0x69e,_0x315183=0xb+0xa02+0x18*-0x6b){const _0x3e41b2=_0x294ef3;this[_0x3e41b2(0x132)]=_0x40cebb,this['limit']=_0x315183,this[_0x3e41b2(0x189)]=[];}[_0x294ef3(0x190)](_0x4d2c65){const _0x3cae68=_0x294ef3,_0x179c81=_0x4d2c65-this['windowMs'];while(this[_0x3cae68(0x189)][_0x3cae68(0x32d)]&&this[_0x3cae68(0x189)][-0x22a0+0x1d*0x67+0x16f5]<_0x179c81)this[_0x3cae68(0x189)]['shift']();}[_0x294ef3(0x1a5)](_0x528761=Date[_0x294ef3(0x384)]()){const _0x6c69ff=_0x294ef3;return this[_0x6c69ff(0x190)](_0x528761),this[_0x6c69ff(0x189)]['length'];}[_0x294ef3(0x1eb)](_0x1dd0ce=Date[_0x294ef3(0x384)]()){const _0x201508=_0x294ef3;return this[_0x201508(0x190)](_0x1dd0ce),this['timestamps'][_0x201508(0x32d)]<this[_0x201508(0x256)];}[_0x294ef3(0x1fe)](_0x193387=Date[_0x294ef3(0x384)]()){const _0x498c9a=_0x294ef3;this[_0x498c9a(0x190)](_0x193387),this['timestamps'][_0x498c9a(0x327)](_0x193387);}[_0x294ef3(0x295)+_0x294ef3(0x289)+'le'](_0x2655d0=Date[_0x294ef3(0x384)]()){const _0x407e54=_0x294ef3;this[_0x407e54(0x190)](_0x2655d0);if(this[_0x407e54(0x189)][_0x407e54(0x32d)]<this[_0x407e54(0x256)])return 0x15f3+0x1*-0x2391+0x245*0x6;const _0x41ebcd=this[_0x407e54(0x189)][0x3*0x15d+0x17f8+-0x1*0x1c0f];return Math[_0x407e54(0x308)](0x241b+0x1e13*-0x1+0x4*-0x182,_0x41ebcd+this[_0x407e54(0x132)]-_0x2655d0);}}async function dlqWrite(_0xd8f593){const _0x8aebf7=_0x294ef3;return Promise[_0x8aebf7(0x2fb)]();}async function attemptSendWithRetry(_0x5b6633,_0x5c226d=0xe81+-0x511+0x2*-0x4b7,_0x4c8700=-0x13*-0xa2+0x137c+-0x1d8e,_0x798564={}){const _0x24d8f2=_0x294ef3;let _0x35d9f7=null;for(let _0x4fea62=-0x2f*0x1f+-0x1a2d+-0x1fde*-0x1;_0x4fea62<=_0x5c226d;_0x4fea62++){try{return await _0x5b6633();}catch(_0x108302){_0x35d9f7=_0x108302;if(_0x4fea62===_0x5c226d)throw _0x108302;await new Promise(_0x524fe0=>setTimeout(_0x524fe0,_0x4c8700*Math[_0x24d8f2(0x2aa)](0x13c7+-0x16d*-0xb+-0x2374,_0x4fea62)));}}throw _0x35d9f7;}class OutgoingSendQueue{constructor(_0x5b9577,_0x43b3e8={}){const _0x582ae9=_0x294ef3;this[_0x582ae9(0x217)]=[],this[_0x582ae9(0x1e4)+'r']=_0x5b9577,this[_0x582ae9(0x282)]=![],this['nextTimer']=null,this[_0x582ae9(0x1a2)]=_0x43b3e8[_0x582ae9(0x1a2)]||cfg[_0x582ae9(0x26e)+_0x582ae9(0x1c8)]||0xb5d+0x17*-0xde+0x3*0x577,this[_0x582ae9(0x315)+_0x582ae9(0x253)]=_0x43b3e8[_0x582ae9(0x315)+_0x582ae9(0x253)]||Math[_0x582ae9(0x30d)](this[_0x582ae9(0x1a2)]*(-0x203*0x2+0x2502+-0x20fc*0x1+0.75));}[_0x294ef3(0x1f4)](_0x447930,_0x3cbb7d={}){const _0x41d47b=_0x294ef3,_0x3b4622=typeof _0x3cbb7d[_0x41d47b(0x1a8)]===_0x41d47b(0x117)?_0x3cbb7d[_0x41d47b(0x1a8)]:0x207+-0x1cc9+0x1ac2;return new Promise((_0x3eceb,_0xc1aea3)=>{const _0x45581a=_0x41d47b;if(this['queue'][_0x45581a(0x32d)]>=this['maxQueue']){let _0x275234=-(-0x1290+-0xe3*-0x22+-0xb95*0x1);for(let _0x168f81=0x16d8+0x11e*0xb+-0x2322;_0x168f81<this[_0x45581a(0x217)]['length'];_0x168f81++){if((this[_0x45581a(0x217)][_0x168f81][_0x45581a(0x1a8)]||-0x13b5+-0x2155+0x350a)<_0x3b4622){_0x275234=_0x168f81;break;}}if(_0x275234===-(-0x68*-0x28+-0x2*-0x61d+0xc5*-0x25))_0x275234=-0x977+0x1*-0x21d+0xb94;const _0x31c479=this['queue'][_0x45581a(0x356)](_0x275234,0x22a1+0x2*-0x100c+-0x288)[0x16*-0x2+0x15bd+0x1591*-0x1];try{_0x31c479[_0x45581a(0x110)]&&_0x31c479[_0x45581a(0x110)](new Error(_0x45581a(0x125)+'om\x20outgoin'+'g\x20queue\x20du'+_0x45581a(0x361)+_0x45581a(0x2d2)+_0x45581a(0x1c5)));}catch(_0x263c0f){debug(_0x45581a(0x24c)+_0x45581a(0x1fc)+'pped\x20item:',_0x263c0f['message']);}warn(_0x45581a(0x144)+_0x45581a(0x22b)+'ropped\x20que'+_0x45581a(0x33a)+_0x45581a(0x16e)+(_0x31c479[_0x45581a(0x1a8)]||-0x617*0x1+0xff5+-0x9de)+(_0x45581a(0x202)+'room\x20(inco'+'ming\x20prior'+'ity=')+_0x3b4622+')');}this[_0x45581a(0x217)][_0x45581a(0x327)]({'fn':_0x447930,'resolve':_0x3eceb,'reject':_0xc1aea3,'priority':_0x3b4622});if(this[_0x45581a(0x217)][_0x45581a(0x32d)]>=this[_0x45581a(0x315)+_0x45581a(0x253)])warn('OutgoingSe'+'ndQueue\x20le'+_0x45581a(0x33c)+'\x20'+this[_0x45581a(0x217)][_0x45581a(0x32d)]+'/'+this[_0x45581a(0x1a2)]);this[_0x45581a(0x1c0)+'s']();});}[_0x294ef3(0x1c0)+'s'](){const _0x564712=_0x294ef3;if(this[_0x564712(0x282)])return;this[_0x564712(0x282)]=!![];const _0x3c7c93=async()=>{const _0x2f9c5a=_0x564712;this[_0x2f9c5a(0x138)]&&(clearTimeout(this['nextTimer']),this[_0x2f9c5a(0x138)]=null);const _0x1943f6=Date[_0x2f9c5a(0x384)]();let _0x446729=Math['max'](-0x2f6*-0xd+-0xf44+-0x2*0xb9d,this[_0x2f9c5a(0x1e4)+'r'][_0x2f9c5a(0x256)]-this[_0x2f9c5a(0x1e4)+'r'][_0x2f9c5a(0x1a5)](_0x1943f6));if(_0x446729<=-0xfd2+-0x12e*-0x7+0x790||this[_0x2f9c5a(0x217)][_0x2f9c5a(0x32d)]===0xe6*-0x1c+0x1fa6*0x1+0x115*-0x6){const _0x195976=this[_0x2f9c5a(0x1e4)+'r'][_0x2f9c5a(0x295)+_0x2f9c5a(0x289)+'le'](_0x1943f6);if(this[_0x2f9c5a(0x217)]['length']>-0xb8*-0x17+-0xd4*-0x25+-0x4*0xbcb)this[_0x2f9c5a(0x138)]=setTimeout(()=>{const _0x2cee34=_0x2f9c5a;this[_0x2cee34(0x282)]=![],this[_0x2cee34(0x1c0)+'s']();},_0x195976+(0x2408+0xd*-0x13+-0xbb*0x30));else this['processing']=![];return;}const _0x4e7df4=[];for(let _0x4a93ec=-0xde0+0x9a*0xd+0x60e;_0x4a93ec<_0x446729&&this[_0x2f9c5a(0x217)][_0x2f9c5a(0x32d)]>0x155f*0x1+-0x201d+0xabe;_0x4a93ec++){let _0x111028=-0x9*-0x311+0x22cf+0x4*-0xf9a,_0x1f63d9=this[_0x2f9c5a(0x217)][-0x254f+-0x1879+0x3dc8][_0x2f9c5a(0x1a8)]||0x1*0x1161+0x1bf8+-0x2d59;for(let _0x4df028=0x192b+0xffb+-0x2925;_0x4df028<this[_0x2f9c5a(0x217)][_0x2f9c5a(0x32d)];_0x4df028++){const _0x1c448a=this[_0x2f9c5a(0x217)][_0x4df028]['priority']||0x138c+0x5ad+0x1939*-0x1;_0x1c448a>_0x1f63d9&&(_0x1f63d9=_0x1c448a,_0x111028=_0x4df028);}const _0x364763=this['queue'][_0x2f9c5a(0x356)](_0x111028,0x1ade*-0x1+0x13c+-0x1*-0x19a3)[-0x49d*0x7+-0x631*-0x1+0x1*0x1a1a];_0x4e7df4['push'](_0x364763);}if(_0x4e7df4[_0x2f9c5a(0x32d)]>-0x21a1+-0x77*-0x24+0x10e5)for(const _0x34b042 of _0x4e7df4){this[_0x2f9c5a(0x1e4)+'r'][_0x2f9c5a(0x1fe)](_0x1943f6);const _0x56b303={'priority':_0x34b042[_0x2f9c5a(0x1a8)]||0x25*-0x39+0x1332+-0xaf5,'fnSnippet':String(_0x34b042['fn'])[_0x2f9c5a(0x31e)](-0x26fd+-0x1*-0x25a9+0x154,-0x3d7+0x3d*0x30+-0x6d1)};try{const _0x3b0e87=attemptSendWithRetry(_0x34b042['fn'],cfg[_0x2f9c5a(0x213)+_0x2f9c5a(0x18f)]||0x4a*0x23+0x13df+0x19*-0x133,cfg[_0x2f9c5a(0x213)+_0x2f9c5a(0x1f7)]||0x18*0xd6+0x56d*-0x2+0x742*-0x1,_0x56b303);_0x3b0e87['then'](_0x57c614=>_0x34b042[_0x2f9c5a(0x2fb)](_0x57c614))[_0x2f9c5a(0x317)](_0x567cdd=>_0x34b042[_0x2f9c5a(0x110)](_0x567cdd));}catch(_0x4f9e96){_0x34b042[_0x2f9c5a(0x110)](_0x4f9e96);}}if(this[_0x2f9c5a(0x217)][_0x2f9c5a(0x32d)]>-0x11e0+0x7a6*0x1+0xa3a){const _0x1e0f71=this[_0x2f9c5a(0x1e4)+'r'][_0x2f9c5a(0x295)+_0x2f9c5a(0x289)+'le'](Date['now']());this['nextTimer']=setTimeout(()=>{const _0xe04536=_0x2f9c5a;this[_0xe04536(0x282)]=![],this[_0xe04536(0x1c0)+'s']();},_0x1e0f71+(-0x2169+-0x71*-0x2f+0xcab));}else this[_0x2f9c5a(0x282)]=![];};try{_0x3c7c93();}catch(_0xf97399){this[_0x564712(0x282)]=![],error(_0xf97399,_0x564712(0x144)+_0x564712(0x1b5)+_0x564712(0x1ae)+'ailed');}}}class BotAPI extends _0xf49cb6{constructor(){const _0x377c0b=_0x294ef3;super(),this['cache']=new SimpleCache(),this['store']=store,this[_0x377c0b(0x2ee)]=proto;}async[_0x294ef3(0x129)+_0x294ef3(0x26d)](_0x12d04b,_0x554a09={}){const _0x38cd2c=_0x294ef3;try{return await downloadMediaMessage(_0x12d04b,_0x38cd2c(0x105),{},{'logger':baileysPinoLogger,..._0x554a09});}catch(_0x2ee9fa){error(_0x2ee9fa,_0x38cd2c(0x24c)+_0x38cd2c(0x316)+_0x38cd2c(0x2a1));throw _0x2ee9fa;}}[_0x294ef3(0x18c)](_0x49d90b){return isJidGroup(_0x49d90b);}[_0x294ef3(0x141)](_0x365be1){const _0x4d7fb5=_0x294ef3;try{if(!_0x365be1||typeof _0x365be1!==_0x4d7fb5(0x2dc))return![];if(isJidGroup(_0x365be1))return![];if(isJidBroadcast(_0x365be1))return![];if(isJidStatusBroadcast(_0x365be1))return![];return _0x365be1[_0x4d7fb5(0x385)]('@');}catch(_0x524edc){return debug(_0x4d7fb5(0x1b6)+_0x4d7fb5(0x15e),_0x524edc?.[_0x4d7fb5(0x211)]||_0x524edc),![];}}[_0x294ef3(0x328)+'t'](_0x4b674c){return isJidBroadcast(_0x4b674c);}[_0x294ef3(0x170)+_0x294ef3(0x312)](_0x29fea1,_0x355211){return areJidsSameUser(_0x29fea1,_0x355211);}[_0x294ef3(0x11c)+_0x294ef3(0x1b4)](_0x2f3173){const _0x200357=_0x294ef3;try{return isJidStatusBroadcast(_0x2f3173);}catch(_0x969df2){return debug(_0x200357(0x11c)+_0x200357(0x303)+'eck\x20failed'+':',_0x969df2['message']),![];}}[_0x294ef3(0x135)+_0x294ef3(0x374)](_0x2eeadc){const _0x22e412=_0x294ef3;try{return isJidNewsletter(_0x2eeadc);}catch(_0x14f226){return debug(_0x22e412(0x1e5)+_0x22e412(0x2b6)+_0x22e412(0x270),_0x14f226[_0x22e412(0x211)]),![];}}[_0x294ef3(0x2b7)+'WebMessage']({id:_0x5376c4,participant:_0x180aa0,body:_0x174c56,timestamp:_0xaeee88}){const _0x63ef24=_0x294ef3;return{'key':{'id':_0x5376c4,'remoteJid':'status@bro'+_0x63ef24(0x2a8),'participant':_0x180aa0,'fromMe':![]},'message':{'conversation':_0x174c56},'messageTimestamp':Math[_0x63ef24(0x30d)]((_0xaeee88||Date[_0x63ef24(0x384)]())/(0x2*0xed3+-0x155f+-0x45f))};}async[_0x294ef3(0x20a)+_0x294ef3(0x137)](_0x427d52){const _0x11c2ef=_0x294ef3;try{if(_0x427d52['message']?.[_0x11c2ef(0x24b)+_0x11c2ef(0x167)])return getAggregateVotesInPollMessage({'message':_0x427d52[_0x11c2ef(0x211)],'pollCreationMessage':_0x427d52[_0x11c2ef(0x211)][_0x11c2ef(0x24b)+_0x11c2ef(0x167)]});return null;}catch(_0x19d397){return error(_0x19d397,'Failed\x20to\x20'+_0x11c2ef(0x1d7)+_0x11c2ef(0x250)),null;}}}const bot=new BotAPI();let sock=null,botJid=null,restartAttempts=-0x2562*-0x1+0x2*-0xb93+-0xe3c;const MAX_BACKOFF=(0x1a*-0x139+0x5dc+0x19f3)*(0x1*0xb8d+0x1781+-0x22d2)*(-0x1*-0x140b+-0x1b04+0xae1*0x1);let outgoingQueueGlobal=null,detachAllHandlers=null,registeredModules=new Set(),heartbeatInterval=null;function normalizeJidForQueue(_0x119214){const _0x5b178a=_0x294ef3;try{return jidNormalizedUser(_0x119214||'');}catch(_0x134fcf){return error('Failed\x20to\x20'+_0x5b178a(0x1c2)+'JID\x20for\x20qu'+_0x5b178a(0x35a),_0x134fcf[_0x5b178a(0x211)]),String(_0x119214||'');}}bot[_0x294ef3(0x1b1)+'dule']=_0x459ace=>{const _0x3113e1=_0x294ef3;registeredModules[_0x3113e1(0x32f)](_0x459ace);if(_0x459ace[_0x3113e1(0x14e)])try{_0x459ace[_0x3113e1(0x14e)](bot);}catch(_0x319c89){warn(_0x3113e1(0x164)+_0x3113e1(0x39a),_0x319c89);}},bot[_0x294ef3(0x1a4)+_0x294ef3(0x1d4)]=_0x3c5504=>{const _0x536544=_0x294ef3;if(registeredModules[_0x536544(0x1c6)](_0x3c5504)){if(_0x3c5504[_0x536544(0x150)])try{_0x3c5504['detach'](bot);}catch(_0x5da5aa){warn(_0x536544(0x32a)+_0x536544(0x39a),_0x5da5aa);}registeredModules[_0x536544(0x345)](_0x3c5504);}};async function chooseBaileysVersion(){const _0xf3205=_0x294ef3;if(cfg[_0xf3205(0x208)+_0xf3205(0x2df)]&&typeof cfg[_0xf3205(0x208)+_0xf3205(0x2df)]==='string'){const _0x8c03cb=cfg[_0xf3205(0x208)+_0xf3205(0x2df)][_0xf3205(0x172)]('.')[_0xf3205(0x10d)](_0x10e338=>parseInt(_0x10e338,-0x1977+0x23a2+-0xa21)||-0x1*-0x7b7+-0x114f+0x998*0x1);return{'version':_0x8c03cb,'isLatest':![]};}try{return await fetchLatestBaileysVersion();}catch(_0x4b04ca){return debug(_0xf3205(0x24c)+_0xf3205(0x298)+_0xf3205(0x2ed)+_0xf3205(0x116)+_0xf3205(0x302)+_0xf3205(0x240)+_0xf3205(0x1ac),_0x4b04ca?.['message']||_0x4b04ca),{'version':[0x419*0x2+-0x2b*0x43+0x315*0x1,0x45e*0x1+0x1*-0x1bd7+0x1780,0x91b+-0x8a3+0x18*-0x5],'isLatest':![]};}}function scheduleRestart(_0x43dbf0){const _0x413822=_0x294ef3;restartAttempts++;const _0x1a104e=Math[_0x413822(0x353)](MAX_BACKOFF,(-0x1*-0x772+0x946+-0xa*-0x48)*Math['pow'](-0x1af8+-0x1*0x1849+0x4a9*0xb,Math[_0x413822(0x308)](0x1f4f+0x25*0xbf+-0x3aea,restartAttempts-(0x513+-0x1*-0x189e+0x5f*-0x50))));info(_0x413822(0x28f)+_0x413822(0x1af)+_0x413822(0x233)+restartAttempts+_0x413822(0x29b)+_0x1a104e/(0x1c1*-0x3+0x114e+-0x1*0x823)+_0x413822(0x2e5)+_0x43dbf0),setTimeout(async()=>{const _0xd21ed7=_0x413822;info('Attempting'+_0xd21ed7(0x1bb)+'ow...');try{if(detachAllHandlers){try{detachAllHandlers();}catch(_0x5c39af){debug(_0xd21ed7(0x24f)+_0xd21ed7(0x276)+'llHandlers'+_0xd21ed7(0x1c7)+'t:',_0x5c39af[_0xd21ed7(0x211)]);}detachAllHandlers=null;}heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null);if(sock){try{sock['end'](new Error('Restarting'+'\x20bot'));}catch(_0x42bfda){}try{sock['ev']['removeAllL'+_0xd21ed7(0x318)]?.();}catch(_0x21f42c){}sock=null;}if(outgoingQueueGlobal){try{outgoingQueueGlobal[_0xd21ed7(0x138)]&&clearTimeout(outgoingQueueGlobal[_0xd21ed7(0x138)]);}catch(_0x4bb8ba){}outgoingQueueGlobal=null;}await startBot();}catch(_0x35f30f){error(_0x35f30f,_0xd21ed7(0x280)+_0xd21ed7(0x26c)+'ed,\x20will\x20s'+_0xd21ed7(0x247)+_0xd21ed7(0x19b)+_0xd21ed7(0x11a)),scheduleRestart(_0x43dbf0);}},_0x1a104e);}async function cleanupTempFiles(_0x10a439){const _0x105750=_0x294ef3;info(_0x105750(0x20d)+_0x105750(0x108)+_0x105750(0x2ff)+'files\x20in\x20'+_0x10a439+_0x105750(0x2ae));try{const _0x1fae7b=await _0x174ddf[_0x105750(0x262)](_0x10a439);let _0x5a7e06=0x174b+-0x347*-0x1+-0x1a92;for(const _0x5c1b24 of _0x1fae7b){if(_0x5c1b24[_0x105750(0x109)](_0x105750(0x17f))){const _0x5258ee=_0x50c6cb['join'](_0x10a439,_0x5c1b24);try{await _0x174ddf[_0x105750(0x279)](_0x5258ee),debug(_0x105750(0x2bc)+_0x105750(0x369)+'p\x20file:\x20'+_0x5258ee),_0x5a7e06++;}catch(_0x28e933){warn(_0x105750(0x24c)+_0x105750(0x32c)+_0x105750(0x287)+_0x5258ee+':',_0x28e933);}}}if(_0x5a7e06>-0x2206+-0x16d1+0x38d7)info(_0x105750(0x2f3)+_0x105750(0x1b3)+'leted\x20'+_0x5a7e06+('\x20temporary'+_0x105750(0x10a)));else info(_0x105750(0x10e)+_0x105750(0x2cd)+'ound\x20to\x20cl'+_0x105750(0x200));}catch(_0x3683e3){if(_0x3683e3[_0x105750(0x1dd)]!==_0x105750(0x231))warn(_0x105750(0x24f)+_0x105750(0x23c)+_0x105750(0x1d6)+_0x105750(0x153)+_0x10a439+':',_0x3683e3);}}async function startBot(){const _0x5d4963=_0x294ef3;try{let _0x4e7823;try{const _0x4c4c2c=await import('./qrcode.js');_0x4e7823=_0x4c4c2c[_0x5d4963(0x17e)],deepSerialize=_0x4c4c2c['deepSerial'+_0x5d4963(0x119)];if(!_0x4e7823||!deepSerialize)throw new Error('qrcode.js\x20'+'missing\x20cr'+_0x5d4963(0x1f8)+_0x5d4963(0x324));info('qrcode.js\x20'+_0x5d4963(0x161)+_0x5d4963(0x2f6));}catch(_0xc045f6){error('Failed\x20to\x20'+_0x5d4963(0x2d8)+_0x5d4963(0x36c)+_0x5d4963(0x343)+_0x5d4963(0x237),_0xc045f6),scheduleRestart(_0x5d4963(0x198)+_0x5d4963(0x267));return;}const _0x38263e=cfg[_0x5d4963(0x199)+_0x5d4963(0x346)]||_0x5d4963(0x1d5),{version:_0x2c1fbf,isLatest:_0x49058e}=await chooseBaileysVersion();await cleanupTempFiles(_0x38263e);try{const _0x3ea3fb=await import('./utils/database.js');_0x3ea3fb['initialize'+_0x5d4963(0x332)]&&(await _0x3ea3fb[_0x5d4963(0x373)+_0x5d4963(0x332)](),info(_0x5d4963(0x214)+'nitialized'+'\x20successfu'+_0x5d4963(0x23b)));}catch(_0x494e51){info(_0x5d4963(0x214)+_0x5d4963(0x277)+'ion\x20skippe'+'d\x20or\x20faile'+'d.');}!SESSION_ID&&(fatal(_0x5d4963(0x2ec)+_0x5d4963(0x114)+_0x5d4963(0x27a)+_0x5d4963(0x104)+'ent.\x20This\x20'+_0x5d4963(0x11b)+_0x5d4963(0x156)+_0x5d4963(0x243)),process[_0x5d4963(0x15a)](0x3d3+0x5c5*-0x4+0x91*0x22));info(_0x5d4963(0x13e)+_0x5d4963(0x107)+SESSION_ID);const _0x4b27be=async()=>{const _0x5b221b=_0x5d4963;let _0x141b0a=await loadLocalCredsFileStartup(_0x38263e);if(looksLikeCreds(_0x141b0a))return info(_0x5b221b(0x351)+_0x5b221b(0x205)+_0x5b221b(0x32e)+_0x5b221b(0x1d3)+'h\x20local\x20se'+_0x5b221b(0x329)),await _0x4e7823({'authDir':_0x38263e,'creds':_0x141b0a,'browser':cfg[_0x5b221b(0x2c4)+_0x5b221b(0x33f)]});warn(_0x5b221b(0x21d)+_0x5b221b(0x2bb)+'l\x20creds.\x20A'+'ttempting\x20'+_0x5b221b(0x1ab)+_0x5b221b(0x2d0)+_0x5b221b(0x16a));try{const _0x5e9a5d=await fetchRemoteCredsAxios(SESSION_ID);if(looksLikeCreds(_0x5e9a5d))return info('âœ…\x20[AUTH]\x20R'+_0x5b221b(0x34c)+_0x5b221b(0x29e)+_0x5b221b(0x38a)+_0x5b221b(0x281)),await writeLocalCredsFile(_0x5e9a5d,_0x38263e),await _0x4e7823({'authDir':_0x38263e,'creds':_0x5e9a5d,'browser':cfg[_0x5b221b(0x2c4)+_0x5b221b(0x33f)]});warn('[AUTH]\x20Rem'+_0x5b221b(0x1e7)+_0x5b221b(0x183)+_0x5b221b(0x184));}catch(_0x13bf64){warn('[AUTH]\x20Rem'+_0x5b221b(0x333)+_0x5b221b(0x179)+'\x20'+_0x13bf64[_0x5b221b(0x211)]+'.');}return null;},_0x4c070a=await _0x4b27be();if(!_0x4c070a){info(_0x5d4963(0x314)+'redentials'+_0x5d4963(0x36b)+'ally\x20or\x20re'+_0x5d4963(0x334)+_0x5d4963(0x14f)+'ring\x20proce'+_0x5d4963(0x2a3));const _0x58c07b=await _0x4e7823({'authDir':_0x38263e,'browser':cfg['BAILEYS_BR'+_0x5d4963(0x33f)]});if(!_0x58c07b||!_0x58c07b['state']){scheduleRestart(_0x5d4963(0x24c)+_0x5d4963(0x1e8)+'\x20valid\x20cre'+_0x5d4963(0x313)+_0x5d4963(0x101)+_0x5d4963(0x18b)+'.');return;}registerAuthStateForFlush({'state':_0x58c07b[_0x5d4963(0x30a)],'authDir':_0x38263e});}else registerAuthStateForFlush({'state':_0x4c070a[_0x5d4963(0x30a)],'authDir':_0x38263e});const {state:_0x17dd5d}=_authState_for_flush,_0x547057=makeCacheableSignalKeyStore(_0x17dd5d[_0x5d4963(0x1f1)],baileysPinoLogger),_0x144247=_0x107b2f=>{const _0x4eea5e=_0x5d4963,_0x3973f8=['set',_0x4eea5e(0x1f2)];for(const _0x34891d of _0x3973f8){const _0x4e42a5=_0x107b2f[_0x34891d];_0x107b2f[_0x34891d]=function(..._0x4fc267){const _0x5a812f=_0x4eea5e,_0x20910d=_0x4e42a5[_0x5a812f(0x29c)](this,_0x4fc267);return scheduleAuthFlush(),_0x20910d;};}};_0x144247(_0x547057);const _0x409767=new SlidingWindowRateLimiter(cfg[_0x5d4963(0x2d4)][_0x5d4963(0x12b)]||0xcdf+0x7f7*-0x1+-0x100*0x1,cfg[_0x5d4963(0x2d4)]['limit']||0xbbf*0x3+0xd18+-0x3050);outgoingQueueGlobal=new OutgoingSendQueue(_0x409767,{'maxQueue':cfg[_0x5d4963(0x26e)+_0x5d4963(0x1c8)]}),info('Using\x20Bail'+_0x5d4963(0x1d9)+'n\x20'+_0x2c1fbf[_0x5d4963(0x147)]('.')+(_0x5d4963(0x224)+'=')+_0x49058e);const _0x21b41a=[{'stream':baileysLogInterceptor,'level':'trace'},{'stream':process[_0x5d4963(0x30f)],'level':baileysPinoLevel}];baileysPinoLogger=_0x1d8f8e({'level':_0x5d4963(0x29a)},_0x1d8f8e[_0x5d4963(0x372)+'m'](_0x21b41a)),sock=makeWASocket({'version':_0x2c1fbf,'auth':{'creds':_0x17dd5d[_0x5d4963(0x210)],'keys':_0x547057},'logger':baileysPinoLogger,'browser':cfg[_0x5d4963(0x2c4)+_0x5d4963(0x33f)],'shouldIgnoreJid':_0x2031ac=>typeof _0x2031ac===_0x5d4963(0x2dc)&&_0x2031ac[_0x5d4963(0x385)](_0x5d4963(0x1ff))&&!isJidStatusBroadcast(_0x2031ac),'syncFullHistory':cfg[_0x5d4963(0x395)+_0x5d4963(0x2a2)]||![],'connectTimeoutMs':0xea60,'keepAliveIntervalMs':0x2710,'retryRequestDelayMs':0xfa,'defaultQueryTimeoutMs':0xea60}),store[_0x5d4963(0x203)](sock['ev']),sock['ev']['on'](_0x5d4963(0x28a)+'te',_0x4002ea=>{const _0x3ab351=_0x5d4963;try{Object['assign'](_0x17dd5d['creds'],_0x4002ea),scheduleAuthFlush();}catch(_0xd5e17c){debug(_0x3ab351(0x28a)+_0x3ab351(0x383)+'\x20error',_0xd5e17c?.[_0x3ab351(0x211)]||_0xd5e17c);}});const _0xef3170=sock[_0x5d4963(0x330)+'e'][_0x5d4963(0x203)](sock);sock[_0x5d4963(0x330)+'e']=(_0x21af6b,_0x538bdb={},_0x394216={})=>{const _0xaa3ec9=_0x5d4963,_0x5c2af5=()=>_0xef3170(_0x21af6b,_0x538bdb,_0x394216),_0x401a82=_0x394216&&typeof _0x394216[_0xaa3ec9(0x1a8)]==='number'?_0x394216['priority']:-0x461+0x59*-0x4b+0x1e74*0x1;return outgoingQueueGlobal['enqueue'](_0x5c2af5,{'priority':_0x401a82});};const _0x411fff=[],_0x4d7d37=(_0x58c8d3,_0x25065c)=>{const _0x1d1b18=_0x5d4963;sock['ev']['on'](_0x58c8d3,_0x25065c),_0x411fff[_0x1d1b18(0x327)]({'event':_0x58c8d3,'handler':_0x25065c});};detachAllHandlers=()=>{const _0x42c188=_0x5d4963;for(const {event:_0x14fa5f,handler:_0x110657}of _0x411fff){try{sock['ev'][_0x42c188(0x366)](_0x14fa5f,_0x110657);}catch(_0x37f0e7){}}_0x411fff['length']=-0x60*-0xc+-0x25a3+0x2123;};const _0x373fa9=async({connection:_0x3cdda6,lastDisconnect:_0x138b76})=>{const _0x20617a=_0x5d4963;bot[_0x20617a(0x252)]('connection'+_0x20617a(0x1dc),{'connection':_0x3cdda6,'lastDisconnect':_0x138b76});if(_0x3cdda6===_0x20617a(0x1ed)){heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null);const {error:_0x433f3e}=_0x138b76,_0x502c33=_0x433f3e?.['output']?.[_0x20617a(0x33d)],_0x506a08=[DisconnectReason[_0x20617a(0x122)],DisconnectReason[_0x20617a(0x11d)+_0x20617a(0x1e0)],DisconnectReason[_0x20617a(0x1e6)]]['includes'](_0x502c33);if(_0x506a08){error('Unrecovera'+_0x20617a(0x28e)+_0x20617a(0x175)+(DisconnectReason[_0x502c33]||_0x20617a(0x2cc))+(_0x20617a(0x254)+_0x20617a(0x2a0)+'h\x20and\x20rest'+_0x20617a(0x263)));try{await _0x174ddf['rm'](_0x38263e,{'recursive':!![],'force':!![]}),info(_0x20617a(0x2f4)+'th\x20directo'+_0x20617a(0x1ca)+_0x20617a(0x115)+_0x20617a(0x329));}catch(_0x5abb7a){error('Failed\x20to\x20'+_0x20617a(0x151)+_0x20617a(0x21f)+'y.',_0x5abb7a);}restartAttempts=0x1559+-0x1*-0x2315+-0x386e,scheduleRestart(DisconnectReason[_0x502c33]||_0x20617a(0x2c3)+_0x502c33);}else{info(_0x20617a(0x301)+'\x20closed\x20(r'+'ecoverable'+_0x20617a(0x17c)+_0x20617a(0x268)+'ect.\x20Attem'+_0x20617a(0x131)+(restartAttempts+(-0xc4b+0x1184+-0x538)));if(restartAttempts>=-0x1*0x2669+0x1*0x1ed+0x74d*0x5){error(_0x20617a(0x19c)+'\x20connectio'+_0x20617a(0x1a3)+'('+(restartAttempts+(-0x6e*-0x7+-0x34d+0x4c))+(_0x20617a(0x2cb)+_0x20617a(0x254)+'\x20local\x20aut'+_0x20617a(0x218)+_0x20617a(0x263)));try{await _0x174ddf['rm'](_0x38263e,{'recursive':!![],'force':!![]}),info(_0x20617a(0x2f4)+_0x20617a(0x21e)+_0x20617a(0x1ca)+_0x20617a(0x257)+'\x20connectio'+_0x20617a(0x352)+'.');}catch(_0x3ab707){error(_0x20617a(0x24c)+'delete\x20aut'+_0x20617a(0x21f)+'y.',_0x3ab707);}restartAttempts=0x6f*0x53+0x9dc+-0x2dd9;}scheduleRestart(String(_0x433f3e||'unknown'));}}else{if(_0x3cdda6==='open'){restartAttempts=0x15d*-0x5+-0x1*-0x243d+-0x1d6c,botJid=sock[_0x20617a(0x2ba)]?.['id'],info(_0x20617a(0x389)+'on\x20opened\x20'+_0x20617a(0x229)+jidNormalizedUser(botJid)),bot[_0x20617a(0x330)+'e']=sock['sendMessag'+'e'],bot[_0x20617a(0x124)]=sock,bot[_0x20617a(0x1ec)]=_0x45cbee=>bot[_0x20617a(0x391)][_0x20617a(0x354)](_0x20617a(0x120)+_0x45cbee)||null,initBotState(bot);if(heartbeatInterval)clearInterval(heartbeatInterval);heartbeatInterval=setInterval(async()=>{const _0x472ebd=_0x20617a;try{sock&&typeof sock[_0x472ebd(0x187)+_0x472ebd(0x37e)]===_0x472ebd(0x286)&&(await sock[_0x472ebd(0x187)+_0x472ebd(0x37e)](_0x472ebd(0x1ea)),debug(_0x472ebd(0x2db)+_0x472ebd(0x1cd)+_0x472ebd(0x128)+_0x472ebd(0x1ce)+_0x472ebd(0x39d)+_0x472ebd(0x2d6)));}catch(_0x49efad){warn(_0x472ebd(0x2db)+_0x472ebd(0x380)+_0x472ebd(0x299)+'rtbeat.',_0x49efad[_0x472ebd(0x211)]);}},(0x33*-0x5d+0x3*-0x7ef+0x2a56)*(-0xa25+0x22dc+0x829*-0x3)*(-0x1*0x33f+0xa57*-0x1+0x117e));try{const _0x51fa0f=await import('./utils/loader.js');if(_0x51fa0f[_0x20617a(0x373)+_0x20617a(0x13a)])await withTimeout(_0x51fa0f[_0x20617a(0x373)+_0x20617a(0x13a)](bot),-0x6dfe+-0x15d*-0x11+-0x19*-0x5d1,_0x20617a(0x2a9)+_0x20617a(0x340)+'ules');}catch(_0x52c02c){warn(_0x20617a(0x24c)+_0x20617a(0x23a)+_0x20617a(0x2dd)+_0x20617a(0x235)+'e',_0x52c02c?.[_0x20617a(0x211)]||_0x52c02c);}}}};_0x4d7d37(_0x5d4963(0x11d)+'.update',_0x373fa9);function _0x2f359d(_0x79fa3e){const _0x41ca3d=_0x5d4963;if(!_0x79fa3e)return'';return _0x79fa3e[_0x41ca3d(0x38e)+'on']||_0x79fa3e['extendedTe'+_0x41ca3d(0x321)]?.[_0x41ca3d(0x2ad)]||_0x79fa3e[_0x41ca3d(0x2af)+'ge']?.['caption']||_0x79fa3e[_0x41ca3d(0x2c7)+'ge']?.['caption']||_0x79fa3e[_0x41ca3d(0x35b)+_0x41ca3d(0x260)]?.[_0x41ca3d(0x2ad)]||_0x79fa3e['buttonsRes'+_0x41ca3d(0x25a)+'ge']?.[_0x41ca3d(0x2e0)+_0x41ca3d(0x12d)]||_0x79fa3e['listRespon'+_0x41ca3d(0x17a)]?.['singleSele'+_0x41ca3d(0x19e)]?.[_0x41ca3d(0x2e0)+_0x41ca3d(0x12d)]||'';}const _0x2075dc=async({messages:_0x519396,type:_0x5f2a1c})=>{const _0x4121b7=_0x5d4963;bot[_0x4121b7(0x252)](_0x4121b7(0x249)+'psert',{'messages':_0x519396,'type':_0x5f2a1c});if(_0x5f2a1c==='notify')for(const _0x3e557f of _0x519396){if(_0x3e557f['key']&&_0x3e557f[_0x4121b7(0x211)]){const _0x3180f4=_0x2f359d(_0x3e557f['message']);_0x3180f4&&messageEditCache[_0x4121b7(0x2ac)](_0x3e557f[_0x4121b7(0x16b)]['id'],{'text':_0x3180f4,'timestamp':Date[_0x4121b7(0x384)]()});}try{store[_0x4121b7(0x244)+'x'](_0x3e557f[_0x4121b7(0x16b)]?.[_0x4121b7(0x290)]||_0x4121b7(0x2fc))[_0x4121b7(0x25e)](_0x3e557f,_0x4121b7(0x1a1));}catch(_0x4acb18){}_0x35d942(_0x3e557f)[_0x4121b7(0x317)](_0x233914=>{const _0x5dd65d=_0x4121b7;error(_0x233914,_0x5dd65d(0x18d)+_0x5dd65d(0x1e2)+_0x5dd65d(0x196)+_0x3e557f[_0x5dd65d(0x16b)]['id']);});}else{debug('[SYNC]\x20Rec'+_0x4121b7(0x26a)+_0x519396[_0x4121b7(0x32d)]+(_0x4121b7(0x130)+_0x4121b7(0x2de)+_0x4121b7(0x2c5))+_0x5f2a1c+(_0x4121b7(0x246)+_0x4121b7(0x1c4)+_0x4121b7(0x365)));const _0x3d4bed=new Map();for(const _0x16ab88 of _0x519396){const _0x4c1575=_0x16ab88[_0x4121b7(0x16b)]?.[_0x4121b7(0x290)]||'unknown';if(!_0x3d4bed[_0x4121b7(0x1c6)](_0x4c1575))_0x3d4bed[_0x4121b7(0x2ac)](_0x4c1575,[]);_0x3d4bed['get'](_0x4c1575)[_0x4121b7(0x327)](_0x16ab88);}for(const [_0x412867,_0x3089b0]of _0x3d4bed[_0x4121b7(0x1cf)]()){const _0x4b621b=store[_0x4121b7(0x244)+'x'](_0x412867);for(const _0x28b238 of _0x3089b0)_0x4b621b['upsert'](_0x28b238,_0x4121b7(0x2a5));}debug(_0x4121b7(0x192)+_0x4121b7(0x1de)+_0x519396[_0x4121b7(0x32d)]+(_0x4121b7(0x130)+_0x4121b7(0x2c8)+_0x4121b7(0x269))+_0x3d4bed[_0x4121b7(0x348)]+_0x4121b7(0x15d));}};async function _0x35d942(_0x839cce){const _0x3906d2=_0x5d4963;let _0x544c6e=new Set();try{const loader=await import('./utils/loader.js');if(loader[_0x3906d2(0x2f2)+'Names'])_0x544c6e=loader['getCommand'+_0x3906d2(0x1bd)]();}catch(_0x46d13b){}try{bot[_0x3906d2(0x252)](_0x3906d2(0x338)+'e',_0x839cce);if(!_0x839cce[_0x3906d2(0x211)])return;const _0x52c2a5=Array[_0x3906d2(0x39b)](cfg['COMMAND_PR'+_0x3906d2(0x1d8)])?cfg[_0x3906d2(0x12c)+_0x3906d2(0x1d8)]['slice']()['sort']((_0x16cb0a,_0x4a26f1)=>_0x4a26f1[_0x3906d2(0x32d)]-_0x16cb0a[_0x3906d2(0x32d)]):typeof cfg[_0x3906d2(0x12c)+_0x3906d2(0x1d8)]===_0x3906d2(0x2dc)?[cfg[_0x3906d2(0x12c)+'EFIX']]:null,_0x19cdaf=_0x2f359d(_0x839cce[_0x3906d2(0x211)]);let _0x125af3=_0x19cdaf,_0x399b1b=![];if(_0x52c2a5===null){const _0x5cd8a0=_0x19cdaf[_0x3906d2(0x2c0)]()[_0x3906d2(0x172)](/ +/)['shift']()?.[_0x3906d2(0x1f3)+'e']();_0x5cd8a0&&_0x544c6e[_0x3906d2(0x1c6)](_0x5cd8a0)&&(_0x399b1b=!![]);}else{const _0x3f7109=_0x52c2a5[_0x3906d2(0x284)](_0xa4f3b5=>_0x19cdaf[_0x3906d2(0x304)](_0xa4f3b5));if(_0x3f7109){const _0xffd116=_0x19cdaf[_0x3906d2(0x31e)](_0x3f7109[_0x3906d2(0x32d)])[_0x3906d2(0x2c0)]();_0xffd116&&(_0x399b1b=!![],_0x125af3=_0xffd116);}}const _0x4c4607=_0x839cce[_0x3906d2(0x16b)]?.[_0x3906d2(0x290)],_0x2fc23b=!!(_0x4c4607&&isJidStatusBroadcast(_0x4c4607)),_0x2e3258=_0x839cce[_0x3906d2(0x16b)][_0x3906d2(0x335)+'t']||_0x839cce[_0x3906d2(0x16b)][_0x3906d2(0x290)],_0x17e0ac={'message':_0x839cce['message'],'key':_0x839cce[_0x3906d2(0x16b)],'pushName':_0x839cce[_0x3906d2(0x275)],'remoteJid':_0x4c4607,'sender':_0x2e3258,'fromMe':_0x839cce[_0x3906d2(0x16b)][_0x3906d2(0x1b9)],'messageTimestamp':_0x839cce[_0x3906d2(0x378)+_0x3906d2(0x162)],'rawText':_0x19cdaf,'text':_0x125af3,'isCommand':_0x399b1b,'isStatus':_0x2fc23b,'proto':proto,'reply':_0x2fb430=>{const _0x48021e=_0x3906d2,_0x1d6912=_0x2fc23b?_0x2e3258:_0x4c4607;if(!_0x1d6912)return Promise[_0x48021e(0x110)](new Error(_0x48021e(0x174)+_0x48021e(0x1a6)+_0x48021e(0x2bf)));return sock[_0x48021e(0x330)+'e'](_0x1d6912,_0x2fb430,{'quoted':_0x839cce});}};if(isJidGroup(_0x4c4607))try{await isadmin(bot,_0x17e0ac)&&await _0x3b4db8[_0x3906d2(0x2fa)+_0x3906d2(0x396)+'r'](_0x17e0ac[_0x3906d2(0x38d)],_0x17e0ac[_0x3906d2(0x290)]);}catch(_0x2b2a59){}if(_0x2fc23b)bot[_0x3906d2(0x252)](_0x3906d2(0x342),_0x17e0ac);bot[_0x3906d2(0x252)](_0x3906d2(0x211),_0x17e0ac);}catch(_0x242664){error(_0x242664,_0x3906d2(0x24c)+_0x3906d2(0x126)+_0x3906d2(0x35d)+_0x839cce[_0x3906d2(0x16b)]?.['id']);}}_0x4d7d37('messages.u'+_0x5d4963(0x2e2),_0x2075dc);const _0x5d0a2a=_0x317a15=>{const _0x29ce82=_0x5d4963;bot[_0x29ce82(0x252)]('messages.u'+_0x29ce82(0x19f),_0x317a15);for(const _0x4c5b87 of _0x317a15){if(_0x4c5b87[_0x29ce82(0x2b0)]?.[_0x29ce82(0x211)]?.['editedMess'+_0x29ce82(0x30b)]){const _0x40e078=_0x4c5b87[_0x29ce82(0x16b)]['id'],_0x3c675c=messageEditCache['get'](_0x40e078),_0x48306f=_0x3c675c?_0x3c675c[_0x29ce82(0x2ad)]:null;if(_0x48306f){const _0x5b185c={'event':_0x29ce82(0x251)+'it','chatId':_0x4c5b87['key'][_0x29ce82(0x290)],'fromMe':_0x4c5b87[_0x29ce82(0x16b)][_0x29ce82(0x1b9)],'originalMessageId':_0x40e078,'oldText':_0x48306f,'newText':_0x4c5b87[_0x29ce82(0x2b0)][_0x29ce82(0x211)][_0x29ce82(0x14b)+'age'][_0x29ce82(0x211)]?.[_0x29ce82(0x38e)+'on'],'timestamp':new Date((_0x4c5b87[_0x29ce82(0x2b0)][_0x29ce82(0x378)+_0x29ce82(0x162)]||Date['now']()/(-0x2*0x127f+0x22b1+-0x1*-0x635))*(0x71*0xb+-0x3*-0x761+-0xb8b*0x2))[_0x29ce82(0x31d)+'g']()};bot[_0x29ce82(0x252)]('message.ed'+'it',_0x5b185c);}else debug(_0x29ce82(0x2b5)+']\x20Original'+_0x29ce82(0x367)+_0x40e078+(_0x29ce82(0x1c1)+_0x29ce82(0x13b)+_0x29ce82(0x261)+_0x29ce82(0x264)));if(_0x3c675c)messageEditCache[_0x29ce82(0x345)](_0x40e078);}}};_0x4d7d37(_0x5d4963(0x249)+_0x5d4963(0x19f),_0x5d0a2a);const _0x49088b=_0x59073c=>{const _0xd7b80a=_0x5d4963;bot[_0xd7b80a(0x252)](_0xd7b80a(0x139)+_0xd7b80a(0x258)+'pdate',_0x59073c);const {id:_0x352fa7,action:_0x5c33ce,author:_0x3f582d,participants:_0x55c6c1}=_0x59073c;_0x5c33ce===_0xd7b80a(0x1f2)&&_0x3f582d&&_0x55c6c1?.[_0xd7b80a(0x32d)]===0x1cdf+-0x19c0+-0x31e&&_0x3f582d===_0x55c6c1[-0x6d9+0x18e2+-0x1209]&&(voluntaryLeaverStore['set'](_0x3f582d,{'groupId':_0x352fa7}),setTimeout(()=>{const _0x152445=_0xd7b80a;voluntaryLeaverStore[_0x152445(0x345)](_0x3f582d);},-0x1a26+0x17c1+-0x15ed*-0x1));};_0x4d7d37(_0x5d4963(0x139)+_0x5d4963(0x258)+_0x5d4963(0x19f),_0x49088b);const _0xbc993c=['messages.d'+_0x5d4963(0x305),'messages.r'+_0x5d4963(0x1fd),_0x5d4963(0x103)+_0x5d4963(0x123)+'te','messages.m'+_0x5d4963(0x222)+'e','presence.u'+_0x5d4963(0x19f),_0x5d4963(0x377)+_0x5d4963(0x2e2),'contacts.u'+_0x5d4963(0x19f),'chats.upse'+'rt',_0x5d4963(0x379)+'te',_0x5d4963(0x227)+'te','groups.upd'+'ate',_0x5d4963(0x181)+_0x5d4963(0x32b),_0x5d4963(0x28c)+_0x5d4963(0x362),_0x5d4963(0x259),'blocklist.'+_0x5d4963(0x2ac),'blocklist.'+_0x5d4963(0x2b0),_0x5d4963(0x21c)+'t','labels.ass'+_0x5d4963(0x2d9),'messaging-'+'history.se'+'t',_0x5d4963(0x12e)+_0x5d4963(0x134)+_0x5d4963(0x26b)];for(const _0x206aa2 of _0xbc993c){_0x206aa2!==_0x5d4963(0x249)+_0x5d4963(0x19f)&&_0x4d7d37(_0x206aa2,_0x5761a2=>bot[_0x5d4963(0x252)](_0x206aa2,_0x5761a2));}}catch(_0x403f29){error(_0x403f29,_0x5d4963(0x24c)+'start\x20bot');const _0x34d7e2=(_0x403f29[_0x5d4963(0x211)]||_0x403f29[_0x5d4963(0x1f5)]||'')[_0x5d4963(0x1f3)+'e']();if(_0x34d7e2[_0x5d4963(0x385)](_0x5d4963(0x2b9))||_0x34d7e2['includes'](_0x5d4963(0x210))||_0x34d7e2[_0x5d4963(0x385)](_0x5d4963(0x127))||_0x34d7e2[_0x5d4963(0x385)](_0x5d4963(0x16b))){warn('Startup\x20fa'+_0x5d4963(0x320)+'s\x20auth-rel'+_0x5d4963(0x10f)+_0x5d4963(0x306)+_0x5d4963(0x10b)+_0x5d4963(0x2ca)+'.');try{const _0x379e36=cfg['AUTH_STATE'+'_DIR']||_0x5d4963(0x1d5);await _0x174ddf['rm'](_0x379e36,{'recursive':!![],'force':!![]}),info(_0x5d4963(0x2f4)+_0x5d4963(0x21e)+'ry\x20due\x20to\x20'+_0x5d4963(0x2e4)+_0x5d4963(0x347));}catch(_0x13c867){error('Failed\x20to\x20'+_0x5d4963(0x151)+_0x5d4963(0x21f)+'y\x20during\x20f'+'ailure\x20han'+_0x5d4963(0x368),_0x13c867);}restartAttempts=0x1*-0x977+0x1160+-0x7e9;}scheduleRestart(_0x5d4963(0x36e)+_0x5d4963(0x357));}}let shuttingDown=![];async function shutdown(_0x3f58ec){const _0x3ac93e=_0x294ef3;if(shuttingDown)return;shuttingDown=!![],info(_0x3ac93e(0x1a9)+_0x3ac93e(0x350)+'l='+_0x3f58ec+_0x3ac93e(0x24d));try{outgoingQueueGlobal&&(outgoingQueueGlobal[_0x3ac93e(0x1f4)]=()=>Promise[_0x3ac93e(0x110)](new Error(_0x3ac93e(0x1a9)+_0x3ac93e(0x206))));info(_0x3ac93e(0x149)+_0x3ac93e(0x2ab)+_0x3ac93e(0x31b)+_0x3ac93e(0x201)+'ed).'),await flushAuthToDisk();store&&store[_0x3ac93e(0x15b)+'e']&&(await store[_0x3ac93e(0x15b)+'e'](_0x50c6cb['join'](cfg[_0x3ac93e(0x199)+_0x3ac93e(0x346)]||'.auth',_0x3ac93e(0x19a))),info(_0x3ac93e(0x234)+'d.'));if(detachAllHandlers)detachAllHandlers();if(heartbeatInterval)clearInterval(heartbeatInterval);if(sock)sock[_0x3ac93e(0x133)](new Error(_0x3ac93e(0x387)+_0x3ac93e(0x34e)+'\x20'+_0x3f58ec));bot[_0x3ac93e(0x391)]?.[_0x3ac93e(0x1ed)]?.();if(cacheSweepTimer)clearInterval(cacheSweepTimer);}catch(_0x335446){error(_0x335446,_0x3ac93e(0x24f)+_0x3ac93e(0x2d3)+'n');}finally{info(_0x3ac93e(0x39c)+_0x3ac93e(0x14a)),process[_0x3ac93e(0x15a)](0x1c1*0x13+-0x1*-0x2431+0x1*-0x4584);}}process['on'](_0x294ef3(0x16d),()=>shutdown(_0x294ef3(0x16d))),process['on'](_0x294ef3(0x273),()=>shutdown(_0x294ef3(0x273))),process['on'](_0x294ef3(0x266)+_0x294ef3(0x24e),_0x5212dd=>{const _0x19c270=_0x294ef3;fatal(_0x19c270(0x266)+_0x19c270(0x24e),_0x5212dd);}),process['on'](_0x294ef3(0x34a)+_0x294ef3(0x216),_0x3ee1c2=>{const _0x262fea=_0x294ef3;fatal(_0x262fea(0x34a)+_0x262fea(0x216),_0x3ee1c2);}),startBot()[_0x294ef3(0x317)](_0x2ed6d7=>{const _0x4e7d03=_0x294ef3;error(_0x2ed6d7,_0x4e7d03(0x24c)+_0x4e7d03(0x392)+_0x4e7d03(0x14c)+_0x4e7d03(0x155)),scheduleRestart(_0x4e7d03(0x36e)+'art\x20failed');});export default bot;