const _0xcbc398=_0x27f4;(function(_0x16b1d2,_0x341a3c){const _0x3c34be=_0x27f4,_0x239c19=_0x16b1d2();while(!![]){try{const _0x12de12=parseInt(_0x3c34be(0x3df))/(0x1d1a+-0xd67*0x2+-0x24b)+parseInt(_0x3c34be(0x3d6))/(0xe49+-0x1*0x1ee5+0x109e)*(-parseInt(_0x3c34be(0x335))/(-0x50e+0x2e7*-0x2+0xadf))+parseInt(_0x3c34be(0x2fa))/(0x1c95+0x15b5+0x35a*-0xf)+parseInt(_0x3c34be(0x3f8))/(-0x8f1+-0x896+0x8c6*0x2)*(parseInt(_0x3c34be(0x29f))/(-0x1e7b+0xad7+0x9d5*0x2))+parseInt(_0x3c34be(0x2e5))/(-0x216f*-0x1+0x1be5+-0x1*0x3d4d)*(-parseInt(_0x3c34be(0x3ae))/(-0x11*-0x1d+-0x94d+0x768))+-parseInt(_0x3c34be(0x2b6))/(-0x961+0x220d+0x77*-0x35)*(-parseInt(_0x3c34be(0x268))/(-0x192*0x2+0x1*0x138c+-0x346*0x5))+parseInt(_0x3c34be(0x2ab))/(0x12a9+-0x2*0x188+0x1*-0xf8e);if(_0x12de12===_0x341a3c)break;else _0x239c19['push'](_0x239c19['shift']());}catch(_0x5327a7){_0x239c19['push'](_0x239c19['shift']());}}}(_0x25e1,0x47*-0xc1d+0x6b7*0x6+0x51af1));import _0x28ec1f from'axios';import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,jidNormalizedUser,makeCacheableSignalKeyStore,downloadMediaMessage,getAggregateVotesInPollMessage,proto,areJidsSameUser,isJidGroup,isJidStatusBroadcast,isJidBroadcast,isJidNewsletter}from'@whiskeysockets/baileys';import _0x10d5e3 from'pino';import _0x53c098 from'events';function _0x25e1(){const _0x17c742=['on\x20opened\x20','getContact','Module','psert','al\x20call','\x20version,\x20','creds.json','multistrea','expiry','SION_ID\x20is','rateLimite','oadcast\x20ch','notify','able.\x20Clos','ds\x20fetch\x20a','ad\x20or\x20fail','itical\x20exp','for\x20','code','initialBac','hutdown\x20on','fetch\x20late','\x20updates)\x20','tializeMod','attempts','ate\x20limiti','_queue','group-part','10QgsRft','failed\x20to\x20','Unrecovera','append','e\x20to\x20file','icipants.u','array','emit','ules','ensureAuth','pt:\x20','ound\x20to\x20cl','perations','session:\x20S','ote\x20to\x20','recv','statusText','\x20new\x20outgo','close','OPEN_TIMEO','CACHE_MAX_','ejection','Database','windowMs','mplete.\x20De','\x20local\x20aut','\x20items\x20fro','sock','ceipt.upda','te=','-request','add','SEND_RETRY','in\x20last\x2030','OPEN','Scheduling','BAILEYS_PI','adcast','reverse','creds','attrs','sisted\x20aut','readFile','dirname','successes','minutes.','ocessing\x20f','missing\x20cr','[STORE]\x20St','essages\x20of','window','Closing\x20st','ort\x20failed','find','_DIR','66900eLKhFk','Closing\x20op','artup\x20fail','SIGTERM','selectedDi','erJid','messages.m','ailed','HALF_OPEN','ADMIN_TOKE','oadcast','chats','2385328YeXIvz','chats.upse','.update','Server\x20req','bind','timeoutMs','No\x20prior\x20s','ity/priori','value','ring\x20proce','Memory\x20sto','1115757Womxsp','✅\x20[AUTH]\x20R','queue','om\x20outgoin','status','of\x20incomin','then','Error\x20duri','videoMessa','[AUTH]\x20Sch','ted\x20creds\x20','normalize\x20','count','Error\x20proc','env','pow','number','\x20attempts:','voluntary.','\x20size=','[AUTH]\x20Loc','en\x20session','lastAccess','cache','pped\x20item:','set','mically\x20wr','re\x20restart','assign','setActiveG','tials\x20from','invalid\x20se','AX_QUEUE','ply.','resolve','.auth','No\x20respons','areJidsSam','eaction','unregister','\x20times.\x20Op','response','Attempting','creds.upda','\x20file(s).','elete','ing\x20config','419503hLiJlk','contacts','load\x20confi','transactio','_cleanup','user',')\x20to\x20make\x20','isBuffer','delete\x20tem','data','call','n\x20environm','_makeMsgBo','findIndex','xt\x20auth\x20st','ilure\x20seem','ad\x20store\x20f','tization','all','\x20error','e\x20data','700436bGOEGd','priority=','size','status:','RESHOLD','other\x20atte','falling\x20ba','state','conversati','ross\x20','ded\x20creden','messages.d','files\x20in\x20','eue:','FAILURE_TH','Failed\x20to\x20','startsWith','function','l\x20creds.\x20A','ect.\x20Attem','delete\x20aut','utf8','redsFileSt','h\x20director','h\x20state\x20to','signedIden','editedMess','g\x20prekey\x20b','failures','Deleted\x20le','icted\x20','successful','OPEN\x20state','isteners','splice','CLOSED','ss...','onfig','_INTERVAL_','startup\x20fa','eeding\x20wit','uested\x20a\x20d','maxQueue','max','del','_BASE_MS','map','ion\x20skippe','uncaughtEx','persist\x20me','\x20mins.','\x20Loaded\x20','\x20successfu','Database\x20i','meString','esults','isNewslett','start\x20bot\x20','slice','6aRLxkS','qrcode.js\x20','mkdir','messages.r','init\x20logge','ly.','es\x20it\x20to\x20f','readdir','lly.','ch\x20failed\x20','n\x20to\x20file','fromMe','floor','che.\x20Skipp','y\x20during\x20f','unhandledR','proto','processing','remote\x20cre','blocklist.','after\x20','OutgoingSe','[AUTH]\x20Loa','unref','race','start\x20bot','Decrypted\x20','\x20for\x20sessi','Store\x20save','Invalid\x20Pr','SIZE_BYTES','ndQueue\x20pr','enqueue','module.det','seMessage','on\x20ID\x20(sta','SIGINT','ctReply','url','saveCreds(','ed,\x20will\x20s','ng\x20attempt','Modules','Restarting','makeStatus','message-re','\x20valid\x20cre','SUCCESS_TH','voluntary_','fter\x20pairi','EFIX','message.ed','[AUTH]\x20Rem','No\x20tempora','\x20available','items','Could\x20not\x20','write','timestamps','pen.\x20Not\x20a','ttempting\x20','length','ent.\x20This\x20','ch\x20until\x20','raw.messag','ttempt\x20','th\x20closed\x20','_evictIfNe','FATAL:\x20SES','unlink','import/ini','eded','nextAttemp','JID\x20for\x20re','ow...','shift','sh.','Using\x20Bail','BAILEYS_VE','temporary\x20','ng\x20detachA','REAKER]\x20Ti','\x22\x20.auth/cr','19.1.0','clear','Unknown','h\x20and\x20rest','imageMessa','eanup\x20in\x20','\x20history\x20m','te\x20handler','\x20(changed\x20','chats.upda','operation','manual\x20flu','ore\x20auth\x20o','_release','ued\x20item\x20(','[CIRCUIT_B','ale\x20open\x20s','ndQueue\x20le','ote\x20API\x20re','endsWith','ey=','now','session','connection','registrati','AUTH_FLUSH','ult','Deleted\x20au','process\x20me','\x20bot','\x20in\x20','guration;\x20','lwskky','pdate','trim','MEMORY_STO','ming\x20prior','alid\x20data.','32PSOsfB','isStatusBr','ttl','[STORE]\x20Re','d\x20or\x20faile','RSION','own\x20(signa','byteLength','initialize','\x20bundle','limit','text','nitialized','sh\x20(','\x20timed\x20out','Logger\x20ini','writeToFil','pushName','\x20connectio','ndQueue:\x20d',']\x20Original','\x20Evicted\x20k','ociation','ck\x20to\x20defa','toString','tct.com/','newsletter','remote\x20fet','loaded\x20and','g\x20for\x20stor','ry\x20failed:','sed.\x20Movin','age','ng\x20tempora','message','ession\x20for','timeUntilN','\x20session','group.join','red\x20','241242pzuNtr','history.se','chedule\x20an','Removing\x20o','st\x20Baileys','s\x20due\x20to:\x20','th\x20directo','ck\x20failed','No\x20session','56298HZURbX','defaultTtl','s\x20fetched\x20','write\x20stor','ize\x20is\x20not','unknown','groupId','listRespon','dule','n\x20failure\x20','s\x20due\x20to\x20r',';\x20using\x20fa','.\x20Data:\x20','ated.\x20Dele','store.json','\x20type\x20\x22','readFromFi','_tryProces','from','ls/logger.','ropped\x20que','output','messageTim','warnThresh','stderr','15LYGgfg','edia','ults.','_touch','\x20store\x20to\x20','ception','bytes','ean\x20up.','ate','[MEMSTORE]','HISTORY','session.','loader.ini','read\x20main\x20','ytes','Remote\x20cre','Connection','koffMs','next','using\x20defa','has','mory\x20store','key','decrypt\x20me','meout\x20elap','NO_LEVEL','isBroadcas',',\x20isLatest','\x20closed\x20(r','catch','persistent','stack','isUser','createdAt','RE_MAX_BYT','hotReloadC','messages.u','ecoverable','eived\x20','acquire','fromJSON','er)','no\x20session','saveCreds','mpt','getCommand','contacts.u','keys:\x20','ation.','pollCreati','etter\x20chec','rolling\x20ba','[AUTH]\x20Ato','singleSele','\x20restart\x20a','object','sender','.\x20Deleting','No\x20target\x20','registerMo','obtain\x20any','stdout','toISOStrin','onId','basename','sort','art\x20failed','ailure\x20han','groups.ups','s\x20auth-rel','llback\x20JSO','mapById','eanup\x20for\x20','in\x20','statusCode','ting\x20local','own','hing\x20to\x20lo','onMessage','ld\x20closed\x20','ity=','ssage:\x20','arting.','some','\x20failed:\x20','\x20not\x20in\x20ca','trace','deepSerial','attach','sendMessag','\x20API\x20is\x20st','old','/creds','ftover\x20tem','Cleanup\x20co',')...','Saved\x20upda','keys','detach','getConfig','stringify','ngth\x20high:','ach\x20failed','edia-updat','random','string','ror:Error:','_sweepTime','\x20on\x20restar','apply','Initial\x20st','get','Session\x20er','includes','_locked','redentials','Restart\x20at','tialized\x20(','push','values','ble\x20sessio','mote\x20creds','Shutdown\x20c','\x20temporary','store','g\x20queue\x20du','tityKey','\x20any\x20known','\x20chats.',')\x20(','upsert','ata','entries','ucceeded\x20o','No\x20valid\x20c','Chrome','✅\x20Connecti','update','remoteJid','arting\x20pai','or\x20failed\x20','N\x20serializ','sent\x20ack','COMMAND_PR','_estimateB','toLowerCas','msgbox:','\x20Bad\x20MAC','retry-afte','ds\x20fetch\x20s','message-ed','maxBytes','off','extAvailab','participan','@broadcast','delete','RATE_LIMIT','parse','min','OWSER','omplete.','unknown_ch','filter','.\x20Status:\x20','join','\x20in\x20favor\x20','auth','priority','reject','recordSend','BAILEYS_BR','ing\x20reconn','end','contact:','buttonsRes','remove','n\x20failures','\x20not\x20set\x20i','\x20message\x20','toJSON','motely.\x20St','ing\x20edit\x20l','\x20restart\x20n','\x20bytes=','llHandlers','import\x20qrc','groupMetad','nextTimer','[AUTH]\x20Per','AUTH_STATE','\x20ready.','message\x20wi','[EditCache','removeAllL','_sweep','ssage','ed.','split','totalBytes','xtMessage','h\x20local\x20se','[AUTH]\x20No\x20','WebMessage','ry\x20due\x20to\x20','ize','e\x20message\x20','status@bro','SYNC_FULL_','writeFile','...','ader\x20modul','splayText','REAKER]\x20Re','Hot-reload','ION_ID:\x20'];_0x25e1=function(){return _0x17c742;};return _0x25e1();}import _0x48777d from'path';import _0x39e293 from'fs/promises';import{existsSync,readFileSync}from'fs';import{fileURLToPath}from'url';import{createRequire}from'module';import _0x1d3aba from'p-queue';import{Writable}from'stream';import{initLogger,debug,info,warn,error,fatal}from'./utils/logger.js';import*as _0x4d496f from'./utils/connection.js';import{isadmin}from'./utils/isadmin.js';import{initBotState}from'./utils/bot-state.js';const require=createRequire(import.meta[_0xcbc398(0x35b)]),__filename=fileURLToPath(import.meta[_0xcbc398(0x35b)]),__dirname=_0x48777d[_0xcbc398(0x293)](__filename);let cfg;try{const configModule=await import('./utils/config.js');cfg=configModule['getConfig'](),configModule[_0xcbc398(0x197)+'onfig']&&configModule[_0xcbc398(0x197)+_0xcbc398(0x31f)](_0x1d31e0=>{const _0x29534c=_0xcbc398;info(_0x29534c(0x24a)+_0x29534c(0x2e4)+_0x29534c(0x390)+_0x29534c(0x1a3)+_0x1d31e0[_0x29534c(0x219)](',\x20')+')'),cfg=configModule[_0x29534c(0x1d7)]();});}catch(_0x20452b){cfg={'CACHE_TTL_MS':(-0xd4f+-0xa*-0xf2+0x3*0x15d)*(-0xa*0x30b+-0x2557+0x47ad),'CACHE_MAX_SIZE_BYTES':(-0xc89+0x2*-0xb55+0x2347)*(-0xc2a+-0x5e8+-0xa*-0x235)*(-0x1065+-0x10b5*0x1+0x251a),'MEMORY_STORE_MAX_BYTES':(0x1405+-0x1c17+0x503*0x2)*(-0x1573+-0x1f92+0x3905)*(-0x1f*-0xaf+-0x1*-0x585+-0x16b6),'AUTH_STATE_DIR':_0xcbc398(0x2d9),'AUTH_FLUSH_INTERVAL_MS':(0x22a7+0x15*0x61+0x7*-0x612)*(-0x18b7*0x1+0x1885+0x6e)*(-0x132b+0x1*0x1d99+-0x2*0x343),'RATE_LIMIT':{'window':0x3e8,'limit':0x5},'OUTGOING_MAX_QUEUE':0x7d0,'SEND_RETRY_ATTEMPTS':0x2,'SEND_RETRY_BASE_MS':0x1f4,'SHUTDOWN_DRAIN_MS':0x1388,'BAILEYS_BROWSER':[_0xcbc398(0x3a8),_0xcbc398(0x1fb),_0xcbc398(0x388)],'PROJECT_ROOT':process['cwd'](),'COMMAND_PREFIX':null,'ADMIN_TOKEN':process[_0xcbc398(0x2c4)][_0xcbc398(0x2a8)+'N']||null,'LOG_LEVEL':'info','BAILEYS_PINO_LEVEL':'error','SYNC_FULL_HISTORY':![]},warn(_0xcbc398(0x36d)+_0xcbc398(0x2e7)+_0xcbc398(0x3a7)+_0xcbc398(0x187)+_0xcbc398(0x3fa));}try{initLogger(cfg),info(_0xcbc398(0x3bd)+_0xcbc398(0x1e9)+'utils/logg'+_0xcbc398(0x19d));}catch(_0x1c2e92){console['error'](_0xcbc398(0x309)+_0xcbc398(0x339)+'r\x20from\x20uti'+_0xcbc398(0x3f2)+'js',_0x1c2e92);}const globalMessagesToSuppress=[_0xcbc398(0x3d9)+_0xcbc398(0x1c3)+_0xcbc398(0x275)+'essionEntr'+'y',_0xcbc398(0x309)+'decrypt\x20me'+'ssage\x20with'+_0xcbc398(0x1f3)+_0xcbc398(0x3d3),_0xcbc398(0x1e4)+_0xcbc398(0x1de)+_0xcbc398(0x207),_0xcbc398(0x387)+'eds.json\x22',_0xcbc398(0x1d4)+_0xcbc398(0x2c0)+'to\x20disk',_0xcbc398(0x29b)+_0xcbc398(0x398)+_0xcbc398(0x3d1)+_0xcbc398(0x279)+'ing\x20prekey'+_0xcbc398(0x3b7),_0xcbc398(0x2a0)+_0xcbc398(0x2cb)+_0xcbc398(0x21a)+_0xcbc398(0x2bb)+_0xcbc398(0x315)+'undle',_0xcbc398(0x34f)+_0xcbc398(0x234)+_0xcbc398(0x377)+_0xcbc398(0x17f),_0xcbc398(0x269)+_0xcbc398(0x18b)+_0xcbc398(0x238),_0xcbc398(0x3de)+'\x20found\x20to\x20'+'decrypt\x20me'+_0xcbc398(0x238),_0xcbc398(0x352)+'eKey\x20ID',_0xcbc398(0x2e8)+'n\x20failed,\x20'+_0xcbc398(0x1a7)+'ck'];function createGlobalFilteringWriter(_0x506ad2){return function(_0x1f0ec9,_0x4f6366,_0x325f30){const _0x2a9632=_0x27f4;try{const _0x5d5448=_0x1f0ec9[_0x2a9632(0x3c6)]();if(globalMessagesToSuppress[_0x2a9632(0x1c7)](_0x318e58=>_0x5d5448['includes'](_0x318e58))){if(typeof _0x325f30==='function')_0x325f30();return!![];}}catch(_0x41f7e9){}return _0x506ad2(_0x1f0ec9,_0x4f6366,_0x325f30);};}process[_0xcbc398(0x1b1)][_0xcbc398(0x36e)]=createGlobalFilteringWriter(process[_0xcbc398(0x1b1)][_0xcbc398(0x36e)][_0xcbc398(0x2af)](process[_0xcbc398(0x1b1)])),process[_0xcbc398(0x3f7)][_0xcbc398(0x36e)]=createGlobalFilteringWriter(process[_0xcbc398(0x3f7)][_0xcbc398(0x36e)][_0xcbc398(0x2af)](process[_0xcbc398(0x3f7)]));class FifoMutex{constructor(){const _0x5a3059=_0xcbc398;this[_0x5a3059(0x1e6)]=![],this[_0x5a3059(0x266)]=[];}async[_0xcbc398(0x19b)](){const _0x397a14=_0xcbc398;if(!this[_0x397a14(0x1e6)]){this[_0x397a14(0x1e6)]=!![];let _0xa47a32=![];return()=>{const _0x1ac385=_0x397a14;!_0xa47a32&&(_0xa47a32=!![],this[_0x1ac385(0x395)]());};}return new Promise(_0x25a361=>this['_queue'][_0x397a14(0x1ea)](_0x25a361))['then'](()=>{let _0x389c85=![];return()=>{!_0x389c85&&(_0x389c85=!![],this['_release']());};});}['_release'](){const _0x230e86=_0xcbc398;if(this[_0x230e86(0x266)][_0x230e86(0x372)]>-0x7b5*0x1+0x52+0x763)this[_0x230e86(0x266)]['shift']()();else this['_locked']=![];}}const authMutex=new FifoMutex(),storeMutex=new FifoMutex();let _authFlushCounter=-0x4*0x809+0x1087*0x2+-0xea,_lastAuthFlushLogTime=Date[_0xcbc398(0x39d)]();const _authLogSummaryIntervalMs=(0x1cd*-0x9+-0x24b0+0x3503)*(-0x1ef8*-0x1+0x1204+-0x1e0*0x1a)*(0x11*0x195+-0x22ac+0x3*0x3e5),voluntaryLeaverStore=new Map(),baileysLogInterceptor=new Writable({'write'(_0x4eeb86,_0x5f599d,_0x2b2086){const _0x83048b=_0xcbc398;try{const _0x472360=_0x4eeb86[_0x83048b(0x3c6)]();if(!_0x472360['includes'](_0x83048b(0x202))){_0x2b2086();return;}const _0x576050=JSON[_0x83048b(0x212)](_0x472360);if(_0x576050['msg']===_0x83048b(0x202)&&_0x576050[_0x83048b(0x277)]){const _0x53df96=_0x576050[_0x83048b(0x277)][_0x83048b(0x290)];if(_0x53df96&&_0x53df96[_0x83048b(0x20e)+'t']&&voluntaryLeaverStore[_0x83048b(0x188)](_0x53df96[_0x83048b(0x20e)+'t'])){const _0x584624=voluntaryLeaverStore[_0x83048b(0x1e3)](_0x53df96['participan'+'t']),_0x1479e9={'id':_0x53df96['id'],'groupId':_0x584624[_0x83048b(0x3e5)],'action':_0x83048b(0x224),'type':_0x83048b(0x365)+'leave','notify':_0x53df96[_0x83048b(0x258)],'participant_pn':_0x53df96[_0x83048b(0x20e)+'t_pn']};bot[_0x83048b(0x26f)](_0x83048b(0x2c8)+'leave',_0x1479e9),voluntaryLeaverStore[_0x83048b(0x210)](_0x53df96[_0x83048b(0x20e)+'t']);}}}catch(_0x2f8ed0){}_0x2b2086();}}),messageEditCache=new Map(),MESSAGE_CACHE_TTL_MS=0x15447b+-0x2c4a50+-0x4df455*-0x1,MESSAGE_CACHE_SWEEP_INTERVAL_MS=(0x63d+0x1448+0xd40*-0x2)*(0x19a1+0x1*-0x1f12+-0x5ad*-0x1)*(0x11e6+-0x1*-0x200+-0xffe),cacheSweepTimer=setInterval(()=>{const _0x35c182=_0xcbc398,_0x5e4a36=Date[_0x35c182(0x39d)]();for(const [_0x408e2c,_0x4f79b7]of messageEditCache[_0x35c182(0x1f8)]()){_0x5e4a36-_0x4f79b7['timestamp']>MESSAGE_CACHE_TTL_MS&&messageEditCache[_0x35c182(0x210)](_0x408e2c);}},MESSAGE_CACHE_SWEEP_INTERVAL_MS);if(cacheSweepTimer[_0xcbc398(0x34c)])cacheSweepTimer['unref']();const baileysPinoLevel=(cfg[_0xcbc398(0x28c)+_0xcbc398(0x18d)]||'error')[_0xcbc398(0x3c6)]();let baileysPinoLogger=_0x10d5e3({'level':baileysPinoLevel}),_authState_for_flush=null,_authFlushTimeout=null,deepSerialize=null;async function _atomicWriteDirect(_0x416772,_0x2b7bcd){const _0x1cd36b=_0xcbc398,_0x346367=_0x48777d[_0x1cd36b(0x293)](_0x416772),_0x32671d=_0x48777d['join'](_0x346367,_0x48777d[_0x1cd36b(0x1b4)](_0x416772)+'.'+Date['now']()+'.tmp');return await _0x39e293[_0x1cd36b(0x337)](_0x346367,{'recursive':!![]})[_0x1cd36b(0x191)](()=>{}),await _0x39e293[_0x1cd36b(0x245)](_0x32671d,_0x2b7bcd,{'encoding':'utf8'}),await _0x39e293['rename'](_0x32671d,_0x416772),debug(_0x1cd36b(0x1a8)+_0x1cd36b(0x2d0)+_0x1cd36b(0x276)+_0x416772),_0x416772;}async function flushAuthToDisk(){const _0x3f34f5=_0xcbc398;if(!_authState_for_flush)return;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);_authFlushTimeout=null;const _0x5a9e01=await authMutex[_0x3f34f5(0x19b)]();try{const {state:_0x29ea58}=_authState_for_flush;if(typeof _0x29ea58[_0x3f34f5(0x19f)]===_0x3f34f5(0x30b)){await _0x29ea58[_0x3f34f5(0x19f)]();const _0x18eaa2=Date[_0x3f34f5(0x39d)]();_0x18eaa2-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info(_0x3f34f5(0x231)+_0x3f34f5(0x291)+_0x3f34f5(0x312)+'\x20disk\x20via\x20'+_0x3f34f5(0x35c)+_0x3f34f5(0x1f5)+_authFlushCounter+(_0x3f34f5(0x262)+_0x3f34f5(0x289)+'\x20mins.')),_lastAuthFlushLogTime=_0x18eaa2,_authFlushCounter=-0x1316+0x1*-0xe4b+0x2161):debug(_0x3f34f5(0x231)+_0x3f34f5(0x291)+_0x3f34f5(0x312)+'\x20disk\x20via\x20'+_0x3f34f5(0x35c)+').');}else{const _0x5e9e93=cfg[_0x3f34f5(0x232)+_0x3f34f5(0x29e)]||_0x3f34f5(0x2d9),_0x2d77d3=_0x29ea58[_0x3f34f5(0x1d5)]?_0x29ea58[_0x3f34f5(0x1d5)]['all']?_0x29ea58[_0x3f34f5(0x1d5)]['all']():{}:{};let _0x14dea3;typeof deepSerialize==='function'?_0x14dea3={'creds':deepSerialize(_0x29ea58[_0x3f34f5(0x28f)]),'keys':deepSerialize(_0x2d77d3)}:(warn(_0x3f34f5(0x1cb)+_0x3f34f5(0x3e3)+_0x3f34f5(0x36b)+_0x3f34f5(0x3ea)+_0x3f34f5(0x1ba)+_0x3f34f5(0x201)+_0x3f34f5(0x1a4)),_0x14dea3={'creds':_0x29ea58['creds'],'keys':_0x2d77d3});const _0x316af3=_0x48777d[_0x3f34f5(0x219)](_0x5e9e93,_0x3f34f5(0x252)),_0x48ffcb=JSON[_0x3f34f5(0x1d8)](_0x14dea3,null,0x15d*-0x18+-0x76*0x17+0x2b54);await _atomicWriteDirect(_0x316af3,_0x48ffcb);const _0x4de4f5=Date['now']();_0x4de4f5-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info('[AUTH]\x20Per'+'sisted\x20aut'+_0x3f34f5(0x312)+'\x20disk\x20via\x20'+'manual\x20flu'+_0x3f34f5(0x3bb)+_authFlushCounter+(_0x3f34f5(0x262)+_0x3f34f5(0x289)+_0x3f34f5(0x32c))),_lastAuthFlushLogTime=_0x4de4f5,_authFlushCounter=-0xd76*-0x1+-0x1c9b+0xf25):debug(_0x3f34f5(0x231)+_0x3f34f5(0x291)+_0x3f34f5(0x312)+'\x20disk\x20via\x20'+_0x3f34f5(0x393)+_0x3f34f5(0x381));}}catch(_0x3d8f9f){warn('flushAuthT'+'oDisk\x20fail'+'ed',_0x3d8f9f?.[_0x3f34f5(0x193)]||_0x3d8f9f);}finally{_0x5a9e01();}}function scheduleAuthFlush(){const _0x286b5e=_0xcbc398;_authFlushCounter++;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);const _0x5ec1a5=cfg[_0x286b5e(0x3a1)+_0x286b5e(0x320)+'MS']||(-0x382*-0x1+-0x11*-0x129+-0x1731)*(-0x1*0x219e+-0x151c+-0x9e*-0x5f);debug(_0x286b5e(0x2bf)+'eduling\x20ne'+_0x286b5e(0x2f3)+'ate\x20flush\x20'+_0x286b5e(0x1bd)+_0x5ec1a5/(-0x271+-0x2189+0x13f1*0x2)+('s.\x20Update\x20'+'#')+_authFlushCounter),_authFlushTimeout=setTimeout(flushAuthToDisk,_0x5ec1a5);}function registerAuthStateForFlush(_0x3697c7){_authState_for_flush=_0x3697c7;}async function loadCredsFromDisk(_0x21c735){const _0x2e17ce=_0xcbc398,_0x23aa90=_0x48777d[_0x2e17ce(0x219)](_0x21c735,_0x2e17ce(0x252));let _0x160feb={'creds':{},'keys':{}};try{existsSync(_0x23aa90)&&(_0x160feb=JSON[_0x2e17ce(0x212)](readFileSync(_0x23aa90,_0x2e17ce(0x30f))),info(_0x2e17ce(0x34b)+_0x2e17ce(0x304)+_0x2e17ce(0x2d4)+'\x20'+_0x23aa90));}catch(_0x14f1f2){debug(_0x2e17ce(0x36d)+_0x2e17ce(0x181)+'creds\x20file'+':\x20'+_0x14f1f2[_0x2e17ce(0x3d0)]+'.');}return _0x160feb;}async function loadLocalCredsFileStartup(_0x5e2897){const _0x4d25f6=_0xcbc398;try{return await loadCredsFromDisk(_0x5e2897);}catch(_0x558481){return debug('loadLocalC'+_0x4d25f6(0x310)+_0x4d25f6(0x2a1)+'ed',_0x558481?.[_0x4d25f6(0x3d0)]||_0x558481),null;}}const SESSION_ID=(cfg['SESSION_ID']||'')[_0xcbc398(0x3aa)](),remoteCredsCircuitBreaker={'state':_0xcbc398(0x31d),'failures':0x0,'successes':0x0,'nextAttempt':Date[_0xcbc398(0x39d)](),'FAILURE_THRESHOLD':0x3,'SUCCESS_THRESHOLD':0x2,'OPEN_TIMEOUT':(-0x11*0x12b+-0x65b*-0x5+-0xbe7)*(-0xe1c+0x20b5+0x3*-0x61f)*(0x1e76+0x24b5+-0x3f43)};function recordFailure(){const _0x395521=_0xcbc398,_0x43a426=remoteCredsCircuitBreaker;_0x43a426['failures']++,_0x43a426['successes']=-0x1ca7+0x1c*-0x3e+0x236f,_0x43a426[_0x395521(0x316)]>=_0x43a426[_0x395521(0x308)+_0x395521(0x2fe)]&&(_0x43a426[_0x395521(0x301)]=_0x395521(0x28a),_0x43a426[_0x395521(0x37d)+'t']=Date[_0x395521(0x39d)]()+_0x43a426[_0x395521(0x27b)+'UT'],warn(_0x395521(0x397)+_0x395521(0x249)+_0x395521(0x1ed)+'\x20API\x20faile'+'d\x20too\x20many'+_0x395521(0x2de)+'ening\x20circ'+'uit\x20for\x205\x20'+_0x395521(0x295)));}function recordSuccess(){const _0x5b0523=_0xcbc398,_0x36f50c=remoteCredsCircuitBreaker;_0x36f50c[_0x5b0523(0x294)]++;if(_0x36f50c[_0x5b0523(0x301)]===_0x5b0523(0x2a7)&&_0x36f50c['successes']>=_0x36f50c[_0x5b0523(0x364)+_0x5b0523(0x2fe)])_0x36f50c[_0x5b0523(0x301)]=_0x5b0523(0x31d),_0x36f50c[_0x5b0523(0x316)]=0x11a8+0x1904+-0x2aac,info(_0x5b0523(0x397)+_0x5b0523(0x249)+_0x5b0523(0x1ed)+_0x5b0523(0x1ce)+_0x5b0523(0x259)+'ing\x20circui'+'t.');else _0x36f50c[_0x5b0523(0x301)]===_0x5b0523(0x31d)&&(_0x36f50c[_0x5b0523(0x316)]=-0x8d7+-0x8a7+0x117e);}function _0x27f4(_0x36b3f1,_0x346c9d){const _0x9f49d0=_0x25e1();return _0x27f4=function(_0x3e348f,_0x13c771){_0x3e348f=_0x3e348f-(0xdac+0x1210+-0x1e42);let _0x1f716d=_0x9f49d0[_0x3e348f];return _0x1f716d;},_0x27f4(_0x36b3f1,_0x346c9d);}async function fetchRemoteCredsAxios(_0x4b4870,_0x58b81c={'timeoutMs':0x1388,'attempts':0x3,'initialBackoffMs':0x1f4}){const _0x115023=_0xcbc398,_0x4c36eb=remoteCredsCircuitBreaker;if(_0x4c36eb[_0x115023(0x301)]===_0x115023(0x28a)){if(Date[_0x115023(0x39d)]()>=_0x4c36eb['nextAttemp'+'t'])_0x4c36eb[_0x115023(0x301)]=_0x115023(0x2a7),info(_0x115023(0x397)+_0x115023(0x386)+_0x115023(0x18c)+_0x115023(0x3cd)+'g\x20to\x20HALF_'+_0x115023(0x31a)+'.');else throw new Error(_0x115023(0x397)+'REAKER]\x20Ci'+'rcuit\x20is\x20o'+_0x115023(0x370)+_0x115023(0x371)+'remote\x20fet'+_0x115023(0x374)+new Date(_0x4c36eb[_0x115023(0x37d)+'t'])['toLocaleTi'+_0x115023(0x330)]());}if(!_0x4b4870)throw new Error(_0x115023(0x19e)+'\x20id\x20provid'+'ed');const _0x4ed247=encodeURIComponent(_0x4b4870),_0x563193='https://i-'+_0x115023(0x3c7)+_0x4ed247+_0x115023(0x1d0),_0x41732a=Math[_0x115023(0x325)](-0x1*0xc2d+-0x8*-0x1a2+-0xe2,Number(_0x58b81c[_0x115023(0x264)]||0xfe0+-0x3*0x1f3+-0xa04));let _0x5cc868=Number(_0x58b81c[_0x115023(0x25f)+_0x115023(0x185)]||0x1b70+-0x2*-0xa01+-0x2d7e);for(let _0x59cba7=0x189+-0x137*0x5+-0x48b*-0x1;_0x59cba7<=_0x41732a;_0x59cba7++){try{info(_0x115023(0x183)+_0x115023(0x25a)+_0x115023(0x376)+_0x59cba7+'/'+_0x41732a+(_0x115023(0x350)+_0x115023(0x358)+_0x115023(0x285))+_0x4c36eb[_0x115023(0x301)]+')');const _0x1e297d=await _0x28ec1f[_0x115023(0x1e3)](_0x563193,{'timeout':_0x58b81c[_0x115023(0x2b0)],'responseType':'json','validateStatus':_0x119dbd=>_0x119dbd>=-0x2*-0x508+-0x15*-0x5d+-0x10e9&&_0x119dbd<-0x25d3+0x1b37+0xbc8});return recordSuccess(),info(_0x115023(0x183)+_0x115023(0x209)+_0x115023(0x1f9)+'n\x20attempt\x20'+_0x59cba7+'.'),_0x1e297d[_0x115023(0x2ee)];}catch(_0x582831){const _0x443c44=_0x582831[_0x115023(0x2df)]?.[_0x115023(0x2ba)],_0x1180cd=_0x582831['response']?.[_0x115023(0x2ee)]?JSON[_0x115023(0x1d8)](_0x582831['response'][_0x115023(0x2ee)]):_0x115023(0x2da)+_0x115023(0x2f9);warn(_0x115023(0x183)+_0x115023(0x25a)+_0x115023(0x376)+_0x59cba7+_0x115023(0x1c8)+_0x582831[_0x115023(0x3d0)]+_0x115023(0x218)+_0x443c44+_0x115023(0x3eb)+_0x1180cd);if(_0x443c44===0x1937*0x1+-0x9*0x2ad+0x1*0x8b){const _0x42736f=_0x582831['response']['headers']?.[_0x115023(0x208)+'r'];if(_0x42736f){const _0x1f4d28=parseInt(_0x42736f,0x21f5+-0x1327*0x2+0x463)*(-0xa33+0x3*0x169+0x10*0x9e);if(_0x1f4d28>-0x1af3*-0x1+0x668+-0x215b){warn(_0x115023(0x2ae)+_0x115023(0x323)+'elay\x20of\x20'+_0x1f4d28/(0xeb*0xe+-0xd*0x202+0x16e*0xc)+(_0x115023(0x3e9)+_0x115023(0x265)+'ng.')),await new Promise(_0x3b8053=>setTimeout(_0x3b8053,_0x1f4d28));continue;}}}if(_0x59cba7===_0x41732a){recordFailure();throw new Error('remote\x20fet'+_0x115023(0x33e)+_0x115023(0x349)+_0x41732a+(_0x115023(0x2c7)+'\x20')+_0x582831['message']);}await new Promise(_0x2c19a9=>setTimeout(_0x2c19a9,_0x5cc868)),_0x5cc868*=0x3*0x8ab+0xc04+0x2603*-0x1;}}throw new Error(_0x115023(0x3c9)+_0x115023(0x33e)+'unexpected'+'ly');}async function writeLocalCredsFile(_0x663184,_0x1eb952){const _0x4a0b16=_0xcbc398,_0x4b0f56=_0x48777d[_0x4a0b16(0x219)](_0x1eb952,'creds.json'),_0x2dde67=JSON['stringify'](_0x663184,null,-0x1f2b+0x68d+0x18a0*0x1);return _atomicWriteDirect(_0x4b0f56,_0x2dde67);}function withTimeout(_0x22204c,_0x239453,_0x372a3b=_0xcbc398(0x392)){const _0x448589=_0xcbc398;if(typeof _0x239453!=='number'||_0x239453<=0x19a0+0x5*0x172+0x2*-0x106d)return _0x22204c;return Promise[_0x448589(0x34d)]([_0x22204c,new Promise((_0x39bd32,_0x51b44d)=>setTimeout(()=>_0x51b44d(new Error(_0x372a3b+(_0x448589(0x3bc)+'\x20after\x20')+_0x239453+'ms')),_0x239453))]);}function looksLikeCreds(_0x576ec8){const _0x196e1e=_0xcbc398;if(!_0x576ec8||typeof _0x576ec8!==_0x196e1e(0x1ab))return![];if(!_0x576ec8[_0x196e1e(0x28f)]||typeof _0x576ec8[_0x196e1e(0x28f)]!==_0x196e1e(0x1ab))return![];return _0x576ec8['creds']['noiseKey']&&_0x576ec8[_0x196e1e(0x28f)][_0x196e1e(0x313)+_0x196e1e(0x1f2)]&&_0x576ec8['creds'][_0x196e1e(0x3a0)+_0x196e1e(0x1b3)];}class LruMemoryStore{constructor(_0x4dfd2f={}){const _0x47be9d=_0xcbc398;this['maxBytes']=Number(_0x4dfd2f[_0x47be9d(0x20b)]||cfg[_0x47be9d(0x3ab)+_0x47be9d(0x196)+'ES']||(0x2*0xc9c+-0xa*-0x23b+-0x2*0x16c9)*(-0x5c6+-0x6*0x2fe+0x1bba)*(0x1e08+0x8c3*0x2+-0x32*0xdf)),this[_0x47be9d(0x328)]=new Map(),this[_0x47be9d(0x23b)]=-0x13fd+0x1863+0x466*-0x1;}[_0xcbc398(0x204)+'ytes'](_0x17fa55){const _0xac62dd=_0xcbc398;if(typeof _0x17fa55==='string')return Buffer[_0xac62dd(0x3b5)](_0x17fa55,'utf8');if(Buffer[_0xac62dd(0x2ec)](_0x17fa55))return _0x17fa55[_0xac62dd(0x372)];return-0x244f+-0x15c2+-0x1*-0x4211;}[_0xcbc398(0x3fb)](_0x5a0bb6){const _0x24b2b7=_0xcbc398,_0x4a37cf=this[_0x24b2b7(0x328)][_0x24b2b7(0x1e3)](_0x5a0bb6);if(!_0x4a37cf)return;_0x4a37cf[_0x24b2b7(0x2cc)]=Date[_0x24b2b7(0x39d)](),this['map'][_0x24b2b7(0x210)](_0x5a0bb6),this['map']['set'](_0x5a0bb6,_0x4a37cf);}[_0xcbc398(0x378)+_0xcbc398(0x37c)](){const _0x4473e9=_0xcbc398;while(this['totalBytes']>this[_0x4473e9(0x20b)]&&this[_0x4473e9(0x328)]['size']>-0x2d1*-0x2+0x19a*0x5+-0xda4){const _0x1a64fa=this[_0x4473e9(0x328)][_0x4473e9(0x1d5)]()[_0x4473e9(0x186)]()[_0x4473e9(0x2b3)],_0xc4dd18=this[_0x4473e9(0x328)]['get'](_0x1a64fa);if(_0xc4dd18)this['totalBytes']-=_0xc4dd18['bytes']||0x1*0x10b9+-0xc*-0x328+0x1*-0x3699,this[_0x4473e9(0x328)]['delete'](_0x1a64fa),debug(_0x4473e9(0x17d)+_0x4473e9(0x3c3)+_0x4473e9(0x39c)+_0x1a64fa+_0x4473e9(0x22c)+_0xc4dd18[_0x4473e9(0x17a)]+'\x20priority='+_0xc4dd18[_0x4473e9(0x21c)]);else break;}}[_0xcbc398(0x2cf)](_0x5cffac,_0xbef5c9,{ttl:ttl=null,priority:priority=-0x12a*-0x2+0x7*-0x293+0x53b*0x3}={}){const _0x2dde0c=_0xcbc398,_0x443325=this['_estimateB'+_0x2dde0c(0x182)](_0xbef5c9);if(this[_0x2dde0c(0x328)][_0x2dde0c(0x188)](_0x5cffac)){const _0x4ff6e5=this['map'][_0x2dde0c(0x1e3)](_0x5cffac);this[_0x2dde0c(0x23b)]-=_0x4ff6e5[_0x2dde0c(0x17a)]||-0x5ab*0x3+0x202f+-0x43*0x3a,this[_0x2dde0c(0x328)]['delete'](_0x5cffac);}const _0x491062={'value':_0xbef5c9,'bytes':_0x443325,'priority':priority,'createdAt':Date[_0x2dde0c(0x39d)](),'lastAccess':Date[_0x2dde0c(0x39d)](),'ttl':ttl};this['map'][_0x2dde0c(0x2cf)](_0x5cffac,_0x491062),this[_0x2dde0c(0x23b)]+=_0x443325,this[_0x2dde0c(0x378)+_0x2dde0c(0x37c)]();}[_0xcbc398(0x1e3)](_0x3e008e){const _0x317121=_0xcbc398,_0xe9cf06=this[_0x317121(0x328)]['get'](_0x3e008e);if(!_0xe9cf06)return null;if(_0xe9cf06[_0x317121(0x3b0)]&&Date[_0x317121(0x39d)]()-_0xe9cf06[_0x317121(0x195)]>_0xe9cf06[_0x317121(0x3b0)])return this[_0x317121(0x328)][_0x317121(0x210)](_0x3e008e),this['totalBytes']-=_0xe9cf06['bytes']||0x1*0x5ab+0xe3a+-0x1*0x13e5,null;return this['_touch'](_0x3e008e),_0xe9cf06[_0x317121(0x2b3)];}[_0xcbc398(0x326)](_0x420d6c){const _0x5dcac9=_0xcbc398,_0x8fbc17=this[_0x5dcac9(0x328)][_0x5dcac9(0x1e3)](_0x420d6c);if(!_0x8fbc17)return;this[_0x5dcac9(0x23b)]-=_0x8fbc17[_0x5dcac9(0x17a)]||-0x23a+-0x1ffb+0x2235,this['map']['delete'](_0x420d6c);}[_0xcbc398(0x1d5)](){const _0xe210df=_0xcbc398;return Array[_0xe210df(0x3f1)](this[_0xe210df(0x328)][_0xe210df(0x1d5)]());}['toJSON'](){const _0x45c1aa=_0xcbc398,_0x46850c={};for(const [_0x4e0443,_0x1dac31]of this[_0x45c1aa(0x328)]['entries']())_0x46850c[_0x4e0443]=_0x1dac31['value'];return _0x46850c;}async[_0xcbc398(0x3be)+'e'](_0x52225a){const _0x1b1807=_0xcbc398,_0x55dd9c=await storeMutex[_0x1b1807(0x19b)]();try{const _0x4f83f6={'items':[]};for(const [_0x153ad,_0x12e332]of this[_0x1b1807(0x328)][_0x1b1807(0x1f8)]()){_0x4f83f6[_0x1b1807(0x36c)]['push']({'k':_0x153ad,'value':_0x12e332['value'],'priority':_0x12e332['priority'],'createdAt':_0x12e332[_0x1b1807(0x195)],'lastAccess':_0x12e332[_0x1b1807(0x2cc)]});}await _0x39e293[_0x1b1807(0x337)](_0x48777d[_0x1b1807(0x293)](_0x52225a),{'recursive':!![]})[_0x1b1807(0x191)](()=>{}),await _0x39e293[_0x1b1807(0x245)](_0x52225a,JSON['stringify'](_0x4f83f6,null,-0xd9*-0xa+-0x91b+0xa3),_0x1b1807(0x30f)),debug(_0x1b1807(0x17d)+'\x20Persisted'+_0x1b1807(0x3fc)+_0x52225a);}catch(_0x28f732){warn(_0x1b1807(0x309)+_0x1b1807(0x32b)+_0x1b1807(0x189),_0x28f732);}finally{_0x55dd9c();}}async[_0xcbc398(0x3ef)+'le'](_0x5b9a68){const _0xae53c7=_0xcbc398,_0x5df596=await storeMutex[_0xae53c7(0x19b)]();try{const _0x4d607b=await _0x39e293[_0xae53c7(0x292)](_0x5b9a68,'utf8'),_0x5ac391=JSON['parse'](_0x4d607b),_0x4921c4=_0x5ac391[_0xae53c7(0x36c)]||[];for(const _0x49f215 of _0x4921c4)this[_0xae53c7(0x2cf)](_0x49f215['k'],_0x49f215[_0xae53c7(0x2b3)],{'priority':_0x49f215[_0xae53c7(0x21c)]||0x1d07+-0x2*0x3df+-0x1549*0x1});debug(_0xae53c7(0x17d)+_0xae53c7(0x32d)+_0x4921c4[_0xae53c7(0x372)]+(_0xae53c7(0x282)+'m\x20')+_0x5b9a68);}catch(_0x1e981d){debug(_0xae53c7(0x2b5)+'re\x20readFro'+'mFile:\x20not'+_0xae53c7(0x1c1)+_0xae53c7(0x25b)+'ed',_0x1e981d?.[_0xae53c7(0x3d0)]||_0x1e981d);}finally{_0x5df596();}}}function makeManualStoreFactory(_0x420811={}){const _0x943228=_0xcbc398,_0x5e5f43=new LruMemoryStore({'maxBytes':_0x420811[_0x943228(0x20b)]||cfg[_0x943228(0x3ab)+'RE_MAX_BYT'+'ES']||(-0x4a8+-0x1*-0xd7f+-0x6e3)*(-0x7*0x28d+-0x1aa*-0x4+0x511*0x3)*(-0x2*-0x9fa+0x1a8d+-0x15f*0x1f)});function _0x58eb03(_0x3b8c2c){const _0x18e4cc=_0x943228,_0x4c400c=_0x18e4cc(0x206)+_0x3b8c2c;let _0x215785=_0x5e5f43[_0x18e4cc(0x1e3)](_0x4c400c);return!_0x215785&&(_0x215785={'array':[],'mapById':new Map(),'upsert'(_0x18fada,_0x597209=_0x18e4cc(0x26b)){const _0x49c859=_0x18e4cc,_0x3bed6b=_0x18fada['key']?.['id']||Date[_0x49c859(0x39d)]()+'_'+Math[_0x49c859(0x1dc)]();if(!this[_0x49c859(0x1bb)]['has'](_0x3bed6b)){if(_0x597209==='prepend')this[_0x49c859(0x26e)]['unshift'](_0x18fada);else this[_0x49c859(0x26e)][_0x49c859(0x1ea)](_0x18fada);this[_0x49c859(0x1bb)][_0x49c859(0x2cf)](_0x3bed6b,_0x18fada);}else Object[_0x49c859(0x2d2)](this['mapById'][_0x49c859(0x1e3)](_0x3bed6b),_0x18fada);},'update'(_0xaa73d6){const _0xe0949b=_0x18e4cc,_0x236b12=_0xaa73d6[_0xe0949b(0x18a)]?.['id'];if(!_0x236b12)return![];const _0x3a91ac=this[_0xe0949b(0x1bb)][_0xe0949b(0x1e3)](_0x236b12);if(!_0x3a91ac)return![];return Object['assign'](_0x3a91ac,_0xaa73d6),!![];},'remove'(_0x470779){const _0xe00b1c=_0x18e4cc,_0x5e1158=_0x470779[_0xe00b1c(0x18a)]?.['id'];if(!_0x5e1158)return![];if(!this[_0xe00b1c(0x1bb)][_0xe00b1c(0x188)](_0x5e1158))return![];this['mapById'][_0xe00b1c(0x210)](_0x5e1158);const _0x58938e=this['array'][_0xe00b1c(0x2f2)](_0x1ec893=>_0x1ec893['key']?.['id']===_0x5e1158);if(_0x58938e>=-0x469*0x6+-0x543+0x1fb9)this[_0xe00b1c(0x26e)][_0xe00b1c(0x31c)](_0x58938e,-0x237a+0x13c9+0xfb2);return!![];},'updateAssign'(_0x53b76f,_0x931eb5){const _0x219a73=_0x18e4cc,_0x558e88=this[_0x219a73(0x1bb)][_0x219a73(0x1e3)](_0x53b76f);if(!_0x558e88)return![];return Object['assign'](_0x558e88,_0x931eb5),!![];},'clear'(){const _0x3e3283=_0x18e4cc;this[_0x3e3283(0x26e)][_0x3e3283(0x372)]=-0x134e+-0x1b59+0x2ea7,this['mapById'][_0x3e3283(0x389)]();},'filter'(_0x59bce4){const _0x3fab0c=_0x18e4cc,_0xfb3c2e=this[_0x3fab0c(0x26e)][_0x3fab0c(0x217)](_0x59bce4);this[_0x3fab0c(0x26e)][_0x3fab0c(0x372)]=0x2*-0x254+0x239*-0xd+-0x1*-0x218d,this['array'][_0x3fab0c(0x1ea)](..._0xfb3c2e),this['mapById'][_0x3fab0c(0x389)]();for(const _0x4a3b08 of this[_0x3fab0c(0x26e)])this[_0x3fab0c(0x1bb)][_0x3fab0c(0x2cf)](_0x4a3b08[_0x3fab0c(0x18a)]?.['id']||''+Math['random'](),_0x4a3b08);},'toJSON'(){const _0x12b748=_0x18e4cc;return this[_0x12b748(0x26e)][_0x12b748(0x334)]();},'fromJSON'(_0xa681bd){const _0x5891ec=_0x18e4cc;this[_0x5891ec(0x26e)][_0x5891ec(0x372)]=0x8d5+0x541+-0xe16,this[_0x5891ec(0x1bb)][_0x5891ec(0x389)]();for(const _0x8be3a6 of Array['isArray'](_0xa681bd)?_0xa681bd:[]){this[_0x5891ec(0x26e)][_0x5891ec(0x1ea)](_0x8be3a6),this[_0x5891ec(0x1bb)]['set'](_0x8be3a6['key']?.['id']||''+Math[_0x5891ec(0x1dc)](),_0x8be3a6);}}},_0x5e5f43[_0x18e4cc(0x2cf)](_0x4c400c,_0x215785)),_0x215785;}return{'chats':{},'contacts':{},'groupMetadata':{},'state':{},'presences':{},'labels':{},'_makeMsgBox':_0x58eb03,'bind'(_0xfcc51){const _0xee9270=_0x943228;if(!_0xfcc51||typeof _0xfcc51['on']!==_0xee9270(0x30b))return;_0xfcc51['on'](_0xee9270(0x198)+_0xee9270(0x24f),({messages:messages=[]})=>{const _0x426770=_0xee9270;for(const _0x2d656f of messages){this[_0x426770(0x2f1)+'x'](_0x2d656f[_0x426770(0x18a)]?.[_0x426770(0x1fe)]||_0x426770(0x3e4))[_0x426770(0x1f6)](_0x2d656f,_0x426770(0x26b));}}),_0xfcc51['on']('contacts.u'+_0xee9270(0x24f),(_0x2abd9f=[])=>{const _0x29daa5=_0xee9270;for(const _0x48f424 of _0x2abd9f)if(_0x48f424?.['id'])this[_0x29daa5(0x2e6)][_0x48f424['id']]=_0x48f424;}),_0xfcc51['on'](_0xee9270(0x2ac)+'rt',(_0x5a5cf5=[])=>{for(const _0x13d5ed of _0x5a5cf5)if(_0x13d5ed?.['id'])this['chats'][_0x13d5ed['id']]=_0x13d5ed;});},async 'loadMessages'(_0x5242c7,_0x11309c=0x1*0x1f71+-0x215d+0x205){const _0x96cb66=_0x943228,_0x265570=this['_makeMsgBo'+'x'](_0x5242c7),_0x3fbf2a=_0x265570[_0x96cb66(0x26e)]||[];return _0x3fbf2a['slice'](-_0x11309c)[_0x96cb66(0x28e)]();},async 'writeToFile'(_0x18b668){const _0x146d9c=_0x943228,_0x43ec5f=await storeMutex[_0x146d9c(0x19b)]();try{const _0x1d23f={};for(const _0x5a82b of _0x5e5f43[_0x146d9c(0x1d5)]()){if(_0x5a82b['startsWith'](_0x146d9c(0x206))){const _0x4f2707=_0x5a82b[_0x146d9c(0x334)](_0x146d9c(0x206)[_0x146d9c(0x372)]),_0x5c5bc8=_0x5e5f43[_0x146d9c(0x1e3)](_0x5a82b);_0x1d23f[_0x4f2707]=_0x5c5bc8?_0x5c5bc8['toJSON']?_0x5c5bc8[_0x146d9c(0x228)]():_0x5c5bc8[_0x146d9c(0x26e)]||[]:[];}}const _0x233c50={'chats':this[_0x146d9c(0x2aa)],'contacts':this['contacts'],'messages':_0x1d23f,'groupMetadata':this[_0x146d9c(0x22f)+'ata'],'state':this[_0x146d9c(0x301)]};await _0x39e293[_0x146d9c(0x337)](_0x48777d[_0x146d9c(0x293)](_0x18b668),{'recursive':!![]})['catch'](()=>{}),await _0x39e293['writeFile'](_0x18b668,JSON[_0x146d9c(0x1d8)](_0x233c50,null,-0x2531+-0x227+-0x13ad*-0x2),'utf8'),debug(_0x146d9c(0x298)+'ore\x20writte'+_0x146d9c(0x33f));}catch(_0x719af0){warn(_0x146d9c(0x309)+_0x146d9c(0x3e2)+_0x146d9c(0x26c),_0x719af0);}finally{_0x43ec5f();}},async 'readFromFile'(_0x24c9f0){const _0x49f120=_0x943228,_0x51cbbd=await storeMutex[_0x49f120(0x19b)]();try{const _0x459cd4=await _0x39e293[_0x49f120(0x292)](_0x24c9f0,_0x49f120(0x30f)),_0xff014c=JSON['parse'](_0x459cd4);this[_0x49f120(0x2aa)]=_0xff014c['chats']||{},this[_0x49f120(0x2e6)]=_0xff014c[_0x49f120(0x2e6)]||{},this[_0x49f120(0x22f)+_0x49f120(0x1f7)]=_0xff014c[_0x49f120(0x22f)+_0x49f120(0x1f7)]||{},this[_0x49f120(0x301)]=_0xff014c[_0x49f120(0x301)]||{};const _0x14c353=_0xff014c['messages']||{};for(const _0x10a5ec of Object[_0x49f120(0x1d5)](_0x14c353)){this[_0x49f120(0x2f1)+'x'](_0x10a5ec)[_0x49f120(0x19c)](_0x14c353[_0x10a5ec]);}debug(_0x49f120(0x3b1)+_0x49f120(0x2f5)+'rom\x20file');}catch(_0x42ae96){debug(_0x49f120(0x2b1)+'tore\x20file\x20'+_0x49f120(0x200)+'to\x20read\x20it',_0x42ae96?.[_0x49f120(0x3d0)]||_0x42ae96);}finally{_0x51cbbd();}}};}const store=makeManualStoreFactory({});class SimpleCache{constructor(_0x47a30a=cfg['CACHE_TTL_'+'MS']||(0xe1*0x16+-0x8c9+-0x13*0x8b)*(0x1e75+0x2*-0x127e+0xa6f),_0x28ee12=cfg[_0xcbc398(0x27c)+_0xcbc398(0x353)]||(-0x7d3+0x6fd+0xea)*(0x1b28+0x64e+-0x1d76)*(-0x1173*0x2+-0x105a+0x3740)){const _0x6b244d=_0xcbc398;this[_0x6b244d(0x3e0)]=_0x47a30a,this[_0x6b244d(0x20b)]=_0x28ee12,this[_0x6b244d(0x328)]=new Map(),this['totalBytes']=0x1fed+0x109b+-0x3088,this[_0x6b244d(0x1df)+'r']=setInterval(()=>this[_0x6b244d(0x237)](),Math[_0x6b244d(0x325)](-0x2d5d+0x74f*0x6+0x2893,_0x47a30a));if(this[_0x6b244d(0x1df)+'r'][_0x6b244d(0x34c)])this[_0x6b244d(0x1df)+'r'][_0x6b244d(0x34c)]();}[_0xcbc398(0x204)+_0xcbc398(0x182)](_0xb09df5){const _0x351b28=_0xcbc398;try{return Buffer[_0x351b28(0x3b5)](JSON[_0x351b28(0x1d8)](_0xb09df5),_0x351b28(0x30f));}catch(_0x3cc5a2){return-0x16*0x14b+0x8d1+0x17a1;}}[_0xcbc398(0x2cf)](_0x2bffa6,_0x4fa32b,_0x195ffb=this[_0xcbc398(0x3e0)]){const _0x30725e=_0xcbc398;if(this[_0x30725e(0x328)][_0x30725e(0x188)](_0x2bffa6)){const _0x5bb0f1=this[_0x30725e(0x328)][_0x30725e(0x1e3)](_0x2bffa6);this['totalBytes']-=_0x5bb0f1[_0x30725e(0x17a)]||-0xc2c+0x1926+-0xcfa*0x1,this['map'][_0x30725e(0x210)](_0x2bffa6);}const _0x113c37=this['_estimateB'+_0x30725e(0x182)](_0x4fa32b);while(this[_0x30725e(0x23b)]+_0x113c37>this['maxBytes']&&this[_0x30725e(0x328)][_0x30725e(0x2fc)]>-0x19*0x147+-0xf29*0x1+0x2f18){const _0x417d94=this['map']['keys']()[_0x30725e(0x186)]()[_0x30725e(0x2b3)],_0x4bc1d8=this[_0x30725e(0x328)][_0x30725e(0x1e3)](_0x417d94);this['totalBytes']-=_0x4bc1d8[_0x30725e(0x17a)]||0xc7d+-0x5*0x10+-0x1*0xc2d,this[_0x30725e(0x328)][_0x30725e(0x210)](_0x417d94),debug('[CACHE]\x20Ev'+_0x30725e(0x318)+_0x417d94+_0x30725e(0x2c9)+_0x4bc1d8[_0x30725e(0x17a)]);}const _0x40baf1=Date['now']()+_0x195ffb;this[_0x30725e(0x328)][_0x30725e(0x2cf)](_0x2bffa6,{'value':_0x4fa32b,'bytes':_0x113c37,'expiry':_0x40baf1}),this[_0x30725e(0x23b)]+=_0x113c37;}['get'](_0x37c987){const _0x574eb7=_0xcbc398,_0x284d6f=this[_0x574eb7(0x328)][_0x574eb7(0x1e3)](_0x37c987);if(!_0x284d6f)return null;if(Date[_0x574eb7(0x39d)]()>_0x284d6f['expiry'])return this[_0x574eb7(0x23b)]-=_0x284d6f[_0x574eb7(0x17a)]||0x2f*-0xb5+0x2606+-0x4cb,this[_0x574eb7(0x328)]['delete'](_0x37c987),null;return _0x284d6f[_0x574eb7(0x254)]=Date[_0x574eb7(0x39d)]()+this[_0x574eb7(0x3e0)],this['map'][_0x574eb7(0x210)](_0x37c987),this[_0x574eb7(0x328)][_0x574eb7(0x2cf)](_0x37c987,_0x284d6f),_0x284d6f['value'];}[_0xcbc398(0x326)](_0x4332e4){const _0x46a911=_0xcbc398,_0x5d9f5e=this[_0x46a911(0x328)][_0x46a911(0x1e3)](_0x4332e4);if(!_0x5d9f5e)return;this[_0x46a911(0x23b)]-=_0x5d9f5e[_0x46a911(0x17a)]||-0x1d17+0x524+0x3*0x949,this[_0x46a911(0x328)]['delete'](_0x4332e4);}['_sweep'](){const _0x59f734=_0xcbc398,_0x38a31c=Date[_0x59f734(0x39d)]();for(const [_0x27376b,_0x3232a7]of this[_0x59f734(0x328)][_0x59f734(0x1f8)]()){_0x3232a7[_0x59f734(0x254)]<=_0x38a31c&&(this[_0x59f734(0x23b)]-=_0x3232a7[_0x59f734(0x17a)]||0x3*0xfb+-0x36c*-0x2+-0x9c9,this[_0x59f734(0x328)][_0x59f734(0x210)](_0x27376b));}}[_0xcbc398(0x27a)](){const _0x28afb8=_0xcbc398;clearInterval(this[_0x28afb8(0x1df)+'r']),this['map'][_0x28afb8(0x389)](),this[_0x28afb8(0x23b)]=0x4c1*0x3+-0x44b+-0x9f8;}}class SlidingWindowRateLimiter{constructor(_0x440b8e=-0x1*0x1604+0x1f*0xa+-0x1*-0x18b6,_0x4e513d=0x2ff*-0xb+0x1e89*0x1+-0x19*-0x19){const _0x1c31f6=_0xcbc398;this[_0x1c31f6(0x27f)]=_0x440b8e,this[_0x1c31f6(0x3b8)]=_0x4e513d,this[_0x1c31f6(0x36f)]=[];}['_cleanup'](_0x5c4ca3){const _0x25bbec=_0xcbc398,_0xe33470=_0x5c4ca3-this[_0x25bbec(0x27f)];while(this[_0x25bbec(0x36f)][_0x25bbec(0x372)]&&this[_0x25bbec(0x36f)][-0x1abf*-0x1+-0x264e+-0x10d*-0xb]<_0xe33470)this['timestamps'][_0x25bbec(0x380)]();}[_0xcbc398(0x2c2)](_0x3d9635=Date[_0xcbc398(0x39d)]()){const _0x345b3f=_0xcbc398;return this['_cleanup'](_0x3d9635),this[_0x345b3f(0x36f)][_0x345b3f(0x372)];}['canSend'](_0x2faeca=Date['now']()){const _0x55255b=_0xcbc398;return this['_cleanup'](_0x2faeca),this[_0x55255b(0x36f)]['length']<this[_0x55255b(0x3b8)];}[_0xcbc398(0x21e)](_0x1a6200=Date['now']()){const _0x30cb82=_0xcbc398;this[_0x30cb82(0x2e9)](_0x1a6200),this[_0x30cb82(0x36f)][_0x30cb82(0x1ea)](_0x1a6200);}[_0xcbc398(0x3d2)+_0xcbc398(0x20d)+'le'](_0x4baa11=Date[_0xcbc398(0x39d)]()){const _0x375d76=_0xcbc398;this[_0x375d76(0x2e9)](_0x4baa11);if(this['timestamps'][_0x375d76(0x372)]<this[_0x375d76(0x3b8)])return-0xe88+-0x152e+0x23b6;const _0x33914c=this[_0x375d76(0x36f)][0x1ed*-0xf+-0x1*-0x12cd+0xa16];return Math['max'](0x22a*-0x2+-0x2194+0x25e8,_0x33914c+this[_0x375d76(0x27f)]-_0x4baa11);}}async function dlqWrite(_0x140165){return Promise['resolve']();}async function attemptSendWithRetry(_0x47209c,_0x1a7739=0x1bef+0x45d*-0x2+-0x1333*0x1,_0x4b5a5f=-0xc70+0x2fa+0xb6a,_0xbd817d={}){const _0x30a77d=_0xcbc398;let _0x5ba233=null;for(let _0x2c8a68=0x1590+0x1*0xb7+-0x1647;_0x2c8a68<=_0x1a7739;_0x2c8a68++){try{return await _0x47209c();}catch(_0x533dd3){_0x5ba233=_0x533dd3;if(_0x2c8a68===_0x1a7739)throw _0x533dd3;await new Promise(_0x3ee6e2=>setTimeout(_0x3ee6e2,_0x4b5a5f*Math[_0x30a77d(0x2c5)](0x1bcc+0x2*-0x1f7+-0x17dc,_0x2c8a68)));}}throw _0x5ba233;}class OutgoingSendQueue{constructor(_0x4ac32e,_0x498706={}){const _0x397b1d=_0xcbc398;this[_0x397b1d(0x2b8)]=[],this[_0x397b1d(0x256)+'r']=_0x4ac32e,this[_0x397b1d(0x346)]=![],this[_0x397b1d(0x230)]=null,this[_0x397b1d(0x324)]=_0x498706['maxQueue']||cfg['OUTGOING_M'+_0x397b1d(0x2d6)]||-0x1ed4+-0x189b*0x1+0x3f3f,this[_0x397b1d(0x3f6)+_0x397b1d(0x1cf)]=_0x498706[_0x397b1d(0x3f6)+_0x397b1d(0x1cf)]||Math[_0x397b1d(0x341)](this[_0x397b1d(0x324)]*(0x748+-0x1*0x995+0x24d+0.75));}[_0xcbc398(0x355)](_0x4e82a2,_0x19ae92={}){const _0x1c3225=_0xcbc398,_0x5e271d=typeof _0x19ae92[_0x1c3225(0x21c)]===_0x1c3225(0x2c6)?_0x19ae92[_0x1c3225(0x21c)]:-0xd75+0x2409*-0x1+-0x4f3*-0xa;return new Promise((_0x147fbf,_0x179853)=>{const _0x524c47=_0x1c3225;if(this['queue'][_0x524c47(0x372)]>=this[_0x524c47(0x324)]){let _0x4ac45d=-(-0x1*0x1b19+0x25d6+0x3*-0x394);for(let _0x220219=0x7a*0x3e+0x7a*-0x4a+0x5b8;_0x220219<this['queue'][_0x524c47(0x372)];_0x220219++){if((this['queue'][_0x220219][_0x524c47(0x21c)]||-0x123d+0x5d*-0x1a+-0x1*-0x1baf)<_0x5e271d){_0x4ac45d=_0x220219;break;}}if(_0x4ac45d===-(0x1845+-0x7*0x73+-0x1*0x151f))_0x4ac45d=-0x1*-0x17bf+-0x1a*0x92+-0x8eb;const _0x1946a6=this[_0x524c47(0x2b8)]['splice'](_0x4ac45d,0x5*-0x5c6+0x10b*0x1d+-0x160)[0x2601+-0x21c0+-0x441];try{_0x1946a6[_0x524c47(0x21d)]&&_0x1946a6['reject'](new Error('Dropped\x20fr'+_0x524c47(0x2b9)+_0x524c47(0x1f1)+'e\x20to\x20capac'+_0x524c47(0x2b2)+_0x524c47(0x2f6)));}catch(_0x3831b2){debug(_0x524c47(0x309)+'reject\x20dro'+_0x524c47(0x2ce),_0x3831b2[_0x524c47(0x3d0)]);}warn(_0x524c47(0x34a)+_0x524c47(0x3c1)+_0x524c47(0x3f3)+_0x524c47(0x396)+_0x524c47(0x2fb)+(_0x1946a6[_0x524c47(0x21c)]||-0x1000+-0x35e+0x135e)+(_0x524c47(0x2eb)+'room\x20(inco'+_0x524c47(0x3ac)+_0x524c47(0x1c4))+_0x5e271d+')');}this['queue'][_0x524c47(0x1ea)]({'fn':_0x4e82a2,'resolve':_0x147fbf,'reject':_0x179853,'priority':_0x5e271d});if(this[_0x524c47(0x2b8)][_0x524c47(0x372)]>=this['warnThresh'+_0x524c47(0x1cf)])warn(_0x524c47(0x34a)+_0x524c47(0x399)+_0x524c47(0x1d9)+'\x20'+this[_0x524c47(0x2b8)]['length']+'/'+this['maxQueue']);this[_0x524c47(0x3f0)+'s']();});}[_0xcbc398(0x3f0)+'s'](){const _0x5932af=_0xcbc398;if(this[_0x5932af(0x346)])return;this['processing']=!![];const _0x353489=async()=>{const _0x1ea8b3=_0x5932af;this[_0x1ea8b3(0x230)]&&(clearTimeout(this[_0x1ea8b3(0x230)]),this[_0x1ea8b3(0x230)]=null);const _0x172a01=Date[_0x1ea8b3(0x39d)]();let _0x531ab8=Math[_0x1ea8b3(0x325)](-0x50*-0x65+0x16ce+0x2*-0x1b2f,this[_0x1ea8b3(0x256)+'r'][_0x1ea8b3(0x3b8)]-this[_0x1ea8b3(0x256)+'r'][_0x1ea8b3(0x2c2)](_0x172a01));if(_0x531ab8<=0x229a+-0x716*-0x5+-0x8c1*0x8||this[_0x1ea8b3(0x2b8)][_0x1ea8b3(0x372)]===0x1687*-0x1+-0xd1a+-0x1*-0x23a1){const _0x5110ef=this[_0x1ea8b3(0x256)+'r'][_0x1ea8b3(0x3d2)+_0x1ea8b3(0x20d)+'le'](_0x172a01);if(this[_0x1ea8b3(0x2b8)][_0x1ea8b3(0x372)]>-0x1457+-0x483*-0x1+0x7ea*0x2)this[_0x1ea8b3(0x230)]=setTimeout(()=>{const _0x3811a4=_0x1ea8b3;this[_0x3811a4(0x346)]=![],this[_0x3811a4(0x3f0)+'s']();},_0x5110ef+(-0xf*-0x8d+0x1f2b+-0x276d));else this['processing']=![];return;}const _0x574de0=[];for(let _0x18903a=-0xbc5+0xe8b*0x1+-0x2c6;_0x18903a<_0x531ab8&&this[_0x1ea8b3(0x2b8)]['length']>-0x11*-0xf4+-0x1b0d+0xad9;_0x18903a++){let _0x2229f4=-0x1867+0x13b0+0x4b7,_0x1589f6=this[_0x1ea8b3(0x2b8)][0x12dc+0x166*0x3+-0x170e][_0x1ea8b3(0x21c)]||0xa57+0x52c*0x6+-0x295f;for(let _0x530b37=0x228b+0x2245+-0x54b*0xd;_0x530b37<this[_0x1ea8b3(0x2b8)][_0x1ea8b3(0x372)];_0x530b37++){const _0x2cb106=this[_0x1ea8b3(0x2b8)][_0x530b37][_0x1ea8b3(0x21c)]||0x1379+-0x144*0x1e+0x5*0x3b3;_0x2cb106>_0x1589f6&&(_0x1589f6=_0x2cb106,_0x2229f4=_0x530b37);}const _0x1b02a3=this[_0x1ea8b3(0x2b8)][_0x1ea8b3(0x31c)](_0x2229f4,-0x826+-0x12a+0x951)[-0xd*0x2ab+0x1464+0xe4b];_0x574de0[_0x1ea8b3(0x1ea)](_0x1b02a3);}if(_0x574de0['length']>0x1c82+0x122b*0x1+-0x15*0x239)for(const _0x5881b1 of _0x574de0){this[_0x1ea8b3(0x256)+'r'][_0x1ea8b3(0x21e)](_0x172a01);const _0x3cc523={'priority':_0x5881b1['priority']||-0x1*-0x617+0x1*-0x23b7+-0x1da*-0x10,'fnSnippet':String(_0x5881b1['fn'])[_0x1ea8b3(0x334)](0x1b53+-0x1ef6+-0x13*-0x31,0x1487*-0x1+-0xe3*0x1e+0x2fe9)};try{const _0x161ad5=attemptSendWithRetry(_0x5881b1['fn'],cfg[_0x1ea8b3(0x288)+'_ATTEMPTS']||-0x17b*-0x4+-0x2*0x368+-0x5*-0x2e,cfg[_0x1ea8b3(0x288)+_0x1ea8b3(0x327)]||0x1555*0x1+-0xab2+0x2e5*-0x3,_0x3cc523);_0x161ad5[_0x1ea8b3(0x2bc)](_0x3de25c=>_0x5881b1[_0x1ea8b3(0x2d8)](_0x3de25c))[_0x1ea8b3(0x191)](_0x54fca2=>_0x5881b1[_0x1ea8b3(0x21d)](_0x54fca2));}catch(_0x197366){_0x5881b1['reject'](_0x197366);}}if(this['queue'][_0x1ea8b3(0x372)]>-0xe2a+-0x15f*-0x3+0xa0d){const _0x3847ab=this['rateLimite'+'r'][_0x1ea8b3(0x3d2)+_0x1ea8b3(0x20d)+'le'](Date[_0x1ea8b3(0x39d)]());this[_0x1ea8b3(0x230)]=setTimeout(()=>{const _0x408982=_0x1ea8b3;this[_0x408982(0x346)]=![],this[_0x408982(0x3f0)+'s']();},_0x3847ab+(0x1380+0x255+-0x15d4));}else this['processing']=![];};try{_0x353489();}catch(_0x5da3d8){this[_0x5932af(0x346)]=![],error(_0x5da3d8,_0x5932af(0x34a)+_0x5932af(0x354)+_0x5932af(0x296)+_0x5932af(0x2a6));}}}class BotAPI extends _0x53c098{constructor(){const _0x313391=_0xcbc398;super(),this[_0x313391(0x2cd)]=new SimpleCache(),this[_0x313391(0x1f0)]=store,this[_0x313391(0x345)]=proto;}async['downloadMe'+'dia'](_0x153bd2,_0xd090db={}){const _0x4b8d88=_0xcbc398;try{return await downloadMediaMessage(_0x153bd2,'buffer',{},{'logger':baileysPinoLogger,..._0xd090db});}catch(_0x24f7ca){error(_0x24f7ca,_0x4b8d88(0x309)+'download\x20m'+_0x4b8d88(0x3f9));throw _0x24f7ca;}}['isGroup'](_0x127696){return isJidGroup(_0x127696);}[_0xcbc398(0x194)](_0x360796){const _0x42dd35=_0xcbc398;try{if(!_0x360796||typeof _0x360796!==_0x42dd35(0x1dd))return![];if(isJidGroup(_0x360796))return![];if(isJidBroadcast(_0x360796))return![];if(isJidStatusBroadcast(_0x360796))return![];return _0x360796[_0x42dd35(0x1e5)]('@');}catch(_0x1a1f4d){return debug('isUser\x20che'+_0x42dd35(0x3dd),_0x1a1f4d?.[_0x42dd35(0x3d0)]||_0x1a1f4d),![];}}[_0xcbc398(0x18e)+'t'](_0x3efdf2){return isJidBroadcast(_0x3efdf2);}[_0xcbc398(0x2db)+'eUser'](_0x4cfe6d,_0x898e7a){return areJidsSameUser(_0x4cfe6d,_0x898e7a);}[_0xcbc398(0x3af)+_0xcbc398(0x2a9)](_0x34d0df){const _0x3384e1=_0xcbc398;try{return isJidStatusBroadcast(_0x34d0df);}catch(_0x453319){return debug(_0x3384e1(0x3af)+_0x3384e1(0x257)+'eck\x20failed'+':',_0x453319[_0x3384e1(0x3d0)]),![];}}[_0xcbc398(0x332)+_0xcbc398(0x2a4)](_0x595471){const _0x582984=_0xcbc398;try{return isJidNewsletter(_0x595471);}catch(_0x1c1e3d){return debug('isJidNewsl'+_0x582984(0x1a6)+'k\x20failed:',_0x1c1e3d[_0x582984(0x3d0)]),![];}}[_0xcbc398(0x361)+_0xcbc398(0x23f)]({id:_0xdd6a80,participant:_0x149ecf,body:_0x118725,timestamp:_0x27fbaf}){const _0x2f66c0=_0xcbc398;return{'key':{'id':_0xdd6a80,'remoteJid':_0x2f66c0(0x243)+_0x2f66c0(0x28d),'participant':_0x149ecf,'fromMe':![]},'message':{'conversation':_0x118725},'messageTimestamp':Math[_0x2f66c0(0x341)]((_0x27fbaf||Date[_0x2f66c0(0x39d)]())/(-0x1c8+0x24f8+-0x1f48))};}async['getPollRes'+'ults'](_0x5ca1f1){const _0x38f46d=_0xcbc398;try{if(_0x5ca1f1['message']?.[_0x38f46d(0x1a5)+_0x38f46d(0x1c2)])return getAggregateVotesInPollMessage({'message':_0x5ca1f1[_0x38f46d(0x3d0)],'pollCreationMessage':_0x5ca1f1[_0x38f46d(0x3d0)][_0x38f46d(0x1a5)+_0x38f46d(0x1c2)]});return null;}catch(_0x1b8a82){return error(_0x1b8a82,_0x38f46d(0x309)+'get\x20poll\x20r'+_0x38f46d(0x331)),null;}}}const bot=new BotAPI();let sock=null,botJid=null,restartAttempts=-0x1*0x1da7+-0x1ee0+0x3c87;const MAX_BACKOFF=(0x1e9*-0x10+-0x1ff4+0x3e89)*(0x2309+-0x1ea6+-0x1*0x427)*(-0x48b*0x5+-0x35e+0x1*0x1dfd);let outgoingQueueGlobal=null,detachAllHandlers=null,registeredModules=new Set();const messageProcessingQueues=new Map();function normalizeJidForQueue(_0x5a1f96){const _0x5dbf5a=_0xcbc398;try{return jidNormalizedUser(_0x5a1f96||'');}catch(_0x233fb3){return error('Failed\x20to\x20'+_0x5dbf5a(0x2c1)+'JID\x20for\x20qu'+_0x5dbf5a(0x307),_0x233fb3[_0x5dbf5a(0x3d0)]),String(_0x5a1f96||'');}}bot[_0xcbc398(0x1af)+_0xcbc398(0x3e7)]=_0x39a00c=>{const _0x5bf086=_0xcbc398;registeredModules[_0x5bf086(0x287)](_0x39a00c);if(_0x39a00c['attach'])try{_0x39a00c[_0x5bf086(0x1cc)](bot);}catch(_0x21f279){warn('module.att'+_0x5bf086(0x1da),_0x21f279);}},bot[_0xcbc398(0x2dd)+_0xcbc398(0x24e)]=_0x22ff2f=>{const _0x2bd476=_0xcbc398;if(registeredModules[_0x2bd476(0x188)](_0x22ff2f)){if(_0x22ff2f['detach'])try{_0x22ff2f[_0x2bd476(0x1d6)](bot);}catch(_0x4616f5){warn(_0x2bd476(0x356)+_0x2bd476(0x1da),_0x4616f5);}registeredModules[_0x2bd476(0x210)](_0x22ff2f);}};async function chooseBaileysVersion(){const _0x3a8711=_0xcbc398;if(cfg[_0x3a8711(0x383)+_0x3a8711(0x3b3)]&&typeof cfg[_0x3a8711(0x383)+_0x3a8711(0x3b3)]==='string'){const _0x43d84b=cfg[_0x3a8711(0x383)+_0x3a8711(0x3b3)][_0x3a8711(0x23a)]('.')['map'](_0x58cd3e=>parseInt(_0x58cd3e,-0xeeb+-0x51+0x2*0x7a3)||0x1*0x2a5+-0x1c*-0x11b+0x3*-0xb33);return{'version':_0x43d84b,'isLatest':![]};}try{return await fetchLatestBaileysVersion();}catch(_0x11406d){return debug('Failed\x20to\x20'+_0x3a8711(0x261)+_0x3a8711(0x3da)+_0x3a8711(0x251)+_0x3a8711(0x300)+_0x3a8711(0x3c5)+_0x3a8711(0x3a2),_0x11406d?.[_0x3a8711(0x3d0)]||_0x11406d),{'version':[-0x483*0x1+0x1ad*-0x17+0xac5*0x4,-0x17*-0x89+0x1917+0x1*-0x255f,0x1*0x262f+-0x1488+-0x1*0x11a7],'isLatest':![]};}}function scheduleRestart(_0x4d6519){const _0x384554=_0xcbc398;restartAttempts++;const _0x3fddfd=Math[_0x384554(0x213)](MAX_BACKOFF,(0x132d*-0x1+0xc8e+-0x41*-0x67)*Math[_0x384554(0x2c5)](0x521+0x15a+0x1*-0x679,Math[_0x384554(0x325)](0x44c+-0x1b92+-0xba3*-0x2,restartAttempts-(0x1cbc+-0x1682+-0x639))));info(_0x384554(0x28b)+_0x384554(0x1aa)+'ttempt\x20#'+restartAttempts+_0x384554(0x3a6)+_0x3fddfd/(0x2ec+-0x2165+0x2261)+_0x384554(0x3db)+_0x4d6519),setTimeout(async()=>{const _0x3343bf=_0x384554;info(_0x3343bf(0x2e0)+_0x3343bf(0x22b)+_0x3343bf(0x37f));try{if(detachAllHandlers){try{detachAllHandlers();}catch(_0x502f4d){debug('Error\x20duri'+_0x3343bf(0x385)+_0x3343bf(0x22d)+_0x3343bf(0x1e0)+'t:',_0x502f4d[_0x3343bf(0x3d0)]);}detachAllHandlers=null;}if(sock){try{sock[_0x3343bf(0x221)](new Error(_0x3343bf(0x360)+_0x3343bf(0x3a5)));}catch(_0xafaa80){}try{sock['ev'][_0x3343bf(0x236)+_0x3343bf(0x31b)]?.();}catch(_0x38f55f){}sock=null;}if(outgoingQueueGlobal){try{outgoingQueueGlobal[_0x3343bf(0x230)]&&clearTimeout(outgoingQueueGlobal[_0x3343bf(0x230)]);}catch(_0x47a2e8){}outgoingQueueGlobal=null;}await startBot();}catch(_0x448657){error(_0x448657,_0x3343bf(0x1e8)+'tempt\x20fail'+_0x3343bf(0x35d)+_0x3343bf(0x3d8)+_0x3343bf(0x2ff)+_0x3343bf(0x1a0)),scheduleRestart(_0x4d6519);}},_0x3fddfd);}async function cleanupTempFiles(_0x397508){const _0x4f0f73=_0xcbc398;info('Running\x20cl'+_0x4f0f73(0x1bc)+_0x4f0f73(0x384)+_0x4f0f73(0x306)+_0x397508+_0x4f0f73(0x246));try{const _0x316fc6=await _0x39e293[_0x4f0f73(0x33c)](_0x397508);let _0x2be275=0xd42*-0x1+-0x1747*-0x1+-0xa05;for(const _0xf7652e of _0x316fc6){if(_0xf7652e[_0x4f0f73(0x39b)]('.tmp')){const _0x34483c=_0x48777d[_0x4f0f73(0x219)](_0x397508,_0xf7652e);try{await _0x39e293[_0x4f0f73(0x37a)](_0x34483c),debug(_0x4f0f73(0x317)+_0x4f0f73(0x1d1)+'p\x20file:\x20'+_0x34483c),_0x2be275++;}catch(_0x8ee1c7){warn(_0x4f0f73(0x309)+_0x4f0f73(0x2ed)+'p\x20file\x20'+_0x34483c+':',_0x8ee1c7);}}}if(_0x2be275>-0x8*-0x1d2+0xb*0x3c+-0x1124)info(_0x4f0f73(0x1d2)+_0x4f0f73(0x280)+'leted\x20'+_0x2be275+(_0x4f0f73(0x1ef)+_0x4f0f73(0x2e2)));else info(_0x4f0f73(0x36a)+'ry\x20files\x20f'+_0x4f0f73(0x273)+_0x4f0f73(0x17b));}catch(_0x44b23f){if(_0x44b23f[_0x4f0f73(0x25e)]!=='ENOENT')warn(_0x4f0f73(0x2bd)+_0x4f0f73(0x3cf)+'ry\x20file\x20cl'+_0x4f0f73(0x38d)+_0x397508+':',_0x44b23f);}}async function startBot(){const _0x2804c7=_0xcbc398;try{let _0x1f2ddd;try{const _0x190496=await import('./qrcode.js');_0x1f2ddd=_0x190496[_0x2804c7(0x271)],deepSerialize=_0x190496[_0x2804c7(0x1cb)+_0x2804c7(0x241)];if(!_0x1f2ddd||!deepSerialize)throw new Error(_0x2804c7(0x336)+_0x2804c7(0x297)+_0x2804c7(0x25c)+'orts.');info('qrcode.js\x20'+_0x2804c7(0x3ca)+_0x2804c7(0x233));}catch(_0x1b2ca4){error('Failed\x20to\x20'+_0x2804c7(0x22e)+'ode.js\x20bef'+_0x2804c7(0x394)+_0x2804c7(0x274),_0x1b2ca4),scheduleRestart('qrcode\x20imp'+_0x2804c7(0x29c));return;}const _0x44edcc=cfg[_0x2804c7(0x232)+_0x2804c7(0x29e)]||'.auth',{version:_0x57ca3a,isLatest:_0x43407e}=await chooseBaileysVersion();await cleanupTempFiles(_0x44edcc);try{const _0x4cfdfa=await import('./utils/database.js');_0x4cfdfa['initialize'+_0x2804c7(0x27e)]&&(await _0x4cfdfa[_0x2804c7(0x3b6)+_0x2804c7(0x27e)](),info('Database\x20i'+_0x2804c7(0x3ba)+_0x2804c7(0x32e)+_0x2804c7(0x33d)));}catch(_0x21c574){info(_0x2804c7(0x32f)+'nitializat'+_0x2804c7(0x329)+_0x2804c7(0x3b2)+'d.');}!SESSION_ID&&(fatal(_0x2804c7(0x379)+_0x2804c7(0x255)+_0x2804c7(0x226)+_0x2804c7(0x2f0)+_0x2804c7(0x373)+'bot\x20requir'+_0x2804c7(0x33b)+'unction.'),process['exit'](0x1*0x199+-0x65+-0x1*0x133));info('Using\x20SESS'+_0x2804c7(0x24b)+SESSION_ID);const _0x3fe9c4=async()=>{const _0x9c8b75=_0x2804c7;let _0x350a18=await loadLocalCredsFileStartup(_0x44edcc);if(looksLikeCreds(_0x350a18))return info(_0x9c8b75(0x2ca)+'al\x20creds\x20f'+'ound.\x20Proc'+_0x9c8b75(0x322)+_0x9c8b75(0x23d)+'ssion.'),await _0x1f2ddd({'authDir':_0x44edcc,'creds':_0x350a18,'browser':cfg[_0x9c8b75(0x21f)+_0x9c8b75(0x214)]});warn(_0x9c8b75(0x23e)+'valid\x20loca'+_0x9c8b75(0x30c)+'ttempting\x20'+_0x9c8b75(0x347)+'dential\x20re'+'covery...');try{const _0x38aaa2=await fetchRemoteCredsAxios(SESSION_ID);if(looksLikeCreds(_0x38aaa2))return info(_0x9c8b75(0x2b7)+'emote\x20cred'+_0x9c8b75(0x3e1)+_0x9c8b75(0x319)+_0x9c8b75(0x33a)),await writeLocalCredsFile(_0x38aaa2,_0x44edcc),await _0x1f2ddd({'authDir':_0x44edcc,'creds':_0x38aaa2,'browser':cfg[_0x9c8b75(0x21f)+_0x9c8b75(0x214)]});warn(_0x9c8b75(0x369)+_0x9c8b75(0x39a)+'turned\x20inv'+_0x9c8b75(0x3ad));}catch(_0x153559){warn(_0x9c8b75(0x369)+'ote\x20recove'+_0x9c8b75(0x3cc)+'\x20'+_0x153559[_0x9c8b75(0x3d0)]+'.');}return null;},_0x5445dd=await _0x3fe9c4();if(!_0x5445dd){info(_0x2804c7(0x1fa)+_0x2804c7(0x1e7)+'\x20found\x20loc'+'ally\x20or\x20re'+_0x2804c7(0x229)+_0x2804c7(0x1ff)+_0x2804c7(0x2b4)+_0x2804c7(0x31e));const _0x1c4741=await _0x1f2ddd({'authDir':_0x44edcc,'browser':cfg[_0x2804c7(0x21f)+_0x2804c7(0x214)]});if(!_0x1c4741||!_0x1c4741['state']){scheduleRestart('Failed\x20to\x20'+_0x2804c7(0x1b0)+_0x2804c7(0x363)+'dentials\x20a'+_0x2804c7(0x366)+_0x2804c7(0x35e)+'.');return;}registerAuthStateForFlush({'state':_0x1c4741[_0x2804c7(0x301)],'authDir':_0x44edcc});}else registerAuthStateForFlush({'state':_0x5445dd[_0x2804c7(0x301)],'authDir':_0x44edcc});const {state:_0x5316c6}=_authState_for_flush,_0x22c362=makeCacheableSignalKeyStore(_0x5316c6[_0x2804c7(0x1d5)],baileysPinoLogger),_0x2c00bb=_0x505abc=>{const _0x4715b7=['set','remove'];for(const _0x3fa969 of _0x4715b7){const _0x5df93a=_0x505abc[_0x3fa969];_0x505abc[_0x3fa969]=function(..._0x4f72){const _0xd2ff1d=_0x27f4,_0x49f16e=_0x5df93a[_0xd2ff1d(0x1e1)](this,_0x4f72);return scheduleAuthFlush(),_0x49f16e;};}};_0x2c00bb(_0x22c362);const _0x2959c5=new SlidingWindowRateLimiter(cfg[_0x2804c7(0x211)][_0x2804c7(0x29a)]||-0x2184+-0x1192+0x36fe,cfg[_0x2804c7(0x211)][_0x2804c7(0x3b8)]||0x1ce7+0x1361+-0x9a7*0x5);outgoingQueueGlobal=new OutgoingSendQueue(_0x2959c5,{'maxQueue':cfg['OUTGOING_M'+_0x2804c7(0x2d6)]}),info(_0x2804c7(0x382)+'eys\x20versio'+'n\x20'+_0x57ca3a['join']('.')+(_0x2804c7(0x18f)+'=')+_0x43407e);const _0x168e62=[{'stream':baileysLogInterceptor,'level':_0x2804c7(0x1ca)},{'stream':process[_0x2804c7(0x3f7)],'level':baileysPinoLevel}];baileysPinoLogger=_0x10d5e3({'level':_0x2804c7(0x1ca)},_0x10d5e3[_0x2804c7(0x253)+'m'](_0x168e62)),sock=makeWASocket({'version':_0x57ca3a,'auth':{'creds':_0x5316c6[_0x2804c7(0x28f)],'keys':_0x22c362},'logger':baileysPinoLogger,'browser':cfg[_0x2804c7(0x21f)+_0x2804c7(0x214)],'shouldIgnoreJid':_0x145b20=>typeof _0x145b20===_0x2804c7(0x1dd)&&_0x145b20[_0x2804c7(0x1e5)](_0x2804c7(0x20f))&&!isJidStatusBroadcast(_0x145b20),'syncFullHistory':cfg[_0x2804c7(0x244)+_0x2804c7(0x17e)]||![]}),store[_0x2804c7(0x2af)](sock['ev']),sock['ev']['on'](_0x2804c7(0x2e1)+'te',_0x502b42=>{const _0xe3480=_0x2804c7;try{Object['assign'](_0x5316c6['creds'],_0x502b42),scheduleAuthFlush();}catch(_0x102d63){debug(_0xe3480(0x2e1)+_0xe3480(0x38f)+_0xe3480(0x2f8),_0x102d63?.[_0xe3480(0x3d0)]||_0x102d63);}});const _0xcb4dff=sock[_0x2804c7(0x1cd)+'e'][_0x2804c7(0x2af)](sock);sock[_0x2804c7(0x1cd)+'e']=(_0x36b5f2,_0x52eba7={},_0x103d78={})=>{const _0x3c5a73=_0x2804c7,_0x1ca002=()=>_0xcb4dff(_0x36b5f2,_0x52eba7,_0x103d78),_0x3749b6=_0x103d78&&typeof _0x103d78[_0x3c5a73(0x21c)]===_0x3c5a73(0x2c6)?_0x103d78['priority']:-0x54e+-0x609+0x1*0xb57;return outgoingQueueGlobal['enqueue'](_0x1ca002,{'priority':_0x3749b6});};const _0x186260=[],_0x5dea8c=(_0x490ae0,_0x15af83)=>{const _0x1974ca=_0x2804c7;sock['ev']['on'](_0x490ae0,_0x15af83),_0x186260[_0x1974ca(0x1ea)]({'event':_0x490ae0,'handler':_0x15af83});};detachAllHandlers=()=>{const _0x1453be=_0x2804c7;for(const {event:_0x2f5479,handler:_0x251ed3}of _0x186260){try{sock['ev'][_0x1453be(0x20c)](_0x2f5479,_0x251ed3);}catch(_0x3eb5dd){}}_0x186260[_0x1453be(0x372)]=0x4c4+0x2c*0x1a+-0x4*0x24f;};const _0x53ff3b=async({connection:_0x4a880d,lastDisconnect:_0x4a2e37})=>{const _0x2bc622=_0x2804c7;bot[_0x2bc622(0x26f)](_0x2bc622(0x39f)+_0x2bc622(0x2ad),{'connection':_0x4a880d,'lastDisconnect':_0x4a2e37});if(_0x4a880d===_0x2bc622(0x27a)){const {error:_0x42f438}=_0x4a2e37,_0x4c794e=_0x42f438?.[_0x2bc622(0x3f4)]?.[_0x2bc622(0x1be)],_0x1e26ac=[DisconnectReason['loggedOut'],DisconnectReason[_0x2bc622(0x39f)+'Replaced'],DisconnectReason['badSession']][_0x2bc622(0x1e5)](_0x4c794e);if(_0x1e26ac){error(_0x2bc622(0x26a)+_0x2bc622(0x1ec)+'n\x20error:\x20'+(DisconnectReason[_0x4c794e]||_0x2bc622(0x38a))+(_0x2bc622(0x1ad)+_0x2bc622(0x281)+_0x2bc622(0x38b)+'arting.'));try{await _0x39e293['rm'](_0x44edcc,{'recursive':!![],'force':!![]}),info(_0x2bc622(0x3a3)+_0x2bc622(0x3dc)+_0x2bc622(0x240)+_0x2bc622(0x2d5)+'ssion.');}catch(_0x213001){error(_0x2bc622(0x309)+'delete\x20aut'+'h\x20director'+'y.',_0x213001);}restartAttempts=0x9a4+-0x1*-0x1aec+-0x2490,scheduleRestart(DisconnectReason[_0x4c794e]||_0x2bc622(0x2fd)+_0x4c794e);}else{info(_0x2bc622(0x184)+_0x2bc622(0x190)+_0x2bc622(0x199)+').\x20Schedul'+_0x2bc622(0x220)+_0x2bc622(0x30d)+_0x2bc622(0x272)+(restartAttempts+(-0xb55+0x1736+-0x26*0x50)));if(restartAttempts>=-0x1*-0x4fd+-0x84d+0x355*0x1){error('Persistent'+_0x2bc622(0x3c0)+_0x2bc622(0x3e8)+'('+(restartAttempts+(-0x1048+-0x1414+0x245d))+('\x20attempts)'+'.\x20Deleting'+'\x20local\x20aut'+_0x2bc622(0x38b)+_0x2bc622(0x1c6)));try{await _0x39e293['rm'](_0x44edcc,{'recursive':!![],'force':!![]}),info(_0x2bc622(0x3a3)+_0x2bc622(0x3dc)+_0x2bc622(0x240)+_0x2bc622(0x192)+_0x2bc622(0x3c0)+_0x2bc622(0x225)+'.');}catch(_0x888e6e){error(_0x2bc622(0x309)+_0x2bc622(0x30e)+_0x2bc622(0x311)+'y.',_0x888e6e);}restartAttempts=-0x236f+0xe9*-0x6+-0x169*-0x1d;}scheduleRestart(String(_0x42f438||_0x2bc622(0x3e4)));}}else{if(_0x4a880d==='open'){restartAttempts=-0x23c+-0x1*0xaff+0xd3b*0x1,botJid=sock[_0x2bc622(0x2ea)]?.['id'],info(_0x2bc622(0x1fc)+_0x2bc622(0x24c)+_0x2bc622(0x25d)+jidNormalizedUser(botJid)),bot['sendMessag'+'e']=sock[_0x2bc622(0x1cd)+'e'],bot[_0x2bc622(0x283)]=sock,bot[_0x2bc622(0x24d)]=_0x94e9df=>bot[_0x2bc622(0x2cd)][_0x2bc622(0x1e3)](_0x2bc622(0x222)+_0x94e9df)||null,initBotState(bot);try{const _0x794f40=await import('./utils/loader.js');if(_0x794f40[_0x2bc622(0x3b6)+_0x2bc622(0x35f)])await withTimeout(_0x794f40['initialize'+'Modules'](bot),-0x9a*-0x6d+0x1b7*0x2f+0x9*-0x9bb,_0x2bc622(0x180)+_0x2bc622(0x263)+_0x2bc622(0x270));}catch(_0x2e7d74){warn(_0x2bc622(0x309)+_0x2bc622(0x37b)+'tialize\x20lo'+_0x2bc622(0x247)+'e',_0x2e7d74?.[_0x2bc622(0x3d0)]||_0x2e7d74);}}}};_0x5dea8c(_0x2804c7(0x39f)+_0x2804c7(0x2ad),_0x53ff3b);function _0x35cd21(_0x3576ea){const _0x20714d=_0x2804c7;if(!_0x3576ea)return'';return _0x3576ea[_0x20714d(0x302)+'on']||_0x3576ea['extendedTe'+_0x20714d(0x23c)]?.['text']||_0x3576ea[_0x20714d(0x38c)+'ge']?.['caption']||_0x3576ea[_0x20714d(0x2be)+'ge']?.['caption']||_0x3576ea[_0x20714d(0x278)+'Message']?.['text']||_0x3576ea[_0x20714d(0x223)+'ponseMessa'+'ge']?.[_0x20714d(0x2a3)+_0x20714d(0x248)]||_0x3576ea[_0x20714d(0x3e6)+_0x20714d(0x357)]?.[_0x20714d(0x1a9)+_0x20714d(0x35a)]?.[_0x20714d(0x2a3)+'splayText']||'';}const _0x5e9c92=async({messages:_0x497e08,type:_0xb72cc5})=>{const _0x48250f=_0x2804c7;bot[_0x48250f(0x26f)](_0x48250f(0x198)+_0x48250f(0x24f),{'messages':_0x497e08,'type':_0xb72cc5});if(_0xb72cc5===_0x48250f(0x258))for(const _0x3a865c of _0x497e08){if(_0x3a865c[_0x48250f(0x18a)]&&_0x3a865c[_0x48250f(0x3d0)]){const _0x4c1ce3=_0x35cd21(_0x3a865c[_0x48250f(0x3d0)]);_0x4c1ce3&&messageEditCache['set'](_0x3a865c[_0x48250f(0x18a)]['id'],{'text':_0x4c1ce3,'timestamp':Date[_0x48250f(0x39d)]()});}try{store[_0x48250f(0x2f1)+'x'](_0x3a865c[_0x48250f(0x18a)]?.[_0x48250f(0x1fe)]||'unknown')[_0x48250f(0x1f6)](_0x3a865c,_0x48250f(0x26b));}catch(_0x5b0d3b){}const _0x470a06=_0x3a865c[_0x48250f(0x18a)]?.[_0x48250f(0x1fe)]||_0x48250f(0x216)+'at';!messageProcessingQueues[_0x48250f(0x188)](_0x470a06)&&messageProcessingQueues['set'](_0x470a06,new _0x1d3aba({'concurrency':0x1})),messageProcessingQueues['get'](_0x470a06)['add'](()=>_0x1994bb(_0x3a865c))[_0x48250f(0x191)](_0x25d91d=>{const _0x289374=_0x48250f;error(_0x25d91d,_0x289374(0x2c3)+'essing\x20liv'+_0x289374(0x242)+_0x3a865c[_0x289374(0x18a)]['id']);});}else{debug('[SYNC]\x20Rec'+_0x48250f(0x19a)+_0x497e08[_0x48250f(0x372)]+('\x20history\x20m'+_0x48250f(0x299)+_0x48250f(0x3ee))+_0xb72cc5+('\x22.\x20Batchin'+_0x48250f(0x3cb)+'age.'));const _0x596a50=new Map();for(const _0x47124f of _0x497e08){const _0x28cbb3=_0x47124f[_0x48250f(0x18a)]?.['remoteJid']||_0x48250f(0x3e4);if(!_0x596a50[_0x48250f(0x188)](_0x28cbb3))_0x596a50[_0x48250f(0x2cf)](_0x28cbb3,[]);_0x596a50[_0x48250f(0x1e3)](_0x28cbb3)[_0x48250f(0x1ea)](_0x47124f);}for(const [_0x5e434a,_0x32c8ae]of _0x596a50[_0x48250f(0x1f8)]()){const _0x28d8be=store[_0x48250f(0x2f1)+'x'](_0x5e434a);for(const _0x45050b of _0x32c8ae)_0x28d8be[_0x48250f(0x1f6)](_0x45050b,'prepend');}debug('[SYNC]\x20Sto'+_0x48250f(0x3d5)+_0x497e08['length']+(_0x48250f(0x38e)+'essages\x20ac'+_0x48250f(0x303))+_0x596a50[_0x48250f(0x2fc)]+_0x48250f(0x1f4));}};async function _0x1994bb(_0x5eb93b){const _0xca09e2=_0x2804c7;let _0x47001f=new Set();try{const loader=await import('./utils/loader.js');if(loader[_0xca09e2(0x1a1)+'Names'])_0x47001f=loader[_0xca09e2(0x1a1)+'Names']();}catch(_0x584b57){}try{bot['emit'](_0xca09e2(0x375)+'e',_0x5eb93b);if(!_0x5eb93b[_0xca09e2(0x3d0)])return;const _0x5d0627=Array['isArray'](cfg[_0xca09e2(0x203)+_0xca09e2(0x367)])?cfg['COMMAND_PR'+'EFIX'][_0xca09e2(0x334)]()[_0xca09e2(0x1b5)]((_0x70cf41,_0x26a8b1)=>_0x26a8b1['length']-_0x70cf41[_0xca09e2(0x372)]):typeof cfg[_0xca09e2(0x203)+'EFIX']===_0xca09e2(0x1dd)?[cfg['COMMAND_PR'+_0xca09e2(0x367)]]:null,_0x5a9f5d=_0x35cd21(_0x5eb93b[_0xca09e2(0x3d0)]);let _0x508e80=_0x5a9f5d,_0x7b9131=![];if(_0x5d0627===null){const _0x383f39=_0x5a9f5d['trim']()[_0xca09e2(0x23a)](/ +/)[_0xca09e2(0x380)]()?.[_0xca09e2(0x205)+'e']();_0x383f39&&_0x47001f[_0xca09e2(0x188)](_0x383f39)&&(_0x7b9131=!![]);}else{const _0x5560c4=_0x5d0627[_0xca09e2(0x29d)](_0x1057b7=>_0x5a9f5d[_0xca09e2(0x30a)](_0x1057b7));if(_0x5560c4){const _0x7eabda=_0x5a9f5d[_0xca09e2(0x334)](_0x5560c4['length'])[_0xca09e2(0x3aa)]();_0x7eabda&&(_0x7b9131=!![],_0x508e80=_0x7eabda);}}const _0x55bd2f=_0x5eb93b['key']?.[_0xca09e2(0x1fe)],_0xab2452=!!(_0x55bd2f&&isJidStatusBroadcast(_0x55bd2f)),_0x337192=_0x5eb93b[_0xca09e2(0x18a)][_0xca09e2(0x20e)+'t']||_0x5eb93b[_0xca09e2(0x18a)][_0xca09e2(0x1fe)],_0x18b284={'message':_0x5eb93b[_0xca09e2(0x3d0)],'key':_0x5eb93b['key'],'pushName':_0x5eb93b[_0xca09e2(0x3bf)],'remoteJid':_0x55bd2f,'sender':_0x337192,'fromMe':_0x5eb93b[_0xca09e2(0x18a)][_0xca09e2(0x340)],'messageTimestamp':_0x5eb93b[_0xca09e2(0x3f5)+'estamp'],'rawText':_0x5a9f5d,'text':_0x508e80,'isCommand':_0x7b9131,'isStatus':_0xab2452,'proto':proto,'reply':_0x5d9d17=>{const _0x2250c4=_0xca09e2,_0x395389=_0xab2452?_0x337192:_0x55bd2f;if(!_0x395389)return Promise[_0x2250c4(0x21d)](new Error(_0x2250c4(0x1ae)+_0x2250c4(0x37e)+_0x2250c4(0x2d7)));return sock[_0x2250c4(0x1cd)+'e'](_0x395389,_0x5d9d17,{'quoted':_0x5eb93b});}};if(isJidGroup(_0x55bd2f))try{await isadmin(bot,_0x18b284)&&await _0x4d496f[_0xca09e2(0x2d3)+'roupForUse'+'r'](_0x18b284[_0xca09e2(0x1ac)],_0x18b284[_0xca09e2(0x1fe)]);}catch(_0x173dd2){}if(_0xab2452)bot[_0xca09e2(0x26f)](_0xca09e2(0x2ba),_0x18b284);bot[_0xca09e2(0x26f)]('message',_0x18b284);}catch(_0x593ae8){error(_0x593ae8,'Failed\x20to\x20'+_0xca09e2(0x3a4)+_0xca09e2(0x1c5)+_0x5eb93b[_0xca09e2(0x18a)]?.['id']);}}_0x5dea8c(_0x2804c7(0x198)+_0x2804c7(0x24f),_0x5e9c92);const _0x2d004c=_0x2fbf47=>{const _0x38fb69=_0x2804c7;bot[_0x38fb69(0x26f)]('messages.u'+_0x38fb69(0x3a9),_0x2fbf47);for(const _0x13bab0 of _0x2fbf47){if(_0x13bab0['update']?.['message']?.[_0x38fb69(0x314)+_0x38fb69(0x3ce)]){const _0x4eaa1f=_0x13bab0[_0x38fb69(0x18a)]['id'],_0x38fe17=messageEditCache[_0x38fb69(0x1e3)](_0x4eaa1f),_0x59862f=_0x38fe17?_0x38fe17[_0x38fb69(0x3b9)]:null;if(_0x59862f){const _0x3818e2={'event':_0x38fb69(0x20a)+'it','chatId':_0x13bab0['key'][_0x38fb69(0x1fe)],'fromMe':_0x13bab0[_0x38fb69(0x18a)]['fromMe'],'originalMessageId':_0x4eaa1f,'oldText':_0x59862f,'newText':_0x13bab0[_0x38fb69(0x1fd)][_0x38fb69(0x3d0)]['editedMess'+_0x38fb69(0x3ce)]['message']?.[_0x38fb69(0x302)+'on'],'timestamp':new Date((_0x13bab0['update'][_0x38fb69(0x3f5)+'estamp']||Date[_0x38fb69(0x39d)]()/(0x1058+-0x73+-0xbfd))*(-0x19e3*-0x1+0x5d*0x41+-0x16cc*0x2))[_0x38fb69(0x1b2)+'g']()};bot[_0x38fb69(0x26f)](_0x38fb69(0x368)+'it',_0x3818e2);}else debug(_0x38fb69(0x235)+_0x38fb69(0x3c2)+_0x38fb69(0x227)+_0x4eaa1f+(_0x38fb69(0x1c9)+_0x38fb69(0x342)+_0x38fb69(0x22a)+'og.'));if(_0x38fe17)messageEditCache[_0x38fb69(0x210)](_0x4eaa1f);}}};_0x5dea8c('messages.u'+_0x2804c7(0x3a9),_0x2d004c);const _0x3a2bc7=_0x2c903c=>{const _0x49d086=_0x2804c7;bot[_0x49d086(0x26f)](_0x49d086(0x267)+_0x49d086(0x26d)+_0x49d086(0x3a9),_0x2c903c);const {id:_0x10597d,action:_0x2e0123,author:_0x8f14e,participants:_0x3f80c7}=_0x2c903c;_0x2e0123===_0x49d086(0x224)&&_0x8f14e&&_0x3f80c7?.[_0x49d086(0x372)]===0x1*-0x1d39+-0x43*-0x8f+-0x833&&_0x8f14e===_0x3f80c7[0x2*0x61+-0x1d89+-0x1*-0x1cc7]&&(voluntaryLeaverStore[_0x49d086(0x2cf)](_0x8f14e,{'groupId':_0x10597d}),setTimeout(()=>{const _0x164e46=_0x49d086;voluntaryLeaverStore[_0x164e46(0x210)](_0x8f14e);},0x88+0x13*0x13+0x5dd*0x3));};_0x5dea8c('group-part'+_0x2804c7(0x26d)+_0x2804c7(0x3a9),_0x3a2bc7);const _0x5f5c57=[_0x2804c7(0x305)+_0x2804c7(0x2e3),_0x2804c7(0x338)+_0x2804c7(0x2dc),_0x2804c7(0x362)+_0x2804c7(0x284)+'te',_0x2804c7(0x2a5)+_0x2804c7(0x1db)+'e','presence.u'+_0x2804c7(0x3a9),_0x2804c7(0x1a2)+_0x2804c7(0x24f),'contacts.u'+_0x2804c7(0x3a9),_0x2804c7(0x2ac)+'rt',_0x2804c7(0x391)+'te','chats.dele'+'te','groups.upd'+_0x2804c7(0x17c),_0x2804c7(0x1b8)+'ert',_0x2804c7(0x3d4)+_0x2804c7(0x286),_0x2804c7(0x2ef),_0x2804c7(0x348)+_0x2804c7(0x2cf),_0x2804c7(0x348)+_0x2804c7(0x1fd),'labels.edi'+'t','labels.ass'+_0x2804c7(0x3c4),'messaging-'+_0x2804c7(0x3d7)+'t',_0x2804c7(0x3c8)+'.join-requ'+'est'];for(const _0x4cc505 of _0x5f5c57){_0x4cc505!=='messages.u'+_0x2804c7(0x3a9)&&_0x5dea8c(_0x4cc505,_0x4fe5ed=>bot[_0x2804c7(0x26f)](_0x4cc505,_0x4fe5ed));}}catch(_0x44f5c9){error(_0x44f5c9,_0x2804c7(0x309)+_0x2804c7(0x34e));const _0x33abbb=(_0x44f5c9[_0x2804c7(0x3d0)]||_0x44f5c9['stack']||'')[_0x2804c7(0x205)+'e']();if(_0x33abbb['includes'](_0x2804c7(0x39e))||_0x33abbb[_0x2804c7(0x1e5)](_0x2804c7(0x28f))||_0x33abbb[_0x2804c7(0x1e5)](_0x2804c7(0x21b))||_0x33abbb[_0x2804c7(0x1e5)]('key')){warn('Startup\x20fa'+_0x2804c7(0x2f4)+_0x2804c7(0x1b9)+_0x2804c7(0x3ec)+_0x2804c7(0x1bf)+'\x20auth\x20befo'+_0x2804c7(0x2d1)+'.');try{const _0x38c611=cfg[_0x2804c7(0x232)+_0x2804c7(0x29e)]||_0x2804c7(0x2d9);await _0x39e293['rm'](_0x38c611,{'recursive':!![],'force':!![]}),info('Deleted\x20au'+'th\x20directo'+'ry\x20due\x20to\x20'+_0x2804c7(0x321)+'ilure.');}catch(_0x104216){error('Failed\x20to\x20'+_0x2804c7(0x30e)+_0x2804c7(0x311)+_0x2804c7(0x343)+_0x2804c7(0x1b7)+'dling.',_0x104216);}restartAttempts=0x1fe0+0x132d*-0x2+0x67a;}scheduleRestart('Initial\x20st'+_0x2804c7(0x1b6));}}let shuttingDown=![];async function shutdown(_0x284486){const _0x1a6935=_0xcbc398;if(shuttingDown)return;shuttingDown=!![],info('Shutting\x20d'+_0x1a6935(0x3b4)+'l='+_0x284486+_0x1a6935(0x1d3));try{outgoingQueueGlobal&&(outgoingQueueGlobal[_0x1a6935(0x355)]=()=>Promise[_0x1a6935(0x21d)](new Error('Shutting\x20d'+_0x1a6935(0x1c0))));await Promise[_0x1a6935(0x2f7)](Array[_0x1a6935(0x3f1)](messageProcessingQueues[_0x1a6935(0x1eb)]())[_0x1a6935(0x328)](_0x261706=>_0x261706['onIdle']())),info('Message\x20qu'+'eues\x20drain'+_0x1a6935(0x239)),await flushAuthToDisk();store&&store[_0x1a6935(0x3be)+'e']&&(await store['writeToFil'+'e'](_0x48777d['join'](cfg['AUTH_STATE'+_0x1a6935(0x29e)]||_0x1a6935(0x2d9),_0x1a6935(0x3ed))),info(_0x1a6935(0x351)+'d.'));if(detachAllHandlers)detachAllHandlers();if(sock)sock[_0x1a6935(0x221)](new Error('Graceful\x20s'+_0x1a6935(0x260)+'\x20'+_0x284486));bot[_0x1a6935(0x2cd)]?.[_0x1a6935(0x27a)]?.();if(cacheSweepTimer)clearInterval(cacheSweepTimer);}catch(_0xeba408){error(_0xeba408,_0x1a6935(0x2bd)+'ng\x20shutdow'+'n');}finally{info(_0x1a6935(0x1ee)+_0x1a6935(0x215)),process['exit'](0xab*0x9+0x412*-0x1+-0x1f1);}}process['on'](_0xcbc398(0x359),()=>shutdown(_0xcbc398(0x359))),process['on']('SIGTERM',()=>shutdown(_0xcbc398(0x2a2))),process['on'](_0xcbc398(0x32a)+_0xcbc398(0x3fd),_0x295c67=>{const _0x6e465b=_0xcbc398;fatal(_0x6e465b(0x32a)+_0x6e465b(0x3fd),_0x295c67);}),process['on'](_0xcbc398(0x344)+_0xcbc398(0x27d),_0xeeab16=>{const _0x1d8704=_0xcbc398;fatal('unhandledR'+_0x1d8704(0x27d),_0xeeab16);}),startBot()[_0xcbc398(0x191)](_0x4dfe41=>{const _0x5bd422=_0xcbc398;error(_0x4dfe41,_0x5bd422(0x309)+_0x5bd422(0x333)+'from\x20initi'+_0x5bd422(0x250)),scheduleRestart(_0x5bd422(0x1e2)+_0x5bd422(0x1b6));});export default bot;