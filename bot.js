const _0x59ac9d=_0x33aa;(function(_0x360388,_0x4429b6){const _0x1b6a68=_0x33aa,_0x290fb4=_0x360388();while(!![]){try{const _0x51a438=parseInt(_0x1b6a68(0x2ef))/(0x170c+-0x447*0x3+-0xa36)+parseInt(_0x1b6a68(0x345))/(0x16ed+-0x144+0xf1*-0x17)*(parseInt(_0x1b6a68(0x213))/(-0x2697+0x6af+0x1feb))+-parseInt(_0x1b6a68(0x16f))/(-0x1*-0x1ba3+0x65b+0x10fd*-0x2)*(-parseInt(_0x1b6a68(0x25f))/(0x9*-0x377+-0x14bc*-0x1+0xa78))+-parseInt(_0x1b6a68(0x2d4))/(-0x31c+0xfb*0x9+-0x5b1)*(-parseInt(_0x1b6a68(0x2bc))/(-0xb64+-0x3*-0x6c3+0x8de*-0x1))+-parseInt(_0x1b6a68(0x22d))/(-0x82f*0x1+0x1*-0xdcd+0x4*0x581)*(parseInt(_0x1b6a68(0x38c))/(-0x606+0xb*-0x55+-0xe2*-0xb))+parseInt(_0x1b6a68(0x392))/(0x11+-0x372*-0x4+0x1*-0xdcf)+-parseInt(_0x1b6a68(0x275))/(-0xed*0xe+0x175*-0x1a+0x32e3);if(_0x51a438===_0x4429b6)break;else _0x290fb4['push'](_0x290fb4['shift']());}catch(_0x3dda20){_0x290fb4['push'](_0x290fb4['shift']());}}}(_0x51de,0x34*-0x3f1d+0x188f14+0xbb24));import _0x2007c4 from'axios';import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,jidNormalizedUser,makeCacheableSignalKeyStore,downloadMediaMessage,getAggregateVotesInPollMessage,proto,areJidsSameUser,isJidGroup,isJidStatusBroadcast,isJidBroadcast,isJidNewsletter}from'@whiskeysockets/baileys';function _0x33aa(_0x1cc46b,_0x2c8c3a){_0x1cc46b=_0x1cc46b-(0x2*-0xd6a+-0x2172+0xf3*0x41);const _0x52b550=_0x51de();let _0x2e75a4=_0x52b550[_0x1cc46b];return _0x2e75a4;}import _0xffe3a1 from'pino';import _0xe77335 from'events';import _0x51f81d from'path';import _0x3a0099 from'fs/promises';import{existsSync,readFileSync}from'fs';import{fileURLToPath}from'url';import{createRequire}from'module';import _0x24cff7 from'p-queue';import{Writable}from'stream';import{initLogger,debug,info,warn,error,fatal}from'./utils/logger.js';import*as _0x28ea18 from'./utils/connection.js';import{isadmin}from'./utils/isadmin.js';import{initBotState}from'./utils/bot-state.js';const require=createRequire(import.meta.url),__filename=fileURLToPath(import.meta.url),__dirname=_0x51f81d['dirname'](__filename);let cfg;try{const configModule=await import('./utils/config.js');cfg=configModule['getConfig'](),configModule[_0x59ac9d(0x2c8)+_0x59ac9d(0x239)]&&configModule['hotReloadC'+_0x59ac9d(0x239)](_0x464673=>{const _0x572ada=_0x59ac9d;info('Hot-reload'+_0x572ada(0x30e)+_0x572ada(0x1cc)+_0x572ada(0x260)+_0x464673[_0x572ada(0x261)](',\x20')+')'),cfg=configModule['getConfig']();});}catch(_0xdda11c){cfg={'CACHE_TTL_MS':(-0x102+-0x16d6+0x1814)*(0x3*-0xc34+-0x2178+-0xecc*-0x5),'CACHE_MAX_SIZE_BYTES':(0x4a1+-0x3*0x209+0x18e*0x1)*(-0x1*0x66e+-0x15ee+0x205c)*(0x112a+-0x8d1+-0x459),'MEMORY_STORE_MAX_BYTES':(0x1*-0xc1b+-0x1*0xb23+0x1932)*(0x159e*-0x1+0x2d*0xcb+0x35b*-0x3)*(0x3*0x25f+0x2*-0x1ff+0xe1),'AUTH_STATE_DIR':'.auth','AUTH_FLUSH_INTERVAL_MS':(0x25d7*-0x1+0x26a1+-0xac)*(-0xb*0x1eb+0x15*0x18d+0xb3c*-0x1)*(-0x97c+0x80*0x16+0x2*0x132),'RATE_LIMIT':{'window':0x3e8,'limit':0x5},'OUTGOING_MAX_QUEUE':0x7d0,'SEND_RETRY_ATTEMPTS':0x2,'SEND_RETRY_BASE_MS':0x1f4,'SHUTDOWN_DRAIN_MS':0x1388,'BAILEYS_BROWSER':[_0x59ac9d(0x1fa),'Chrome',_0x59ac9d(0x311)],'PROJECT_ROOT':process[_0x59ac9d(0x2ed)](),'COMMAND_PREFIX':null,'ADMIN_TOKEN':process[_0x59ac9d(0x1cb)]['ADMIN_TOKE'+'N']||null,'LOG_LEVEL':_0x59ac9d(0x199),'BAILEYS_PINO_LEVEL':_0x59ac9d(0x1c3),'SYNC_FULL_HISTORY':![]},warn(_0x59ac9d(0x380)+_0x59ac9d(0x218)+_0x59ac9d(0x3ad)+'using\x20defa'+_0x59ac9d(0x354));}try{initLogger(cfg),info(_0x59ac9d(0x2f8)+_0x59ac9d(0x1b6)+_0x59ac9d(0x1ac)+_0x59ac9d(0x24d));}catch(_0x25920b){console[_0x59ac9d(0x1c3)]('Failed\x20to\x20'+_0x59ac9d(0x2bd)+'r\x20from\x20uti'+'ls/logger.'+'js',_0x25920b);}const globalMessagesToSuppress=['Removing\x20o'+_0x59ac9d(0x37b)+'session:\x20S'+_0x59ac9d(0x2db)+'y',_0x59ac9d(0x236)+_0x59ac9d(0x17a)+_0x59ac9d(0x2b4)+_0x59ac9d(0x3cf)+'\x20session',_0x59ac9d(0x28a)+_0x59ac9d(0x3cb)+_0x59ac9d(0x325),_0x59ac9d(0x269)+_0x59ac9d(0x32a),'Saved\x20upda'+'ted\x20creds\x20'+_0x59ac9d(0x3a7),'Closing\x20st'+_0x59ac9d(0x259)+_0x59ac9d(0x177)+_0x59ac9d(0x234)+_0x59ac9d(0x403)+_0x59ac9d(0x224),_0x59ac9d(0x2e0)+_0x59ac9d(0x3de)+'\x20in\x20favor\x20'+_0x59ac9d(0x1f9)+'g\x20prekey\x20b'+_0x59ac9d(0x225),'Decrypted\x20'+_0x59ac9d(0x347)+_0x59ac9d(0x226)+_0x59ac9d(0x340),_0x59ac9d(0x17d)+_0x59ac9d(0x17a)+_0x59ac9d(0x317),_0x59ac9d(0x359)+_0x59ac9d(0x373)+'decrypt\x20me'+_0x59ac9d(0x317),_0x59ac9d(0x3e3)+_0x59ac9d(0x2ce),_0x59ac9d(0x398)+_0x59ac9d(0x2c6)+_0x59ac9d(0x328)+'ck'];function createGlobalFilteringWriter(_0x1595c8){return function(_0x30d3ac,_0x4d3617,_0x320385){const _0x15ff08=_0x33aa;try{const _0x466d03=_0x30d3ac['toString']();if(globalMessagesToSuppress['some'](_0x22ccfd=>_0x466d03[_0x15ff08(0x231)](_0x22ccfd))){if(typeof _0x320385===_0x15ff08(0x2a3))_0x320385();return!![];}}catch(_0xaddc98){}return _0x1595c8(_0x30d3ac,_0x4d3617,_0x320385);};}process[_0x59ac9d(0x1e5)][_0x59ac9d(0x26b)]=createGlobalFilteringWriter(process['stdout'][_0x59ac9d(0x26b)][_0x59ac9d(0x181)](process['stdout'])),process['stderr'][_0x59ac9d(0x26b)]=createGlobalFilteringWriter(process[_0x59ac9d(0x397)][_0x59ac9d(0x26b)][_0x59ac9d(0x181)](process[_0x59ac9d(0x397)]));class FifoMutex{constructor(){const _0x5cf30f=_0x59ac9d;this[_0x5cf30f(0x391)]=![],this[_0x5cf30f(0x1bc)]=[];}async[_0x59ac9d(0x2ab)](){const _0x2bf43b=_0x59ac9d;if(!this['_locked']){this['_locked']=!![];let _0x2c22ae=![];return()=>{!_0x2c22ae&&(_0x2c22ae=!![],this['_release']());};}return new Promise(_0x33a97b=>this['_queue'][_0x2bf43b(0x3b5)](_0x33a97b))[_0x2bf43b(0x2f1)](()=>{let _0x1ef448=![];return()=>{!_0x1ef448&&(_0x1ef448=!![],this['_release']());};});}[_0x59ac9d(0x291)](){const _0x4a2d6d=_0x59ac9d;if(this[_0x4a2d6d(0x1bc)][_0x4a2d6d(0x244)]>0x29a+-0x728+0x6a*0xb)this[_0x4a2d6d(0x1bc)][_0x4a2d6d(0x3aa)]()();else this['_locked']=![];}}function _0x51de(){const _0x49bf9d=['response','message.ed','ry\x20files\x20f','keys','sh\x20(','voluntary.','\x20failed:\x20','saveCreds','splayText','tization','sender','Remote\x20cre','AUTH_FLUSH','delete','p\x20file:\x20','session.','ote\x20recove','imageMessa','.update','defaultTtl','228NtWuFd','message-re','message\x20wi','append','isJidNewsl','prepend','creds.upda','loader.ini','end','CACHE_TTL_','tials\x20from','ry\x20due\x20to\x20',').\x20Schedul','icted\x20','Using\x20SESS','ults.','k\x20failed:','FATAL:\x20SES','\x20chats.','\x20history\x20m','No\x20session','\x20times.\x20Op','ded\x20creden','redsFileSt','HALF_OPEN',';\x20using\x20fa','\x20ready.','array','Unknown','stack','race','ception','toISOStrin','ing\x20circui','Shutdown\x20c','ad\x20or\x20fail','trace','detach','endsWith','text','missing\x20cr','isUser\x20che','Server\x20req','\x20store\x20to\x20','getCommand','resolve','\x20found\x20to\x20','participan','dirname','eue:','tializeMod','d\x20or\x20faile','ore\x20auth\x20o','connection','ld\x20closed\x20','manual\x20flu','[STORE]\x20St','ssion.','nextTimer','Could\x20not\x20','process\x20me','key','download\x20m','mplete.\x20De','uested\x20a\x20d','priority','n\x20to\x20file','\x20in\x20','auth','persist\x20me','open','693DiHEih','buffer','[AUTH]\x20Sch','\x20Persisted','ated.\x20Dele','_locked','9213100nQemqw','dential\x20re','splice','pped\x20item:','OPEN','stderr','transactio','loaded\x20and','te=','Scheduling','es\x20it\x20to\x20f','buttonsRes','BAILEYS_BR','remote\x20fet','find','creds\x20file','Graceful\x20s','ecoverable','edia-updat','\x20priority=','messages','to\x20disk','singleSele','attempts','shift','covery...','OPEN\x20state','guration;\x20','initialize','retry-afte','ck\x20to\x20defa','qrcode\x20imp','expiry','tityKey','[AUTH]\x20Loc','push','\x20attempts:','Database','JID\x20for\x20re','has','redentials','Startup\x20fa','output','session','ds\x20fetch\x20s','ilure\x20seem','ening\x20circ','setActiveG','th\x20directo','eys\x20versio','chedule\x20an','_sweepTime','/creds','mpt','ttempting\x20','RESHOLD','onMessage','ror:Error:','re\x20readFro','✅\x20[AUTH]\x20R','SION_ID\x20is','\x20any\x20known','\x20Loaded\x20','old','AUTH_STATE','warnThresh','ation.','Using\x20Bail','newsletter','[SYNC]\x20Rec','Error\x20duri','EFIX','hing\x20to\x20lo','remoteJid','messages.r','estamp','en\x20session','ttempt\x20#','sisted\x20aut','ing\x20edit\x20l','queue','Invalid\x20Pr','edia','h\x20and\x20rest','h\x20local\x20se','sendMessag','contacts.u','delete\x20tem','extAvailab','OPEN_TIMEO','AX_QUEUE','trim','ponseMessa','readdir','Cleanup\x20co','status:','N\x20serializ','_INTERVAL_','json','eanup\x20for\x20','update','stringify','SIZE_BYTES','[AUTH]\x20Loa','CLOSED','onId','items','d\x20too\x20many','[CACHE]\x20Ev','RATE_LIMIT','eaction','g\x20queue\x20du','_cleanup','ing\x20prekey','llHandlers','timeUntilN','attrs','t_pn','readFromFi','ttl','falling\x20ba','2755532kbCaim','RSION','REAKER]\x20Re','\x20Evicted\x20k','on\x20opened\x20','ate','startsWith','failures','ession\x20for','to\x20read\x20it','arting\x20pai','decrypt\x20me','off','remote\x20cre','failed\x20to\x20','ejection','ote\x20API\x20re','[CIRCUIT_B','bind','isStatusBr','g\x20to\x20HALF_','itical\x20exp','tempt\x20fail','findIndex','leave','e\x20to\x20file','uncaughtEx','delete\x20aut','add','size','ailed','turned\x20inv','oDisk\x20fail','ttempt\x20','ize\x20is\x20not','psert','pushName','_sweep','chats.upse','ucceeded\x20o','voluntary_','pow','info','unref','upsert','noiseKey','creds','isArray','ch\x20failed\x20','Shutting\x20d','ftover\x20tem','status','art\x20failed','isUser','sort','lly.','ound\x20to\x20cl','ity=','now','REAKER]\x20Ci','catch','utils/logg','emit','e\x20message\x20','saveCreds(','Deleted\x20le','bot\x20requir','deepSerial','split','Message','\x20items\x20fro','tialized\x20(','BAILEYS_PI','RE_MAX_BYT','ert','icipants.u','ry\x20file\x20cl','_queue','Deleted\x20au','ode.js\x20bef','ble\x20sessio','xt\x20auth\x20st','ion\x20skippe','COMMAND_PR','error','ndQueue:\x20d','\x20id\x20provid','.\x20Status:\x20','\x20on\x20restar','assign','in\x20last\x2030','registerMo','env','\x20(changed\x20','windowMs','message-ed','Restart\x20at','byteLength','initialBac','-request','[EditCache','@broadcast','\x20size=','ceipt.upda','isNewslett','timestamps','ed,\x20will\x20s','[SYNC]\x20Sto','writeFile','sed.\x20Movin','BAILEYS_VE','read\x20main\x20','ytes','videoMessa','ng\x20shutdow','valid\x20loca','multistrea','store','stdout','ng\x20tempora','chats.upda','qrcode.js\x20','random','ndQueue\x20pr','getPollRes','ize','Attempting','[AUTH]\x20No\x20','n\x20error:\x20','ndQueue\x20le','mote\x20creds','rename','uit\x20for\x205\x20','or\x20failed\x20','eduling\x20ne','group-part','removeAllL','Unrecovera','of\x20incomin','lwskky','\x20error','s\x20due\x20to:\x20','y\x20during\x20f','dling.','ate\x20limiti','ata','after\x20','history.se','nextAttemp','groups.upd','successes','Module','\x20updates)\x20','filter','totalBytes','ng\x20detachA','[STORE]\x20Re','mapById','unknown_ch','pt:\x20','selectedDi','\x20version,\x20','eived\x20','adcast','24501IGTlZv','Database\x20i','dule','No\x20respons','temporary\x20','load\x20confi','ctReply','ader\x20modul','max','number','editedMess','Replaced','meString','isBuffer','startup\x20fa','s\x20due\x20to\x20r','listRespon','\x20bundle','undle','th\x20closed\x20','_BASE_MS','\x20disk\x20via\x20','start\x20bot','\x22.\x20Batchin','all','ocessing\x20f','111256xaXgTb','ult','SEND_RETRY','status@bro','includes','toJSON','motely.\x20St','\x20new\x20outgo','enqueue','Failed\x20to\x20','eck\x20failed','conversati','onfig','_evictIfNe','h\x20state\x20to','_touch','ote\x20to\x20','WebMessage','toString','age','value','creds.json','mically\x20wr','length','Message\x20qu','messages.u','\x20API\x20faile','mkdir','nitialized','seMessage','start\x20bot\x20','al\x20creds\x20f','er)','min','files\x20in\x20','ach\x20failed','onIdle','recv','No\x20tempora','[AUTH]\x20Per','\x20local\x20aut','[MEMSTORE]','writeToFil','mFile:\x20not','ale\x20open\x20s','object','\x20closed\x20(r','ds\x20fetch\x20a','ent.\x20This\x20','bytes','5DyapDP','keys:\x20','join','registrati','rateLimite','ules','NO_LEVEL','values','loadLocalC','module.att','\x22\x20.auth/cr','isBroadcas','write','ropped\x20que','tialize\x20lo','string','caption','\x20restart\x20n','\x20temporary','oadcast\x20ch','msg','ed.','25431593BZLmPu','Persistent','fter\x20pairi','contacts','from','perations','reject','s\x20fetched\x20','ally\x20or\x20re','artup\x20fail','entries','essages\x20of','ort\x20failed','getContact','https://i-','recordSend','est','chats','labels.ass','arting.','ply.','Session\x20er','ociation','maxQueue','.tmp','om\x20outgoin','_estimateB','e\x20to\x20capac','_release','HISTORY','chats.dele','toLocaleTi','get\x20poll\x20r','processing','og.','ss...','slice','statusCode',']\x20Original','unknown','sh.','No\x20prior\x20s','ross\x20','p\x20file\x20','ect.\x20Attem','Restarting','function','hutdown\x20on','count','import/ini','Dropped\x20fr','\x20API\x20is\x20st','no\x20session','.\x20Data:\x20','acquire','own\x20(signa','badSession','limit','Modules','successful','esults','data','canSend','ssage\x20with','user','ng\x20attempt','msgbox:','n\x20failures','Error\x20proc','re\x20restart','al\x20call','5613643dzPEZH','init\x20logge','ults','ch\x20until\x20','Names','maxBytes','lastAccess','write\x20stor','mory\x20store','No\x20target\x20','n\x20failed,\x20','OUTGOING_M','hotReloadC','_tryProces','alid\x20data.','room\x20(inco','raw.messag','normalize\x20','eKey\x20ID','Memory\x20sto','persistent','roupForUse','OWSER','SUCCESS_TH','12bxSWox','get','_makeMsgBo','timeoutMs',',\x20isLatest','s\x20auth-rel','emote\x20cred','essionEntr','omplete.','operation','[AUTH]\x20Ato','set','Closing\x20op','toLowerCas','\x20found\x20loc','invalid\x20se','other\x20atte','tct.com/','_DIR','fetch\x20late','_ATTEMPTS','ey=','\x20successfu','\x20attempts)','notify','cwd','messageTim','54909rRQMnK','next','then','clear','\x20timed\x20out','Initial\x20st','unhandledR','etter\x20chec','map','Logger\x20ini','import\x20qrc','proto','blocklist.','\x20auth\x20befo','tore\x20file\x20','state','exit','ate\x20flush\x20','red\x20','h\x20director','ssage:\x20','e\x20data','remove','ean\x20up.','parse','presence.u','window','groupId','fromMe','unregister','readFile','ing\x20config','pollCreati','sent\x20ack','19.1.0','floor','labels.edi','unshift','pdate','✅\x20Connecti','ssage','close','eded','ring\x20proce','cache','areJidsSam','SIGTERM','Connection','priority=','MEMORY_STO','utf8','message','FAILURE_TH','ow...','\x20Bad\x20MAC','.auth','.\x20Deleting','rolling\x20ba','No\x20valid\x20c','eds.json\x22','del','groupMetad','ngth\x20high:','ting\x20local','OutgoingSe','pen.\x20Not\x20a'];_0x51de=function(){return _0x49bf9d;};return _0x51de();}const authMutex=new FifoMutex(),storeMutex=new FifoMutex();let _authFlushCounter=0xc2*-0x22+0x57c+0x1448,_lastAuthFlushLogTime=Date['now']();const _authLogSummaryIntervalMs=(0x24e*-0x1+0x1d*0x107+-0x1b5f)*(0x20e5+-0x45*0x3+0x36*-0x97)*(-0x90+0x263f+-0x21c7*0x1),voluntaryLeaverStore=new Map(),baileysLogInterceptor=new Writable({'write'(_0x5785bb,_0x446074,_0x2db874){const _0x4ed651=_0x59ac9d;try{const _0x3c7246=_0x5785bb[_0x4ed651(0x23f)]();if(!_0x3c7246[_0x4ed651(0x231)](_0x4ed651(0x310))){_0x2db874();return;}const _0x3aa513=JSON[_0x4ed651(0x307)](_0x3c7246);if(_0x3aa513[_0x4ed651(0x273)]==='sent\x20ack'&&_0x3aa513[_0x4ed651(0x252)]){const _0x4487aa=_0x3aa513[_0x4ed651(0x252)][_0x4ed651(0x406)];if(_0x4487aa&&_0x4487aa[_0x4ed651(0x374)+'t']&&voluntaryLeaverStore[_0x4ed651(0x3b9)](_0x4487aa[_0x4ed651(0x374)+'t'])){const _0x468765=voluntaryLeaverStore[_0x4ed651(0x2d5)](_0x4487aa[_0x4ed651(0x374)+'t']),_0xae23a={'id':_0x4487aa['id'],'groupId':_0x468765[_0x4ed651(0x30a)],'action':_0x4ed651(0x305),'type':_0x4ed651(0x197)+'leave','notify':_0x4487aa[_0x4ed651(0x2ec)],'participant_pn':_0x4487aa[_0x4ed651(0x374)+_0x4ed651(0x407)]};bot['emit'](_0x4ed651(0x336)+_0x4ed651(0x187),_0xae23a),voluntaryLeaverStore[_0x4ed651(0x33e)](_0x4487aa['participan'+'t']);}}}catch(_0x5223b7){}_0x2db874();}}),messageEditCache=new Map(),MESSAGE_CACHE_TTL_MS=0x65e09b*0x1+0xe*0x44ed0+-0x6b417b,MESSAGE_CACHE_SWEEP_INTERVAL_MS=(0x7*0x58f+-0x1865+0x1*-0xe7f)*(-0x700+-0x190c+-0x2048*-0x1)*(0x1051*-0x2+0x130d+-0x25*-0x79),cacheSweepTimer=setInterval(()=>{const _0x1d72f6=_0x59ac9d,_0x14516d=Date[_0x1d72f6(0x1a9)]();for(const [_0x4d43a9,_0x218a3c]of messageEditCache[_0x1d72f6(0x27f)]()){_0x14516d-_0x218a3c['timestamp']>MESSAGE_CACHE_TTL_MS&&messageEditCache[_0x1d72f6(0x33e)](_0x4d43a9);}},MESSAGE_CACHE_SWEEP_INTERVAL_MS);if(cacheSweepTimer[_0x59ac9d(0x19a)])cacheSweepTimer[_0x59ac9d(0x19a)]();const baileysPinoLevel=(cfg[_0x59ac9d(0x1b7)+_0x59ac9d(0x265)]||_0x59ac9d(0x1c3))['toString']();let baileysPinoLogger=_0xffe3a1({'level':baileysPinoLevel}),_authState_for_flush=null,_authFlushTimeout=null,deepSerialize=null;async function _atomicWriteDirect(_0x3b3bb6,_0x594e4a){const _0x4ca23c=_0x59ac9d,_0x15a8d1=_0x51f81d[_0x4ca23c(0x375)](_0x3b3bb6),_0x39282b=_0x51f81d[_0x4ca23c(0x261)](_0x15a8d1,_0x51f81d['basename'](_0x3b3bb6)+'.'+Date[_0x4ca23c(0x1a9)]()+_0x4ca23c(0x28d));return await _0x3a0099[_0x4ca23c(0x248)](_0x15a8d1,{'recursive':!![]})[_0x4ca23c(0x1ab)](()=>{}),await _0x3a0099[_0x4ca23c(0x1db)](_0x39282b,_0x594e4a,{'encoding':_0x4ca23c(0x321)}),await _0x3a0099[_0x4ca23c(0x1f2)](_0x39282b,_0x3b3bb6),debug(_0x4ca23c(0x2de)+_0x4ca23c(0x243)+_0x4ca23c(0x23d)+_0x3b3bb6),_0x3b3bb6;}async function flushAuthToDisk(){const _0x13817a=_0x59ac9d;if(!_authState_for_flush)return;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);_authFlushTimeout=null;const _0x5c8567=await authMutex[_0x13817a(0x2ab)]();try{const {state:_0x2d411b}=_authState_for_flush;if(typeof _0x2d411b[_0x13817a(0x338)]===_0x13817a(0x2a3)){await _0x2d411b[_0x13817a(0x338)]();const _0x2ddd95=Date[_0x13817a(0x1a9)]();_0x2ddd95-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info(_0x13817a(0x254)+_0x13817a(0x3e0)+_0x13817a(0x23b)+_0x13817a(0x228)+_0x13817a(0x1af)+')\x20('+_authFlushCounter+('\x20updates)\x20'+'in\x20last\x2030'+'\x20mins.')),_lastAuthFlushLogTime=_0x2ddd95,_authFlushCounter=0x26db+0x4e5+-0x2bc0):debug(_0x13817a(0x254)+_0x13817a(0x3e0)+_0x13817a(0x23b)+_0x13817a(0x228)+_0x13817a(0x1af)+').');}else{const _0xd60004=cfg[_0x13817a(0x3d2)+_0x13817a(0x2e6)]||'.auth',_0x2d5a7e=_0x2d411b[_0x13817a(0x334)]?_0x2d411b[_0x13817a(0x334)][_0x13817a(0x22b)]?_0x2d411b[_0x13817a(0x334)][_0x13817a(0x22b)]():{}:{};let _0x13616d;typeof deepSerialize===_0x13817a(0x2a3)?_0x13616d={'creds':deepSerialize(_0x2d411b[_0x13817a(0x19d)]),'keys':deepSerialize(_0x2d5a7e)}:(warn('deepSerial'+_0x13817a(0x191)+'\x20available'+_0x13817a(0x35e)+'llback\x20JSO'+_0x13817a(0x3f2)+_0x13817a(0x3d4)),_0x13616d={'creds':_0x2d411b['creds'],'keys':_0x2d5a7e});const _0x41f938=_0x51f81d['join'](_0xd60004,_0x13817a(0x242)),_0x1c435c=JSON[_0x13817a(0x3f7)](_0x13616d,null,-0x1acd+0x13*0x23+0x409*0x6);await _atomicWriteDirect(_0x41f938,_0x1c435c);const _0x2bc955=Date['now']();_0x2bc955-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info(_0x13817a(0x254)+_0x13817a(0x3e0)+_0x13817a(0x23b)+_0x13817a(0x228)+_0x13817a(0x37c)+_0x13817a(0x335)+_authFlushCounter+(_0x13817a(0x207)+_0x13817a(0x1c9)+'\x20mins.')),_lastAuthFlushLogTime=_0x2bc955,_authFlushCounter=-0x250d+0xdf+0x16*0x1a5):debug(_0x13817a(0x254)+'sisted\x20aut'+_0x13817a(0x23b)+_0x13817a(0x228)+_0x13817a(0x37c)+_0x13817a(0x29d));}}catch(_0x32f1d6){warn('flushAuthT'+_0x13817a(0x18f)+'ed',_0x32f1d6?.['stack']||_0x32f1d6);}finally{_0x5c8567();}}function scheduleAuthFlush(){const _0x3024e6=_0x59ac9d;_authFlushCounter++;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);const _0x1098a0=cfg[_0x3024e6(0x33d)+_0x3024e6(0x3f3)+'MS']||(-0x1241*-0x2+0xc72+-0x30ea)*(-0xd1+0xe*-0x2b+-0x1*-0x713);debug(_0x3024e6(0x38e)+_0x3024e6(0x1f5)+_0x3024e6(0x1c0)+_0x3024e6(0x300)+'in\x20'+_0x1098a0/(-0xbc9*-0x3+-0x77e*0x5+0x603)+('s.\x20Update\x20'+'#')+_authFlushCounter),_authFlushTimeout=setTimeout(flushAuthToDisk,_0x1098a0);}function registerAuthStateForFlush(_0x33e0eb){_authState_for_flush=_0x33e0eb;}async function loadCredsFromDisk(_0x508f3a){const _0x10f76a=_0x59ac9d,_0x4a8c7a=_0x51f81d['join'](_0x508f3a,_0x10f76a(0x242));let _0x1dddd7={'creds':{},'keys':{}};try{existsSync(_0x4a8c7a)&&(_0x1dddd7=JSON['parse'](readFileSync(_0x4a8c7a,_0x10f76a(0x321))),info(_0x10f76a(0x3f9)+_0x10f76a(0x35b)+_0x10f76a(0x34f)+'\x20'+_0x4a8c7a));}catch(_0x58e4c7){debug(_0x10f76a(0x380)+_0x10f76a(0x1de)+_0x10f76a(0x3a1)+':\x20'+_0x58e4c7[_0x10f76a(0x322)]+'.');}return _0x1dddd7;}async function loadLocalCredsFileStartup(_0x344a08){const _0xbcffbf=_0x59ac9d;try{return await loadCredsFromDisk(_0x344a08);}catch(_0x1e33b1){return debug(_0xbcffbf(0x267)+_0xbcffbf(0x35c)+_0xbcffbf(0x27e)+'ed',_0x1e33b1?.[_0xbcffbf(0x322)]||_0x1e33b1),null;}}const SESSION_ID=(cfg['SESSION_ID']||'')['trim'](),remoteCredsCircuitBreaker={'state':_0x59ac9d(0x3fa),'failures':0x0,'successes':0x0,'nextAttempt':Date['now'](),'FAILURE_THRESHOLD':0x3,'SUCCESS_THRESHOLD':0x2,'OPEN_TIMEOUT':(0x98*-0x14+-0x88e+-0x3*-0x6d1)*(-0x1*-0x1f1b+0x3e6*-0x3+0x1*-0x132d)*(-0x72e*0x4+-0x1460+0x1a8*0x20)};function recordFailure(){const _0x1ddb0d=_0x59ac9d,_0x32602c=remoteCredsCircuitBreaker;_0x32602c['failures']++,_0x32602c[_0x1ddb0d(0x205)]=0x76*0xd+0x184+0x1f*-0x3e,_0x32602c[_0x1ddb0d(0x176)]>=_0x32602c[_0x1ddb0d(0x323)+'RESHOLD']&&(_0x32602c[_0x1ddb0d(0x2fe)]='OPEN',_0x32602c[_0x1ddb0d(0x203)+'t']=Date[_0x1ddb0d(0x1a9)]()+_0x32602c[_0x1ddb0d(0x3eb)+'UT'],warn(_0x1ddb0d(0x180)+_0x1ddb0d(0x171)+_0x1ddb0d(0x1f1)+_0x1ddb0d(0x247)+_0x1ddb0d(0x3fd)+_0x1ddb0d(0x35a)+_0x1ddb0d(0x3c0)+_0x1ddb0d(0x1f3)+'minutes.'));}function recordSuccess(){const _0x2d768a=_0x59ac9d,_0x499677=remoteCredsCircuitBreaker;_0x499677[_0x2d768a(0x205)]++;if(_0x499677[_0x2d768a(0x2fe)]===_0x2d768a(0x35d)&&_0x499677[_0x2d768a(0x205)]>=_0x499677[_0x2d768a(0x2d3)+_0x2d768a(0x3c9)])_0x499677[_0x2d768a(0x2fe)]=_0x2d768a(0x3fa),_0x499677[_0x2d768a(0x176)]=0x1b4+0x473*-0x6+0x18fe,info('[CIRCUIT_B'+'REAKER]\x20Re'+'mote\x20creds'+_0x2d768a(0x2a8)+'able.\x20Clos'+_0x2d768a(0x366)+'t.');else _0x499677[_0x2d768a(0x2fe)]===_0x2d768a(0x3fa)&&(_0x499677[_0x2d768a(0x176)]=0x1*-0x146d+-0x1*-0x1cfb+-0x88e);}async function fetchRemoteCredsAxios(_0x153d3f,_0x4b0484={'timeoutMs':0x1388,'attempts':0x3,'initialBackoffMs':0x1f4}){const _0x10bcce=_0x59ac9d,_0x4973cb=remoteCredsCircuitBreaker;if(_0x4973cb['state']===_0x10bcce(0x396)){if(Date[_0x10bcce(0x1a9)]()>=_0x4973cb[_0x10bcce(0x203)+'t'])_0x4973cb[_0x10bcce(0x2fe)]='HALF_OPEN',info(_0x10bcce(0x180)+'REAKER]\x20Ti'+'meout\x20elap'+_0x10bcce(0x1dc)+_0x10bcce(0x183)+_0x10bcce(0x3ac)+'.');else throw new Error('[CIRCUIT_B'+_0x10bcce(0x1aa)+'rcuit\x20is\x20o'+_0x10bcce(0x330)+'ttempting\x20'+_0x10bcce(0x39f)+_0x10bcce(0x2bf)+new Date(_0x4973cb[_0x10bcce(0x203)+'t'])[_0x10bcce(0x294)+_0x10bcce(0x21f)]());}if(!_0x153d3f)throw new Error(_0x10bcce(0x2a9)+_0x10bcce(0x1c5)+'ed');const _0x4f33cc=encodeURIComponent(_0x153d3f),_0x2d57b1=_0x10bcce(0x283)+_0x10bcce(0x2e5)+_0x4f33cc+_0x10bcce(0x3c6),_0x349385=Math['max'](0x2*0x192+0x868+-0xb8b,Number(_0x4b0484[_0x10bcce(0x3a9)]||0x1999*-0x1+-0x8a9+0x2245));let _0x458382=Number(_0x4b0484[_0x10bcce(0x1d1)+'koffMs']||-0x3*0x7fa+0xe0f+-0x3f1*-0x3);for(let _0x1a3f29=-0x1c73+-0x1718+0x338c;_0x1a3f29<=_0x349385;_0x1a3f29++){try{info(_0x10bcce(0x33c)+_0x10bcce(0x25c)+_0x10bcce(0x190)+_0x1a3f29+'/'+_0x349385+('\x20for\x20sessi'+'on\x20ID\x20(sta'+_0x10bcce(0x39a))+_0x4973cb[_0x10bcce(0x2fe)]+')');const _0x5c7f51=await _0x2007c4[_0x10bcce(0x2d5)](_0x2d57b1,{'timeout':_0x4b0484[_0x10bcce(0x2d7)],'responseType':_0x10bcce(0x3f4),'validateStatus':_0x4389f8=>_0x4389f8>=0x2*-0x21d+-0x2173+0x37f*0xb&&_0x4389f8<0x6f0*-0x1+-0x1*-0xa9+0x773});return recordSuccess(),info('Remote\x20cre'+_0x10bcce(0x3be)+_0x10bcce(0x196)+'n\x20attempt\x20'+_0x1a3f29+'.'),_0x5c7f51[_0x10bcce(0x2b2)];}catch(_0x3e4cde){const _0x3f8ba9=_0x3e4cde['response']?.[_0x10bcce(0x1a2)],_0x496506=_0x3e4cde[_0x10bcce(0x331)]?.[_0x10bcce(0x2b2)]?JSON['stringify'](_0x3e4cde[_0x10bcce(0x331)]['data']):_0x10bcce(0x216)+_0x10bcce(0x304);warn(_0x10bcce(0x33c)+'ds\x20fetch\x20a'+'ttempt\x20'+_0x1a3f29+_0x10bcce(0x337)+_0x3e4cde[_0x10bcce(0x322)]+_0x10bcce(0x1c6)+_0x3f8ba9+_0x10bcce(0x2aa)+_0x496506);if(_0x3f8ba9===-0x12*-0x132+-0x2*-0x111a+-0x360b){const _0x3f4f3d=_0x3e4cde['response']['headers']?.[_0x10bcce(0x3af)+'r'];if(_0x3f4f3d){const _0x1e17ad=parseInt(_0x3f4f3d,-0x24*-0xa9+-0x1*0x1cd0+0x2*0x28b)*(0x147a+-0x1b64+0xad2);if(_0x1e17ad>0x5*-0x166+0x1102+-0xa04){warn(_0x10bcce(0x36f)+_0x10bcce(0x385)+'elay\x20of\x20'+_0x1e17ad/(0x1*-0x1ba7+-0xd7*0x4+0x22eb)+(_0x10bcce(0x222)+_0x10bcce(0x1ff)+'ng.')),await new Promise(_0x21b64c=>setTimeout(_0x21b64c,_0x1e17ad));continue;}}}if(_0x1a3f29===_0x349385){recordFailure();throw new Error(_0x10bcce(0x39f)+'ch\x20failed\x20'+_0x10bcce(0x201)+_0x349385+(_0x10bcce(0x3b6)+'\x20')+_0x3e4cde[_0x10bcce(0x322)]);}await new Promise(_0x517b54=>setTimeout(_0x517b54,_0x458382)),_0x458382*=-0x15b4+-0x63a+0x1bf0;}}throw new Error(_0x10bcce(0x39f)+_0x10bcce(0x19f)+'unexpected'+'ly');}async function writeLocalCredsFile(_0x1f4077,_0x13677d){const _0x1cb907=_0x59ac9d,_0x5a9374=_0x51f81d[_0x1cb907(0x261)](_0x13677d,_0x1cb907(0x242)),_0x536cb5=JSON[_0x1cb907(0x3f7)](_0x1f4077,null,0x1326+0x2*-0x445+0x3b*-0x2e);return _atomicWriteDirect(_0x5a9374,_0x536cb5);}function withTimeout(_0x1af66b,_0x419e0f,_0x31582b=_0x59ac9d(0x2dd)){const _0x3a5100=_0x59ac9d;if(typeof _0x419e0f!==_0x3a5100(0x21c)||_0x419e0f<=0x1f7f+0x2dc+-0x1*0x225b)return _0x1af66b;return Promise[_0x3a5100(0x363)]([_0x1af66b,new Promise((_0x430d68,_0x7d687)=>setTimeout(()=>_0x7d687(new Error(_0x31582b+(_0x3a5100(0x2f3)+'\x20after\x20')+_0x419e0f+'ms')),_0x419e0f))]);}function looksLikeCreds(_0x33883c){const _0x559573=_0x59ac9d;if(!_0x33883c||typeof _0x33883c!==_0x559573(0x25a))return![];if(!_0x33883c[_0x559573(0x19d)]||typeof _0x33883c[_0x559573(0x19d)]!==_0x559573(0x25a))return![];return _0x33883c[_0x559573(0x19d)][_0x559573(0x19c)]&&_0x33883c['creds']['signedIden'+_0x559573(0x3b3)]&&_0x33883c['creds'][_0x559573(0x262)+_0x559573(0x3fb)];}class LruMemoryStore{constructor(_0x43302c={}){const _0x14f00f=_0x59ac9d;this[_0x14f00f(0x2c1)]=Number(_0x43302c[_0x14f00f(0x2c1)]||cfg['MEMORY_STO'+_0x14f00f(0x1b8)+'ES']||(0x1c6a+-0x16*-0x7c+-0x251e)*(0x16*0x25+0x2477+-0x5*0x721)*(-0xdac+-0x3*-0x347+0x1*0x7d7)),this[_0x14f00f(0x2f7)]=new Map(),this[_0x14f00f(0x209)]=0x1ecd*-0x1+-0xcd4+0x2ba1;}['_estimateB'+_0x59ac9d(0x1df)](_0x1b8a73){const _0xf2736b=_0x59ac9d;if(typeof _0x1b8a73===_0xf2736b(0x26e))return Buffer[_0xf2736b(0x1d0)](_0x1b8a73,_0xf2736b(0x321));if(Buffer[_0xf2736b(0x220)](_0x1b8a73))return _0x1b8a73['length'];return 0x1*0x1e01+-0xfa*-0x20+-0x3541;}[_0x59ac9d(0x23c)](_0x21c0fd){const _0x98acda=_0x59ac9d,_0x4dcfc6=this[_0x98acda(0x2f7)]['get'](_0x21c0fd);if(!_0x4dcfc6)return;_0x4dcfc6[_0x98acda(0x2c2)]=Date['now'](),this[_0x98acda(0x2f7)]['delete'](_0x21c0fd),this[_0x98acda(0x2f7)]['set'](_0x21c0fd,_0x4dcfc6);}[_0x59ac9d(0x23a)+_0x59ac9d(0x319)](){const _0xbdad8b=_0x59ac9d;while(this[_0xbdad8b(0x209)]>this[_0xbdad8b(0x2c1)]&&this[_0xbdad8b(0x2f7)]['size']>-0x192*0x4+-0x122d+0x3*0x827){const _0x382b3f=this['map'][_0xbdad8b(0x334)]()[_0xbdad8b(0x2f0)]()[_0xbdad8b(0x241)],_0x2cb535=this[_0xbdad8b(0x2f7)]['get'](_0x382b3f);if(_0x2cb535)this[_0xbdad8b(0x209)]-=_0x2cb535['bytes']||0x9*-0x26e+-0x1ba8+0x3186,this[_0xbdad8b(0x2f7)]['delete'](_0x382b3f),debug(_0xbdad8b(0x256)+_0xbdad8b(0x172)+_0xbdad8b(0x2e9)+_0x382b3f+'\x20bytes='+_0x2cb535[_0xbdad8b(0x25e)]+_0xbdad8b(0x3a5)+_0x2cb535['priority']);else break;}}['set'](_0x2a19bc,_0x38dbda,{ttl:ttl=null,priority:priority=0x38b+-0x155c+0x11d1}={}){const _0x500663=_0x59ac9d,_0x4e7638=this[_0x500663(0x28f)+_0x500663(0x1df)](_0x38dbda);if(this['map'][_0x500663(0x3b9)](_0x2a19bc)){const _0x399f11=this[_0x500663(0x2f7)][_0x500663(0x2d5)](_0x2a19bc);this['totalBytes']-=_0x399f11[_0x500663(0x25e)]||-0x210d*0x1+-0x11c*0x15+0x19*0x241,this[_0x500663(0x2f7)][_0x500663(0x33e)](_0x2a19bc);}const _0x5ba5c7={'value':_0x38dbda,'bytes':_0x4e7638,'priority':priority,'createdAt':Date['now'](),'lastAccess':Date['now'](),'ttl':ttl};this[_0x500663(0x2f7)][_0x500663(0x2df)](_0x2a19bc,_0x5ba5c7),this[_0x500663(0x209)]+=_0x4e7638,this['_evictIfNe'+_0x500663(0x319)]();}[_0x59ac9d(0x2d5)](_0x2dcf39){const _0x4bbec7=_0x59ac9d,_0x327ef2=this['map'][_0x4bbec7(0x2d5)](_0x2dcf39);if(!_0x327ef2)return null;if(_0x327ef2[_0x4bbec7(0x16d)]&&Date[_0x4bbec7(0x1a9)]()-_0x327ef2['createdAt']>_0x327ef2[_0x4bbec7(0x16d)])return this['map'][_0x4bbec7(0x33e)](_0x2dcf39),this[_0x4bbec7(0x209)]-=_0x327ef2[_0x4bbec7(0x25e)]||0x6af+0x39b*0x7+-0x1fec,null;return this[_0x4bbec7(0x23c)](_0x2dcf39),_0x327ef2[_0x4bbec7(0x241)];}[_0x59ac9d(0x32b)](_0x3843ad){const _0x4e30ba=_0x59ac9d,_0x2390d4=this[_0x4e30ba(0x2f7)][_0x4e30ba(0x2d5)](_0x3843ad);if(!_0x2390d4)return;this[_0x4e30ba(0x209)]-=_0x2390d4[_0x4e30ba(0x25e)]||0x778*0x1+0x2f1+-0x1*0xa69,this[_0x4e30ba(0x2f7)][_0x4e30ba(0x33e)](_0x3843ad);}['keys'](){const _0x332132=_0x59ac9d;return Array['from'](this[_0x332132(0x2f7)][_0x332132(0x334)]());}[_0x59ac9d(0x232)](){const _0x288d00=_0x59ac9d,_0x2044e3={};for(const [_0x338d1d,_0x4316d5]of this[_0x288d00(0x2f7)][_0x288d00(0x27f)]())_0x2044e3[_0x338d1d]=_0x4316d5[_0x288d00(0x241)];return _0x2044e3;}async['writeToFil'+'e'](_0x113e7d){const _0x8eb6eb=_0x59ac9d,_0x2a8282=await storeMutex['acquire']();try{const _0x57f6c7={'items':[]};for(const [_0x49619f,_0x14d12a]of this[_0x8eb6eb(0x2f7)][_0x8eb6eb(0x27f)]()){_0x57f6c7[_0x8eb6eb(0x3fc)][_0x8eb6eb(0x3b5)]({'k':_0x49619f,'value':_0x14d12a['value'],'priority':_0x14d12a[_0x8eb6eb(0x386)],'createdAt':_0x14d12a['createdAt'],'lastAccess':_0x14d12a[_0x8eb6eb(0x2c2)]});}await _0x3a0099[_0x8eb6eb(0x248)](_0x51f81d['dirname'](_0x113e7d),{'recursive':!![]})[_0x8eb6eb(0x1ab)](()=>{}),await _0x3a0099['writeFile'](_0x113e7d,JSON[_0x8eb6eb(0x3f7)](_0x57f6c7,null,0x1785+-0x136+-0x76f*0x3),_0x8eb6eb(0x321)),debug(_0x8eb6eb(0x256)+_0x8eb6eb(0x38f)+_0x8eb6eb(0x370)+_0x113e7d);}catch(_0x178e3f){warn(_0x8eb6eb(0x236)+_0x8eb6eb(0x38a)+_0x8eb6eb(0x2c4),_0x178e3f);}finally{_0x2a8282();}}async[_0x59ac9d(0x408)+'le'](_0x5e25a1){const _0x50c375=_0x59ac9d,_0x465671=await storeMutex[_0x50c375(0x2ab)]();try{const _0x58a3e7=await _0x3a0099[_0x50c375(0x30d)](_0x5e25a1,'utf8'),_0x4bcabd=JSON['parse'](_0x58a3e7),_0x3798bb=_0x4bcabd[_0x50c375(0x3fc)]||[];for(const _0x23f65a of _0x3798bb)this[_0x50c375(0x2df)](_0x23f65a['k'],_0x23f65a[_0x50c375(0x241)],{'priority':_0x23f65a['priority']||0x436+0x1a3e+-0x1e74});debug(_0x50c375(0x256)+_0x50c375(0x3d0)+_0x3798bb['length']+(_0x50c375(0x1b5)+'m\x20')+_0x5e25a1);}catch(_0x4d3196){debug(_0x50c375(0x2cf)+_0x50c375(0x3cc)+_0x50c375(0x258)+_0x50c375(0x3da)+_0x50c375(0x368)+'ed',_0x4d3196?.['message']||_0x4d3196);}finally{_0x465671();}}}function makeManualStoreFactory(_0x10ef27={}){const _0x3e65f9=_0x59ac9d,_0x32e1bc=new LruMemoryStore({'maxBytes':_0x10ef27[_0x3e65f9(0x2c1)]||cfg[_0x3e65f9(0x320)+_0x3e65f9(0x1b8)+'ES']||(-0x3a5*0x8+0x234a+-0x42e)*(0x1d7*-0x1+-0x29*-0xd2+-0x5*0x58f)*(0x1544+-0x1*-0x1877+-0x29bb)});function _0x86d71c(_0x513d5f){const _0x9a7866=_0x3e65f9,_0x105a35=_0x9a7866(0x2b7)+_0x513d5f;let _0xdbe739=_0x32e1bc[_0x9a7866(0x2d5)](_0x105a35);return!_0xdbe739&&(_0xdbe739={'array':[],'mapById':new Map(),'upsert'(_0x1e71b8,_0x473a55=_0x9a7866(0x348)){const _0x18f3cb=_0x9a7866,_0xac33a6=_0x1e71b8[_0x18f3cb(0x382)]?.['id']||Date[_0x18f3cb(0x1a9)]()+'_'+Math[_0x18f3cb(0x1e9)]();if(!this['mapById'][_0x18f3cb(0x3b9)](_0xac33a6)){if(_0x473a55==='prepend')this[_0x18f3cb(0x360)][_0x18f3cb(0x314)](_0x1e71b8);else this[_0x18f3cb(0x360)]['push'](_0x1e71b8);this[_0x18f3cb(0x20c)][_0x18f3cb(0x2df)](_0xac33a6,_0x1e71b8);}else Object[_0x18f3cb(0x1c8)](this[_0x18f3cb(0x20c)][_0x18f3cb(0x2d5)](_0xac33a6),_0x1e71b8);},'update'(_0x3d7789){const _0x109787=_0x9a7866,_0x37b6b8=_0x3d7789[_0x109787(0x382)]?.['id'];if(!_0x37b6b8)return![];const _0x1da2b5=this[_0x109787(0x20c)]['get'](_0x37b6b8);if(!_0x1da2b5)return![];return Object['assign'](_0x1da2b5,_0x3d7789),!![];},'remove'(_0x54dfd8){const _0x5a4526=_0x9a7866,_0x191277=_0x54dfd8[_0x5a4526(0x382)]?.['id'];if(!_0x191277)return![];if(!this[_0x5a4526(0x20c)][_0x5a4526(0x3b9)](_0x191277))return![];this[_0x5a4526(0x20c)][_0x5a4526(0x33e)](_0x191277);const _0x1c4555=this[_0x5a4526(0x360)][_0x5a4526(0x186)](_0x2568a7=>_0x2568a7[_0x5a4526(0x382)]?.['id']===_0x191277);if(_0x1c4555>=-0x12e*-0x19+0x1012+-0x2d90)this[_0x5a4526(0x360)]['splice'](_0x1c4555,-0x45*0x79+0x20ac+-0x7*0x2);return!![];},'updateAssign'(_0x54262f,_0x11a5c1){const _0x3c60d5=_0x9a7866,_0x143296=this[_0x3c60d5(0x20c)]['get'](_0x54262f);if(!_0x143296)return![];return Object[_0x3c60d5(0x1c8)](_0x143296,_0x11a5c1),!![];},'clear'(){const _0x1e5cce=_0x9a7866;this[_0x1e5cce(0x360)][_0x1e5cce(0x244)]=-0xedb+-0x1b12+0x29ed,this[_0x1e5cce(0x20c)][_0x1e5cce(0x2f2)]();},'filter'(_0x439568){const _0x387ad6=_0x9a7866,_0x2f80b8=this['array'][_0x387ad6(0x208)](_0x439568);this[_0x387ad6(0x360)][_0x387ad6(0x244)]=-0x90a+0x999+-0x8f*0x1,this[_0x387ad6(0x360)][_0x387ad6(0x3b5)](..._0x2f80b8),this[_0x387ad6(0x20c)][_0x387ad6(0x2f2)]();for(const _0x19dfb7 of this['array'])this['mapById']['set'](_0x19dfb7['key']?.['id']||''+Math[_0x387ad6(0x1e9)](),_0x19dfb7);},'toJSON'(){const _0x2a15c0=_0x9a7866;return this['array'][_0x2a15c0(0x299)]();},'fromJSON'(_0x2d67ca){const _0x4d3fa2=_0x9a7866;this[_0x4d3fa2(0x360)][_0x4d3fa2(0x244)]=0x2*0xe11+-0x1168+-0xaba,this[_0x4d3fa2(0x20c)][_0x4d3fa2(0x2f2)]();for(const _0x38e8dc of Array[_0x4d3fa2(0x19e)](_0x2d67ca)?_0x2d67ca:[]){this[_0x4d3fa2(0x360)][_0x4d3fa2(0x3b5)](_0x38e8dc),this[_0x4d3fa2(0x20c)][_0x4d3fa2(0x2df)](_0x38e8dc[_0x4d3fa2(0x382)]?.['id']||''+Math[_0x4d3fa2(0x1e9)](),_0x38e8dc);}}},_0x32e1bc['set'](_0x105a35,_0xdbe739)),_0xdbe739;}return{'chats':{},'contacts':{},'groupMetadata':{},'state':{},'presences':{},'labels':{},'_makeMsgBox':_0x86d71c,'bind'(_0x24c61d){const _0x19946c=_0x3e65f9;if(!_0x24c61d||typeof _0x24c61d['on']!==_0x19946c(0x2a3))return;_0x24c61d['on'](_0x19946c(0x246)+'psert',({messages:messages=[]})=>{const _0x15b824=_0x19946c;for(const _0x194c62 of messages){this['_makeMsgBo'+'x'](_0x194c62[_0x15b824(0x382)]?.[_0x15b824(0x3db)]||'unknown')[_0x15b824(0x19b)](_0x194c62,_0x15b824(0x348));}}),_0x24c61d['on'](_0x19946c(0x3e8)+_0x19946c(0x192),(_0x88f233=[])=>{const _0x2fecbf=_0x19946c;for(const _0x1e1f01 of _0x88f233)if(_0x1e1f01?.['id'])this[_0x2fecbf(0x278)][_0x1e1f01['id']]=_0x1e1f01;}),_0x24c61d['on'](_0x19946c(0x195)+'rt',(_0x52e23a=[])=>{const _0x586754=_0x19946c;for(const _0x55afe7 of _0x52e23a)if(_0x55afe7?.['id'])this[_0x586754(0x286)][_0x55afe7['id']]=_0x55afe7;});},async 'loadMessages'(_0x4dc965,_0x1e7d9c=0x198b+-0x119+-0x1859){const _0x527b38=_0x3e65f9,_0x7ffa40=this['_makeMsgBo'+'x'](_0x4dc965),_0x388696=_0x7ffa40[_0x527b38(0x360)]||[];return _0x388696[_0x527b38(0x299)](-_0x1e7d9c)['reverse']();},async 'writeToFile'(_0x3a7538){const _0x19035e=_0x3e65f9,_0x381257=await storeMutex[_0x19035e(0x2ab)]();try{const _0x282a77={};for(const _0x3876ae of _0x32e1bc['keys']()){if(_0x3876ae[_0x19035e(0x175)](_0x19035e(0x2b7))){const _0x553d93=_0x3876ae[_0x19035e(0x299)]('msgbox:'[_0x19035e(0x244)]),_0x184a71=_0x32e1bc['get'](_0x3876ae);_0x282a77[_0x553d93]=_0x184a71?_0x184a71[_0x19035e(0x232)]?_0x184a71['toJSON']():_0x184a71['array']||[]:[];}}const _0x1627f9={'chats':this['chats'],'contacts':this['contacts'],'messages':_0x282a77,'groupMetadata':this[_0x19035e(0x32c)+'ata'],'state':this[_0x19035e(0x2fe)]};await _0x3a0099[_0x19035e(0x248)](_0x51f81d['dirname'](_0x3a7538),{'recursive':!![]})[_0x19035e(0x1ab)](()=>{}),await _0x3a0099[_0x19035e(0x1db)](_0x3a7538,JSON[_0x19035e(0x3f7)](_0x1627f9,null,0x6*0x4e1+-0x6a3*0x4+0x15c*-0x2),_0x19035e(0x321)),debug(_0x19035e(0x37d)+'ore\x20writte'+_0x19035e(0x387));}catch(_0x5c7efd){warn(_0x19035e(0x236)+_0x19035e(0x2c3)+_0x19035e(0x188),_0x5c7efd);}finally{_0x381257();}},async 'readFromFile'(_0x2db999){const _0x392798=_0x3e65f9,_0x56559d=await storeMutex[_0x392798(0x2ab)]();try{const _0x3cd986=await _0x3a0099['readFile'](_0x2db999,_0x392798(0x321)),_0x47f4e9=JSON[_0x392798(0x307)](_0x3cd986);this[_0x392798(0x286)]=_0x47f4e9[_0x392798(0x286)]||{},this[_0x392798(0x278)]=_0x47f4e9[_0x392798(0x278)]||{},this['groupMetad'+'ata']=_0x47f4e9[_0x392798(0x32c)+_0x392798(0x200)]||{},this[_0x392798(0x2fe)]=_0x47f4e9[_0x392798(0x2fe)]||{};const _0x51dc3c=_0x47f4e9[_0x392798(0x3a6)]||{};for(const _0x43dace of Object[_0x392798(0x334)](_0x51dc3c)){this['_makeMsgBo'+'x'](_0x43dace)['fromJSON'](_0x51dc3c[_0x43dace]);}debug(_0x392798(0x20b)+'ad\x20store\x20f'+'rom\x20file');}catch(_0x1e15b0){debug(_0x392798(0x29e)+_0x392798(0x2fd)+_0x392798(0x1f4)+_0x392798(0x178),_0x1e15b0?.[_0x392798(0x322)]||_0x1e15b0);}finally{_0x56559d();}}};}const store=makeManualStoreFactory({});class SimpleCache{constructor(_0x4d1ce2=cfg[_0x59ac9d(0x34e)+'MS']||(-0x1867+-0x37*-0xaa+-0xbe3)*(-0x1cb9+0x207f+0x22),_0x18cd6d=cfg['CACHE_MAX_'+_0x59ac9d(0x3f8)]||(0x1deb+0xff4+-0x2dcb)*(-0x1180*0x2+0x78*0x32+0xa6*0x18)*(-0xd5*-0x7+0x206f+-0x1121*0x2)){const _0x11a9e8=_0x59ac9d;this[_0x11a9e8(0x344)]=_0x4d1ce2,this['maxBytes']=_0x18cd6d,this['map']=new Map(),this[_0x11a9e8(0x209)]=0x47b*-0x5+-0x2*-0x8ff+0x1*0x469,this[_0x11a9e8(0x3c5)+'r']=setInterval(()=>this['_sweep'](),Math['max'](0x106f*0x2+-0xd*0x45d+0x3eeb,_0x4d1ce2));if(this[_0x11a9e8(0x3c5)+'r']['unref'])this['_sweepTime'+'r'][_0x11a9e8(0x19a)]();}[_0x59ac9d(0x28f)+'ytes'](_0x36f39b){const _0x13f229=_0x59ac9d;try{return Buffer[_0x13f229(0x1d0)](JSON[_0x13f229(0x3f7)](_0x36f39b),_0x13f229(0x321));}catch(_0x9c360){return 0x691+0x625+-0x5*0x1be;}}['set'](_0x7eeba8,_0x5753a2,_0x4eef42=this[_0x59ac9d(0x344)]){const _0xd185db=_0x59ac9d;if(this[_0xd185db(0x2f7)]['has'](_0x7eeba8)){const _0x2ad76d=this['map'][_0xd185db(0x2d5)](_0x7eeba8);this[_0xd185db(0x209)]-=_0x2ad76d['bytes']||0x1ffa*-0x1+-0x10bc+0x91*0x56,this[_0xd185db(0x2f7)][_0xd185db(0x33e)](_0x7eeba8);}const _0x2dd1b8=this[_0xd185db(0x28f)+_0xd185db(0x1df)](_0x5753a2);while(this[_0xd185db(0x209)]+_0x2dd1b8>this[_0xd185db(0x2c1)]&&this[_0xd185db(0x2f7)][_0xd185db(0x18c)]>0x18c0+-0x925*0x1+0x31f*-0x5){const _0x5542ca=this['map'][_0xd185db(0x334)]()[_0xd185db(0x2f0)]()['value'],_0x44bc63=this['map']['get'](_0x5542ca);this[_0xd185db(0x209)]-=_0x44bc63[_0xd185db(0x25e)]||0x518*-0x2+-0xd51+0xb*0x223,this[_0xd185db(0x2f7)][_0xd185db(0x33e)](_0x5542ca),debug(_0xd185db(0x3fe)+_0xd185db(0x352)+_0x5542ca+_0xd185db(0x1d5)+_0x44bc63[_0xd185db(0x25e)]);}const _0x1ea17b=Date['now']()+_0x4eef42;this['map']['set'](_0x7eeba8,{'value':_0x5753a2,'bytes':_0x2dd1b8,'expiry':_0x1ea17b}),this['totalBytes']+=_0x2dd1b8;}[_0x59ac9d(0x2d5)](_0x1db7dd){const _0x30470e=_0x59ac9d,_0x3d4c70=this[_0x30470e(0x2f7)][_0x30470e(0x2d5)](_0x1db7dd);if(!_0x3d4c70)return null;if(Date[_0x30470e(0x1a9)]()>_0x3d4c70['expiry'])return this['totalBytes']-=_0x3d4c70[_0x30470e(0x25e)]||0x1*-0x226b+0x18ed+0x97e,this[_0x30470e(0x2f7)]['delete'](_0x1db7dd),null;return _0x3d4c70[_0x30470e(0x3b2)]=Date['now']()+this[_0x30470e(0x344)],this[_0x30470e(0x2f7)][_0x30470e(0x33e)](_0x1db7dd),this[_0x30470e(0x2f7)]['set'](_0x1db7dd,_0x3d4c70),_0x3d4c70[_0x30470e(0x241)];}[_0x59ac9d(0x32b)](_0x5e518f){const _0x593b81=_0x59ac9d,_0x4b462e=this[_0x593b81(0x2f7)]['get'](_0x5e518f);if(!_0x4b462e)return;this['totalBytes']-=_0x4b462e[_0x593b81(0x25e)]||-0x2f6*0xb+-0x26f0+-0x7*-0xac6,this[_0x593b81(0x2f7)][_0x593b81(0x33e)](_0x5e518f);}[_0x59ac9d(0x194)](){const _0x4dee6c=_0x59ac9d,_0x3845a3=Date[_0x4dee6c(0x1a9)]();for(const [_0x2c1dac,_0xf87a6c]of this[_0x4dee6c(0x2f7)][_0x4dee6c(0x27f)]()){_0xf87a6c['expiry']<=_0x3845a3&&(this[_0x4dee6c(0x209)]-=_0xf87a6c[_0x4dee6c(0x25e)]||0x3*-0x2bb+-0x84f*0x3+0x211e,this['map'][_0x4dee6c(0x33e)](_0x2c1dac));}}[_0x59ac9d(0x318)](){const _0x32328a=_0x59ac9d;clearInterval(this[_0x32328a(0x3c5)+'r']),this[_0x32328a(0x2f7)][_0x32328a(0x2f2)](),this[_0x32328a(0x209)]=0x119*0x5+0x1f52+-0x24cf;}}class SlidingWindowRateLimiter{constructor(_0x576a3e=-0x25c8+0x1b63+0xe4d,_0x49d08a=0x1bb0+0x61d*0x1+0x178*-0x17){const _0x183c88=_0x59ac9d;this[_0x183c88(0x1cd)]=_0x576a3e,this[_0x183c88(0x2ae)]=_0x49d08a,this[_0x183c88(0x1d8)]=[];}[_0x59ac9d(0x402)](_0x3b0315){const _0x337e0a=_0x59ac9d,_0x4fd1d6=_0x3b0315-this[_0x337e0a(0x1cd)];while(this['timestamps']['length']&&this[_0x337e0a(0x1d8)][-0x9fc+-0x1024+-0x2c*-0x98]<_0x4fd1d6)this[_0x337e0a(0x1d8)]['shift']();}[_0x59ac9d(0x2a5)](_0x107b0d=Date[_0x59ac9d(0x1a9)]()){const _0x3a4a1a=_0x59ac9d;return this['_cleanup'](_0x107b0d),this[_0x3a4a1a(0x1d8)][_0x3a4a1a(0x244)];}[_0x59ac9d(0x2b3)](_0x162ee3=Date[_0x59ac9d(0x1a9)]()){const _0x3f5277=_0x59ac9d;return this['_cleanup'](_0x162ee3),this[_0x3f5277(0x1d8)][_0x3f5277(0x244)]<this[_0x3f5277(0x2ae)];}[_0x59ac9d(0x284)](_0x10e1ac=Date[_0x59ac9d(0x1a9)]()){const _0x3e7608=_0x59ac9d;this[_0x3e7608(0x402)](_0x10e1ac),this[_0x3e7608(0x1d8)]['push'](_0x10e1ac);}[_0x59ac9d(0x405)+'extAvailab'+'le'](_0x6a7031=Date['now']()){const _0x5503e8=_0x59ac9d;this[_0x5503e8(0x402)](_0x6a7031);if(this[_0x5503e8(0x1d8)][_0x5503e8(0x244)]<this[_0x5503e8(0x2ae)])return 0x1*0x357+0x16*-0x4b+0x109*0x3;const _0x40d9d2=this['timestamps'][0x4*-0x4a+0x23e7*-0x1+0x250f];return Math[_0x5503e8(0x21b)](-0x75a+0x11dd+0x45*-0x27,_0x40d9d2+this[_0x5503e8(0x1cd)]-_0x6a7031);}}async function dlqWrite(_0x5c5462){const _0x167210=_0x59ac9d;return Promise[_0x167210(0x372)]();}async function attemptSendWithRetry(_0x235826,_0x2fa164=0x356+0xcd7*-0x2+-0xb2d*-0x2,_0x2e3fb8=-0x227*0x10+-0x58*0x4a+0x1eea*0x2,_0x41899b={}){let _0x18cd4e=null;for(let _0xcb6689=0x2373+-0x11dc+-0x3*0x5dd;_0xcb6689<=_0x2fa164;_0xcb6689++){try{return await _0x235826();}catch(_0x57ebbb){_0x18cd4e=_0x57ebbb;if(_0xcb6689===_0x2fa164)throw _0x57ebbb;await new Promise(_0xf8b017=>setTimeout(_0xf8b017,_0x2e3fb8*Math['pow'](-0x11*-0x24b+-0x1*-0xd3+-0x6*0x6a2,_0xcb6689)));}}throw _0x18cd4e;}class OutgoingSendQueue{constructor(_0x2dcee6,_0x1c33b3={}){const _0x3ebf60=_0x59ac9d;this[_0x3ebf60(0x3e2)]=[],this[_0x3ebf60(0x263)+'r']=_0x2dcee6,this['processing']=![],this['nextTimer']=null,this[_0x3ebf60(0x28c)]=_0x1c33b3[_0x3ebf60(0x28c)]||cfg[_0x3ebf60(0x2c7)+_0x3ebf60(0x3ec)]||0xce4+0x47c+-0x110*0x9,this[_0x3ebf60(0x3d3)+_0x3ebf60(0x3d1)]=_0x1c33b3[_0x3ebf60(0x3d3)+_0x3ebf60(0x3d1)]||Math[_0x3ebf60(0x312)](this['maxQueue']*(-0xe05*-0x1+-0xa9c+-0x369+0.75));}['enqueue'](_0x4a7de1,_0x40c1ad={}){const _0x49eb49=_0x59ac9d,_0x3816af=typeof _0x40c1ad[_0x49eb49(0x386)]===_0x49eb49(0x21c)?_0x40c1ad['priority']:0xe3*0x3+0x1f1b+-0x21c4;return new Promise((_0x5b67bd,_0x26e826)=>{const _0x2e8644=_0x49eb49;if(this[_0x2e8644(0x3e2)][_0x2e8644(0x244)]>=this[_0x2e8644(0x28c)]){let _0x4b949a=-(0x3e6*-0x5+-0x2f*-0x12+0x1031);for(let _0x1668ca=0xbde*0x1+-0x31*-0x7a+0x119c*-0x2;_0x1668ca<this['queue'][_0x2e8644(0x244)];_0x1668ca++){if((this[_0x2e8644(0x3e2)][_0x1668ca][_0x2e8644(0x386)]||-0x1*0x23bf+-0x754+0x2b13)<_0x3816af){_0x4b949a=_0x1668ca;break;}}if(_0x4b949a===-(-0x7f*0x17+-0x1b1*0x7+0x1741*0x1))_0x4b949a=-0x1d62+0x5*0x105+0x1*0x1849;const _0x171b5a=this[_0x2e8644(0x3e2)]['splice'](_0x4b949a,-0x14e5+0xcd0+0x816)[0x102f+-0x44d+-0xbe2];try{_0x171b5a[_0x2e8644(0x27b)]&&_0x171b5a[_0x2e8644(0x27b)](new Error(_0x2e8644(0x2a7)+_0x2e8644(0x28e)+_0x2e8644(0x401)+_0x2e8644(0x290)+'ity/priori'+_0x2e8644(0x33a)));}catch(_0x4d88a1){debug(_0x2e8644(0x236)+'reject\x20dro'+_0x2e8644(0x395),_0x4d88a1[_0x2e8644(0x322)]);}warn('OutgoingSe'+_0x2e8644(0x1c4)+_0x2e8644(0x26c)+'ued\x20item\x20('+_0x2e8644(0x31f)+(_0x171b5a[_0x2e8644(0x386)]||0x1a5*-0x2+-0x1e4d*0x1+0x2197*0x1)+(')\x20to\x20make\x20'+_0x2e8644(0x2cb)+'ming\x20prior'+_0x2e8644(0x1a8))+_0x3816af+')');}this[_0x2e8644(0x3e2)]['push']({'fn':_0x4a7de1,'resolve':_0x5b67bd,'reject':_0x26e826,'priority':_0x3816af});if(this[_0x2e8644(0x3e2)][_0x2e8644(0x244)]>=this[_0x2e8644(0x3d3)+_0x2e8644(0x3d1)])warn(_0x2e8644(0x32f)+_0x2e8644(0x1f0)+_0x2e8644(0x32d)+'\x20'+this['queue'][_0x2e8644(0x244)]+'/'+this[_0x2e8644(0x28c)]);this['_tryProces'+'s']();});}[_0x59ac9d(0x2c9)+'s'](){const _0x55ff95=_0x59ac9d;if(this[_0x55ff95(0x296)])return;this[_0x55ff95(0x296)]=!![];const _0x1e06a3=async()=>{const _0x1175fe=_0x55ff95;this['nextTimer']&&(clearTimeout(this[_0x1175fe(0x37f)]),this[_0x1175fe(0x37f)]=null);const _0x3d3970=Date[_0x1175fe(0x1a9)]();let _0x2c6d98=Math['max'](-0x1cad+0x14c*0x4+0x1*0x177d,this[_0x1175fe(0x263)+'r'][_0x1175fe(0x2ae)]-this['rateLimite'+'r'][_0x1175fe(0x2a5)](_0x3d3970));if(_0x2c6d98<=-0x16f3+-0x6ce+0x1dc1*0x1||this[_0x1175fe(0x3e2)][_0x1175fe(0x244)]===-0x1*0x188e+-0xbcf*-0x2+0xf0){const _0x1cd827=this[_0x1175fe(0x263)+'r'][_0x1175fe(0x405)+'extAvailab'+'le'](_0x3d3970);if(this[_0x1175fe(0x3e2)]['length']>0x9*-0x391+0x10b6*0x1+0xf63)this[_0x1175fe(0x37f)]=setTimeout(()=>{const _0x45d0d8=_0x1175fe;this['processing']=![],this[_0x45d0d8(0x2c9)+'s']();},_0x1cd827+(0xc0d*-0x1+-0x1*0x637+0x1245));else this[_0x1175fe(0x296)]=![];return;}const _0x35e09b=[];for(let _0x13714b=0x23b5+0x100f+0x2*-0x19e2;_0x13714b<_0x2c6d98&&this['queue'][_0x1175fe(0x244)]>0x9d3*0x1+-0x5f3*0x3+-0x403*-0x2;_0x13714b++){let _0xdea7ec=-0x2*0xc75+0x2627+-0xd3d,_0x45534f=this[_0x1175fe(0x3e2)][0x740+-0x36*-0x1c+-0xd28][_0x1175fe(0x386)]||0x77+0x120e+-0x1285;for(let _0x35ae0b=-0x33*0xa2+0x1c3d+0x40a;_0x35ae0b<this[_0x1175fe(0x3e2)][_0x1175fe(0x244)];_0x35ae0b++){const _0x4263b7=this[_0x1175fe(0x3e2)][_0x35ae0b][_0x1175fe(0x386)]||-0x1*0x135b+0x1*0x8d7+0x542*0x2;_0x4263b7>_0x45534f&&(_0x45534f=_0x4263b7,_0xdea7ec=_0x35ae0b);}const _0x3e8e66=this[_0x1175fe(0x3e2)][_0x1175fe(0x394)](_0xdea7ec,-0x1e3e+-0x1*-0x210b+0x2cc*-0x1)[-0xb0a*0x3+-0x1*-0x128f+-0x1*-0xe8f];_0x35e09b[_0x1175fe(0x3b5)](_0x3e8e66);}if(_0x35e09b['length']>-0x265d+0x1*-0x863+0x2ec0)for(const _0x47df2d of _0x35e09b){this[_0x1175fe(0x263)+'r'][_0x1175fe(0x284)](_0x3d3970);const _0x3ddd08={'priority':_0x47df2d[_0x1175fe(0x386)]||0x1*0x134+-0x134+0x0,'fnSnippet':String(_0x47df2d['fn'])[_0x1175fe(0x299)](-0x45*0x53+0x1*-0x77b+-0x1dda*-0x1,0xb51+-0x790+-0x1*0x2f9)};try{const _0x3c23ea=attemptSendWithRetry(_0x47df2d['fn'],cfg[_0x1175fe(0x22f)+_0x1175fe(0x2e8)]||0x62c+-0x2581*0x1+0x1f57,cfg[_0x1175fe(0x22f)+_0x1175fe(0x227)]||0x1594+0x1*0x1647+-0x29e7*0x1,_0x3ddd08);_0x3c23ea['then'](_0x41259b=>_0x47df2d[_0x1175fe(0x372)](_0x41259b))[_0x1175fe(0x1ab)](_0x1fc4e0=>_0x47df2d[_0x1175fe(0x27b)](_0x1fc4e0));}catch(_0x14c40b){_0x47df2d[_0x1175fe(0x27b)](_0x14c40b);}}if(this[_0x1175fe(0x3e2)][_0x1175fe(0x244)]>-0x5*-0x6eb+-0x203d+-0x25a){const _0x1b1814=this[_0x1175fe(0x263)+'r']['timeUntilN'+_0x1175fe(0x3ea)+'le'](Date['now']());this[_0x1175fe(0x37f)]=setTimeout(()=>{const _0x2aa0b0=_0x1175fe;this[_0x2aa0b0(0x296)]=![],this[_0x2aa0b0(0x2c9)+'s']();},_0x1b1814+(-0x571*-0x4+0x21c1+0x22*-0x1a2));}else this[_0x1175fe(0x296)]=![];};try{_0x1e06a3();}catch(_0x38bcf7){this[_0x55ff95(0x296)]=![],error(_0x38bcf7,'OutgoingSe'+_0x55ff95(0x1ea)+_0x55ff95(0x22c)+_0x55ff95(0x18d));}}}class BotAPI extends _0xe77335{constructor(){const _0x5bfd16=_0x59ac9d;super(),this[_0x5bfd16(0x31b)]=new SimpleCache(),this[_0x5bfd16(0x1e4)]=store,this[_0x5bfd16(0x2fa)]=proto;}async['downloadMe'+'dia'](_0xfafc37,_0x50f0b8={}){const _0x379806=_0x59ac9d;try{return await downloadMediaMessage(_0xfafc37,_0x379806(0x38d),{},{'logger':baileysPinoLogger,..._0x50f0b8});}catch(_0x3f520e){error(_0x3f520e,_0x379806(0x236)+_0x379806(0x383)+_0x379806(0x3e4));throw _0x3f520e;}}['isGroup'](_0x5467b6){return isJidGroup(_0x5467b6);}[_0x59ac9d(0x1a4)](_0x1a5f53){const _0x30470a=_0x59ac9d;try{if(!_0x1a5f53||typeof _0x1a5f53!==_0x30470a(0x26e))return![];if(isJidGroup(_0x1a5f53))return![];if(isJidBroadcast(_0x1a5f53))return![];if(isJidStatusBroadcast(_0x1a5f53))return![];return _0x1a5f53[_0x30470a(0x231)]('@');}catch(_0x37b750){return debug(_0x30470a(0x36e)+'ck\x20failed',_0x37b750?.[_0x30470a(0x322)]||_0x37b750),![];}}[_0x59ac9d(0x26a)+'t'](_0x1d67bf){return isJidBroadcast(_0x1d67bf);}[_0x59ac9d(0x31c)+'eUser'](_0x13ad0c,_0x1bc8e2){return areJidsSameUser(_0x13ad0c,_0x1bc8e2);}[_0x59ac9d(0x182)+'oadcast'](_0x45af1f){const _0x2bb792=_0x59ac9d;try{return isJidStatusBroadcast(_0x45af1f);}catch(_0x139e33){return debug(_0x2bb792(0x182)+_0x2bb792(0x272)+_0x2bb792(0x237)+':',_0x139e33[_0x2bb792(0x322)]),![];}}[_0x59ac9d(0x1d7)+'erJid'](_0x557859){const _0x190db7=_0x59ac9d;try{return isJidNewsletter(_0x557859);}catch(_0x48de2f){return debug(_0x190db7(0x349)+_0x190db7(0x2f6)+_0x190db7(0x355),_0x48de2f[_0x190db7(0x322)]),![];}}['makeStatus'+_0x59ac9d(0x23e)]({id:_0x36f310,participant:_0x352454,body:_0x233a75,timestamp:_0x42052d}){const _0x325d01=_0x59ac9d;return{'key':{'id':_0x36f310,'remoteJid':_0x325d01(0x230)+_0x325d01(0x212),'participant':_0x352454,'fromMe':![]},'message':{'conversation':_0x233a75},'messageTimestamp':Math[_0x325d01(0x312)]((_0x42052d||Date[_0x325d01(0x1a9)]())/(-0xa38+-0x1*-0x48b+0x995))};}async[_0x59ac9d(0x1eb)+_0x59ac9d(0x2be)](_0x3de1ac){const _0x2bc681=_0x59ac9d;try{if(_0x3de1ac[_0x2bc681(0x322)]?.[_0x2bc681(0x30f)+_0x2bc681(0x3ca)])return getAggregateVotesInPollMessage({'message':_0x3de1ac[_0x2bc681(0x322)],'pollCreationMessage':_0x3de1ac[_0x2bc681(0x322)][_0x2bc681(0x30f)+_0x2bc681(0x3ca)]});return null;}catch(_0x1c1bba){return error(_0x1c1bba,'Failed\x20to\x20'+_0x2bc681(0x295)+_0x2bc681(0x2b1)),null;}}}const bot=new BotAPI();let sock=null,botJid=null,restartAttempts=0x10b5+-0x235+-0xe80;const MAX_BACKOFF=(-0x76*-0x33+0x642+-0x1dbf)*(-0x616+0x6*-0x2d7+0x17*0x104)*(0x1*0x1df7+0x5d*-0x10+0x1*-0x143f);let outgoingQueueGlobal=null,detachAllHandlers=null,registeredModules=new Set();const messageProcessingQueues=new Map();function normalizeJidForQueue(_0x4dd3db){const _0x5d4e67=_0x59ac9d;try{return jidNormalizedUser(_0x4dd3db||'');}catch(_0x45b53e){return error(_0x5d4e67(0x236)+_0x5d4e67(0x2cd)+'JID\x20for\x20qu'+_0x5d4e67(0x376),_0x45b53e[_0x5d4e67(0x322)]),String(_0x4dd3db||'');}}bot[_0x59ac9d(0x1ca)+_0x59ac9d(0x215)]=_0x53a495=>{const _0x220fe2=_0x59ac9d;registeredModules[_0x220fe2(0x18b)](_0x53a495);if(_0x53a495['attach'])try{_0x53a495['attach'](bot);}catch(_0x4b4356){warn(_0x220fe2(0x268)+_0x220fe2(0x250),_0x4b4356);}},bot[_0x59ac9d(0x30c)+_0x59ac9d(0x206)]=_0x61fe57=>{const _0x460727=_0x59ac9d;if(registeredModules['has'](_0x61fe57)){if(_0x61fe57[_0x460727(0x36a)])try{_0x61fe57[_0x460727(0x36a)](bot);}catch(_0x4e459e){warn('module.det'+_0x460727(0x250),_0x4e459e);}registeredModules[_0x460727(0x33e)](_0x61fe57);}};async function chooseBaileysVersion(){const _0x1b6584=_0x59ac9d;if(cfg[_0x1b6584(0x1dd)+_0x1b6584(0x170)]&&typeof cfg[_0x1b6584(0x1dd)+_0x1b6584(0x170)]===_0x1b6584(0x26e)){const _0x3ce939=cfg[_0x1b6584(0x1dd)+_0x1b6584(0x170)]['split']('.')[_0x1b6584(0x2f7)](_0x147014=>parseInt(_0x147014,-0xcf8+0x57a+0x788)||0x15bd+-0x2f1*0xa+-0x3*-0x28f);return{'version':_0x3ce939,'isLatest':![]};}try{return await fetchLatestBaileysVersion();}catch(_0x1a9c7f){return debug(_0x1b6584(0x236)+_0x1b6584(0x2e7)+'st\x20Baileys'+_0x1b6584(0x210)+_0x1b6584(0x16e)+_0x1b6584(0x3b0)+_0x1b6584(0x22e),_0x1a9c7f?.[_0x1b6584(0x322)]||_0x1a9c7f),{'version':[-0x4*-0x813+-0xf6b*0x2+-0x2*0xb8,-0x1*-0x474+0xa05+-0xe72,0x23a2+0x4*0x456+0x1a7d*-0x2],'isLatest':![]};}}function scheduleRestart(_0x116ede){const _0x3cc794=_0x59ac9d;restartAttempts++;const _0x3d8ca6=Math[_0x3cc794(0x24e)](MAX_BACKOFF,(-0x1*0x21d5+-0x595+-0xf*-0x3ee)*Math[_0x3cc794(0x198)](-0x1e84+0x293+0x1bf3,Math[_0x3cc794(0x21b)](0x4c9*-0x2+-0x989+0x49*0x43,restartAttempts-(-0x7f*0x49+-0x221+0x2659))));info(_0x3cc794(0x39b)+'\x20restart\x20a'+_0x3cc794(0x3df)+restartAttempts+_0x3cc794(0x388)+_0x3d8ca6/(-0x25f4+0x1d95*-0x1+-0x1*-0x4771)+_0x3cc794(0x1fc)+_0x116ede),setTimeout(async()=>{const _0x9f2078=_0x3cc794;info(_0x9f2078(0x1ed)+_0x9f2078(0x270)+_0x9f2078(0x324));try{if(detachAllHandlers){try{detachAllHandlers();}catch(_0x651bea){debug('Error\x20duri'+_0x9f2078(0x20a)+_0x9f2078(0x404)+_0x9f2078(0x1c7)+'t:',_0x651bea[_0x9f2078(0x322)]);}detachAllHandlers=null;}if(sock){try{sock['end'](new Error(_0x9f2078(0x2a2)+'\x20bot'));}catch(_0x231d49){}try{sock['ev'][_0x9f2078(0x1f7)+'isteners']?.();}catch(_0x2d8407){}sock=null;}if(outgoingQueueGlobal){try{outgoingQueueGlobal['nextTimer']&&clearTimeout(outgoingQueueGlobal[_0x9f2078(0x37f)]);}catch(_0x2a4869){}outgoingQueueGlobal=null;}await startBot();}catch(_0x3f8620){error(_0x3f8620,_0x9f2078(0x1cf)+_0x9f2078(0x185)+_0x9f2078(0x1d9)+_0x9f2078(0x3c4)+_0x9f2078(0x2e4)+_0x9f2078(0x3c7)),scheduleRestart(_0x116ede);}},_0x3d8ca6);}async function cleanupTempFiles(_0x137f7d){const _0x578873=_0x59ac9d;info('Running\x20cl'+_0x578873(0x3f5)+_0x578873(0x217)+_0x578873(0x24f)+_0x137f7d+'...');try{const _0x1c5fed=await _0x3a0099[_0x578873(0x3ef)](_0x137f7d);let _0x504876=-0x1753+-0x2*-0x1de+0x1397;for(const _0x283eb0 of _0x1c5fed){if(_0x283eb0[_0x578873(0x36b)](_0x578873(0x28d))){const _0xf67544=_0x51f81d[_0x578873(0x261)](_0x137f7d,_0x283eb0);try{await _0x3a0099['unlink'](_0xf67544),debug(_0x578873(0x1b0)+_0x578873(0x1a1)+_0x578873(0x33f)+_0xf67544),_0x504876++;}catch(_0x2bc05e){warn(_0x578873(0x236)+_0x578873(0x3e9)+_0x578873(0x2a0)+_0xf67544+':',_0x2bc05e);}}}if(_0x504876>0x32*-0x28+0x2*-0x557+0x6*0x315)info(_0x578873(0x3f0)+_0x578873(0x384)+'leted\x20'+_0x504876+(_0x578873(0x271)+'\x20file(s).'));else info(_0x578873(0x253)+_0x578873(0x333)+_0x578873(0x1a7)+_0x578873(0x306));}catch(_0x3800da){if(_0x3800da['code']!=='ENOENT')warn(_0x578873(0x3d8)+_0x578873(0x1e6)+_0x578873(0x1bb)+'eanup\x20in\x20'+_0x137f7d+':',_0x3800da);}}async function startBot(){const _0x5300f3=_0x59ac9d;try{let _0xfb0d53;try{const _0x430175=await import('./qrcode.js');_0xfb0d53=_0x430175['ensureAuth'],deepSerialize=_0x430175[_0x5300f3(0x1b2)+_0x5300f3(0x1ec)];if(!_0xfb0d53||!deepSerialize)throw new Error(_0x5300f3(0x1e8)+_0x5300f3(0x36d)+_0x5300f3(0x184)+'orts.');info('qrcode.js\x20'+_0x5300f3(0x399)+_0x5300f3(0x35f));}catch(_0x167933){error(_0x5300f3(0x236)+_0x5300f3(0x2f9)+_0x5300f3(0x1be)+_0x5300f3(0x379)+_0x5300f3(0x27a),_0x167933),scheduleRestart(_0x5300f3(0x3b1)+_0x5300f3(0x281));return;}const _0x5023c8=cfg[_0x5300f3(0x3d2)+_0x5300f3(0x2e6)]||_0x5300f3(0x326),{version:_0x1c211f,isLatest:_0x235634}=await chooseBaileysVersion();await cleanupTempFiles(_0x5023c8);try{const _0x290bda=await import('./utils/database.js');_0x290bda['initialize'+_0x5300f3(0x3b7)]&&(await _0x290bda[_0x5300f3(0x3ae)+_0x5300f3(0x3b7)](),info(_0x5300f3(0x214)+_0x5300f3(0x249)+_0x5300f3(0x2ea)+_0x5300f3(0x1a6)));}catch(_0x4939b3){info('Database\x20i'+'nitializat'+_0x5300f3(0x1c1)+_0x5300f3(0x378)+'d.');}!SESSION_ID&&(fatal(_0x5300f3(0x356)+_0x5300f3(0x3ce)+'\x20not\x20set\x20i'+'n\x20environm'+_0x5300f3(0x25d)+_0x5300f3(0x1b1)+_0x5300f3(0x39c)+'unction.'),process['exit'](0x3*-0x161+-0x465*-0x2+-0x5*0xee));info(_0x5300f3(0x353)+'ION_ID:\x20'+SESSION_ID);const _0x4e20cd=async()=>{const _0x2be9a9=_0x5300f3;let _0x5943a7=await loadLocalCredsFileStartup(_0x5023c8);if(looksLikeCreds(_0x5943a7))return info(_0x2be9a9(0x3b4)+_0x2be9a9(0x24c)+'ound.\x20Proc'+'eeding\x20wit'+_0x2be9a9(0x3e6)+_0x2be9a9(0x37e)),await _0xfb0d53({'authDir':_0x5023c8,'creds':_0x5943a7,'browser':cfg[_0x2be9a9(0x39e)+_0x2be9a9(0x2d2)]});warn(_0x2be9a9(0x1ee)+_0x2be9a9(0x1e2)+'l\x20creds.\x20A'+_0x2be9a9(0x3c8)+_0x2be9a9(0x17c)+_0x2be9a9(0x393)+_0x2be9a9(0x3ab));try{const _0x11dfe8=await fetchRemoteCredsAxios(SESSION_ID);if(looksLikeCreds(_0x11dfe8))return info(_0x2be9a9(0x3cd)+_0x2be9a9(0x2da)+_0x2be9a9(0x27c)+_0x2be9a9(0x2b0)+'ly.'),await writeLocalCredsFile(_0x11dfe8,_0x5023c8),await _0xfb0d53({'authDir':_0x5023c8,'creds':_0x11dfe8,'browser':cfg[_0x2be9a9(0x39e)+_0x2be9a9(0x2d2)]});warn('[AUTH]\x20Rem'+_0x2be9a9(0x17f)+_0x2be9a9(0x18e)+_0x2be9a9(0x2ca));}catch(_0x5afb0b){warn('[AUTH]\x20Rem'+_0x2be9a9(0x341)+'ry\x20failed:'+'\x20'+_0x5afb0b[_0x2be9a9(0x322)]+'.');}return null;},_0x5c8f94=await _0x4e20cd();if(!_0x5c8f94){info(_0x5300f3(0x329)+_0x5300f3(0x3ba)+_0x5300f3(0x2e2)+_0x5300f3(0x27d)+_0x5300f3(0x233)+_0x5300f3(0x179)+_0x5300f3(0x31a)+_0x5300f3(0x298));const _0x13a6ab=await _0xfb0d53({'authDir':_0x5023c8,'browser':cfg[_0x5300f3(0x39e)+_0x5300f3(0x2d2)]});if(!_0x13a6ab||!_0x13a6ab[_0x5300f3(0x2fe)]){scheduleRestart(_0x5300f3(0x236)+'obtain\x20any'+'\x20valid\x20cre'+'dentials\x20a'+_0x5300f3(0x277)+_0x5300f3(0x2b6)+'.');return;}registerAuthStateForFlush({'state':_0x13a6ab['state'],'authDir':_0x5023c8});}else registerAuthStateForFlush({'state':_0x5c8f94['state'],'authDir':_0x5023c8});const {state:_0x3f8870}=_authState_for_flush,_0x3e74f9=makeCacheableSignalKeyStore(_0x3f8870[_0x5300f3(0x334)],baileysPinoLogger),_0x273c57=_0x55565c=>{const _0x1ef3c9=_0x5300f3,_0xb4adab=[_0x1ef3c9(0x2df),_0x1ef3c9(0x305)];for(const _0x37d82f of _0xb4adab){const _0x2c7507=_0x55565c[_0x37d82f];_0x55565c[_0x37d82f]=function(..._0x3af8dc){const _0x521acc=_0x2c7507['apply'](this,_0x3af8dc);return scheduleAuthFlush(),_0x521acc;};}};_0x273c57(_0x3e74f9);const _0x51a4ea=new SlidingWindowRateLimiter(cfg[_0x5300f3(0x3ff)][_0x5300f3(0x309)]||-0x76a*0x1+0x13*0xd2+-0x444,cfg[_0x5300f3(0x3ff)][_0x5300f3(0x2ae)]||-0x1415+-0x1b22+0x2f3c);outgoingQueueGlobal=new OutgoingSendQueue(_0x51a4ea,{'maxQueue':cfg[_0x5300f3(0x2c7)+_0x5300f3(0x3ec)]}),info(_0x5300f3(0x3d5)+_0x5300f3(0x3c3)+'n\x20'+_0x1c211f[_0x5300f3(0x261)]('.')+(_0x5300f3(0x2d8)+'=')+_0x235634);const _0x33e12c=[{'stream':baileysLogInterceptor,'level':_0x5300f3(0x369)},{'stream':process['stderr'],'level':baileysPinoLevel}];baileysPinoLogger=_0xffe3a1({'level':'trace'},_0xffe3a1[_0x5300f3(0x1e3)+'m'](_0x33e12c)),sock=makeWASocket({'version':_0x1c211f,'auth':{'creds':_0x3f8870[_0x5300f3(0x19d)],'keys':_0x3e74f9},'logger':baileysPinoLogger,'browser':cfg[_0x5300f3(0x39e)+_0x5300f3(0x2d2)],'shouldIgnoreJid':_0x4d1009=>typeof _0x4d1009===_0x5300f3(0x26e)&&_0x4d1009['includes'](_0x5300f3(0x1d4))&&!isJidStatusBroadcast(_0x4d1009),'syncFullHistory':cfg['SYNC_FULL_'+_0x5300f3(0x292)]||![]}),store[_0x5300f3(0x181)](sock['ev']),sock['ev']['on']('creds.upda'+'te',_0x2c6415=>{const _0x294e23=_0x5300f3;try{Object['assign'](_0x3f8870['creds'],_0x2c6415),scheduleAuthFlush();}catch(_0x1b1f2e){debug(_0x294e23(0x34b)+'te\x20handler'+_0x294e23(0x1fb),_0x1b1f2e?.[_0x294e23(0x322)]||_0x1b1f2e);}});const _0x7d2cc=sock[_0x5300f3(0x3e7)+'e']['bind'](sock);sock[_0x5300f3(0x3e7)+'e']=(_0x479f7d,_0x1972f1={},_0x3c687b={})=>{const _0x8757e9=_0x5300f3,_0x1b75da=()=>_0x7d2cc(_0x479f7d,_0x1972f1,_0x3c687b),_0x296fe3=_0x3c687b&&typeof _0x3c687b['priority']===_0x8757e9(0x21c)?_0x3c687b[_0x8757e9(0x386)]:-0x1799+0x1*0x1459+-0x1*-0x340;return outgoingQueueGlobal[_0x8757e9(0x235)](_0x1b75da,{'priority':_0x296fe3});};const _0x25e7f3=[],_0x14ea25=(_0x4798d0,_0x15cbdb)=>{const _0x4c67a2=_0x5300f3;sock['ev']['on'](_0x4798d0,_0x15cbdb),_0x25e7f3[_0x4c67a2(0x3b5)]({'event':_0x4798d0,'handler':_0x15cbdb});};detachAllHandlers=()=>{const _0x35de57=_0x5300f3;for(const {event:_0x5098cb,handler:_0x402ac5}of _0x25e7f3){try{sock['ev'][_0x35de57(0x17b)](_0x5098cb,_0x402ac5);}catch(_0x1c38a9){}}_0x25e7f3[_0x35de57(0x244)]=-0x789+-0x1503*0x1+-0x1c*-0x105;};const _0x310b2b=async({connection:_0x3ce01b,lastDisconnect:_0x6ce198})=>{const _0x4160c7=_0x5300f3;bot[_0x4160c7(0x1ad)](_0x4160c7(0x37a)+_0x4160c7(0x343),{'connection':_0x3ce01b,'lastDisconnect':_0x6ce198});if(_0x3ce01b===_0x4160c7(0x318)){const {error:_0x224e80}=_0x6ce198,_0x165819=_0x224e80?.[_0x4160c7(0x3bc)]?.[_0x4160c7(0x29a)],_0x51d9e7=[DisconnectReason['loggedOut'],DisconnectReason[_0x4160c7(0x37a)+_0x4160c7(0x21e)],DisconnectReason[_0x4160c7(0x2ad)]][_0x4160c7(0x231)](_0x165819);if(_0x51d9e7){error(_0x4160c7(0x1f8)+_0x4160c7(0x1bf)+_0x4160c7(0x1ef)+(DisconnectReason[_0x165819]||_0x4160c7(0x361))+(_0x4160c7(0x327)+_0x4160c7(0x255)+_0x4160c7(0x3e5)+_0x4160c7(0x288)));try{await _0x3a0099['rm'](_0x5023c8,{'recursive':!![],'force':!![]}),info(_0x4160c7(0x1bd)+_0x4160c7(0x3c2)+_0x4160c7(0x350)+_0x4160c7(0x2e3)+_0x4160c7(0x37e));}catch(_0xcae234){error(_0x4160c7(0x236)+_0x4160c7(0x18a)+_0x4160c7(0x302)+'y.',_0xcae234);}restartAttempts=0x64a*0x4+-0x25d8+-0xe*-0xe8,scheduleRestart(DisconnectReason[_0x165819]||_0x4160c7(0x3f1)+_0x165819);}else{info(_0x4160c7(0x31e)+_0x4160c7(0x25b)+_0x4160c7(0x3a3)+_0x4160c7(0x351)+'ing\x20reconn'+_0x4160c7(0x2a1)+_0x4160c7(0x20e)+(restartAttempts+(-0x1*0xcb6+-0x5*0x3df+-0x2*-0x1009)));if(restartAttempts>=0x7*-0x427+0x1*0xf6f+0xda7){error(_0x4160c7(0x276)+'\x20connectio'+'n\x20failure\x20'+'('+(restartAttempts+(-0x1*-0x19da+0x1*0x1c8d+-0x3666))+(_0x4160c7(0x2eb)+_0x4160c7(0x327)+_0x4160c7(0x255)+_0x4160c7(0x3e5)+_0x4160c7(0x288)));try{await _0x3a0099['rm'](_0x5023c8,{'recursive':!![],'force':!![]}),info('Deleted\x20au'+_0x4160c7(0x3c2)+_0x4160c7(0x350)+_0x4160c7(0x2d0)+'\x20connectio'+_0x4160c7(0x2b8)+'.');}catch(_0x15cf3d){error(_0x4160c7(0x236)+'delete\x20aut'+_0x4160c7(0x302)+'y.',_0x15cf3d);}restartAttempts=0x190b+0x1156*0x1+-0x1*0x2a61;}scheduleRestart(String(_0x224e80||_0x4160c7(0x29c)));}}else{if(_0x3ce01b===_0x4160c7(0x38b)){restartAttempts=0x5ed+-0x26d7+0x20ea,botJid=sock[_0x4160c7(0x2b5)]?.['id'],info(_0x4160c7(0x316)+_0x4160c7(0x173)+'for\x20'+jidNormalizedUser(botJid)),bot[_0x4160c7(0x3e7)+'e']=sock['sendMessag'+'e'],bot['sock']=sock,bot[_0x4160c7(0x282)]=_0x56d035=>bot['cache'][_0x4160c7(0x2d5)]('contact:'+_0x56d035)||null,initBotState(bot);try{const _0x24ddda=await import('./utils/loader.js');if(_0x24ddda[_0x4160c7(0x3ae)+_0x4160c7(0x2af)])await withTimeout(_0x24ddda['initialize'+_0x4160c7(0x2af)](bot),-0x752c+0x5352+0x5c72,_0x4160c7(0x34c)+_0x4160c7(0x377)+_0x4160c7(0x264));}catch(_0x592424){warn('Failed\x20to\x20'+_0x4160c7(0x2a6)+_0x4160c7(0x26d)+_0x4160c7(0x21a)+'e',_0x592424?.[_0x4160c7(0x322)]||_0x592424);}}}};_0x14ea25(_0x5300f3(0x37a)+'.update',_0x310b2b);function _0x389be0(_0x4071dd){const _0xa6da80=_0x5300f3;if(!_0x4071dd)return'';return _0x4071dd['conversati'+'on']||_0x4071dd['extendedTe'+'xtMessage']?.[_0xa6da80(0x36c)]||_0x4071dd[_0xa6da80(0x342)+'ge']?.[_0xa6da80(0x26f)]||_0x4071dd[_0xa6da80(0x1e0)+'ge']?.[_0xa6da80(0x26f)]||_0x4071dd['statusText'+_0xa6da80(0x1b4)]?.[_0xa6da80(0x36c)]||_0x4071dd[_0xa6da80(0x39d)+_0xa6da80(0x3ee)+'ge']?.[_0xa6da80(0x20f)+_0xa6da80(0x339)]||_0x4071dd[_0xa6da80(0x223)+_0xa6da80(0x24a)]?.[_0xa6da80(0x3a8)+_0xa6da80(0x219)]?.[_0xa6da80(0x20f)+'splayText']||'';}const _0x87361c=async({messages:_0x485f3d,type:_0x17c024})=>{const _0x50316b=_0x5300f3;bot[_0x50316b(0x1ad)]('messages.u'+_0x50316b(0x192),{'messages':_0x485f3d,'type':_0x17c024});if(_0x17c024==='notify')for(const _0x276689 of _0x485f3d){if(_0x276689[_0x50316b(0x382)]&&_0x276689[_0x50316b(0x322)]){const _0x637d8d=_0x389be0(_0x276689['message']);_0x637d8d&&messageEditCache[_0x50316b(0x2df)](_0x276689[_0x50316b(0x382)]['id'],{'text':_0x637d8d,'timestamp':Date[_0x50316b(0x1a9)]()});}try{store[_0x50316b(0x2d6)+'x'](_0x276689[_0x50316b(0x382)]?.[_0x50316b(0x3db)]||_0x50316b(0x29c))[_0x50316b(0x19b)](_0x276689,_0x50316b(0x348));}catch(_0x2d0f11){}const _0x134886=_0x276689['key']?.[_0x50316b(0x3db)]||_0x50316b(0x20d)+'at';!messageProcessingQueues[_0x50316b(0x3b9)](_0x134886)&&messageProcessingQueues[_0x50316b(0x2df)](_0x134886,new _0x24cff7({'concurrency':0x1})),messageProcessingQueues['get'](_0x134886)[_0x50316b(0x18b)](()=>_0x6851f8(_0x276689))[_0x50316b(0x1ab)](_0x2e8002=>{const _0x31a23c=_0x50316b;error(_0x2e8002,_0x31a23c(0x2b9)+'essing\x20liv'+_0x31a23c(0x1ae)+_0x276689[_0x31a23c(0x382)]['id']);});}else{debug(_0x50316b(0x3d7)+_0x50316b(0x211)+_0x485f3d[_0x50316b(0x244)]+(_0x50316b(0x358)+_0x50316b(0x280)+'\x20type\x20\x22')+_0x17c024+(_0x50316b(0x22a)+'g\x20for\x20stor'+'age.'));const _0x48a29d=new Map();for(const _0x401bbc of _0x485f3d){const _0x1a6f31=_0x401bbc[_0x50316b(0x382)]?.[_0x50316b(0x3db)]||_0x50316b(0x29c);if(!_0x48a29d[_0x50316b(0x3b9)](_0x1a6f31))_0x48a29d[_0x50316b(0x2df)](_0x1a6f31,[]);_0x48a29d[_0x50316b(0x2d5)](_0x1a6f31)[_0x50316b(0x3b5)](_0x401bbc);}for(const [_0x40461b,_0xa9e31b]of _0x48a29d[_0x50316b(0x27f)]()){const _0x432c38=store[_0x50316b(0x2d6)+'x'](_0x40461b);for(const _0x5dd105 of _0xa9e31b)_0x432c38[_0x50316b(0x19b)](_0x5dd105,_0x50316b(0x34a));}debug(_0x50316b(0x1da)+_0x50316b(0x301)+_0x485f3d[_0x50316b(0x244)]+(_0x50316b(0x358)+'essages\x20ac'+_0x50316b(0x29f))+_0x48a29d[_0x50316b(0x18c)]+_0x50316b(0x357));}};async function _0x6851f8(_0xc4618c){const _0x463b6b=_0x5300f3;let _0x53d16a=new Set();try{const loader=await import('./utils/loader.js');if(loader[_0x463b6b(0x371)+_0x463b6b(0x2c0)])_0x53d16a=loader[_0x463b6b(0x371)+_0x463b6b(0x2c0)]();}catch(_0xbe629b){}try{bot[_0x463b6b(0x1ad)](_0x463b6b(0x2cc)+'e',_0xc4618c);if(!_0xc4618c[_0x463b6b(0x322)])return;const _0x3f18be=Array['isArray'](cfg['COMMAND_PR'+'EFIX'])?cfg[_0x463b6b(0x1c2)+_0x463b6b(0x3d9)][_0x463b6b(0x299)]()[_0x463b6b(0x1a5)]((_0x505baf,_0x1be9ec)=>_0x1be9ec[_0x463b6b(0x244)]-_0x505baf['length']):typeof cfg[_0x463b6b(0x1c2)+_0x463b6b(0x3d9)]===_0x463b6b(0x26e)?[cfg['COMMAND_PR'+_0x463b6b(0x3d9)]]:null,_0x3e02e2=_0x389be0(_0xc4618c['message']);let _0x2edd29=_0x3e02e2,_0x49172b=![];if(_0x3f18be===null){const _0x1663ce=_0x3e02e2[_0x463b6b(0x3ed)]()[_0x463b6b(0x1b3)](/ +/)['shift']()?.[_0x463b6b(0x2e1)+'e']();_0x1663ce&&_0x53d16a[_0x463b6b(0x3b9)](_0x1663ce)&&(_0x49172b=!![]);}else{const _0x206b15=_0x3f18be[_0x463b6b(0x3a0)](_0x1df28b=>_0x3e02e2[_0x463b6b(0x175)](_0x1df28b));if(_0x206b15){const _0x1bb4bc=_0x3e02e2[_0x463b6b(0x299)](_0x206b15[_0x463b6b(0x244)])['trim']();_0x1bb4bc&&(_0x49172b=!![],_0x2edd29=_0x1bb4bc);}}const _0x26a5c0=_0xc4618c['key']?.[_0x463b6b(0x3db)],_0x1d9609=!!(_0x26a5c0&&isJidStatusBroadcast(_0x26a5c0)),_0x936f57=_0xc4618c[_0x463b6b(0x382)][_0x463b6b(0x374)+'t']||_0xc4618c['key'][_0x463b6b(0x3db)],_0x3ec887={'message':_0xc4618c[_0x463b6b(0x322)],'key':_0xc4618c[_0x463b6b(0x382)],'pushName':_0xc4618c[_0x463b6b(0x193)],'remoteJid':_0x26a5c0,'sender':_0x936f57,'fromMe':_0xc4618c[_0x463b6b(0x382)][_0x463b6b(0x30b)],'messageTimestamp':_0xc4618c[_0x463b6b(0x2ee)+_0x463b6b(0x3dd)],'rawText':_0x3e02e2,'text':_0x2edd29,'isCommand':_0x49172b,'isStatus':_0x1d9609,'proto':proto,'reply':_0x5ec325=>{const _0x221d6c=_0x463b6b,_0x439079=_0x1d9609?_0x936f57:_0x26a5c0;if(!_0x439079)return Promise[_0x221d6c(0x27b)](new Error(_0x221d6c(0x2c5)+_0x221d6c(0x3b8)+_0x221d6c(0x289)));return sock['sendMessag'+'e'](_0x439079,_0x5ec325,{'quoted':_0xc4618c});}};if(isJidGroup(_0x26a5c0))try{await isadmin(bot,_0x3ec887)&&await _0x28ea18[_0x463b6b(0x3c1)+_0x463b6b(0x2d1)+'r'](_0x3ec887[_0x463b6b(0x33b)],_0x3ec887[_0x463b6b(0x3db)]);}catch(_0x5e9ff6){}if(_0x1d9609)bot[_0x463b6b(0x1ad)]('status',_0x3ec887);bot[_0x463b6b(0x1ad)](_0x463b6b(0x322),_0x3ec887);}catch(_0x35dac2){error(_0x35dac2,'Failed\x20to\x20'+_0x463b6b(0x381)+_0x463b6b(0x303)+_0xc4618c[_0x463b6b(0x382)]?.['id']);}}_0x14ea25('messages.u'+'psert',_0x87361c);const _0x36487f=_0xf569e2=>{const _0x2334e9=_0x5300f3;bot[_0x2334e9(0x1ad)](_0x2334e9(0x246)+_0x2334e9(0x315),_0xf569e2);for(const _0x16bcb1 of _0xf569e2){if(_0x16bcb1[_0x2334e9(0x3f6)]?.[_0x2334e9(0x322)]?.[_0x2334e9(0x21d)+_0x2334e9(0x240)]){const _0x446bc0=_0x16bcb1[_0x2334e9(0x382)]['id'],_0x2c8a9b=messageEditCache[_0x2334e9(0x2d5)](_0x446bc0),_0x279c5d=_0x2c8a9b?_0x2c8a9b['text']:null;if(_0x279c5d){const _0x2a0abe={'event':_0x2334e9(0x1ce)+'it','chatId':_0x16bcb1[_0x2334e9(0x382)][_0x2334e9(0x3db)],'fromMe':_0x16bcb1[_0x2334e9(0x382)][_0x2334e9(0x30b)],'originalMessageId':_0x446bc0,'oldText':_0x279c5d,'newText':_0x16bcb1['update']['message'][_0x2334e9(0x21d)+'age']['message']?.[_0x2334e9(0x238)+'on'],'timestamp':new Date((_0x16bcb1[_0x2334e9(0x3f6)]['messageTim'+_0x2334e9(0x3dd)]||Date[_0x2334e9(0x1a9)]()/(-0x799*-0x1+-0x1*-0x21fd+-0x2e6*0xd))*(-0xbad+0x13c2+-0x1*0x42d))[_0x2334e9(0x365)+'g']()};bot['emit'](_0x2334e9(0x332)+'it',_0x2a0abe);}else debug(_0x2334e9(0x1d3)+_0x2334e9(0x29b)+'\x20message\x20'+_0x446bc0+('\x20not\x20in\x20ca'+'che.\x20Skipp'+_0x2334e9(0x3e1)+_0x2334e9(0x297)));if(_0x2c8a9b)messageEditCache[_0x2334e9(0x33e)](_0x446bc0);}}};_0x14ea25('messages.u'+_0x5300f3(0x315),_0x36487f);const _0x3b0871=_0x1c5f79=>{const _0x270065=_0x5300f3;bot[_0x270065(0x1ad)](_0x270065(0x1f6)+_0x270065(0x1ba)+_0x270065(0x315),_0x1c5f79);const {id:_0x41e38d,action:_0x3cebf7,author:_0x8b238c,participants:_0x7b20ba}=_0x1c5f79;_0x3cebf7===_0x270065(0x305)&&_0x8b238c&&_0x7b20ba?.[_0x270065(0x244)]===-0x793+-0x25e9*0x1+0x11*0x2ad&&_0x8b238c===_0x7b20ba[0xb33+0x1787+-0x22ba]&&(voluntaryLeaverStore[_0x270065(0x2df)](_0x8b238c,{'groupId':_0x41e38d}),setTimeout(()=>{voluntaryLeaverStore['delete'](_0x8b238c);},-0x56a+0x1f63*-0x1+0x3855));};_0x14ea25(_0x5300f3(0x1f6)+_0x5300f3(0x1ba)+_0x5300f3(0x315),_0x3b0871);const _0x50de3b=['messages.d'+'elete',_0x5300f3(0x3dc)+_0x5300f3(0x400),_0x5300f3(0x346)+_0x5300f3(0x1d6)+'te','messages.m'+_0x5300f3(0x3a4)+'e',_0x5300f3(0x308)+_0x5300f3(0x315),'contacts.u'+_0x5300f3(0x192),_0x5300f3(0x3e8)+'pdate',_0x5300f3(0x195)+'rt',_0x5300f3(0x1e7)+'te',_0x5300f3(0x293)+'te',_0x5300f3(0x204)+_0x5300f3(0x174),'groups.ups'+_0x5300f3(0x1b9),'group.join'+_0x5300f3(0x1d2),'call',_0x5300f3(0x2fb)+'set',_0x5300f3(0x2fb)+'update',_0x5300f3(0x313)+'t',_0x5300f3(0x287)+_0x5300f3(0x28b),'messaging-'+_0x5300f3(0x202)+'t',_0x5300f3(0x3d6)+'.join-requ'+_0x5300f3(0x285)];for(const _0x67d951 of _0x50de3b){_0x67d951!==_0x5300f3(0x246)+_0x5300f3(0x315)&&_0x14ea25(_0x67d951,_0x42f27d=>bot[_0x5300f3(0x1ad)](_0x67d951,_0x42f27d));}}catch(_0x174127){error(_0x174127,_0x5300f3(0x236)+_0x5300f3(0x229));const _0x4775fb=(_0x174127[_0x5300f3(0x322)]||_0x174127[_0x5300f3(0x362)]||'')[_0x5300f3(0x2e1)+'e']();if(_0x4775fb['includes'](_0x5300f3(0x3bd))||_0x4775fb[_0x5300f3(0x231)](_0x5300f3(0x19d))||_0x4775fb[_0x5300f3(0x231)](_0x5300f3(0x389))||_0x4775fb[_0x5300f3(0x231)](_0x5300f3(0x382))){warn(_0x5300f3(0x3bb)+_0x5300f3(0x3bf)+_0x5300f3(0x2d9)+_0x5300f3(0x390)+_0x5300f3(0x32e)+_0x5300f3(0x2fc)+_0x5300f3(0x2ba)+'.');try{const _0x3460dd=cfg['AUTH_STATE'+'_DIR']||_0x5300f3(0x326);await _0x3a0099['rm'](_0x3460dd,{'recursive':!![],'force':!![]}),info('Deleted\x20au'+_0x5300f3(0x3c2)+'ry\x20due\x20to\x20'+_0x5300f3(0x221)+'ilure.');}catch(_0x6af3ed){error(_0x5300f3(0x236)+_0x5300f3(0x18a)+'h\x20director'+_0x5300f3(0x1fd)+'ailure\x20han'+_0x5300f3(0x1fe),_0x6af3ed);}restartAttempts=0x18de+-0x5*0x3f5+0x515*-0x1;}scheduleRestart('Initial\x20st'+_0x5300f3(0x1a3));}}let shuttingDown=![];async function shutdown(_0x14f1f5){const _0x2a495e=_0x59ac9d;if(shuttingDown)return;shuttingDown=!![],info('Shutting\x20d'+_0x2a495e(0x2ac)+'l='+_0x14f1f5+')...');try{outgoingQueueGlobal&&(outgoingQueueGlobal[_0x2a495e(0x235)]=()=>Promise[_0x2a495e(0x27b)](new Error(_0x2a495e(0x1a0)+'own')));await Promise[_0x2a495e(0x22b)](Array[_0x2a495e(0x279)](messageProcessingQueues[_0x2a495e(0x266)]())['map'](_0x4fa80a=>_0x4fa80a[_0x2a495e(0x251)]())),info(_0x2a495e(0x245)+'eues\x20drain'+_0x2a495e(0x274)),await flushAuthToDisk();store&&store[_0x2a495e(0x257)+'e']&&(await store[_0x2a495e(0x257)+'e'](_0x51f81d[_0x2a495e(0x261)](cfg[_0x2a495e(0x3d2)+_0x2a495e(0x2e6)]||'.auth','store.json')),info('Store\x20save'+'d.'));if(detachAllHandlers)detachAllHandlers();if(sock)sock[_0x2a495e(0x34d)](new Error(_0x2a495e(0x3a2)+_0x2a495e(0x2a4)+'\x20'+_0x14f1f5));bot[_0x2a495e(0x31b)]?.[_0x2a495e(0x318)]?.();if(cacheSweepTimer)clearInterval(cacheSweepTimer);}catch(_0x2bb8bb){error(_0x2bb8bb,_0x2a495e(0x3d8)+_0x2a495e(0x1e1)+'n');}finally{info(_0x2a495e(0x367)+_0x2a495e(0x2dc)),process[_0x2a495e(0x2ff)](-0x1147+0x95a+0x7ed);}}process['on']('SIGINT',()=>shutdown('SIGINT')),process['on'](_0x59ac9d(0x31d),()=>shutdown(_0x59ac9d(0x31d))),process['on']('uncaughtEx'+_0x59ac9d(0x364),_0x1ca6b1=>{const _0x48fde6=_0x59ac9d;fatal(_0x48fde6(0x189)+'ception',_0x1ca6b1);}),process['on'](_0x59ac9d(0x2f5)+_0x59ac9d(0x17e),_0x344453=>{const _0x2958df=_0x59ac9d;fatal(_0x2958df(0x2f5)+_0x2958df(0x17e),_0x344453);}),startBot()[_0x59ac9d(0x1ab)](_0xf90f1b=>{const _0x4b4fee=_0x59ac9d;error(_0xf90f1b,_0x4b4fee(0x236)+_0x4b4fee(0x24b)+'from\x20initi'+_0x4b4fee(0x2bb)),scheduleRestart(_0x4b4fee(0x2f4)+'art\x20failed');});export default bot;