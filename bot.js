const _0x45b4cf=_0x5529;(function(_0x126d41,_0xb1c4df){const _0x4f80d4=_0x5529,_0x5e79c8=_0x126d41();while(!![]){try{const _0x1a6178=-parseInt(_0x4f80d4(0x3d6))/(-0x9*0xe3+0x1*-0x12af+0x1aab)*(parseInt(_0x4f80d4(0x28e))/(-0xbeb+-0x1ead+0x2a9a))+parseInt(_0x4f80d4(0x2d0))/(-0x246*0x2+-0x481*-0x4+-0x1*0xd75)*(-parseInt(_0x4f80d4(0x190))/(-0x8b0+-0x3*0x511+0x17e7))+parseInt(_0x4f80d4(0x2a1))/(0xb9f+-0xe3b*-0x2+-0x2810)+-parseInt(_0x4f80d4(0x1a2))/(-0xf3d*0x1+0x1831+0x477*-0x2)+parseInt(_0x4f80d4(0x283))/(0x257f+0x11*-0x7+0x1*-0x2501)+-parseInt(_0x4f80d4(0x2ca))/(0x1f76+0x98a+-0x28f8)+parseInt(_0x4f80d4(0x209))/(-0x148f+-0x72+-0x1*-0x150a)*(parseInt(_0x4f80d4(0x371))/(-0x1066+-0x18c9+0x1*0x2939));if(_0x1a6178===_0xb1c4df)break;else _0x5e79c8['push'](_0x5e79c8['shift']());}catch(_0x2fe1a7){_0x5e79c8['push'](_0x5e79c8['shift']());}}}(_0x51d9,-0x5*-0x4cd46+-0xa5a8*0x4+-0x8f692));import _0x160513 from'axios';import{makeWASocket,fetchLatestBaileysVersion,DisconnectReason,jidNormalizedUser,makeCacheableSignalKeyStore,downloadMediaMessage,getAggregateVotesInPollMessage,proto,areJidsSameUser,isJidGroup,isJidStatusBroadcast,isJidBroadcast,isJidNewsletter}from'@whiskeysockets/baileys';import _0x55a75e from'pino';import _0x4552f7 from'events';import _0x17c136 from'path';import _0x5c58ab from'fs/promises';import{existsSync,readFileSync}from'fs';import{fileURLToPath}from'url';function _0x5529(_0x445be6,_0x88a610){_0x445be6=_0x445be6-(0x10be*-0x2+-0x64*0x4b+-0x4031*-0x1);const _0x26a3d2=_0x51d9();let _0x5d4fff=_0x26a3d2[_0x445be6];return _0x5d4fff;}import{createRequire}from'module';import _0x4e984d from'p-queue';import{Writable}from'stream';import{initLogger,debug,info,warn,error,fatal}from'./utils/logger.js';function _0x51d9(){const _0x47c5c5=['has','contact:','toLowerCas','extAvailab','g\x20for\x20stor','successes','ote\x20API\x20re','conversati','reject','files\x20in\x20','mically\x20wr','session.','ftover\x20tem','re\x20restart','edia','ensureAuth','\x20mins.','te=','import/ini','4741936YbSlGD','ted\x20creds\x20','g\x20prekey\x20b','Modules','hutdown\x20on','output','3TwZjqd','ror:Error:','eeding\x20wit','Running\x20cl','\x22.\x20Batchin','isStatusBr','response','che.\x20Skipp','\x20error','RATE_LIMIT','Restarting','\x20bundle','update','then','[AUTH]\x20Loc','er)','normalize\x20','caption','est','No\x20tempora','singleSele','.\x20Deleting','successful','ession\x20for','.tmp','buffer','Using\x20Bail','omplete.','groupMetad','s\x20fetched\x20','ode.js\x20bef','extendedTe','rom\x20file','Shutting\x20d','AX_QUEUE','eKey\x20ID','OPEN\x20state','process\x20me','buttonsRes','\x22\x20.auth/cr','ate\x20flush\x20','ropped\x20que','Graceful\x20s','readdir','upsert','call','ize\x20is\x20not','[SYNC]\x20Sto','_BASE_MS','SESSION_ID','Shutdown\x20c','REAKER]\x20Re','ring\x20proce','ailed','ion\x20skippe','.auth','BAILEYS_VE',')\x20to\x20make\x20','psert','delete','esults','art\x20failed',')...','edia-updat','add','append','remote\x20cre','groups.upd','editedMess','Startup\x20fa','h\x20and\x20rest','d\x20or\x20faile','own','ds\x20fetch\x20s','Connection','h\x20local\x20se','prepend','join','acquire','ate','eUser','ndQueue\x20pr','RESHOLD','ld\x20closed\x20','Database','mkdir','areJidsSam','pdate','essionEntr','n\x20environm','downloadMe','enqueue','\x20any\x20known','contacts.u','stderr','eded','ocessing\x20f','ity/priori','module.att','[STORE]\x20St','recv','defaultTtl','loadLocalC','Cleanup\x20co','h\x20state\x20to','unregister','messaging-','BAILEYS_BR','message','ded\x20creden','import\x20qrc','tializeMod','connection','sisted\x20aut','failed\x20to\x20','stack','JID\x20for\x20re','unction.','creds','isBuffer','ytes','ing\x20reconn','number','clear','chats','statusText','del','uncaughtEx','utf8','_DIR','timestamps','rateLimite','code','\x20failed:\x20','parse','pt:\x20','.update','map','\x20updates)\x20','messages','xt\x20auth\x20st','download\x20m','k\x20failed:','floor','\x20(changed\x20','OWSER','group.join','leave','Error\x20proc','mapById','limit','ception','[AUTH]\x20Per','writeToFil','\x20new\x20outgo','MEMORY_STO','unref','ly.','\x20temporary','SIGINT','e\x20to\x20capac','177730QHOBGA','...','Scheduling','labels.ass','\x20auth\x20befo','cache','\x20not\x20in\x20ca','state','attach','newsletter','fetch\x20late','expiry','COMMAND_PR','unlink','imageMessa','values','auth','Names','message\x20wi','notify','obtain\x20any','ng\x20detachA','for\x20','isJidNewsl','queue','ch\x20until\x20','SION_ID\x20is','getPollRes','RSION','_sweep','unshift','utils/logg','_locked','temporary\x20','ociation','ing\x20prekey','_queue','Module','videoMessa','data','unknown_ch','nextAttemp','WebMessage','Using\x20SESS','Closing\x20st','getCommand','dling.','redsFileSt','ng\x20attempt','OPEN','ross\x20','\x20restart\x20a','ds\x20fetch\x20a','ponseMessa','red\x20','\x20Persisted','\x20message\x20','ation.','assign','ound.\x20Proc','[SYNC]\x20Rec','[AUTH]\x20Rem','Restart\x20at','eds.json\x22','arting.','Message','_makeMsgBo','onMessage','find','on\x20opened\x20','filter','value','\x20history\x20m','in\x20','bot\x20requir','store.json','maxQueue','end','\x20connectio','mory\x20store','.join-requ',').\x20Schedul','ry\x20failed:','saveCreds(','ach\x20failed','g\x20queue\x20du','\x20priority=','xtMessage','makeStatus','groups.ups','orts.','windowMs','write','remove','ailure\x20han','array','ttl','recordSend','\x20API\x20is\x20st','ry\x20due\x20to\x20','ssage','313joYHTJ','ry\x20file\x20cl','chats.upda','toLocaleTi','age.','cwd','seMessage','labels.edi','on\x20ID\x20(sta','sed.\x20Movin','getContact','Error\x20duri','Attempting','eck\x20failed','oadcast','alid\x20data.','ean\x20up.','writeFile','JID\x20for\x20qu','SIGTERM','noiseKey','ata','Unrecovera','shift','No\x20target\x20','[AUTH]\x20Ato','REAKER]\x20Ci','_cleanup','Could\x20not\x20','remoteJid','msgbox:','messages.m','\x20available','\x20found\x20loc','\x20id\x20provid','lwskky','falling\x20ba','[CIRCUIT_B','EFIX','âœ…\x20Connecti','Persistent','pushName','key','loader.ini','qrcode\x20imp','estamp','toString','s.\x20Update\x20','ming\x20prior','splice','ilure.','l\x20creds.\x20A','eues\x20drain','toISOStrin','-request','creds.upda','covery...','able.\x20Clos','ls/logger.','byteLength','dirname','stdout','5259620ZZwTse','th\x20directo','ION_ID:\x20','https://i-','om\x20outgoin','e\x20data',')\x20(','status','[AUTH]\x20No\x20','ejection','es\x20it\x20to\x20f','_tryProces','remote\x20fet','from','itical\x20exp','isteners','pow','trace','964290JKDFzt','ecoverable','push','eaction','eduling\x20ne','\x20Evicted\x20k','Failed\x20to\x20','ng\x20shutdow','Deleted\x20au','RE_MAX_BYT','[STORE]\x20Re','load\x20confi','startsWith','sh.','oDisk\x20fail','mote\x20creds','tialize\x20lo','_touch','eys\x20versio','operation','\x20timed\x20out','ndQueue\x20le','OutgoingSe','mpt','No\x20session','to\x20read\x20it','toJSON','meout\x20elap','contacts','_estimateB','essages\x20of','messages.r','\x20restart\x20n','string','decrypt\x20me','creds\x20file','isNewslett','\x20times.\x20Op','Remote\x20cre','registrati','processing','ore\x20writte','onIdle','ate\x20limiti','dentials\x20a','g\x20to\x20HALF_','19.1.0','splayText','valid\x20loca','voluntary.',';\x20using\x20fa','object','trim','uit\x20for\x205\x20','ing\x20config','get','split','Chrome','messages.u','off','initialBac','isGroup','registerMo','includes','catch','sender','OUTGOING_M','ale\x20open\x20s','\x20API\x20faile','all','ults','st\x20Baileys','saveCreds','start\x20bot\x20','random','rename','pollCreati','\x20version,\x20','hotReloadC','ore\x20auth\x20o','artup\x20fail','size','unknown','AUTH_STATE','s\x20due\x20to\x20r','signedIden','SEND_RETRY','failures','read\x20main\x20','badSession','\x20store\x20to\x20','FAILURE_TH','old','msg','status:','ry\x20files\x20f','json','ote\x20recove','reverse','other\x20atte','set','createdAt','some','1413nlnvpR','n\x20failure\x20','OPEN_TIMEO','n\x20error:\x20','Saved\x20upda','uested\x20a\x20d','message.ed','_evictIfNe','getConfig','count','ent.\x20This\x20','fter\x20pairi','\x20disk\x20via\x20','startup\x20fa','/creds','setActiveG','initialize','ound\x20to\x20cl','ote\x20to\x20','messageTim','CACHE_MAX_','tore\x20file\x20','own\x20(signa','tempt\x20fail','flushAuthT','dential\x20re','bytes','ad\x20store\x20f','ttempt\x20#','mplete.\x20De','write\x20stor','CLOSED','priority','close','participan','basename','erJid','adcast','resolve','nextTimer','stringify','\x20in\x20favor\x20','\x20Bad\x20MAC','totalBytes','ey=','Store\x20save','Removing\x20o','roupForUse','canSend','HALF_OPEN','essing\x20liv','creds.json','No\x20valid\x20c','readFromFi','guration;\x20','qrcode.js\x20','ated.\x20Dele','pen.\x20Not\x20a','Database\x20i','\x20ready.','to\x20disk','\x20on\x20restar','maxBytes','apply','fromMe','init\x20logge','onfig','slice','\x20local\x20aut','messages.d','keys','items','[EditCache','group-part','error','or\x20failed\x20','sort','chats.upse','Replaced','missing\x20cr','\x20attempts)','essages\x20ac','\x20found\x20to\x20','No\x20respons','detach','icted\x20','attempts','open','history.se','persistent','get\x20poll\x20r','warnThresh','oadcast\x20ch','lly.','[AUTH]\x20Sch','[AUTH]\x20Loa','ults.','function','max','manual\x20flu','_sweepTime','h\x20director','next','session','age',',\x20isLatest','\x20session','ch\x20failed\x20','ssage:\x20','in\x20last\x2030','raw.messag','ucceeded\x20o','sh\x20(','text','delete\x20tem','ctReply','bind','ad\x20or\x20fail','blocklist.','ening\x20circ','module.det','endsWith','5184816DHuIhm','entries','r\x20from\x20uti','Session\x20er','tct.com/','AUTH_FLUSH','session:\x20S','REAKER]\x20Ti','selectedDi','\x20bytes=','unhandledR','5306eqTyRT','Logger\x20ini','n\x20to\x20file','now','No\x20prior\x20s','[MEMSTORE]','user','isUser','reject\x20dro','s\x20due\x20to:\x20','unexpected','Dropped\x20fr','sendMessag','timeoutMs','\x20Loaded\x20','isUser\x20che','readFile','Server\x20req','of\x20incomin','920650VDEpmJ','deepSerial','te\x20handler','attrs','delete\x20aut','ules','lastAccess','Invalid\x20Pr','BAILEYS_PI','ttempt\x20','length','SUCCESS_TH','ck\x20failed','CACHE_TTL_','pped\x20item:','ss...','mFile:\x20not','re\x20readFro','emit','ttempting\x20','NO_LEVEL','_release'];_0x51d9=function(){return _0x47c5c5;};return _0x51d9();}import*as _0x5119d4 from'./utils/connection.js';import{isadmin}from'./utils/isadmin.js';import{initBotState}from'./utils/bot-state.js';const require=createRequire(import.meta.url),__filename=fileURLToPath(import.meta.url),__dirname=_0x17c136[_0x45b4cf(0x18e)](__filename);let cfg;try{const configModule=await import('./utils/config.js');cfg=configModule[_0x45b4cf(0x211)](),configModule[_0x45b4cf(0x1f0)+_0x45b4cf(0x24b)]&&configModule[_0x45b4cf(0x1f0)+_0x45b4cf(0x24b)](_0x15b0ce=>{const _0x519e95=_0x45b4cf;info('Hot-reload'+_0x519e95(0x1d8)+_0x519e95(0x360)+'keys:\x20'+_0x15b0ce['join'](',\x20')+')'),cfg=configModule[_0x519e95(0x211)]();});}catch(_0x237aae){cfg={'CACHE_TTL_MS':(0x2*-0x3b5+-0x2561*-0x1+0x3b*-0x81)*(0x131b*0x2+0x1edd+-0x412b),'CACHE_MAX_SIZE_BYTES':(0x22b5*0x1+-0xc4d+0x2*-0xb2a)*(-0x4*-0x415+-0x724*-0x2+-0x1a9c)*(0x1663+-0xb50+-0x713),'MEMORY_STORE_MAX_BYTES':(0x848+0x4*-0x42b+0xa58*0x1)*(0x72*0x9+-0x25f6+0x25f4)*(-0x138c+-0xc01*0x3+-0xc1*-0x4f),'AUTH_STATE_DIR':_0x45b4cf(0x307),'AUTH_FLUSH_INTERVAL_MS':(-0x25f1*0x1+0x903*0x1+0xb*0x2a4)*(0x22b*-0x1+0x1*-0x653+0x8ba)*(-0xb5*-0x14+0x4a3+-0xedf),'RATE_LIMIT':{'window':0x3e8,'limit':0x5},'OUTGOING_MAX_QUEUE':0x7d0,'SEND_RETRY_ATTEMPTS':0x2,'SEND_RETRY_BASE_MS':0x1f4,'SHUTDOWN_DRAIN_MS':0x1388,'BAILEYS_BROWSER':[_0x45b4cf(0x175),_0x45b4cf(0x1db),_0x45b4cf(0x1d0)],'PROJECT_ROOT':process[_0x45b4cf(0x3db)](),'COMMAND_PREFIX':null,'ADMIN_TOKEN':process['env']['ADMIN_TOKE'+'N']||null,'LOG_LEVEL':'info','BAILEYS_PINO_LEVEL':_0x45b4cf(0x253),'SYNC_FULL_HISTORY':!![]},warn('Could\x20not\x20'+_0x45b4cf(0x1ad)+_0x45b4cf(0x23f)+'using\x20defa'+_0x45b4cf(0x269));}try{initLogger(cfg),info(_0x45b4cf(0x28f)+'tialized\x20('+_0x45b4cf(0x390)+_0x45b4cf(0x2df));}catch(_0x397956){console['error']('Failed\x20to\x20'+_0x45b4cf(0x24a)+_0x45b4cf(0x285)+_0x45b4cf(0x18c)+'js',_0x397956);}const globalMessagesToSuppress=[_0x45b4cf(0x237)+_0x45b4cf(0x323)+_0x45b4cf(0x289)+_0x45b4cf(0x328)+'y','Failed\x20to\x20'+_0x45b4cf(0x1c4)+'ssage\x20with'+_0x45b4cf(0x32c)+_0x45b4cf(0x273),_0x45b4cf(0x286)+_0x45b4cf(0x2d1)+_0x45b4cf(0x233),_0x45b4cf(0x2f7)+_0x45b4cf(0x3b0),_0x45b4cf(0x20d)+_0x45b4cf(0x2cb)+_0x45b4cf(0x245),_0x45b4cf(0x39d)+_0x45b4cf(0x1e5)+_0x45b4cf(0x2e7)+_0x45b4cf(0x36a)+_0x45b4cf(0x394)+_0x45b4cf(0x2db),'Closing\x20op'+'en\x20session'+_0x45b4cf(0x232)+_0x45b4cf(0x2a0)+_0x45b4cf(0x2cc)+'undle','Decrypted\x20'+_0x45b4cf(0x383)+'th\x20closed\x20'+_0x45b4cf(0x2c2),_0x45b4cf(0x342)+_0x45b4cf(0x1c4)+'ssage',_0x45b4cf(0x1ba)+_0x45b4cf(0x25b)+'decrypt\x20me'+_0x45b4cf(0x3d5),_0x45b4cf(0x2a8)+_0x45b4cf(0x2f3),'transactio'+'n\x20failed,\x20'+'rolling\x20ba'+'ck'];function createGlobalFilteringWriter(_0xc9783b){return function(_0x4a173b,_0x2108c0,_0x5ca730){const _0x1a3c39=_0x5529;try{const _0x2bd1a4=_0x4a173b['toString']();if(globalMessagesToSuppress[_0x1a3c39(0x208)](_0x12ff5e=>_0x2bd1a4[_0x1a3c39(0x1e1)](_0x12ff5e))){if(typeof _0x5ca730==='function')_0x5ca730();return!![];}}catch(_0x8f8e5c){}return _0xc9783b(_0x4a173b,_0x2108c0,_0x5ca730);};}process[_0x45b4cf(0x18f)][_0x45b4cf(0x3cd)]=createGlobalFilteringWriter(process[_0x45b4cf(0x18f)][_0x45b4cf(0x3cd)][_0x45b4cf(0x27d)](process[_0x45b4cf(0x18f)])),process[_0x45b4cf(0x32e)][_0x45b4cf(0x3cd)]=createGlobalFilteringWriter(process[_0x45b4cf(0x32e)][_0x45b4cf(0x3cd)]['bind'](process[_0x45b4cf(0x32e)]));class FifoMutex{constructor(){const _0x26e606=_0x45b4cf;this[_0x26e606(0x391)]=![],this[_0x26e606(0x395)]=[];}async[_0x45b4cf(0x31e)](){const _0x131ec1=_0x45b4cf;if(!this[_0x131ec1(0x391)]){this[_0x131ec1(0x391)]=!![];let _0x300dfc=![];return()=>{const _0x451b37=_0x131ec1;!_0x300dfc&&(_0x300dfc=!![],this[_0x451b37(0x2b6)]());};}return new Promise(_0xbf3982=>this[_0x131ec1(0x395)][_0x131ec1(0x1a4)](_0xbf3982))[_0x131ec1(0x2dd)](()=>{let _0x3ea818=![];return()=>{const _0x25cecf=_0x5529;!_0x3ea818&&(_0x3ea818=!![],this[_0x25cecf(0x2b6)]());};});}[_0x45b4cf(0x2b6)](){const _0x5e4c76=_0x45b4cf;if(this[_0x5e4c76(0x395)][_0x5e4c76(0x2ab)]>-0x2270+0x1ef4+0x37c)this[_0x5e4c76(0x395)][_0x5e4c76(0x169)]()();else this[_0x5e4c76(0x391)]=![];}}const authMutex=new FifoMutex(),storeMutex=new FifoMutex();let _authFlushCounter=0x5*0x727+-0x2e7+0x2*-0x106e,_lastAuthFlushLogTime=Date[_0x45b4cf(0x291)]();const _authLogSummaryIntervalMs=(0x139a+-0x1ef*0x13+0x1141)*(0x1*0x307+0x397*0x9+-0x231a)*(-0x1*0x1+-0x1*-0xeb6+-0x7*0x18b),voluntaryLeaverStore=new Map(),baileysLogInterceptor=new Writable({'write'(_0x3e8a2b,_0x1ecd8b,_0x5e2501){const _0x4ad506=_0x45b4cf;try{const _0x25e905=_0x3e8a2b['toString']();if(!_0x25e905[_0x4ad506(0x1e1)]('sent\x20ack')){_0x5e2501();return;}const _0x452483=JSON['parse'](_0x25e905);if(_0x452483[_0x4ad506(0x1ff)]==='sent\x20ack'&&_0x452483[_0x4ad506(0x334)]){const _0x3c9cb3=_0x452483[_0x4ad506(0x334)][_0x4ad506(0x2a4)];if(_0x3c9cb3&&_0x3c9cb3[_0x4ad506(0x22b)+'t']&&voluntaryLeaverStore[_0x4ad506(0x2b7)](_0x3c9cb3['participan'+'t'])){const _0x5dc1a3=voluntaryLeaverStore[_0x4ad506(0x1d9)](_0x3c9cb3[_0x4ad506(0x22b)+'t']),_0x10b441={'id':_0x3c9cb3['id'],'groupId':_0x5dc1a3['groupId'],'action':_0x4ad506(0x3ce),'type':'voluntary_'+_0x4ad506(0x363),'notify':_0x3c9cb3[_0x4ad506(0x384)],'participant_pn':_0x3c9cb3[_0x4ad506(0x22b)+'t_pn']};bot[_0x4ad506(0x2b3)](_0x4ad506(0x1d3)+_0x4ad506(0x363),_0x10b441),voluntaryLeaverStore[_0x4ad506(0x30b)](_0x3c9cb3['participan'+'t']);}}}catch(_0x40d2a9){}_0x5e2501();}}),messageEditCache=new Map(),MESSAGE_CACHE_TTL_MS=-0x2957f8*0x1+0x40b951+-0x1f8d27*-0x1,MESSAGE_CACHE_SWEEP_INTERVAL_MS=(-0x1*0x403+-0x4*0x182+0x4*0x284)*(0xb3*0x1+0xb52+-0xbc9)*(-0x75*0x29+-0x20e*-0xd+0x3*-0x15b),cacheSweepTimer=setInterval(()=>{const _0x63919a=_0x45b4cf,_0x4e3505=Date[_0x63919a(0x291)]();for(const [_0x51cfa0,_0xfa2423]of messageEditCache[_0x63919a(0x284)]()){_0x4e3505-_0xfa2423['timestamp']>MESSAGE_CACHE_TTL_MS&&messageEditCache[_0x63919a(0x30b)](_0x51cfa0);}},MESSAGE_CACHE_SWEEP_INTERVAL_MS);if(cacheSweepTimer['unref'])cacheSweepTimer[_0x45b4cf(0x36c)]();const baileysPinoLevel=(cfg[_0x45b4cf(0x2a9)+_0x45b4cf(0x2b5)]||_0x45b4cf(0x253))[_0x45b4cf(0x180)]();let baileysPinoLogger=_0x55a75e({'level':baileysPinoLevel}),_authState_for_flush=null,_authFlushTimeout=null,deepSerialize=null;async function _atomicWriteDirect(_0x4dbcaa,_0xefa5d6){const _0x5cd397=_0x45b4cf,_0x24f718=_0x17c136[_0x5cd397(0x18e)](_0x4dbcaa),_0x13f157=_0x17c136[_0x5cd397(0x31d)](_0x24f718,_0x17c136[_0x5cd397(0x22c)](_0x4dbcaa)+'.'+Date[_0x5cd397(0x291)]()+_0x5cd397(0x2e8));return await _0x5c58ab[_0x5cd397(0x325)](_0x24f718,{'recursive':!![]})[_0x5cd397(0x1e2)](()=>{}),await _0x5c58ab[_0x5cd397(0x3e7)](_0x13f157,_0xefa5d6,{'encoding':_0x5cd397(0x350)}),await _0x5c58ab[_0x5cd397(0x1ed)](_0x13f157,_0x4dbcaa),debug(_0x5cd397(0x16b)+_0x5cd397(0x2c1)+_0x5cd397(0x21b)+_0x4dbcaa),_0x4dbcaa;}async function flushAuthToDisk(){const _0x3db0a4=_0x45b4cf;if(!_authState_for_flush)return;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);_authFlushTimeout=null;const _0x51cfd0=await authMutex[_0x3db0a4(0x31e)]();try{const {state:_0x4fe939}=_authState_for_flush;if(typeof _0x4fe939[_0x3db0a4(0x1ea)]==='function'){await _0x4fe939[_0x3db0a4(0x1ea)]();const _0x581cb5=Date[_0x3db0a4(0x291)]();_0x581cb5-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info(_0x3db0a4(0x368)+_0x3db0a4(0x341)+_0x3db0a4(0x338)+_0x3db0a4(0x215)+_0x3db0a4(0x3c4)+_0x3db0a4(0x196)+_authFlushCounter+('\x20updates)\x20'+'in\x20last\x2030'+_0x3db0a4(0x2c7))),_lastAuthFlushLogTime=_0x581cb5,_authFlushCounter=0x1*0x1dcb+0x1a17*0x1+-0x37e2):debug('[AUTH]\x20Per'+_0x3db0a4(0x341)+_0x3db0a4(0x338)+'\x20disk\x20via\x20'+_0x3db0a4(0x3c4)+').');}else{const _0x58f41d=cfg['AUTH_STATE'+_0x3db0a4(0x351)]||_0x3db0a4(0x307),_0x4d1060=_0x4fe939[_0x3db0a4(0x24f)]?_0x4fe939['keys']['all']?_0x4fe939[_0x3db0a4(0x24f)][_0x3db0a4(0x1e7)]():{}:{};let _0x45faeb;typeof deepSerialize===_0x3db0a4(0x26a)?_0x45faeb={'creds':deepSerialize(_0x4fe939[_0x3db0a4(0x346)]),'keys':deepSerialize(_0x4d1060)}:(warn(_0x3db0a4(0x2a2)+_0x3db0a4(0x2fe)+_0x3db0a4(0x172)+_0x3db0a4(0x1d4)+'llback\x20JSO'+'N\x20serializ'+_0x3db0a4(0x3aa)),_0x45faeb={'creds':_0x4fe939[_0x3db0a4(0x346)],'keys':_0x4d1060});const _0x1a71c9=_0x17c136[_0x3db0a4(0x31d)](_0x58f41d,_0x3db0a4(0x23c)),_0x404413=JSON[_0x3db0a4(0x231)](_0x45faeb,null,-0x139f+0xa09+0x998);await _atomicWriteDirect(_0x1a71c9,_0x404413);const _0x1e0ea2=Date['now']();_0x1e0ea2-_lastAuthFlushLogTime>_authLogSummaryIntervalMs?(info('[AUTH]\x20Per'+'sisted\x20aut'+_0x3db0a4(0x338)+_0x3db0a4(0x215)+_0x3db0a4(0x26c)+_0x3db0a4(0x279)+_authFlushCounter+(_0x3db0a4(0x35a)+_0x3db0a4(0x276)+_0x3db0a4(0x2c7))),_lastAuthFlushLogTime=_0x1e0ea2,_authFlushCounter=-0xa5+0x75b+-0x6b6):debug(_0x3db0a4(0x368)+_0x3db0a4(0x341)+'h\x20state\x20to'+'\x20disk\x20via\x20'+_0x3db0a4(0x26c)+_0x3db0a4(0x1af));}}catch(_0x684e47){warn(_0x3db0a4(0x221)+_0x3db0a4(0x1b0)+'ed',_0x684e47?.[_0x3db0a4(0x343)]||_0x684e47);}finally{_0x51cfd0();}}function scheduleAuthFlush(){const _0x269766=_0x45b4cf;_authFlushCounter++;if(_authFlushTimeout)clearTimeout(_authFlushTimeout);const _0x5dd11e=cfg[_0x269766(0x288)+'_INTERVAL_'+'MS']||(-0x1dea*-0x1+-0x4*0x691+-0x39c)*(-0x1*0x9+0x1d7b+-0xcc5*0x2);debug(_0x269766(0x267)+_0x269766(0x1a6)+_0x269766(0x35c)+_0x269766(0x2f8)+_0x269766(0x3ba)+_0x5dd11e/(-0x5*-0x659+-0x1*-0x49d+-0x2072)+(_0x269766(0x181)+'#')+_authFlushCounter),_authFlushTimeout=setTimeout(flushAuthToDisk,_0x5dd11e);}function registerAuthStateForFlush(_0x26b134){_authState_for_flush=_0x26b134;}async function loadCredsFromDisk(_0x4d2a80){const _0x539d8c=_0x45b4cf,_0x57cfc8=_0x17c136[_0x539d8c(0x31d)](_0x4d2a80,_0x539d8c(0x23c));let _0x35f3d5={'creds':{},'keys':{}};try{existsSync(_0x57cfc8)&&(_0x35f3d5=JSON[_0x539d8c(0x356)](readFileSync(_0x57cfc8,_0x539d8c(0x350))),info(_0x539d8c(0x268)+_0x539d8c(0x33d)+'tials\x20from'+'\x20'+_0x57cfc8));}catch(_0x3cd9af){debug(_0x539d8c(0x16e)+_0x539d8c(0x1fa)+_0x539d8c(0x1c5)+':\x20'+_0x3cd9af[_0x539d8c(0x33c)]+'.');}return _0x35f3d5;}async function loadLocalCredsFileStartup(_0x4b0496){const _0x2cb481=_0x45b4cf;try{return await loadCredsFromDisk(_0x4b0496);}catch(_0x1173ed){return debug(_0x2cb481(0x336)+_0x2cb481(0x3a0)+_0x2cb481(0x1f2)+'ed',_0x1173ed?.[_0x2cb481(0x33c)]||_0x1173ed),null;}}const SESSION_ID=(cfg[_0x45b4cf(0x301)]||'')['trim'](),remoteCredsCircuitBreaker={'state':_0x45b4cf(0x228),'failures':0x0,'successes':0x0,'nextAttempt':Date['now'](),'FAILURE_THRESHOLD':0x3,'SUCCESS_THRESHOLD':0x2,'OPEN_TIMEOUT':(0x26f7+0xf5*-0x17+0x5a5*-0x3)*(0x7a*-0x18+0xd*0x2da+-0x1966)*(0x1056+0x1da*0x8+-0x1b3e)};function recordFailure(){const _0x52c234=_0x45b4cf,_0x325372=remoteCredsCircuitBreaker;_0x325372['failures']++,_0x325372[_0x52c234(0x2bc)]=-0x1eee+-0xafd*-0x1+0x13f1,_0x325372['failures']>=_0x325372[_0x52c234(0x1fd)+_0x52c234(0x322)]&&(_0x325372['state']=_0x52c234(0x3a2),_0x325372['nextAttemp'+'t']=Date[_0x52c234(0x291)]()+_0x325372[_0x52c234(0x20b)+'UT'],warn(_0x52c234(0x177)+_0x52c234(0x303)+'mote\x20creds'+_0x52c234(0x1e6)+'d\x20too\x20many'+_0x52c234(0x1c7)+_0x52c234(0x280)+_0x52c234(0x1d7)+'minutes.'));}function recordSuccess(){const _0x3b9f52=_0x45b4cf,_0xd3e983=remoteCredsCircuitBreaker;_0xd3e983['successes']++;if(_0xd3e983[_0x3b9f52(0x378)]===_0x3b9f52(0x23a)&&_0xd3e983[_0x3b9f52(0x2bc)]>=_0xd3e983[_0x3b9f52(0x2ac)+'RESHOLD'])_0xd3e983[_0x3b9f52(0x378)]=_0x3b9f52(0x228),_0xd3e983[_0x3b9f52(0x1f9)]=0x10bc+-0x7f*0x39+0xf*0xc5,info(_0x3b9f52(0x177)+'REAKER]\x20Re'+_0x3b9f52(0x1b1)+_0x3b9f52(0x3d3)+_0x3b9f52(0x18b)+'ing\x20circui'+'t.');else _0xd3e983[_0x3b9f52(0x378)]===_0x3b9f52(0x228)&&(_0xd3e983[_0x3b9f52(0x1f9)]=-0x12c1*0x1+0x1e61+-0xba0);}async function fetchRemoteCredsAxios(_0x1732ee,_0x3650b5={'timeoutMs':0x1388,'attempts':0x3,'initialBackoffMs':0x1f4}){const _0x331977=_0x45b4cf,_0x55085e=remoteCredsCircuitBreaker;if(_0x55085e['state']===_0x331977(0x3a2)){if(Date[_0x331977(0x291)]()>=_0x55085e[_0x331977(0x39a)+'t'])_0x55085e[_0x331977(0x378)]='HALF_OPEN',info(_0x331977(0x177)+_0x331977(0x28a)+_0x331977(0x1bd)+_0x331977(0x3df)+_0x331977(0x1cf)+_0x331977(0x2f4)+'.');else throw new Error(_0x331977(0x177)+_0x331977(0x16c)+'rcuit\x20is\x20o'+_0x331977(0x242)+_0x331977(0x2b4)+_0x331977(0x19c)+_0x331977(0x38a)+new Date(_0x55085e['nextAttemp'+'t'])[_0x331977(0x3d9)+'meString']());}if(!_0x1732ee)throw new Error('no\x20session'+_0x331977(0x174)+'ed');const _0x515707=encodeURIComponent(_0x1732ee),_0x7ba329=_0x331977(0x193)+_0x331977(0x287)+_0x515707+_0x331977(0x217),_0x4d019b=Math[_0x331977(0x26b)](-0x3d5*-0x9+-0x21b4+0x4*-0x32,Number(_0x3650b5[_0x331977(0x25f)]||-0x42*0x6b+0x2ef*-0xd+0x41bc));let _0x4306b7=Number(_0x3650b5[_0x331977(0x1de)+'koffMs']||0x18*0x193+0x1a0a+0x2*-0x1eef);for(let _0x3e47af=-0x12da+0x1644+-0x369;_0x3e47af<=_0x4d019b;_0x3e47af++){try{info('Remote\x20cre'+_0x331977(0x3a5)+'ttempt\x20'+_0x3e47af+'/'+_0x4d019b+('\x20for\x20sessi'+_0x331977(0x3de)+_0x331977(0x2c8))+_0x55085e['state']+')');const _0x1121e3=await _0x160513['get'](_0x7ba329,{'timeout':_0x3650b5[_0x331977(0x29b)],'responseType':_0x331977(0x202),'validateStatus':_0xb8b704=>_0xb8b704>=0x22d*0x1+-0xe3b*0x2+0x1*0x1b11&&_0xb8b704<-0x1aa5+-0x3*0x48c+-0x1*-0x2975});return recordSuccess(),info(_0x331977(0x1c8)+_0x331977(0x319)+_0x331977(0x278)+'n\x20attempt\x20'+_0x3e47af+'.'),_0x1121e3[_0x331977(0x398)];}catch(_0xa6ecaa){const _0x53d6cf=_0xa6ecaa[_0x331977(0x2d6)]?.[_0x331977(0x197)],_0x4cae9a=_0xa6ecaa['response']?.['data']?JSON['stringify'](_0xa6ecaa[_0x331977(0x2d6)][_0x331977(0x398)]):_0x331977(0x25c)+_0x331977(0x195);warn(_0x331977(0x1c8)+_0x331977(0x3a5)+_0x331977(0x2aa)+_0x3e47af+_0x331977(0x355)+_0xa6ecaa[_0x331977(0x33c)]+'.\x20Status:\x20'+_0x53d6cf+'.\x20Data:\x20'+_0x4cae9a);if(_0x53d6cf===0x620+0xa44+0x1*-0xeb7){const _0x42fffb=_0xa6ecaa['response']['headers']?.['retry-afte'+'r'];if(_0x42fffb){const _0x720688=parseInt(_0x42fffb,-0x52*-0x28+0x7*0x302+-0x21d4)*(-0x1221*0x1+0x4d7+0x1132);if(_0x720688>-0x12e9+0x5d1*0x3+0x176){warn(_0x331977(0x29f)+_0x331977(0x20e)+'elay\x20of\x20'+_0x720688/(0xcf2*-0x1+-0x3c3+-0x6df*-0x3)+(_0x331977(0x1f6)+_0x331977(0x1cd)+'ng.')),await new Promise(_0xa8fcbb=>setTimeout(_0xa8fcbb,_0x720688));continue;}}}if(_0x3e47af===_0x4d019b){recordFailure();throw new Error(_0x331977(0x19c)+_0x331977(0x274)+'after\x20'+_0x4d019b+('\x20attempts:'+'\x20')+_0xa6ecaa['message']);}await new Promise(_0x342116=>setTimeout(_0x342116,_0x4306b7)),_0x4306b7*=-0x172*0x13+-0x998+-0x251*-0x10;}}throw new Error(_0x331977(0x19c)+'ch\x20failed\x20'+_0x331977(0x298)+'ly');}async function writeLocalCredsFile(_0x3d8118,_0x25c546){const _0xbe7962=_0x45b4cf,_0x4a7ed5=_0x17c136[_0xbe7962(0x31d)](_0x25c546,'creds.json'),_0x40e16b=JSON[_0xbe7962(0x231)](_0x3d8118,null,-0x1f39+0x8cf*0x1+0x166c);return _atomicWriteDirect(_0x4a7ed5,_0x40e16b);}function withTimeout(_0x3ca580,_0x5c8b12,_0x358ed5=_0x45b4cf(0x1b5)){const _0x301ed8=_0x45b4cf;if(typeof _0x5c8b12!==_0x301ed8(0x34a)||_0x5c8b12<=-0x1dd0+-0x5*0x92+-0x1055*-0x2)return _0x3ca580;return Promise['race']([_0x3ca580,new Promise((_0x3c46b8,_0x266dfa)=>setTimeout(()=>_0x266dfa(new Error(_0x358ed5+(_0x301ed8(0x1b6)+'\x20after\x20')+_0x5c8b12+'ms')),_0x5c8b12))]);}function looksLikeCreds(_0x2c529b){const _0x37d1b1=_0x45b4cf;if(!_0x2c529b||typeof _0x2c529b!=='object')return![];if(!_0x2c529b[_0x37d1b1(0x346)]||typeof _0x2c529b[_0x37d1b1(0x346)]!==_0x37d1b1(0x1d5))return![];return _0x2c529b['creds'][_0x37d1b1(0x3ea)]&&_0x2c529b[_0x37d1b1(0x346)][_0x37d1b1(0x1f7)+'tityKey']&&_0x2c529b[_0x37d1b1(0x346)][_0x37d1b1(0x1c9)+'onId'];}class LruMemoryStore{constructor(_0x3b5419={}){const _0xb66434=_0x45b4cf;this[_0xb66434(0x247)]=Number(_0x3b5419['maxBytes']||cfg['MEMORY_STO'+_0xb66434(0x1ab)+'ES']||(-0x1ec0+0x1247*-0x2+0x3d9*0x12)*(-0x46d+0x180c+-0xf9f)*(-0x1de0*0x1+-0x1ddc+0x3fbc)),this['map']=new Map(),this[_0xb66434(0x234)]=0x130e+0x23c7*0x1+-0x36d5;}[_0x45b4cf(0x1bf)+_0x45b4cf(0x348)](_0x5e3709){const _0x39304f=_0x45b4cf;if(typeof _0x5e3709===_0x39304f(0x1c3))return Buffer[_0x39304f(0x18d)](_0x5e3709,_0x39304f(0x350));if(Buffer[_0x39304f(0x347)](_0x5e3709))return _0x5e3709[_0x39304f(0x2ab)];return 0x6e4+0x50b*0x1+-0x3ef;}[_0x45b4cf(0x1b3)](_0x1a68ce){const _0x1eaf63=_0x45b4cf,_0x6d5b29=this[_0x1eaf63(0x359)][_0x1eaf63(0x1d9)](_0x1a68ce);if(!_0x6d5b29)return;_0x6d5b29[_0x1eaf63(0x2a7)]=Date[_0x1eaf63(0x291)](),this['map'][_0x1eaf63(0x30b)](_0x1a68ce),this[_0x1eaf63(0x359)][_0x1eaf63(0x206)](_0x1a68ce,_0x6d5b29);}[_0x45b4cf(0x210)+_0x45b4cf(0x32f)](){const _0x182f98=_0x45b4cf;while(this['totalBytes']>this[_0x182f98(0x247)]&&this[_0x182f98(0x359)][_0x182f98(0x1f3)]>0x11*-0x131+-0x1042+-0x2483*-0x1){const _0x490e70=this[_0x182f98(0x359)]['keys']()[_0x182f98(0x26f)]()['value'],_0x56aca1=this['map'][_0x182f98(0x1d9)](_0x490e70);if(_0x56aca1)this[_0x182f98(0x234)]-=_0x56aca1['bytes']||0x662+0x2*0x52d+-0x10bc,this['map'][_0x182f98(0x30b)](_0x490e70),debug(_0x182f98(0x293)+_0x182f98(0x1a7)+_0x182f98(0x235)+_0x490e70+_0x182f98(0x28c)+_0x56aca1[_0x182f98(0x223)]+_0x182f98(0x3c7)+_0x56aca1[_0x182f98(0x229)]);else break;}}['set'](_0x5820b9,_0x15c0ab,{ttl:ttl=null,priority:priority=0x71*0x1a+0x58*-0x1b+0x1*-0x232}={}){const _0x420a93=_0x45b4cf,_0x3385ee=this[_0x420a93(0x1bf)+_0x420a93(0x348)](_0x15c0ab);if(this[_0x420a93(0x359)][_0x420a93(0x2b7)](_0x5820b9)){const _0x1ec89c=this[_0x420a93(0x359)][_0x420a93(0x1d9)](_0x5820b9);this[_0x420a93(0x234)]-=_0x1ec89c[_0x420a93(0x223)]||-0x2041*0x1+0xbe4+-0xd*-0x191,this[_0x420a93(0x359)][_0x420a93(0x30b)](_0x5820b9);}const _0x4345c6={'value':_0x15c0ab,'bytes':_0x3385ee,'priority':priority,'createdAt':Date['now'](),'lastAccess':Date['now'](),'ttl':ttl};this[_0x420a93(0x359)][_0x420a93(0x206)](_0x5820b9,_0x4345c6),this['totalBytes']+=_0x3385ee,this[_0x420a93(0x210)+_0x420a93(0x32f)]();}[_0x45b4cf(0x1d9)](_0x2bad74){const _0x245ba1=_0x45b4cf,_0x2cbba8=this['map']['get'](_0x2bad74);if(!_0x2cbba8)return null;if(_0x2cbba8['ttl']&&Date[_0x245ba1(0x291)]()-_0x2cbba8[_0x245ba1(0x207)]>_0x2cbba8[_0x245ba1(0x3d1)])return this[_0x245ba1(0x359)][_0x245ba1(0x30b)](_0x2bad74),this[_0x245ba1(0x234)]-=_0x2cbba8[_0x245ba1(0x223)]||-0x606+-0x3c5*-0x7+0x145d*-0x1,null;return this[_0x245ba1(0x1b3)](_0x2bad74),_0x2cbba8[_0x245ba1(0x3b8)];}['del'](_0xd485f9){const _0x5763b1=_0x45b4cf,_0x2398a9=this['map'][_0x5763b1(0x1d9)](_0xd485f9);if(!_0x2398a9)return;this[_0x5763b1(0x234)]-=_0x2398a9[_0x5763b1(0x223)]||-0x13c4+-0x23*-0x29+0xe29,this[_0x5763b1(0x359)][_0x5763b1(0x30b)](_0xd485f9);}[_0x45b4cf(0x24f)](){const _0x2c2932=_0x45b4cf;return Array[_0x2c2932(0x19d)](this[_0x2c2932(0x359)][_0x2c2932(0x24f)]());}[_0x45b4cf(0x1bc)](){const _0x6da62a=_0x45b4cf,_0x105bbe={};for(const [_0x562fdc,_0x1a20ef]of this[_0x6da62a(0x359)][_0x6da62a(0x284)]())_0x105bbe[_0x562fdc]=_0x1a20ef[_0x6da62a(0x3b8)];return _0x105bbe;}async['writeToFil'+'e'](_0x4b06dd){const _0x34ddd3=_0x45b4cf,_0x5e59b7=await storeMutex['acquire']();try{const _0x388af8={'items':[]};for(const [_0x3a2e39,_0x241d96]of this[_0x34ddd3(0x359)][_0x34ddd3(0x284)]()){_0x388af8[_0x34ddd3(0x250)]['push']({'k':_0x3a2e39,'value':_0x241d96[_0x34ddd3(0x3b8)],'priority':_0x241d96[_0x34ddd3(0x229)],'createdAt':_0x241d96[_0x34ddd3(0x207)],'lastAccess':_0x241d96[_0x34ddd3(0x2a7)]});}await _0x5c58ab[_0x34ddd3(0x325)](_0x17c136[_0x34ddd3(0x18e)](_0x4b06dd),{'recursive':!![]})[_0x34ddd3(0x1e2)](()=>{}),await _0x5c58ab[_0x34ddd3(0x3e7)](_0x4b06dd,JSON[_0x34ddd3(0x231)](_0x388af8,null,-0x607*-0x1+-0xa*0x8f+-0x6f),_0x34ddd3(0x350)),debug(_0x34ddd3(0x293)+_0x34ddd3(0x3a8)+_0x34ddd3(0x1fc)+_0x4b06dd);}catch(_0x554f7f){warn('Failed\x20to\x20'+'persist\x20me'+_0x34ddd3(0x3c0),_0x554f7f);}finally{_0x5e59b7();}}async[_0x45b4cf(0x23e)+'le'](_0x22d91b){const _0x28ad21=_0x45b4cf,_0x23a9dd=await storeMutex[_0x28ad21(0x31e)]();try{const _0x38b4ab=await _0x5c58ab[_0x28ad21(0x29e)](_0x22d91b,_0x28ad21(0x350)),_0x334093=JSON[_0x28ad21(0x356)](_0x38b4ab),_0x4f05d2=_0x334093[_0x28ad21(0x250)]||[];for(const _0x5b8579 of _0x4f05d2)this[_0x28ad21(0x206)](_0x5b8579['k'],_0x5b8579[_0x28ad21(0x3b8)],{'priority':_0x5b8579[_0x28ad21(0x229)]||-0x1*-0x2513+0x1da7+-0x92*0x75});debug(_0x28ad21(0x293)+_0x28ad21(0x29c)+_0x4f05d2[_0x28ad21(0x2ab)]+('\x20items\x20fro'+'m\x20')+_0x22d91b);}catch(_0x176e88){debug('Memory\x20sto'+_0x28ad21(0x2b2)+_0x28ad21(0x2b1)+'hing\x20to\x20lo'+_0x28ad21(0x27e)+'ed',_0x176e88?.[_0x28ad21(0x33c)]||_0x176e88);}finally{_0x23a9dd();}}}function makeManualStoreFactory(_0x2af62a={}){const _0x5eed2a=_0x45b4cf,_0x3c0054=new LruMemoryStore({'maxBytes':_0x2af62a[_0x5eed2a(0x247)]||cfg[_0x5eed2a(0x36b)+_0x5eed2a(0x1ab)+'ES']||(0xfc3+-0x1*-0x270d+-0x44*0xc7)*(-0xd6e+-0x1b35+-0x125*-0x27)*(0x27b+0x2*-0x587+0xc93)});function _0x52c8d2(_0x2e735c){const _0x516dfc=_0x5eed2a,_0x581382=_0x516dfc(0x170)+_0x2e735c;let _0x4094c5=_0x3c0054['get'](_0x581382);return!_0x4094c5&&(_0x4094c5={'array':[],'mapById':new Map(),'upsert'(_0x3c2101,_0x5ef3fc=_0x516dfc(0x311)){const _0x188155=_0x516dfc,_0x50d3b4=_0x3c2101[_0x188155(0x17c)]?.['id']||Date[_0x188155(0x291)]()+'_'+Math[_0x188155(0x1ec)]();if(!this['mapById'][_0x188155(0x2b7)](_0x50d3b4)){if(_0x5ef3fc===_0x188155(0x31c))this[_0x188155(0x3d0)][_0x188155(0x38f)](_0x3c2101);else this[_0x188155(0x3d0)][_0x188155(0x1a4)](_0x3c2101);this[_0x188155(0x365)][_0x188155(0x206)](_0x50d3b4,_0x3c2101);}else Object[_0x188155(0x3ab)](this['mapById']['get'](_0x50d3b4),_0x3c2101);},'update'(_0x1cb927){const _0x1100d6=_0x516dfc,_0xe6f31b=_0x1cb927[_0x1100d6(0x17c)]?.['id'];if(!_0xe6f31b)return![];const _0x532f0f=this[_0x1100d6(0x365)][_0x1100d6(0x1d9)](_0xe6f31b);if(!_0x532f0f)return![];return Object[_0x1100d6(0x3ab)](_0x532f0f,_0x1cb927),!![];},'remove'(_0x341a9b){const _0x18e046=_0x516dfc,_0xae479f=_0x341a9b[_0x18e046(0x17c)]?.['id'];if(!_0xae479f)return![];if(!this[_0x18e046(0x365)][_0x18e046(0x2b7)](_0xae479f))return![];this[_0x18e046(0x365)]['delete'](_0xae479f);const _0xe866bf=this[_0x18e046(0x3d0)]['findIndex'](_0x3c6444=>_0x3c6444[_0x18e046(0x17c)]?.['id']===_0xae479f);if(_0xe866bf>=-0x174d*-0x1+-0x1fb0+-0x1*-0x863)this['array'][_0x18e046(0x183)](_0xe866bf,0x13*0x15d+0x3*-0x36+-0xb*0x24c);return!![];},'updateAssign'(_0x18d9c0,_0x30953b){const _0xf1da74=_0x516dfc,_0x1e0eac=this[_0xf1da74(0x365)][_0xf1da74(0x1d9)](_0x18d9c0);if(!_0x1e0eac)return![];return Object[_0xf1da74(0x3ab)](_0x1e0eac,_0x30953b),!![];},'clear'(){const _0x444384=_0x516dfc;this['array'][_0x444384(0x2ab)]=0x1d6d+-0x12ae+-0xabf*0x1,this[_0x444384(0x365)][_0x444384(0x34b)]();},'filter'(_0x26203e){const _0x13da44=_0x516dfc,_0x30b064=this[_0x13da44(0x3d0)][_0x13da44(0x3b7)](_0x26203e);this[_0x13da44(0x3d0)][_0x13da44(0x2ab)]=0x1d3a+-0x8cb*-0x3+-0x379b,this['array'][_0x13da44(0x1a4)](..._0x30b064),this[_0x13da44(0x365)][_0x13da44(0x34b)]();for(const _0x13e3e1 of this[_0x13da44(0x3d0)])this[_0x13da44(0x365)][_0x13da44(0x206)](_0x13e3e1['key']?.['id']||''+Math[_0x13da44(0x1ec)](),_0x13e3e1);},'toJSON'(){const _0x557fe5=_0x516dfc;return this[_0x557fe5(0x3d0)]['slice']();},'fromJSON'(_0x1cc4ab){const _0x2ba7e2=_0x516dfc;this['array'][_0x2ba7e2(0x2ab)]=0x1*-0x1834+-0x43c+0x50*0x5b,this[_0x2ba7e2(0x365)][_0x2ba7e2(0x34b)]();for(const _0xaef9ad of Array['isArray'](_0x1cc4ab)?_0x1cc4ab:[]){this[_0x2ba7e2(0x3d0)][_0x2ba7e2(0x1a4)](_0xaef9ad),this[_0x2ba7e2(0x365)][_0x2ba7e2(0x206)](_0xaef9ad[_0x2ba7e2(0x17c)]?.['id']||''+Math[_0x2ba7e2(0x1ec)](),_0xaef9ad);}}},_0x3c0054[_0x516dfc(0x206)](_0x581382,_0x4094c5)),_0x4094c5;}return{'chats':{},'contacts':{},'groupMetadata':{},'state':{},'presences':{},'labels':{},'_makeMsgBox':_0x52c8d2,'bind'(_0x57e6cf){const _0x33bc4f=_0x5eed2a;if(!_0x57e6cf||typeof _0x57e6cf['on']!==_0x33bc4f(0x26a))return;_0x57e6cf['on'](_0x33bc4f(0x1dc)+_0x33bc4f(0x30a),({messages:messages=[]})=>{const _0x598858=_0x33bc4f;for(const _0x5143cf of messages){this[_0x598858(0x3b3)+'x'](_0x5143cf[_0x598858(0x17c)]?.[_0x598858(0x16f)]||_0x598858(0x1f4))['upsert'](_0x5143cf,'append');}}),_0x57e6cf['on'](_0x33bc4f(0x32d)+'psert',(_0x34558a=[])=>{const _0x362111=_0x33bc4f;for(const _0x36d28d of _0x34558a)if(_0x36d28d?.['id'])this[_0x362111(0x1be)][_0x36d28d['id']]=_0x36d28d;}),_0x57e6cf['on'](_0x33bc4f(0x256)+'rt',(_0x5851e3=[])=>{const _0x7b63a5=_0x33bc4f;for(const _0x4e1d0d of _0x5851e3)if(_0x4e1d0d?.['id'])this[_0x7b63a5(0x34c)][_0x4e1d0d['id']]=_0x4e1d0d;});},async 'loadMessages'(_0x295c15,_0x27f212=0x119*-0x7+-0x31f*0x3+0x18f*0xb){const _0x2e4603=_0x5eed2a,_0x73c7c9=this[_0x2e4603(0x3b3)+'x'](_0x295c15),_0x28a1b5=_0x73c7c9['array']||[];return _0x28a1b5[_0x2e4603(0x24c)](-_0x27f212)[_0x2e4603(0x204)]();},async 'writeToFile'(_0x45fe26){const _0x116a29=_0x5eed2a,_0xe7f246=await storeMutex[_0x116a29(0x31e)]();try{const _0x11019f={};for(const _0x4732a1 of _0x3c0054[_0x116a29(0x24f)]()){if(_0x4732a1['startsWith'](_0x116a29(0x170))){const _0x14d692=_0x4732a1['slice'](_0x116a29(0x170)[_0x116a29(0x2ab)]),_0x24a470=_0x3c0054[_0x116a29(0x1d9)](_0x4732a1);_0x11019f[_0x14d692]=_0x24a470?_0x24a470[_0x116a29(0x1bc)]?_0x24a470[_0x116a29(0x1bc)]():_0x24a470[_0x116a29(0x3d0)]||[]:[];}}const _0x460d37={'chats':this[_0x116a29(0x34c)],'contacts':this['contacts'],'messages':_0x11019f,'groupMetadata':this[_0x116a29(0x2ec)+'ata'],'state':this['state']};await _0x5c58ab[_0x116a29(0x325)](_0x17c136[_0x116a29(0x18e)](_0x45fe26),{'recursive':!![]})[_0x116a29(0x1e2)](()=>{}),await _0x5c58ab['writeFile'](_0x45fe26,JSON[_0x116a29(0x231)](_0x460d37,null,0x34c+0x1b4*-0x1+-0x196),_0x116a29(0x350)),debug(_0x116a29(0x333)+_0x116a29(0x1cb)+_0x116a29(0x290));}catch(_0x468917){warn('Failed\x20to\x20'+_0x116a29(0x227)+'e\x20to\x20file',_0x468917);}finally{_0xe7f246();}},async 'readFromFile'(_0xdcd9e4){const _0x36c56a=_0x5eed2a,_0x4b8e3d=await storeMutex[_0x36c56a(0x31e)]();try{const _0x3c1797=await _0x5c58ab[_0x36c56a(0x29e)](_0xdcd9e4,_0x36c56a(0x350)),_0x1b5c31=JSON[_0x36c56a(0x356)](_0x3c1797);this[_0x36c56a(0x34c)]=_0x1b5c31[_0x36c56a(0x34c)]||{},this[_0x36c56a(0x1be)]=_0x1b5c31[_0x36c56a(0x1be)]||{},this[_0x36c56a(0x2ec)+_0x36c56a(0x3eb)]=_0x1b5c31['groupMetad'+_0x36c56a(0x3eb)]||{},this[_0x36c56a(0x378)]=_0x1b5c31[_0x36c56a(0x378)]||{};const _0x4f4525=_0x1b5c31[_0x36c56a(0x35b)]||{};for(const _0x14f884 of Object['keys'](_0x4f4525)){this['_makeMsgBo'+'x'](_0x14f884)['fromJSON'](_0x4f4525[_0x14f884]);}debug(_0x36c56a(0x1ac)+_0x36c56a(0x224)+_0x36c56a(0x2f0));}catch(_0x13089f){debug(_0x36c56a(0x292)+_0x36c56a(0x21e)+_0x36c56a(0x254)+_0x36c56a(0x1bb),_0x13089f?.[_0x36c56a(0x33c)]||_0x13089f);}finally{_0x4b8e3d();}}};}const store=makeManualStoreFactory({});class SimpleCache{constructor(_0xdbdb7d=cfg[_0x45b4cf(0x2ae)+'MS']||(-0x68*-0x8+0x1b*-0x21+0x77)*(-0x363*0x6+0x1cb*0x1+0x166f),_0x379eb8=cfg[_0x45b4cf(0x21d)+'SIZE_BYTES']||(-0x3*0xcf+0x41*0x61+-0x1620)*(-0x1*-0x26f6+-0x1792+-0xb64)*(0x1*0x1f21+0x4*-0x666+-0x3*0x83)){const _0x456d05=_0x45b4cf;this[_0x456d05(0x335)]=_0xdbdb7d,this['maxBytes']=_0x379eb8,this[_0x456d05(0x359)]=new Map(),this[_0x456d05(0x234)]=0x1941+0xe13+-0x2754,this['_sweepTime'+'r']=setInterval(()=>this[_0x456d05(0x38e)](),Math[_0x456d05(0x26b)](-0x3be4*0x1+-0x1*-0x1047+-0x19f*-0x33,_0xdbdb7d));if(this[_0x456d05(0x26d)+'r'][_0x456d05(0x36c)])this['_sweepTime'+'r']['unref']();}[_0x45b4cf(0x1bf)+_0x45b4cf(0x348)](_0x500b9a){const _0x184873=_0x45b4cf;try{return Buffer[_0x184873(0x18d)](JSON[_0x184873(0x231)](_0x500b9a),'utf8');}catch(_0x2f857a){return-0x3*0x41f+-0xf9c+0x1ff9;}}[_0x45b4cf(0x206)](_0x20ab64,_0x13f06b,_0x143288=this[_0x45b4cf(0x335)]){const _0x17eb3a=_0x45b4cf;if(this[_0x17eb3a(0x359)][_0x17eb3a(0x2b7)](_0x20ab64)){const _0x129718=this[_0x17eb3a(0x359)]['get'](_0x20ab64);this[_0x17eb3a(0x234)]-=_0x129718[_0x17eb3a(0x223)]||-0x1da+-0x53a+0x714,this[_0x17eb3a(0x359)][_0x17eb3a(0x30b)](_0x20ab64);}const _0x261f00=this[_0x17eb3a(0x1bf)+'ytes'](_0x13f06b);while(this['totalBytes']+_0x261f00>this[_0x17eb3a(0x247)]&&this[_0x17eb3a(0x359)][_0x17eb3a(0x1f3)]>-0x5c4+0x2385+-0x1dc1){const _0x19a4fa=this['map'][_0x17eb3a(0x24f)]()[_0x17eb3a(0x26f)]()['value'],_0x24908e=this['map'][_0x17eb3a(0x1d9)](_0x19a4fa);this[_0x17eb3a(0x234)]-=_0x24908e['bytes']||0xff4+0x13*0xe7+-0x2119,this[_0x17eb3a(0x359)][_0x17eb3a(0x30b)](_0x19a4fa),debug('[CACHE]\x20Ev'+_0x17eb3a(0x25e)+_0x19a4fa+'\x20size='+_0x24908e[_0x17eb3a(0x223)]);}const _0x26c990=Date['now']()+_0x143288;this[_0x17eb3a(0x359)][_0x17eb3a(0x206)](_0x20ab64,{'value':_0x13f06b,'bytes':_0x261f00,'expiry':_0x26c990}),this['totalBytes']+=_0x261f00;}[_0x45b4cf(0x1d9)](_0x555521){const _0x3eb6dc=_0x45b4cf,_0x36b1e3=this[_0x3eb6dc(0x359)][_0x3eb6dc(0x1d9)](_0x555521);if(!_0x36b1e3)return null;if(Date[_0x3eb6dc(0x291)]()>_0x36b1e3['expiry'])return this['totalBytes']-=_0x36b1e3[_0x3eb6dc(0x223)]||-0x39*-0x4c+0x3a1*0x6+-0x26b2,this['map'][_0x3eb6dc(0x30b)](_0x555521),null;return _0x36b1e3[_0x3eb6dc(0x37c)]=Date[_0x3eb6dc(0x291)]()+this[_0x3eb6dc(0x335)],this[_0x3eb6dc(0x359)][_0x3eb6dc(0x30b)](_0x555521),this[_0x3eb6dc(0x359)]['set'](_0x555521,_0x36b1e3),_0x36b1e3[_0x3eb6dc(0x3b8)];}[_0x45b4cf(0x34e)](_0x385910){const _0x232db4=_0x45b4cf,_0x100501=this[_0x232db4(0x359)]['get'](_0x385910);if(!_0x100501)return;this[_0x232db4(0x234)]-=_0x100501[_0x232db4(0x223)]||-0xe2b*0x2+0x36*-0x2+-0xe2*-0x25,this[_0x232db4(0x359)][_0x232db4(0x30b)](_0x385910);}[_0x45b4cf(0x38e)](){const _0x48db51=_0x45b4cf,_0x5bad0f=Date[_0x48db51(0x291)]();for(const [_0x114565,_0x33480a]of this[_0x48db51(0x359)][_0x48db51(0x284)]()){_0x33480a[_0x48db51(0x37c)]<=_0x5bad0f&&(this['totalBytes']-=_0x33480a[_0x48db51(0x223)]||-0x2148*-0x1+0x1*-0x6d9+-0x65*0x43,this[_0x48db51(0x359)]['delete'](_0x114565));}}[_0x45b4cf(0x22a)](){const _0x15fce9=_0x45b4cf;clearInterval(this[_0x15fce9(0x26d)+'r']),this[_0x15fce9(0x359)][_0x15fce9(0x34b)](),this[_0x15fce9(0x234)]=0x19*-0x155+0x122f+0xf1e;}}class SlidingWindowRateLimiter{constructor(_0x408037=-0xcc+-0x21c4+0x2678,_0x1c879f=-0xf0e+0x436*0x2+0x6a7){const _0x5ec259=_0x45b4cf;this[_0x5ec259(0x3cc)]=_0x408037,this[_0x5ec259(0x366)]=_0x1c879f,this[_0x5ec259(0x352)]=[];}['_cleanup'](_0x315402){const _0x1bc80b=_0x45b4cf,_0x3f1e7e=_0x315402-this[_0x1bc80b(0x3cc)];while(this[_0x1bc80b(0x352)][_0x1bc80b(0x2ab)]&&this[_0x1bc80b(0x352)][-0x1*-0x27d+0x1*0x26dd+-0x2*0x14ad]<_0x3f1e7e)this[_0x1bc80b(0x352)]['shift']();}[_0x45b4cf(0x212)](_0x55b86f=Date[_0x45b4cf(0x291)]()){const _0x30e6af=_0x45b4cf;return this[_0x30e6af(0x16d)](_0x55b86f),this[_0x30e6af(0x352)][_0x30e6af(0x2ab)];}[_0x45b4cf(0x239)](_0x4dcf9d=Date[_0x45b4cf(0x291)]()){const _0x10387d=_0x45b4cf;return this[_0x10387d(0x16d)](_0x4dcf9d),this[_0x10387d(0x352)][_0x10387d(0x2ab)]<this[_0x10387d(0x366)];}[_0x45b4cf(0x3d2)](_0x33ec5c=Date['now']()){const _0x2bf4f2=_0x45b4cf;this[_0x2bf4f2(0x16d)](_0x33ec5c),this[_0x2bf4f2(0x352)]['push'](_0x33ec5c);}['timeUntilN'+'extAvailab'+'le'](_0x337f15=Date[_0x45b4cf(0x291)]()){const _0x156b98=_0x45b4cf;this[_0x156b98(0x16d)](_0x337f15);if(this['timestamps'][_0x156b98(0x2ab)]<this['limit'])return-0x1*-0x195e+0xb67+-0x1*0x24c5;const _0xf417b6=this[_0x156b98(0x352)][0x1f81+0x2*0x409+-0x2793];return Math[_0x156b98(0x26b)](-0x1fdc*-0x1+0x52*-0x61+-0x65*0x2,_0xf417b6+this['windowMs']-_0x337f15);}}async function dlqWrite(_0x16f568){const _0x2b1b23=_0x45b4cf;return Promise[_0x2b1b23(0x22f)]();}async function attemptSendWithRetry(_0x339a99,_0x3d2a15=0x25*0x13+0x26*-0x6e+-0xd97*-0x1,_0x27a436=-0x2444+0x20d+0x242b,_0x8dab4={}){const _0x23c9f5=_0x45b4cf;let _0x47f8fb=null;for(let _0x52fa47=-0x1500+0x8*-0x27b+-0x1*-0x28d8;_0x52fa47<=_0x3d2a15;_0x52fa47++){try{return await _0x339a99();}catch(_0x581fbc){_0x47f8fb=_0x581fbc;if(_0x52fa47===_0x3d2a15)throw _0x581fbc;await new Promise(_0x67f894=>setTimeout(_0x67f894,_0x27a436*Math[_0x23c9f5(0x1a0)](0x748*0x5+-0x65*-0x6+0x26c4*-0x1,_0x52fa47)));}}throw _0x47f8fb;}class OutgoingSendQueue{constructor(_0x78a5e8,_0x323491={}){const _0x3d9655=_0x45b4cf;this[_0x3d9655(0x389)]=[],this['rateLimite'+'r']=_0x78a5e8,this['processing']=![],this[_0x3d9655(0x230)]=null,this['maxQueue']=_0x323491[_0x3d9655(0x3bd)]||cfg[_0x3d9655(0x1e4)+_0x3d9655(0x2f2)]||0x11d+0x1*-0x48c+-0x1*-0xb3f,this[_0x3d9655(0x264)+_0x3d9655(0x1fe)]=_0x323491['warnThresh'+'old']||Math[_0x3d9655(0x35f)](this[_0x3d9655(0x3bd)]*(0x249d+0x1*-0xa3f+-0x1a5e+0.75));}[_0x45b4cf(0x32b)](_0xd871fc,_0x3f93e3={}){const _0x2da7a7=_0x45b4cf,_0x2133e1=typeof _0x3f93e3[_0x2da7a7(0x229)]==='number'?_0x3f93e3['priority']:-0xafa+-0x2491+-0x1*-0x2f8b;return new Promise((_0x440c30,_0x1bcaa3)=>{const _0x59283f=_0x2da7a7;if(this[_0x59283f(0x389)]['length']>=this[_0x59283f(0x3bd)]){let _0x4d588a=-(0xa02+-0x24dc+0x1adb);for(let _0xa86a34=-0xbd5+0x1*-0x25d3+-0x18d4*-0x2;_0xa86a34<this['queue'][_0x59283f(0x2ab)];_0xa86a34++){if((this[_0x59283f(0x389)][_0xa86a34][_0x59283f(0x229)]||0x47c+0x212*0x8+-0x150c)<_0x2133e1){_0x4d588a=_0xa86a34;break;}}if(_0x4d588a===-(0x1e8c+0x1*-0x207f+0x1f4))_0x4d588a=0xe2+-0x4ea*0x4+-0x321*-0x6;const _0x59fd53=this[_0x59283f(0x389)][_0x59283f(0x183)](_0x4d588a,0x349*0x6+-0x8*-0x353+0xf6f*-0x3)[0x314+0x1909+-0x1c1d];try{_0x59fd53[_0x59283f(0x2bf)]&&_0x59fd53[_0x59283f(0x2bf)](new Error(_0x59283f(0x299)+_0x59283f(0x194)+_0x59283f(0x3c6)+_0x59283f(0x370)+_0x59283f(0x331)+'tization'));}catch(_0x2655f7){debug(_0x59283f(0x1a8)+_0x59283f(0x296)+_0x59283f(0x2af),_0x2655f7['message']);}warn(_0x59283f(0x1b8)+'ndQueue:\x20d'+_0x59283f(0x2f9)+'ued\x20item\x20('+'priority='+(_0x59fd53[_0x59283f(0x229)]||-0x24b7+0x2426+0x91)+(_0x59283f(0x309)+'room\x20(inco'+_0x59283f(0x182)+'ity=')+_0x2133e1+')');}this[_0x59283f(0x389)]['push']({'fn':_0xd871fc,'resolve':_0x440c30,'reject':_0x1bcaa3,'priority':_0x2133e1});if(this[_0x59283f(0x389)][_0x59283f(0x2ab)]>=this['warnThresh'+_0x59283f(0x1fe)])warn(_0x59283f(0x1b8)+_0x59283f(0x1b7)+'ngth\x20high:'+'\x20'+this['queue'][_0x59283f(0x2ab)]+'/'+this['maxQueue']);this[_0x59283f(0x19b)+'s']();});}['_tryProces'+'s'](){const _0x1d764f=_0x45b4cf;if(this[_0x1d764f(0x1ca)])return;this['processing']=!![];const _0x121e78=async()=>{const _0x470cfe=_0x1d764f;this['nextTimer']&&(clearTimeout(this[_0x470cfe(0x230)]),this[_0x470cfe(0x230)]=null);const _0xcc1829=Date['now']();let _0x542e72=Math[_0x470cfe(0x26b)](0x106c+-0x229*-0x5+-0x1b39,this[_0x470cfe(0x353)+'r'][_0x470cfe(0x366)]-this[_0x470cfe(0x353)+'r'][_0x470cfe(0x212)](_0xcc1829));if(_0x542e72<=-0xe88+0x217e+0x1*-0x12f6||this[_0x470cfe(0x389)]['length']===-0x9c3+0x1072+0x1*-0x6af){const _0x48f7a0=this[_0x470cfe(0x353)+'r']['timeUntilN'+_0x470cfe(0x2ba)+'le'](_0xcc1829);if(this[_0x470cfe(0x389)][_0x470cfe(0x2ab)]>-0x1757+0x1*-0x964+0x20bb)this['nextTimer']=setTimeout(()=>{const _0x4f3258=_0x470cfe;this['processing']=![],this[_0x4f3258(0x19b)+'s']();},_0x48f7a0+(-0xea9+0x115*0x1c+-0xfa2));else this['processing']=![];return;}const _0x962c21=[];for(let _0x22bee0=0x1*-0x1659+-0x14*0x167+0x3265;_0x22bee0<_0x542e72&&this[_0x470cfe(0x389)][_0x470cfe(0x2ab)]>0x17a3+0x1*-0xd37+-0xa6c;_0x22bee0++){let _0x5ed5ce=0x150+0x1*-0x17b3+0x1663,_0x1d9104=this[_0x470cfe(0x389)][-0xb51*-0x3+0x119e+-0x1*0x3391][_0x470cfe(0x229)]||-0x14aa+-0x2e6+0x1790;for(let _0x3830ea=-0x2447+-0xc5*0x7+0x29ab*0x1;_0x3830ea<this['queue']['length'];_0x3830ea++){const _0x67d635=this['queue'][_0x3830ea][_0x470cfe(0x229)]||0x9*-0x26b+-0x245a+0x3a1d;_0x67d635>_0x1d9104&&(_0x1d9104=_0x67d635,_0x5ed5ce=_0x3830ea);}const _0x263674=this[_0x470cfe(0x389)][_0x470cfe(0x183)](_0x5ed5ce,0x1121*-0x1+-0xd29+0x205*0xf)[0x1554+0x2*0x11fc+-0x394c];_0x962c21[_0x470cfe(0x1a4)](_0x263674);}if(_0x962c21[_0x470cfe(0x2ab)]>-0x155*0xb+0x5d7+-0x2*-0x468)for(const _0xeb67b of _0x962c21){this[_0x470cfe(0x353)+'r']['recordSend'](_0xcc1829);const _0x234968={'priority':_0xeb67b['priority']||-0x1a66*0x1+-0x2421+-0x3e87*-0x1,'fnSnippet':String(_0xeb67b['fn'])['slice'](-0xe38+0x1*0xfa+0xa*0x153,0x26f1*-0x1+-0xb51*0x3+0x49ac)};try{const _0x3120e1=attemptSendWithRetry(_0xeb67b['fn'],cfg[_0x470cfe(0x1f8)+'_ATTEMPTS']||0x47+-0x26fe+0x26b9,cfg[_0x470cfe(0x1f8)+_0x470cfe(0x300)]||0x1d5f+0x1514+-0x307f,_0x234968);_0x3120e1[_0x470cfe(0x2dd)](_0x3a561c=>_0xeb67b['resolve'](_0x3a561c))[_0x470cfe(0x1e2)](_0x5f5ad9=>_0xeb67b[_0x470cfe(0x2bf)](_0x5f5ad9));}catch(_0x752533){_0xeb67b[_0x470cfe(0x2bf)](_0x752533);}}if(this[_0x470cfe(0x389)][_0x470cfe(0x2ab)]>0x1*0x15fa+0x1*0x737+-0x1d31){const _0x21230c=this[_0x470cfe(0x353)+'r']['timeUntilN'+_0x470cfe(0x2ba)+'le'](Date['now']());this[_0x470cfe(0x230)]=setTimeout(()=>{const _0x54268d=_0x470cfe;this[_0x54268d(0x1ca)]=![],this[_0x54268d(0x19b)+'s']();},_0x21230c+(0x193*0x7+-0x235*-0x11+-0x3089));}else this[_0x470cfe(0x1ca)]=![];};try{_0x121e78();}catch(_0x4f4728){this[_0x1d764f(0x1ca)]=![],error(_0x4f4728,_0x1d764f(0x1b8)+_0x1d764f(0x321)+_0x1d764f(0x330)+_0x1d764f(0x305));}}}class BotAPI extends _0x4552f7{constructor(){const _0x56d111=_0x45b4cf;super(),this[_0x56d111(0x376)]=new SimpleCache(),this['store']=store,this['proto']=proto;}async[_0x45b4cf(0x32a)+'dia'](_0x26e6b3,_0x3cd28a={}){const _0x2ad054=_0x45b4cf;try{return await downloadMediaMessage(_0x26e6b3,_0x2ad054(0x2e9),{},{'logger':baileysPinoLogger,..._0x3cd28a});}catch(_0x5aba7e){error(_0x5aba7e,_0x2ad054(0x1a8)+_0x2ad054(0x35d)+_0x2ad054(0x2c5));throw _0x5aba7e;}}[_0x45b4cf(0x1df)](_0x415ff2){return isJidGroup(_0x415ff2);}[_0x45b4cf(0x295)](_0x254bc8){const _0xcac235=_0x45b4cf;try{if(!_0x254bc8||typeof _0x254bc8!==_0xcac235(0x1c3))return![];if(isJidGroup(_0x254bc8))return![];if(isJidBroadcast(_0x254bc8))return![];if(isJidStatusBroadcast(_0x254bc8))return![];return _0x254bc8['includes']('@');}catch(_0x1b51f5){return debug(_0xcac235(0x29d)+_0xcac235(0x2ad),_0x1b51f5?.[_0xcac235(0x33c)]||_0x1b51f5),![];}}['isBroadcas'+'t'](_0xf95958){return isJidBroadcast(_0xf95958);}[_0x45b4cf(0x326)+_0x45b4cf(0x320)](_0x1c0231,_0x3b57ce){return areJidsSameUser(_0x1c0231,_0x3b57ce);}[_0x45b4cf(0x2d5)+_0x45b4cf(0x3e4)](_0x51b04e){const _0x5bbc63=_0x45b4cf;try{return isJidStatusBroadcast(_0x51b04e);}catch(_0x3d86bd){return debug(_0x5bbc63(0x2d5)+_0x5bbc63(0x265)+_0x5bbc63(0x3e3)+':',_0x3d86bd[_0x5bbc63(0x33c)]),![];}}[_0x45b4cf(0x1c6)+_0x45b4cf(0x22d)](_0x32cf16){const _0x236e04=_0x45b4cf;try{return isJidNewsletter(_0x32cf16);}catch(_0x1dec76){return debug(_0x236e04(0x388)+'etter\x20chec'+_0x236e04(0x35e),_0x1dec76['message']),![];}}[_0x45b4cf(0x3c9)+_0x45b4cf(0x39b)]({id:_0x4f4efe,participant:_0x47e3c8,body:_0x458761,timestamp:_0x4a9584}){const _0x100a52=_0x45b4cf;return{'key':{'id':_0x4f4efe,'remoteJid':'status@bro'+_0x100a52(0x22e),'participant':_0x47e3c8,'fromMe':![]},'message':{'conversation':_0x458761},'messageTimestamp':Math[_0x100a52(0x35f)]((_0x4a9584||Date[_0x100a52(0x291)]())/(-0x111c+-0x11fd+0x2701))};}async[_0x45b4cf(0x38c)+_0x45b4cf(0x1e8)](_0x18f96c){const _0x42818b=_0x45b4cf;try{if(_0x18f96c[_0x42818b(0x33c)]?.['pollCreati'+_0x42818b(0x3b4)])return getAggregateVotesInPollMessage({'message':_0x18f96c[_0x42818b(0x33c)],'pollCreationMessage':_0x18f96c[_0x42818b(0x33c)][_0x42818b(0x1ee)+'onMessage']});return null;}catch(_0x4b53ab){return error(_0x4b53ab,'Failed\x20to\x20'+_0x42818b(0x263)+_0x42818b(0x30c)),null;}}}const bot=new BotAPI();let sock=null,botJid=null,restartAttempts=-0x4f3+-0x4*0x92d+-0x29a7*-0x1;const MAX_BACKOFF=(-0x1a4a+-0x1311+0x2d60)*(0x47a+0xbbb+-0xff9)*(0x1d*0x9a+-0xc72+0x7*-0x28);let outgoingQueueGlobal=null,detachAllHandlers=null,registeredModules=new Set();const messageProcessingQueues=new Map();function normalizeJidForQueue(_0x66edb3){const _0x54d34d=_0x45b4cf;try{return jidNormalizedUser(_0x66edb3||'');}catch(_0x1795ff){return error(_0x54d34d(0x1a8)+_0x54d34d(0x2e0)+_0x54d34d(0x3e8)+'eue:',_0x1795ff[_0x54d34d(0x33c)]),String(_0x66edb3||'');}}bot[_0x45b4cf(0x1e0)+'dule']=_0x2760d2=>{const _0x14b45e=_0x45b4cf;registeredModules[_0x14b45e(0x310)](_0x2760d2);if(_0x2760d2[_0x14b45e(0x379)])try{_0x2760d2[_0x14b45e(0x379)](bot);}catch(_0x4f6ea0){warn(_0x14b45e(0x332)+_0x14b45e(0x3c5),_0x4f6ea0);}},bot[_0x45b4cf(0x339)+_0x45b4cf(0x396)]=_0x2cc8c7=>{const _0x58e002=_0x45b4cf;if(registeredModules['has'](_0x2cc8c7)){if(_0x2cc8c7[_0x58e002(0x25d)])try{_0x2cc8c7[_0x58e002(0x25d)](bot);}catch(_0x453fb1){warn(_0x58e002(0x281)+_0x58e002(0x3c5),_0x453fb1);}registeredModules[_0x58e002(0x30b)](_0x2cc8c7);}};async function chooseBaileysVersion(){const _0x1bb17b=_0x45b4cf;if(cfg[_0x1bb17b(0x308)+_0x1bb17b(0x38d)]&&typeof cfg[_0x1bb17b(0x308)+_0x1bb17b(0x38d)]===_0x1bb17b(0x1c3)){const _0x1ee480=cfg[_0x1bb17b(0x308)+'RSION']['split']('.')[_0x1bb17b(0x359)](_0x4750ca=>parseInt(_0x4750ca,0x525+-0x2e*-0xf+-0x7cd)||-0xf5+-0x1*-0x195b+-0x1866);return{'version':_0x1ee480,'isLatest':![]};}try{return await fetchLatestBaileysVersion();}catch(_0x1da2da){return debug(_0x1bb17b(0x1a8)+_0x1bb17b(0x37b)+_0x1bb17b(0x1e9)+_0x1bb17b(0x1ef)+_0x1bb17b(0x176)+'ck\x20to\x20defa'+'ult',_0x1da2da?.['message']||_0x1da2da),{'version':[-0x7*-0x427+-0x120+-0x1beb,0x2502+-0x9f1*-0x1+0x6*-0x7d2,-0x3*0x6a3+0x2*-0xc82+0x2ced],'isLatest':![]};}}function scheduleRestart(_0x43a67a){const _0x1cf25d=_0x45b4cf;restartAttempts++;const _0xab4bf0=Math['min'](MAX_BACKOFF,(0x24cb+-0x17*-0x97+-0x1ed4*0x1)*Math[_0x1cf25d(0x1a0)](0x1ec7*-0x1+0x1*-0x11d+0x1fe6,Math[_0x1cf25d(0x26b)](0x1dc0+-0x1*0x1a3+-0x1c1d,restartAttempts-(-0x1*0x15ee+0x180c+0x1*-0x21d))));info(_0x1cf25d(0x373)+_0x1cf25d(0x3a4)+_0x1cf25d(0x225)+restartAttempts+'\x20in\x20'+_0xab4bf0/(-0x1722+0x34d+-0x67*-0x3b)+_0x1cf25d(0x297)+_0x43a67a),setTimeout(async()=>{const _0x7ec696=_0x1cf25d;info(_0x7ec696(0x3e2)+_0x7ec696(0x1c2)+'ow...');try{if(detachAllHandlers){try{detachAllHandlers();}catch(_0x5c2c6a){debug('Error\x20duri'+_0x7ec696(0x386)+'llHandlers'+_0x7ec696(0x246)+'t:',_0x5c2c6a[_0x7ec696(0x33c)]);}detachAllHandlers=null;}if(sock){try{sock['end'](new Error(_0x7ec696(0x2da)+'\x20bot'));}catch(_0x2e77d4){}try{sock['ev']['removeAllL'+_0x7ec696(0x19f)]?.();}catch(_0x34e893){}sock=null;}if(outgoingQueueGlobal){try{outgoingQueueGlobal[_0x7ec696(0x230)]&&clearTimeout(outgoingQueueGlobal[_0x7ec696(0x230)]);}catch(_0x1c4ec5){}outgoingQueueGlobal=null;}await startBot();}catch(_0x303a25){error(_0x303a25,_0x7ec696(0x3af)+_0x7ec696(0x220)+'ed,\x20will\x20s'+'chedule\x20an'+_0x7ec696(0x205)+_0x7ec696(0x1b9)),scheduleRestart(_0x43a67a);}},_0xab4bf0);}async function cleanupTempFiles(_0x2c004a){const _0x503b21=_0x45b4cf;info(_0x503b21(0x2d3)+'eanup\x20for\x20'+_0x503b21(0x392)+_0x503b21(0x2c0)+_0x2c004a+_0x503b21(0x372));try{const _0x4b1e8a=await _0x5c58ab[_0x503b21(0x2fb)](_0x2c004a);let _0x3e9836=0xbe4*-0x1+0x2*-0x11fb+0x2fda*0x1;for(const _0xbd5e51 of _0x4b1e8a){if(_0xbd5e51[_0x503b21(0x282)](_0x503b21(0x2e8))){const _0x1c281c=_0x17c136['join'](_0x2c004a,_0xbd5e51);try{await _0x5c58ab[_0x503b21(0x37e)](_0x1c281c),debug('Deleted\x20le'+_0x503b21(0x2c3)+'p\x20file:\x20'+_0x1c281c),_0x3e9836++;}catch(_0x4578f6){warn(_0x503b21(0x1a8)+_0x503b21(0x27b)+'p\x20file\x20'+_0x1c281c+':',_0x4578f6);}}}if(_0x3e9836>0x10ef+0x270c+-0x11*0x34b)info(_0x503b21(0x337)+_0x503b21(0x226)+'leted\x20'+_0x3e9836+(_0x503b21(0x36e)+'\x20file(s).'));else info(_0x503b21(0x2e3)+_0x503b21(0x201)+_0x503b21(0x21a)+_0x503b21(0x3e6));}catch(_0x267f69){if(_0x267f69[_0x503b21(0x354)]!=='ENOENT')warn(_0x503b21(0x3e1)+'ng\x20tempora'+_0x503b21(0x3d7)+'eanup\x20in\x20'+_0x2c004a+':',_0x267f69);}}async function startBot(){const _0x3cf7b2=_0x45b4cf;try{let _0x2a960a;try{const _0x216615=await import('./qrcode.js');_0x2a960a=_0x216615[_0x3cf7b2(0x2c6)],deepSerialize=_0x216615[_0x3cf7b2(0x2a2)+'ize'];if(!_0x2a960a||!deepSerialize)throw new Error(_0x3cf7b2(0x240)+_0x3cf7b2(0x258)+_0x3cf7b2(0x19e)+_0x3cf7b2(0x3cb));info(_0x3cf7b2(0x240)+'loaded\x20and'+_0x3cf7b2(0x244));}catch(_0xf6efc){error(_0x3cf7b2(0x1a8)+_0x3cf7b2(0x33e)+_0x3cf7b2(0x2ee)+_0x3cf7b2(0x1f1)+'perations',_0xf6efc),scheduleRestart(_0x3cf7b2(0x17e)+'ort\x20failed');return;}const _0x5bea94=cfg[_0x3cf7b2(0x1f5)+'_DIR']||'.auth',{version:_0xe47409,isLatest:_0x296edd}=await chooseBaileysVersion();await cleanupTempFiles(_0x5bea94);try{const _0x55fd96=await import('./utils/database.js');_0x55fd96[_0x3cf7b2(0x219)+'Database']&&(await _0x55fd96[_0x3cf7b2(0x219)+_0x3cf7b2(0x324)](),info(_0x3cf7b2(0x243)+'nitialized'+'\x20successfu'+_0x3cf7b2(0x266)));}catch(_0xc275f4){info(_0x3cf7b2(0x243)+'nitializat'+_0x3cf7b2(0x306)+_0x3cf7b2(0x317)+'d.');}!SESSION_ID&&(fatal('FATAL:\x20SES'+_0x3cf7b2(0x38b)+'\x20not\x20set\x20i'+_0x3cf7b2(0x329)+_0x3cf7b2(0x213)+_0x3cf7b2(0x3bb)+_0x3cf7b2(0x19a)+_0x3cf7b2(0x345)),process['exit'](-0x11d4+0x119+-0x3f*-0x44));info(_0x3cf7b2(0x39c)+_0x3cf7b2(0x192)+SESSION_ID);const _0x4b7f35=async()=>{const _0x26462a=_0x3cf7b2;let _0x16efc3=await loadLocalCredsFileStartup(_0x5bea94);if(looksLikeCreds(_0x16efc3))return info(_0x26462a(0x2de)+'al\x20creds\x20f'+_0x26462a(0x3ac)+_0x26462a(0x2d2)+_0x26462a(0x31b)+'ssion.'),await _0x2a960a({'authDir':_0x5bea94,'creds':_0x16efc3,'browser':cfg['BAILEYS_BR'+_0x26462a(0x361)]});warn(_0x26462a(0x198)+_0x26462a(0x1d2)+_0x26462a(0x185)+_0x26462a(0x2b4)+_0x26462a(0x312)+_0x26462a(0x222)+_0x26462a(0x18a));try{const _0x181b3d=await fetchRemoteCredsAxios(SESSION_ID);if(looksLikeCreds(_0x181b3d))return info('âœ…\x20[AUTH]\x20R'+'emote\x20cred'+_0x26462a(0x2ed)+_0x26462a(0x2e6)+_0x26462a(0x36d)),await writeLocalCredsFile(_0x181b3d,_0x5bea94),await _0x2a960a({'authDir':_0x5bea94,'creds':_0x181b3d,'browser':cfg[_0x26462a(0x33b)+_0x26462a(0x361)]});warn('[AUTH]\x20Rem'+_0x26462a(0x2bd)+'turned\x20inv'+_0x26462a(0x3e5));}catch(_0xd4464b){warn(_0x26462a(0x3ae)+_0x26462a(0x203)+_0x26462a(0x3c3)+'\x20'+_0xd4464b[_0x26462a(0x33c)]+'.');}return null;},_0xe02b8a=await _0x4b7f35();if(!_0xe02b8a){info(_0x3cf7b2(0x23d)+'redentials'+_0x3cf7b2(0x173)+'ally\x20or\x20re'+'motely.\x20St'+'arting\x20pai'+_0x3cf7b2(0x304)+_0x3cf7b2(0x2b0));const _0x29b28d=await _0x2a960a({'authDir':_0x5bea94,'browser':cfg[_0x3cf7b2(0x33b)+_0x3cf7b2(0x361)]});if(!_0x29b28d||!_0x29b28d[_0x3cf7b2(0x378)]){scheduleRestart(_0x3cf7b2(0x1a8)+_0x3cf7b2(0x385)+'\x20valid\x20cre'+_0x3cf7b2(0x1ce)+_0x3cf7b2(0x214)+_0x3cf7b2(0x3a1)+'.');return;}registerAuthStateForFlush({'state':_0x29b28d[_0x3cf7b2(0x378)],'authDir':_0x5bea94});}else registerAuthStateForFlush({'state':_0xe02b8a[_0x3cf7b2(0x378)],'authDir':_0x5bea94});const {state:_0xf059e6}=_authState_for_flush,_0x1b7681=makeCacheableSignalKeyStore(_0xf059e6[_0x3cf7b2(0x24f)],baileysPinoLogger),_0x221068=_0x33877c=>{const _0x34dd9b=_0x3cf7b2,_0x151493=[_0x34dd9b(0x206),'remove'];for(const _0x4c38d7 of _0x151493){const _0x2103e2=_0x33877c[_0x4c38d7];_0x33877c[_0x4c38d7]=function(..._0x4961a2){const _0x55e8f4=_0x34dd9b,_0x5cd04c=_0x2103e2[_0x55e8f4(0x248)](this,_0x4961a2);return scheduleAuthFlush(),_0x5cd04c;};}};_0x221068(_0x1b7681);const _0x4c79a7=new SlidingWindowRateLimiter(cfg[_0x3cf7b2(0x2d9)]['window']||-0x1d06*0x1+0x21d6+-0xe8,cfg['RATE_LIMIT']['limit']||0x1c6a+-0xb*0x49+-0x1942);outgoingQueueGlobal=new OutgoingSendQueue(_0x4c79a7,{'maxQueue':cfg[_0x3cf7b2(0x1e4)+_0x3cf7b2(0x2f2)]}),info(_0x3cf7b2(0x2ea)+_0x3cf7b2(0x1b4)+'n\x20'+_0xe47409['join']('.')+(_0x3cf7b2(0x272)+'=')+_0x296edd);const _0x4e1ca7=[{'stream':baileysLogInterceptor,'level':_0x3cf7b2(0x1a1)},{'stream':process[_0x3cf7b2(0x32e)],'level':baileysPinoLevel}];baileysPinoLogger=_0x55a75e({'level':_0x3cf7b2(0x1a1)},_0x55a75e['multistrea'+'m'](_0x4e1ca7)),sock=makeWASocket({'version':_0xe47409,'auth':{'creds':_0xf059e6[_0x3cf7b2(0x346)],'keys':_0x1b7681},'logger':baileysPinoLogger,'browser':cfg[_0x3cf7b2(0x33b)+_0x3cf7b2(0x361)],'shouldIgnoreJid':_0x10327e=>typeof _0x10327e===_0x3cf7b2(0x1c3)&&_0x10327e[_0x3cf7b2(0x1e1)]('@broadcast')&&!isJidStatusBroadcast(_0x10327e),'syncFullHistory':cfg['SYNC_FULL_'+'HISTORY']||![]}),store['bind'](sock['ev']),sock['ev']['on'](_0x3cf7b2(0x189)+'te',_0x27a86c=>{const _0x6c2e4c=_0x3cf7b2;try{Object[_0x6c2e4c(0x3ab)](_0xf059e6[_0x6c2e4c(0x346)],_0x27a86c),scheduleAuthFlush();}catch(_0x46b837){debug(_0x6c2e4c(0x189)+_0x6c2e4c(0x2a3)+_0x6c2e4c(0x2d8),_0x46b837?.[_0x6c2e4c(0x33c)]||_0x46b837);}});const _0x2aeebe=sock[_0x3cf7b2(0x29a)+'e']['bind'](sock);sock[_0x3cf7b2(0x29a)+'e']=(_0x2ab0a3,_0x4ae520={},_0xf06230={})=>{const _0x5c2f8d=_0x3cf7b2,_0x54d173=()=>_0x2aeebe(_0x2ab0a3,_0x4ae520,_0xf06230),_0x1bb939=_0xf06230&&typeof _0xf06230['priority']===_0x5c2f8d(0x34a)?_0xf06230[_0x5c2f8d(0x229)]:-0xfdd+-0x10d*0x1a+0x37*0xc9;return outgoingQueueGlobal['enqueue'](_0x54d173,{'priority':_0x1bb939});};const _0x49e314=[],_0xcd19de=(_0x5e89e0,_0x393196)=>{sock['ev']['on'](_0x5e89e0,_0x393196),_0x49e314['push']({'event':_0x5e89e0,'handler':_0x393196});};detachAllHandlers=()=>{const _0x1407c1=_0x3cf7b2;for(const {event:_0x447ea7,handler:_0x435003}of _0x49e314){try{sock['ev'][_0x1407c1(0x1dd)](_0x447ea7,_0x435003);}catch(_0x2db32e){}}_0x49e314[_0x1407c1(0x2ab)]=-0x102*-0x1a+-0x1*-0x1bf+-0x1bf3;};const _0x593495=async({connection:_0x1496b7,lastDisconnect:_0x147028})=>{const _0x53e790=_0x3cf7b2;bot[_0x53e790(0x2b3)](_0x53e790(0x340)+_0x53e790(0x358),{'connection':_0x1496b7,'lastDisconnect':_0x147028});if(_0x1496b7===_0x53e790(0x22a)){const {error:_0x3d22e7}=_0x147028,_0x5ab5fc=_0x3d22e7?.[_0x53e790(0x2cf)]?.['statusCode'],_0x1fdc5a=[DisconnectReason['loggedOut'],DisconnectReason[_0x53e790(0x340)+_0x53e790(0x257)],DisconnectReason[_0x53e790(0x1fb)]][_0x53e790(0x1e1)](_0x5ab5fc);if(_0x1fdc5a){error(_0x53e790(0x3ec)+'ble\x20sessio'+_0x53e790(0x20c)+(DisconnectReason[_0x5ab5fc]||'Unknown')+(_0x53e790(0x2e5)+_0x53e790(0x24d)+_0x53e790(0x316)+_0x53e790(0x3b1)));try{await _0x5c58ab['rm'](_0x5bea94,{'recursive':!![],'force':!![]}),info(_0x53e790(0x1aa)+_0x53e790(0x191)+_0x53e790(0x3d4)+'invalid\x20se'+'ssion.');}catch(_0x3cf850){error('Failed\x20to\x20'+_0x53e790(0x2a5)+'h\x20director'+'y.',_0x3cf850);}restartAttempts=-0x3f2+0x138e+-0xf9c,scheduleRestart(DisconnectReason[_0x5ab5fc]||_0x53e790(0x200)+_0x5ab5fc);}else{info(_0x53e790(0x31a)+'\x20closed\x20(r'+_0x53e790(0x1a3)+_0x53e790(0x3c2)+_0x53e790(0x349)+'ect.\x20Attem'+_0x53e790(0x357)+(restartAttempts+(0x2e*-0x6e+0x1f8b+-0xbc6)));if(restartAttempts>=0x434+0x1b05+-0x1*0x1f34){error(_0x53e790(0x17a)+'\x20connectio'+_0x53e790(0x20a)+'('+(restartAttempts+(0x1dd*0x2+0xa81+-0xe3a))+(_0x53e790(0x259)+_0x53e790(0x2e5)+_0x53e790(0x24d)+_0x53e790(0x316)+_0x53e790(0x3b1)));try{await _0x5c58ab['rm'](_0x5bea94,{'recursive':!![],'force':!![]}),info(_0x53e790(0x1aa)+_0x53e790(0x191)+_0x53e790(0x3d4)+_0x53e790(0x262)+_0x53e790(0x3bf)+'n\x20failures'+'.');}catch(_0x307188){error(_0x53e790(0x1a8)+_0x53e790(0x2a5)+_0x53e790(0x26e)+'y.',_0x307188);}restartAttempts=0x157c+0x1*-0x1749+0x1cd*0x1;}scheduleRestart(String(_0x3d22e7||_0x53e790(0x1f4)));}}else{if(_0x1496b7===_0x53e790(0x260)){restartAttempts=-0xc9f*0x1+-0x1d33+0x29d2,botJid=sock[_0x53e790(0x294)]?.['id'],info(_0x53e790(0x179)+_0x53e790(0x3b6)+_0x53e790(0x387)+jidNormalizedUser(botJid)),bot[_0x53e790(0x29a)+'e']=sock['sendMessag'+'e'],bot['sock']=sock,bot[_0x53e790(0x3e0)]=_0x5367c2=>bot[_0x53e790(0x376)][_0x53e790(0x1d9)](_0x53e790(0x2b8)+_0x5367c2)||null,initBotState(bot);try{const _0x7bf5b4=await import('./utils/loader.js');if(_0x7bf5b4[_0x53e790(0x219)+_0x53e790(0x2cd)])await withTimeout(_0x7bf5b4[_0x53e790(0x219)+'Modules'](bot),0x1*0x5eea+-0x10d6*-0x4+0x33d5*-0x2,_0x53e790(0x17d)+_0x53e790(0x33f)+_0x53e790(0x2a6));}catch(_0x3bfdd4){warn(_0x53e790(0x1a8)+_0x53e790(0x2c9)+_0x53e790(0x1b2)+'ader\x20modul'+'e',_0x3bfdd4?.[_0x53e790(0x33c)]||_0x3bfdd4);}}}};_0xcd19de(_0x3cf7b2(0x340)+_0x3cf7b2(0x358),_0x593495);function _0x2317b0(_0x1defe8){const _0x43059c=_0x3cf7b2;if(!_0x1defe8)return'';return _0x1defe8['conversati'+'on']||_0x1defe8[_0x43059c(0x2ef)+_0x43059c(0x3c8)]?.['text']||_0x1defe8[_0x43059c(0x37f)+'ge']?.[_0x43059c(0x2e1)]||_0x1defe8[_0x43059c(0x397)+'ge']?.[_0x43059c(0x2e1)]||_0x1defe8[_0x43059c(0x34d)+_0x43059c(0x3b2)]?.[_0x43059c(0x27a)]||_0x1defe8[_0x43059c(0x2f6)+_0x43059c(0x3a6)+'ge']?.['selectedDi'+_0x43059c(0x1d1)]||_0x1defe8['listRespon'+_0x43059c(0x3dc)]?.[_0x43059c(0x2e4)+_0x43059c(0x27c)]?.[_0x43059c(0x28b)+_0x43059c(0x1d1)]||'';}const _0x47f83f=async({messages:_0x2bda05,type:_0x250e2e})=>{const _0x4b9a9c=_0x3cf7b2;bot[_0x4b9a9c(0x2b3)]('messages.u'+_0x4b9a9c(0x30a),{'messages':_0x2bda05,'type':_0x250e2e});if(_0x250e2e===_0x4b9a9c(0x384))for(const _0x414ec4 of _0x2bda05){if(_0x414ec4['key']&&_0x414ec4[_0x4b9a9c(0x33c)]){const _0x598685=_0x2317b0(_0x414ec4[_0x4b9a9c(0x33c)]);_0x598685&&messageEditCache[_0x4b9a9c(0x206)](_0x414ec4['key']['id'],{'text':_0x598685,'timestamp':Date[_0x4b9a9c(0x291)]()});}try{store[_0x4b9a9c(0x3b3)+'x'](_0x414ec4['key']?.[_0x4b9a9c(0x16f)]||_0x4b9a9c(0x1f4))[_0x4b9a9c(0x2fc)](_0x414ec4,_0x4b9a9c(0x311));}catch(_0x80b69d){}const _0x2f61ca=_0x414ec4[_0x4b9a9c(0x17c)]?.[_0x4b9a9c(0x16f)]||_0x4b9a9c(0x399)+'at';!messageProcessingQueues[_0x4b9a9c(0x2b7)](_0x2f61ca)&&messageProcessingQueues[_0x4b9a9c(0x206)](_0x2f61ca,new _0x4e984d({'concurrency':0x1})),messageProcessingQueues['get'](_0x2f61ca)[_0x4b9a9c(0x310)](()=>_0x153100(_0x414ec4))[_0x4b9a9c(0x1e2)](_0x118071=>{const _0x295a7d=_0x4b9a9c;error(_0x118071,_0x295a7d(0x364)+_0x295a7d(0x23b)+'e\x20message\x20'+_0x414ec4[_0x295a7d(0x17c)]['id']);});}else{debug(_0x4b9a9c(0x3ad)+'eived\x20'+_0x2bda05[_0x4b9a9c(0x2ab)]+('\x20history\x20m'+_0x4b9a9c(0x1c0)+'\x20type\x20\x22')+_0x250e2e+(_0x4b9a9c(0x2d4)+_0x4b9a9c(0x2bb)+_0x4b9a9c(0x3da)));const _0x250ffb=new Map();for(const _0x1a182c of _0x2bda05){const _0x40cf58=_0x1a182c['key']?.[_0x4b9a9c(0x16f)]||'unknown';if(!_0x250ffb[_0x4b9a9c(0x2b7)](_0x40cf58))_0x250ffb[_0x4b9a9c(0x206)](_0x40cf58,[]);_0x250ffb[_0x4b9a9c(0x1d9)](_0x40cf58)[_0x4b9a9c(0x1a4)](_0x1a182c);}for(const [_0xf740e1,_0x6c26b2]of _0x250ffb['entries']()){const _0x508449=store[_0x4b9a9c(0x3b3)+'x'](_0xf740e1);for(const _0x192ba1 of _0x6c26b2)_0x508449[_0x4b9a9c(0x2fc)](_0x192ba1,_0x4b9a9c(0x31c));}debug(_0x4b9a9c(0x2ff)+_0x4b9a9c(0x3a7)+_0x2bda05[_0x4b9a9c(0x2ab)]+(_0x4b9a9c(0x3b9)+_0x4b9a9c(0x25a)+_0x4b9a9c(0x3a3))+_0x250ffb[_0x4b9a9c(0x1f3)]+'\x20chats.');}};async function _0x153100(_0x478bc1){const _0x398bda=_0x3cf7b2;let _0x34b91d=new Set();try{const loader=await import('./utils/loader.js');if(loader[_0x398bda(0x39e)+_0x398bda(0x382)])_0x34b91d=loader[_0x398bda(0x39e)+'Names']();}catch(_0x320bfc){}try{bot['emit'](_0x398bda(0x277)+'e',_0x478bc1);if(!_0x478bc1[_0x398bda(0x33c)])return;const _0x3eb4d6=Array['isArray'](cfg[_0x398bda(0x37d)+_0x398bda(0x178)])?cfg[_0x398bda(0x37d)+_0x398bda(0x178)]['slice']()[_0x398bda(0x255)]((_0x1c6f84,_0x713a0e)=>_0x713a0e[_0x398bda(0x2ab)]-_0x1c6f84[_0x398bda(0x2ab)]):typeof cfg[_0x398bda(0x37d)+'EFIX']==='string'?[cfg[_0x398bda(0x37d)+'EFIX']]:null,_0x5230e4=_0x2317b0(_0x478bc1[_0x398bda(0x33c)]);let _0xdfe06c=_0x5230e4,_0xb644d2=![];if(_0x3eb4d6===null){const _0x1488a1=_0x5230e4[_0x398bda(0x1d6)]()[_0x398bda(0x1da)](/ +/)['shift']()?.[_0x398bda(0x2b9)+'e']();_0x1488a1&&_0x34b91d[_0x398bda(0x2b7)](_0x1488a1)&&(_0xb644d2=!![]);}else{const _0x1f5eb7=_0x3eb4d6[_0x398bda(0x3b5)](_0x2743f3=>_0x5230e4[_0x398bda(0x1ae)](_0x2743f3));if(_0x1f5eb7){const _0x4050fb=_0x5230e4[_0x398bda(0x24c)](_0x1f5eb7[_0x398bda(0x2ab)])[_0x398bda(0x1d6)]();_0x4050fb&&(_0xb644d2=!![],_0xdfe06c=_0x4050fb);}}const _0x304062=_0x478bc1['key']?.['remoteJid'],_0x26300b=!!(_0x304062&&isJidStatusBroadcast(_0x304062)),_0x4e8e78=_0x478bc1['key']['participan'+'t']||_0x478bc1['key'][_0x398bda(0x16f)],_0xe0cab0={'message':_0x478bc1[_0x398bda(0x33c)],'key':_0x478bc1[_0x398bda(0x17c)],'pushName':_0x478bc1[_0x398bda(0x17b)],'remoteJid':_0x304062,'sender':_0x4e8e78,'fromMe':_0x478bc1[_0x398bda(0x17c)]['fromMe'],'messageTimestamp':_0x478bc1[_0x398bda(0x21c)+_0x398bda(0x17f)],'rawText':_0x5230e4,'text':_0xdfe06c,'isCommand':_0xb644d2,'isStatus':_0x26300b,'proto':proto,'reply':_0x2274f7=>{const _0x541b9e=_0x398bda,_0x263d22=_0x26300b?_0x4e8e78:_0x304062;if(!_0x263d22)return Promise[_0x541b9e(0x2bf)](new Error(_0x541b9e(0x16a)+_0x541b9e(0x344)+'ply.'));return sock['sendMessag'+'e'](_0x263d22,_0x2274f7,{'quoted':_0x478bc1});}};if(isJidGroup(_0x304062))try{await isadmin(bot,_0xe0cab0)&&await _0x5119d4[_0x398bda(0x218)+_0x398bda(0x238)+'r'](_0xe0cab0[_0x398bda(0x1e3)],_0xe0cab0['remoteJid']);}catch(_0xbbd2e9){}if(_0x26300b)bot['emit'](_0x398bda(0x197),_0xe0cab0);bot['emit'](_0x398bda(0x33c),_0xe0cab0);}catch(_0x49b85c){error(_0x49b85c,_0x398bda(0x1a8)+_0x398bda(0x2f5)+_0x398bda(0x275)+_0x478bc1[_0x398bda(0x17c)]?.['id']);}}_0xcd19de(_0x3cf7b2(0x1dc)+'psert',_0x47f83f);const _0x3efb06=_0x6ad9c6=>{const _0x2af899=_0x3cf7b2;bot[_0x2af899(0x2b3)](_0x2af899(0x1dc)+_0x2af899(0x327),_0x6ad9c6);for(const _0x25c45 of _0x6ad9c6){if(_0x25c45[_0x2af899(0x2dc)]?.['message']?.[_0x2af899(0x314)+_0x2af899(0x271)]){const _0xfa7b05=_0x25c45['key']['id'],_0x33baa7=messageEditCache[_0x2af899(0x1d9)](_0xfa7b05),_0x5db16d=_0x33baa7?_0x33baa7[_0x2af899(0x27a)]:null;if(_0x5db16d){const _0x4d0878={'event':'message-ed'+'it','chatId':_0x25c45[_0x2af899(0x17c)][_0x2af899(0x16f)],'fromMe':_0x25c45[_0x2af899(0x17c)][_0x2af899(0x249)],'originalMessageId':_0xfa7b05,'oldText':_0x5db16d,'newText':_0x25c45[_0x2af899(0x2dc)][_0x2af899(0x33c)][_0x2af899(0x314)+_0x2af899(0x271)][_0x2af899(0x33c)]?.[_0x2af899(0x2be)+'on'],'timestamp':new Date((_0x25c45['update'][_0x2af899(0x21c)+_0x2af899(0x17f)]||Date['now']()/(0x16e9+-0x396+-0xf6b))*(0x16b2+0x642+-0x190c))[_0x2af899(0x187)+'g']()};bot['emit'](_0x2af899(0x20f)+'it',_0x4d0878);}else debug(_0x2af899(0x251)+']\x20Original'+_0x2af899(0x3a9)+_0xfa7b05+(_0x2af899(0x377)+_0x2af899(0x2d7)+'ing\x20edit\x20l'+'og.'));if(_0x33baa7)messageEditCache[_0x2af899(0x30b)](_0xfa7b05);}}};_0xcd19de(_0x3cf7b2(0x1dc)+_0x3cf7b2(0x327),_0x3efb06);const _0x34c367=_0x10159a=>{const _0x571b04=_0x3cf7b2;bot[_0x571b04(0x2b3)](_0x571b04(0x252)+'icipants.u'+_0x571b04(0x327),_0x10159a);const {id:_0x30078d,action:_0x3e5330,author:_0x279ea1,participants:_0x1b89c3}=_0x10159a;_0x3e5330===_0x571b04(0x3ce)&&_0x279ea1&&_0x1b89c3?.['length']===-0x74c*-0x3+-0x5*-0x729+-0x1cd8*0x2&&_0x279ea1===_0x1b89c3[0x1a2c+0x1*-0x1e25+0x3f9]&&(voluntaryLeaverStore[_0x571b04(0x206)](_0x279ea1,{'groupId':_0x30078d}),setTimeout(()=>{const _0x177df2=_0x571b04;voluntaryLeaverStore[_0x177df2(0x30b)](_0x279ea1);},-0x395+-0xcfd+0x241a));};_0xcd19de(_0x3cf7b2(0x252)+'icipants.u'+_0x3cf7b2(0x327),_0x34c367);const _0x44c950=[_0x3cf7b2(0x24e)+'elete',_0x3cf7b2(0x1c1)+_0x3cf7b2(0x1a5),'message-re'+'ceipt.upda'+'te',_0x3cf7b2(0x171)+_0x3cf7b2(0x30f)+'e','presence.u'+_0x3cf7b2(0x327),'contacts.u'+_0x3cf7b2(0x30a),_0x3cf7b2(0x32d)+_0x3cf7b2(0x327),'chats.upse'+'rt',_0x3cf7b2(0x3d8)+'te','chats.dele'+'te',_0x3cf7b2(0x313)+_0x3cf7b2(0x31f),_0x3cf7b2(0x3ca)+'ert',_0x3cf7b2(0x362)+_0x3cf7b2(0x188),_0x3cf7b2(0x2fd),'blocklist.'+_0x3cf7b2(0x206),_0x3cf7b2(0x27f)+_0x3cf7b2(0x2dc),_0x3cf7b2(0x3dd)+'t',_0x3cf7b2(0x374)+_0x3cf7b2(0x393),_0x3cf7b2(0x33a)+_0x3cf7b2(0x261)+'t',_0x3cf7b2(0x37a)+_0x3cf7b2(0x3c1)+_0x3cf7b2(0x2e2)];for(const _0x969abf of _0x44c950){_0x969abf!=='messages.u'+_0x3cf7b2(0x327)&&_0xcd19de(_0x969abf,_0x3f8efe=>bot['emit'](_0x969abf,_0x3f8efe));}}catch(_0x347d80){error(_0x347d80,_0x3cf7b2(0x1a8)+'start\x20bot');const _0x9440bf=(_0x347d80[_0x3cf7b2(0x33c)]||_0x347d80[_0x3cf7b2(0x343)]||'')[_0x3cf7b2(0x2b9)+'e']();if(_0x9440bf[_0x3cf7b2(0x1e1)](_0x3cf7b2(0x270))||_0x9440bf['includes']('creds')||_0x9440bf['includes'](_0x3cf7b2(0x381))||_0x9440bf[_0x3cf7b2(0x1e1)](_0x3cf7b2(0x17c))){warn(_0x3cf7b2(0x315)+'ilure\x20seem'+'s\x20auth-rel'+_0x3cf7b2(0x241)+'ting\x20local'+_0x3cf7b2(0x375)+_0x3cf7b2(0x2c4)+'.');try{const _0x13c007=cfg[_0x3cf7b2(0x1f5)+_0x3cf7b2(0x351)]||_0x3cf7b2(0x307);await _0x5c58ab['rm'](_0x13c007,{'recursive':!![],'force':!![]}),info(_0x3cf7b2(0x1aa)+_0x3cf7b2(0x191)+_0x3cf7b2(0x3d4)+_0x3cf7b2(0x216)+_0x3cf7b2(0x184));}catch(_0x4a627f){error(_0x3cf7b2(0x1a8)+_0x3cf7b2(0x2a5)+_0x3cf7b2(0x26e)+'y\x20during\x20f'+_0x3cf7b2(0x3cf)+_0x3cf7b2(0x39f),_0x4a627f);}restartAttempts=-0x1023+-0x28e+-0x3bd*-0x5;}scheduleRestart('Initial\x20st'+'art\x20failed');}}let shuttingDown=![];async function shutdown(_0x482385){const _0x469828=_0x45b4cf;if(shuttingDown)return;shuttingDown=!![],info('Shutting\x20d'+_0x469828(0x21f)+'l='+_0x482385+_0x469828(0x30e));try{outgoingQueueGlobal&&(outgoingQueueGlobal['enqueue']=()=>Promise[_0x469828(0x2bf)](new Error(_0x469828(0x2f1)+_0x469828(0x318))));await Promise[_0x469828(0x1e7)](Array[_0x469828(0x19d)](messageProcessingQueues[_0x469828(0x380)]())[_0x469828(0x359)](_0x270fe2=>_0x270fe2[_0x469828(0x1cc)]())),info('Message\x20qu'+_0x469828(0x186)+'ed.'),await flushAuthToDisk();store&&store[_0x469828(0x369)+'e']&&(await store[_0x469828(0x369)+'e'](_0x17c136[_0x469828(0x31d)](cfg[_0x469828(0x1f5)+'_DIR']||'.auth',_0x469828(0x3bc))),info(_0x469828(0x236)+'d.'));if(detachAllHandlers)detachAllHandlers();if(sock)sock[_0x469828(0x3be)](new Error(_0x469828(0x2fa)+_0x469828(0x2ce)+'\x20'+_0x482385));bot[_0x469828(0x376)]?.[_0x469828(0x22a)]?.();if(cacheSweepTimer)clearInterval(cacheSweepTimer);}catch(_0x5ae3b3){error(_0x5ae3b3,_0x469828(0x3e1)+_0x469828(0x1a9)+'n');}finally{info(_0x469828(0x302)+_0x469828(0x2eb)),process['exit'](-0x25df+0xf17*0x2+0x7b1);}}process['on'](_0x45b4cf(0x36f),()=>shutdown('SIGINT')),process['on']('SIGTERM',()=>shutdown(_0x45b4cf(0x3e9))),process['on'](_0x45b4cf(0x34f)+_0x45b4cf(0x367),_0x705b66=>{const _0x4cd01c=_0x45b4cf;fatal('uncaughtEx'+_0x4cd01c(0x367),_0x705b66);}),process['on'](_0x45b4cf(0x28d)+_0x45b4cf(0x199),_0x57d303=>{const _0x3af8c4=_0x45b4cf;fatal(_0x3af8c4(0x28d)+'ejection',_0x57d303);}),startBot()[_0x45b4cf(0x1e2)](_0x316fc6=>{const _0x532974=_0x45b4cf;error(_0x316fc6,_0x532974(0x1a8)+_0x532974(0x1eb)+'from\x20initi'+'al\x20call'),scheduleRestart('Initial\x20st'+_0x532974(0x30d));});export default bot;