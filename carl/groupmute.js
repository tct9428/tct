const _0x28c4b2=_0x1741;(function(_0x27374a,_0x1a992b){const _0x1b26d5=_0x1741,_0x42b79d=_0x27374a();while(!![]){try{const _0x12061d=parseInt(_0x1b26d5(0x215))/(-0x132e+0x175+0x11ba)+parseInt(_0x1b26d5(0x21d))/(-0x1c50+0xc*-0x2bd+-0x29*-0x17e)+-parseInt(_0x1b26d5(0x246))/(-0x1*0xac1+0x1*0x104d+-0x589)+parseInt(_0x1b26d5(0x1f5))/(-0x1d9e+0x147c+0x926)*(parseInt(_0x1b26d5(0x23a))/(0xc6c*-0x1+0x1591+-0x920))+-parseInt(_0x1b26d5(0x253))/(0x2135+0xfe+-0x222d)*(-parseInt(_0x1b26d5(0x2bd))/(-0x8f9*0x1+0x71*0x3f+-0x12cf))+parseInt(_0x1b26d5(0x29e))/(-0x1*-0x81e+-0x49*0x2f+0x1*0x551)*(-parseInt(_0x1b26d5(0x2ad))/(0x3*-0xcef+-0x5c+0x2*0x1399))+parseInt(_0x1b26d5(0x2af))/(-0x1e+-0x22ad*0x1+0x22d5);if(_0x12061d===_0x1a992b)break;else _0x42b79d['push'](_0x42b79d['shift']());}catch(_0x3debf6){_0x42b79d['push'](_0x42b79d['shift']());}}}(_0x3469,-0x21*0x553+0x1*-0x142aef+-0xa0f*-0x379));import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import{getConfig,hotReloadConfig}from'../utils/config.js';export const name=_0x28c4b2(0x284)+_0x28c4b2(0x2b6);function _0x3469(){const _0x572189=['ULL,\x0a\x20\x20\x20\x20\x20','\x20chat_jid\x20','No\x20target\x20','UE,\x0a\x20\x20\x20\x20\x20\x20','announceme','in.\x20Error:','\x27\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','ormat,\x20sep','`\x20to\x20see\x20t','dConfig\x20re','t_action\x20T','id,\x20mute_t','\x20\x20\x20\x20\x20\x20\x20las','\x20group(s).','now','5DCVVYe','Invalid\x20nu','includes','`listmutes','nnections\x20','\x20configure','DELETE\x20FRO','\x20schema\x20en','\x20or\x20set\x20up','from','abled=1','.\x20Error:\x20','5265603bMtcov','FROM\x20group','\x20specify\x20a','ber|all>`','\x20failed.','mber.\x20Use\x20','TIMEZONE','tesched\x2022','HH:mm','lly.',']\x20Executed','scheduled\x20','sender','2748kldVmx','leaned\x20up.','trim','\x20\x20\x20chat_ji','hedules\x20SE',']\x20Could\x20no','gistration','he\x20list.','on_timesta','UPDATE\x20gro','\x20enabled\x20=','ted.','cement','enable','dules\x20ORDE','.\x20*','ber>`','delmute','s*\x20(Timezo','\x20last_acti','ast_action','for\x20','Tick\x20faile','isArray','_timestamp','\x20\x20\x20\x20\x20\x20\x20\x20ON','.\x20Bot\x20may\x20','\x20\x20\x20);\x0a\x20\x20\x20\x20','jid','s\x20must\x20be\x20','ime,\x20unmut','not\x20be\x20adm','SELECT\x20*\x20F','d\x20=\x20?','T\x20NULL,\x0a\x20\x20','\x20config,\x20f','onnections','OT\x20EXISTS\x20','reply','‚úîÔ∏è\x20Mute/unm','TABLE\x20IF\x20N','\x20commands\x20','\x20created_a','ne:\x20','\x20\x20\x20\x20','ules\x20ORDER','\x20\x20\x20\x20\x20\x20\x20\x20cr','togglemute','alling\x20bac','muteSchedu','d\x20TEXT\x20NOT','fromSecond','ezone\x20from','tesched\x20<m','es\x20WHERE\x20i','te_schedul','Usage:\x20`de','SELECT\x20id\x20','a\x20\x27|\x27.','\x20BY\x20chat_j','\x20default\x20c','chat_jid','setZone','isCommand','k\x20to\x20','add','\x20CONFLICT(','EMENT,\x0a\x20\x20\x20','hasSame','mute_sched','arated\x20by\x20','mute_time','_time=excl',')\x0a\x0a','ed.mute_ti','707248HqhgvG','No\x20mute/un','hema.','text','lmute\x20<num','mp\x20INTEGER','unmute','SELECT\x20id,','\x20unmute_ti','able>\x20<num','unmute_tim','PRIMARY\x20KE','o\x20the\x20minu','_mute_sche',']\x20Initiali','135tRSYuZ','groups\x20fou','21004970eGWmpR','\x20has\x20been\x20','floor','o\x20\x27','all','length','mute\x20Cycle','ler','ion\x20=\x20?,\x20l','e_time,\x20en','d\x20to:\x20','led:\x20bot\x20i',']\x20hotReloa','|<unmute_H','5677Hhoxjh','mute\x20sched','‚úîÔ∏è\x20Deleted\x20','d\x20INTEGER\x20','forEach','2.3.0','R\x20BY\x20chat_','H:mm>\x20[opt','ROM\x20group_','=\x20?','split','ute_HH:mm>','_schedules','in\x20HH:mm\x20f','test','o\x20ensure\x20d','\x20DEFAULT\x200','\x27\x20group\x20','\x20\x20\x20CREATE\x20','eator_jid\x20','me\x20format.','880332cfllqb','\x20\x20\x20\x20enable','EXT,\x0a\x20\x20\x20\x20\x20','Usage:\x20`to','s\x27,\x27now\x27))','toLowerCas','TEXT\x20NOT\x20N','uded.unmut','listmutes','üóìÔ∏è\x20*Schedul','‚úîÔ∏è\x20All\x20sche','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','onfigured.','default\x20co',',\x20Unmute:\x20','INSERT\x20INT','users\x20with','\x20\x20\x20\x20\x20\x20\x20\x20\x20i','mute','\x20required.',']\x20module\x20c','id\x20=\x20?','day','ngUpdate','‚úîÔ∏è\x20Schedule','t\x20read\x20tim','enabled','Enabled','sock','up_mute_sc','\x20VALUES\x20(?','\x20group\x20JID','1233387ooxUta','ed\x20Mute/Un','\x20successfu','Scheduling','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not_announ','n_timestam','sured.','156742updKJE','run','atabase\x20sc','AME','O\x20group_mu','ules\x20are\x20c','TIMEZONE_N','T\x20enabled\x20','es\x20(chat_j','DO\x20UPDATE\x20','me\x20TEXT\x20NO','M\x20group_mu','ute\x20cycle\x20'];_0x3469=function(){return _0x572189;};return _0x3469();}export const version=_0x28c4b2(0x2c2);export const priority=-0x1*-0x152e+0x4*0x43+0x8*-0x2bd;export const commands=['mutesched',_0x28c4b2(0x1fd),_0x28c4b2(0x264),'togglemute'];export const configKeys=[_0x28c4b2(0x24c),_0x28c4b2(0x223)+_0x28c4b2(0x220)];let botRef=null,schedulerIntervalHandle=null,executorRunning=![],TIMEZONE='Africa/Nai'+'robi';const CHECK_INTERVAL_MS=(0x3*0x41b+-0x1*-0x17cb+-0x23e0)*(-0x32e+0x7cc*0x4+-0x5*0x4d2);function refreshConfig(){const _0x4891dc=_0x28c4b2;try{const _0x215aee=getConfig()||{};TIMEZONE=_0x215aee['TIMEZONE']||_0x215aee[_0x4891dc(0x223)+_0x4891dc(0x220)]||TIMEZONE,info('['+name+(']\x20Timezone'+'\x20configure'+_0x4891dc(0x2b9))+TIMEZONE);}catch(_0x41c900){warn('['+name+(_0x4891dc(0x258)+_0x4891dc(0x20e)+_0x4891dc(0x287)+_0x4891dc(0x276)+_0x4891dc(0x283)+_0x4891dc(0x293))+TIMEZONE+_0x4891dc(0x245)+_0x41c900['message']);}}try{hotReloadConfig(()=>refreshConfig());}catch(_0x152286){warn('['+name+(_0x28c4b2(0x2bb)+_0x28c4b2(0x234)+_0x28c4b2(0x259)+_0x28c4b2(0x24a)));}refreshConfig();async function ensureSchema(){const _0x22b1bb=_0x28c4b2;try{await db['exec'](_0x22b1bb(0x231)+_0x22b1bb(0x1f2)+_0x22b1bb(0x27b)+_0x22b1bb(0x278)+'group_mute'+_0x22b1bb(0x1ec)+_0x22b1bb(0x200)+_0x22b1bb(0x206)+'d\x20INTEGER\x20'+_0x22b1bb(0x2a9)+'Y\x20AUTOINCR'+_0x22b1bb(0x296)+_0x22b1bb(0x219)+_0x22b1bb(0x256)+_0x22b1bb(0x285)+'\x20NULL\x20UNIQ'+_0x22b1bb(0x22d)+_0x22b1bb(0x219)+'mute_time\x20'+_0x22b1bb(0x1fb)+_0x22b1bb(0x22a)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22b1bb(0x2a6)+_0x22b1bb(0x227)+_0x22b1bb(0x275)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22b1bb(0x1f6)+_0x22b1bb(0x2c0)+'DEFAULT\x201,'+_0x22b1bb(0x231)+_0x22b1bb(0x237)+_0x22b1bb(0x235)+_0x22b1bb(0x1f7)+_0x22b1bb(0x219)+_0x22b1bb(0x266)+_0x22b1bb(0x25b)+_0x22b1bb(0x2a3)+_0x22b1bb(0x1f0)+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22b1bb(0x281)+_0x22b1bb(0x1f3)+'TEXT\x20NOT\x20N'+_0x22b1bb(0x22a)+_0x22b1bb(0x219)+_0x22b1bb(0x27d)+'t\x20INTEGER\x20'+'DEFAULT\x20(s'+'trftime(\x27%'+_0x22b1bb(0x1f9)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22b1bb(0x26e)+_0x22b1bb(0x27f)),info('['+name+(']\x20Database'+_0x22b1bb(0x241)+_0x22b1bb(0x21c)));}catch(_0x5cac83){error(_0x5cac83,'['+name+(']\x20Failed\x20t'+_0x22b1bb(0x1ef)+_0x22b1bb(0x21f)+_0x22b1bb(0x2a0)));throw _0x5cac83;}}async function executorTick(){const _0x1e1c6d=_0x28c4b2;if(executorRunning)return;executorRunning=!![];try{const _0x35acfd=DateTime[_0x1e1c6d(0x239)]()[_0x1e1c6d(0x291)](TIMEZONE),_0x31c19e=_0x35acfd['toFormat'](_0x1e1c6d(0x24e)),_0x1c0c8a=await db[_0x1e1c6d(0x2b3)](_0x1e1c6d(0x273)+_0x1e1c6d(0x2c5)+_0x1e1c6d(0x298)+'ules\x20WHERE'+_0x1e1c6d(0x25d)+'\x201');for(const _0x394710 of _0x1c0c8a){const _0x8f639e=DateTime[_0x1e1c6d(0x286)+'s'](_0x394710['last_actio'+_0x1e1c6d(0x21b)+'p'])[_0x1e1c6d(0x291)](TIMEZONE),_0x495019=!_0x8f639e[_0x1e1c6d(0x297)](_0x35acfd,_0x1e1c6d(0x20b));if(_0x31c19e===_0x394710[_0x1e1c6d(0x29a)]&&(_0x394710['last_actio'+'n']!==_0x1e1c6d(0x207)||_0x495019))await executeGroupAction(_0x394710['chat_jid'],_0x1e1c6d(0x207),_0x35acfd);else _0x31c19e===_0x394710[_0x1e1c6d(0x2a8)+'e']&&(_0x394710['last_actio'+'n']!==_0x1e1c6d(0x2a4)||_0x495019)&&await executeGroupAction(_0x394710[_0x1e1c6d(0x290)],_0x1e1c6d(0x2a4),_0x35acfd);}}catch(_0x59c62a){error(_0x59c62a,'['+name+(']\x20executor'+_0x1e1c6d(0x269)+'d.'));}finally{executorRunning=![];}}async function executeGroupAction(_0x3d1d01,_0x36a0d7,_0x549c5b){const _0x5820ee=_0x28c4b2;if(!botRef||!botRef[_0x5820ee(0x211)])return;const _0xa8753b=_0x36a0d7===_0x5820ee(0x207)?_0x5820ee(0x22e)+'nt':_0x5820ee(0x21a)+_0x5820ee(0x25f);try{await botRef[_0x5820ee(0x211)]['groupSetti'+_0x5820ee(0x20c)](_0x3d1d01,_0xa8753b),await db[_0x5820ee(0x21e)](_0x5820ee(0x25c)+_0x5820ee(0x212)+_0x5820ee(0x257)+'T\x20last_act'+_0x5820ee(0x2b7)+_0x5820ee(0x267)+_0x5820ee(0x26b)+'\x20=\x20?\x20WHERE'+_0x5820ee(0x22b)+_0x5820ee(0x2c6),[_0x36a0d7,Math[_0x5820ee(0x2b1)](_0x549c5b['toSeconds']()),_0x3d1d01]),info('['+name+(_0x5820ee(0x250)+'\x20\x27')+_0x36a0d7+_0x5820ee(0x230)+_0x3d1d01+'.');}catch(_0x27109e){warn('['+name+(']\x20Failed\x20t'+_0x5820ee(0x2b2))+_0x36a0d7+_0x5820ee(0x1f1)+_0x3d1d01+(_0x5820ee(0x26d)+_0x5820ee(0x272)+_0x5820ee(0x22f)+'\x20')+_0x27109e['message']);}}function startScheduler(){stopScheduler();const _0x30103c=0x10ba1+-0x1759b+0x1545a-Date['now']()%(-0x3d87*-0x7+-0x3*0x6ff+-0x643*0x1c);setTimeout(()=>{const _0x3efc83=_0x1741;executorTick(),schedulerIntervalHandle=setInterval(executorTick,CHECK_INTERVAL_MS),info('['+name+(']\x20Schedule'+'r\x20started,'+'\x20aligned\x20t'+_0x3efc83(0x2aa)+'te.'));},_0x30103c);}function _0x1741(_0x4c0ba8,_0x3fc8f5){const _0x4989cc=_0x3469();return _0x1741=function(_0x30f794,_0x49fb5b){_0x30f794=_0x30f794-(-0x55*-0x33+-0x25*0x106+0x16db*0x1);let _0x2833a7=_0x4989cc[_0x30f794];return _0x2833a7;},_0x1741(_0x4c0ba8,_0x3fc8f5);}function stopScheduler(){schedulerIntervalHandle&&(clearInterval(schedulerIntervalHandle),schedulerIntervalHandle=null);}export async function onMessage(_0x393d71){const _0x4c767b=_0x28c4b2;if(!_0x393d71||!_0x393d71[_0x4c767b(0x292)])return;const _0x123ba2=(_0x393d71[_0x4c767b(0x2a1)]||'')[_0x4c767b(0x255)](),[_0x1570ba,..._0x5289d9]=_0x123ba2['split'](/\s+/),_0x1ebf78=_0x1570ba[_0x4c767b(0x1fa)+'e']();if(!commands[_0x4c767b(0x23c)](_0x1ebf78))return;const _0x4a32a1=await isadmin(botRef,_0x393d71);if(!_0x4a32a1)return;const _0x35f713=(_0x393d71[_0x4c767b(0x252)]||'')[_0x4c767b(0x2c7)]('@')[0x3*0x25b+-0x2214+0x1b03],_0x4ce1a4=await resolveDefaultConnections(_0x35f713);if(_0x4ce1a4[_0x4c767b(0x2b4)]===-0xd5e*-0x1+-0x23c7+0x1669)return _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x218)+_0x4c767b(0x27c)+'can\x20only\x20b'+'e\x20used\x20by\x20'+_0x4c767b(0x205)+_0x4c767b(0x23f)+'d\x20default\x20'+'groups.'});if(_0x1ebf78==='mutesched'){const [_0x455110,_0x3cb551]=_0x5289d9;if(_0x5289d9['length']>0x29a+-0x4dd*0x5+-0x1*-0x15b9||!_0x455110||!_0x455110[_0x4c767b(0x23c)]('|'))return _0x393d71[_0x4c767b(0x279)]({'text':'Usage:\x20`mu'+_0x4c767b(0x288)+_0x4c767b(0x2c8)+_0x4c767b(0x2bc)+_0x4c767b(0x2c4)+'ional_grou'+'p_jid]`\x0aEx'+'ample:\x20`mu'+_0x4c767b(0x24d)+':00|06:00`'});const [_0x54b1c8,_0x29dbc8]=_0x455110[_0x4c767b(0x2c7)]('|');if(!/^\d{2}:\d{2}$/[_0x4c767b(0x1ee)](_0x54b1c8)||!/^\d{2}:\d{2}$/[_0x4c767b(0x1ee)](_0x29dbc8))return _0x393d71[_0x4c767b(0x279)]({'text':'Invalid\x20ti'+_0x4c767b(0x1f4)+'\x20Both\x20time'+_0x4c767b(0x270)+_0x4c767b(0x1ed)+_0x4c767b(0x232)+_0x4c767b(0x299)+_0x4c767b(0x28d)});const _0x2f6a5c=_0x3cb551?[_0x3cb551]:_0x4ce1a4;if(_0x2f6a5c['length']===-0x123e+-0x95e+0x5d*0x4c)return _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x22c)+_0x4c767b(0x2ae)+'nd.\x20Either'+_0x4c767b(0x248)+_0x4c767b(0x214)+_0x4c767b(0x242)+_0x4c767b(0x28f)+_0x4c767b(0x277)+'.'});let _0x356a6f=0x1337*-0x1+0x3*-0x1b9+0x1862;for(const _0x2f6de3 of _0x2f6a5c){await db[_0x4c767b(0x21e)](_0x4c767b(0x204)+_0x4c767b(0x221)+_0x4c767b(0x28a)+_0x4c767b(0x225)+_0x4c767b(0x236)+_0x4c767b(0x271)+'e_time,\x20cr'+'eator_jid)'+_0x4c767b(0x213)+',\x20?,\x20?,\x20?)'+_0x4c767b(0x231)+_0x4c767b(0x26c)+_0x4c767b(0x295)+'chat_jid)\x20'+_0x4c767b(0x226)+'SET\x20mute_t'+'ime=exclud'+_0x4c767b(0x29d)+'me,\x20unmute'+_0x4c767b(0x29b)+_0x4c767b(0x1fc)+_0x4c767b(0x2b8)+_0x4c767b(0x244),[_0x2f6de3,_0x54b1c8,_0x29dbc8,_0x393d71[_0x4c767b(0x252)]]),_0x356a6f++;}await _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x27a)+_0x4c767b(0x229)+_0x4c767b(0x251)+_0x4c767b(0x268)+_0x356a6f+_0x4c767b(0x238)});}else{if(_0x1ebf78===_0x4c767b(0x1fd)){if(_0x5289d9[_0x4c767b(0x2b4)]>-0x1be1+0x15*0x89+0x10a4)return;const _0x4de4ce=await db[_0x4c767b(0x2b3)](_0x4c767b(0x273)+_0x4c767b(0x2c5)+_0x4c767b(0x298)+_0x4c767b(0x280)+_0x4c767b(0x28e)+'id');if(_0x4de4ce[_0x4c767b(0x2b4)]===0xa19+0x101f*0x1+-0x1a38)return _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x29f)+_0x4c767b(0x2be)+_0x4c767b(0x222)+_0x4c767b(0x201)});let _0x1125b8=_0x4c767b(0x1fe)+_0x4c767b(0x216)+_0x4c767b(0x2b5)+_0x4c767b(0x265)+_0x4c767b(0x27e)+TIMEZONE+_0x4c767b(0x29c);_0x4de4ce[_0x4c767b(0x2c1)]((_0x586353,_0x5612e2)=>{const _0x358b22=_0x4c767b,_0x3a6820=_0x586353[_0x358b22(0x20f)]?_0x358b22(0x210):'Disabled';_0x1125b8+=_0x5612e2+(-0x6ea+0xa3*0x17+-0x7ba)+_0x358b22(0x262)+_0x586353[_0x358b22(0x290)][_0x358b22(0x2c7)]('@')[-0xaa2+-0x13d4+0x1e76]+('*\x0a\x20\x20\x20Mute:'+'\x20')+_0x586353[_0x358b22(0x29a)]+_0x358b22(0x203)+_0x586353[_0x358b22(0x2a8)+'e']+'\x20['+_0x3a6820+']\x0a';}),await _0x393d71[_0x4c767b(0x279)]({'text':_0x1125b8});}else{if(_0x1ebf78==='delmute'){if(_0x5289d9[_0x4c767b(0x2b4)]!==0x1556*0x1+0x2183*-0x1+0xc2e)return _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x28b)+_0x4c767b(0x2a2)+_0x4c767b(0x249)});const _0x43b1ce=_0x5289d9[-0x13b8*-0x1+-0x2606+0x3*0x61a],_0x106699=await db[_0x4c767b(0x2b3)](_0x4c767b(0x2a5)+_0x4c767b(0x22b)+_0x4c767b(0x247)+_0x4c767b(0x2ab)+_0x4c767b(0x261)+_0x4c767b(0x2c3)+_0x4c767b(0x26f));if(_0x43b1ce[_0x4c767b(0x1fa)+'e']()===_0x4c767b(0x2b3))return await db[_0x4c767b(0x21e)]('DELETE\x20FRO'+'M\x20group_mu'+_0x4c767b(0x28a)+'es'),_0x393d71['reply']({'text':_0x4c767b(0x1ff)+'dules\x20have'+'\x20been\x20dele'+_0x4c767b(0x25e)});const _0x169e43=parseInt(_0x43b1ce,0x1855+0x79*-0x38+0x22d);if(isNaN(_0x169e43)||_0x169e43<0x24f9*-0x1+-0x77e*0x2+0x33f6||_0x169e43>_0x106699['length'])return _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x23b)+'mber.\x20Use\x20'+_0x4c767b(0x23d)+'`\x20to\x20see\x20t'+_0x4c767b(0x25a)});await db[_0x4c767b(0x21e)](_0x4c767b(0x240)+_0x4c767b(0x228)+_0x4c767b(0x28a)+_0x4c767b(0x289)+_0x4c767b(0x274),[_0x106699[_0x169e43-(0x165+0x1c16+-0x4d*0x62)]['id']]),await _0x393d71['reply']({'text':_0x4c767b(0x2bf)+'schedule\x20#'+_0x169e43+'.'});}else{if(_0x1ebf78===_0x4c767b(0x282)){const [_0x27fc37,_0x571094]=_0x5289d9;if(_0x5289d9[_0x4c767b(0x2b4)]!==0x9a*0x34+0x25a7+-0x44ed||![_0x4c767b(0x260),'disable'][_0x4c767b(0x23c)](_0x27fc37)||!_0x571094)return _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x1f8)+'gglemute\x20<'+'enable|dis'+_0x4c767b(0x2a7)+_0x4c767b(0x263)});const _0x19b42a=await db['all'](_0x4c767b(0x28c)+_0x4c767b(0x247)+'_mute_sche'+_0x4c767b(0x261)+'R\x20BY\x20chat_'+_0x4c767b(0x26f)),_0x37e32f=parseInt(_0x571094,0x1*0x1d08+-0x61f*0x4+-0x482*0x1);if(isNaN(_0x37e32f)||_0x37e32f<0x1445*0x1+0x3c*0x1f+-0xdc4*0x2||_0x37e32f>_0x19b42a[_0x4c767b(0x2b4)])return _0x393d71[_0x4c767b(0x279)]({'text':'Invalid\x20nu'+_0x4c767b(0x24b)+_0x4c767b(0x23d)+_0x4c767b(0x233)+'he\x20list.'});const _0xc5de98=_0x27fc37===_0x4c767b(0x260)?-0x10f*-0x3+0x4*-0x851+0x1*0x1e18:-0x147b+-0x3b*0x39+0x14b*0x1a;await db['run'](_0x4c767b(0x25c)+_0x4c767b(0x212)+'hedules\x20SE'+_0x4c767b(0x224)+'=\x20?\x20WHERE\x20'+_0x4c767b(0x20a),[_0xc5de98,_0x19b42a[_0x37e32f-(-0x1b87+-0x1036*0x2+0x3bf4)]['id']]),await _0x393d71[_0x4c767b(0x279)]({'text':_0x4c767b(0x20d)+'\x20#'+_0x37e32f+_0x4c767b(0x2b0)+_0x27fc37+'d.'});}}}}}async function resolveDefaultConnections(_0x39f560){const _0xb35788=_0x28c4b2;try{const _0x37c0d3=await getDefault(_0x39f560);if(!_0x37c0d3)return[];const _0x5769ed=Array[_0xb35788(0x26a)](_0x37c0d3)?_0x37c0d3:[_0x37c0d3],_0x521af1=new Set();for(const _0x457bcc of _0x5769ed){const _0x380351=await getConnection(_0x457bcc);(Array['isArray'](_0x380351)?_0x380351:[_0x380351])[_0xb35788(0x2c1)](_0x5d810e=>_0x5d810e&&_0x521af1[_0xb35788(0x294)](_0x5d810e));}return Array[_0xb35788(0x243)](_0x521af1);}catch(_0x2007b3){return warn('['+name+(_0xb35788(0x258)+'t\x20resolve\x20'+_0xb35788(0x202)+_0xb35788(0x23e)+_0xb35788(0x268))+_0x39f560),[];}}export async function initialize(_0x583481){const _0x160128=_0x28c4b2;if(!_0x583481)throw new Error('['+name+(_0x160128(0x2ac)+'zation\x20fai'+_0x160128(0x2ba)+'nstance\x20is'+_0x160128(0x208)));botRef=_0x583481,await ensureSchema(),startScheduler(),info('['+name+(']\x20module\x20i'+'nitialized'+_0x160128(0x217)+_0x160128(0x24f)));}export async function cleanup(){const _0x7f1ec8=_0x28c4b2;stopScheduler(),botRef=null,info('['+name+(_0x7f1ec8(0x209)+_0x7f1ec8(0x254)));}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};