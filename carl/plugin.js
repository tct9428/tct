const _0x1c77f2=_0x20ef;(function(_0x23665d,_0x3599c1){const _0x58d314=_0x20ef,_0xc66bec=_0x23665d();while(!![]){try{const _0x1b703b=-parseInt(_0x58d314(0x19d))/(-0x12a8+-0x3*-0x6ec+-0x21b)+parseInt(_0x58d314(0x1e9))/(0x29*0x1+-0x1f01+0x1eda)+-parseInt(_0x58d314(0x1ff))/(-0x26eb+0x18a5+0xe49)*(-parseInt(_0x58d314(0x1ae))/(-0x1*-0xe18+-0x266d+0x1859))+-parseInt(_0x58d314(0x1e3))/(0x44*-0x55+-0x1f1*-0x10+0x1*-0x877)+parseInt(_0x58d314(0x1e1))/(0xbe7+-0x4*-0x7f6+0x3*-0xe93)+parseInt(_0x58d314(0x1cf))/(0x1128+-0x3*0x37b+-0x1ac*0x4)+parseInt(_0x58d314(0x1dd))/(-0xa*-0x260+0xa9c+-0x2254);if(_0x1b703b===_0x3599c1)break;else _0xc66bec['push'](_0xc66bec['shift']());}catch(_0x6ce5b6){_0xc66bec['push'](_0xc66bec['shift']());}}}(_0x2fde,-0x9*-0x81e1+0x1*-0x16036+0x12b5b));import _0x29822c from'fs/promises';import _0x58dcae from'path';import{fileURLToPath}from'url';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x20ef(_0x256fbf,_0x5860ec){const _0xc7ad11=_0x2fde();return _0x20ef=function(_0x113198,_0x2a94e8){_0x113198=_0x113198-(-0x6*0x55+0xb3f+-0x7d5);let _0x1694fc=_0xc7ad11[_0x113198];return _0x1694fc;},_0x20ef(_0x256fbf,_0x5860ec);}export const name=_0x1c77f2(0x1cd);export const version='2.0.0';export const priority=-0x42f+0x2*-0xa49+0x191b;export const commands=['plugin'];let botRef=null;const __filename=fileURLToPath(import.meta[_0x1c77f2(0x19a)]),__dirname=_0x58dcae[_0x1c77f2(0x176)](__filename),projectRoot=_0x58dcae[_0x1c77f2(0x16c)](__dirname,'..'),modulesDir=_0x58dcae[_0x1c77f2(0x179)](projectRoot,'modules'),carlDir=_0x58dcae[_0x1c77f2(0x179)](projectRoot,'carl'),PROTECTED_PLUGINS=[_0x1c77f2(0x201),'plugin.js',_0x1c77f2(0x1c1)+_0x1c77f2(0x205)],recentMessageIds=new Set();function isDuplicateMessage(_0x287c04){const _0x722d74=_0x1c77f2;if(!_0x287c04)return![];if(recentMessageIds[_0x722d74(0x200)](_0x287c04))return!![];return recentMessageIds[_0x722d74(0x1e6)](_0x287c04),setTimeout(()=>recentMessageIds[_0x722d74(0x187)](_0x287c04),-0x33*0xc+0x3f5*-0x1+-0x52d*-0x5),![];}async function safeSend(_0x7bcb0d,_0x3c49c5){const _0x4b5024=_0x1c77f2;if(!_0x7bcb0d)return;try{const _0x10b34c=botRef['sendMessag'+'e']||botRef[_0x4b5024(0x1ea)]?.['sendMessag'+'e'];if(_0x10b34c)await _0x10b34c(_0x7bcb0d,{'text':_0x3c49c5});}catch(_0x3006f4){error(_0x3006f4,'['+name+(_0x4b5024(0x1c5)+_0x4b5024(0x19b)+'sage'));}}async function getRemovedPlugins(){const _0x3aeeb6=_0x1c77f2;try{const _0x5a9bdc=await db[_0x3aeeb6(0x1f2)](_0x3aeeb6(0x189)+_0x3aeeb6(0x171)+_0x3aeeb6(0x174));return Array['isArray'](_0x5a9bdc)?_0x5a9bdc:[];}catch(_0x548bb8){return warn(_0x548bb8,'['+name+(']\x20Failed\x20t'+_0x3aeeb6(0x16d)+'ved\x20plugin'+_0x3aeeb6(0x19e))),[];}}async function updateRemovedPlugins(_0x10e939,_0x237fdd=_0x1c77f2(0x1e6)){const _0x1ab909=_0x1c77f2;try{if(_0x237fdd===_0x1ab909(0x1e6))await db[_0x1ab909(0x197)](_0x1ab909(0x175)+'IGNORE\x20INT'+_0x1ab909(0x1c7)+_0x1ab909(0x19f)+_0x1ab909(0x1f0)+_0x1ab909(0x191)+_0x1ab909(0x18a),[_0x10e939['name'],_0x10e939[_0x1ab909(0x1bc)]]);else _0x237fdd===_0x1ab909(0x1ef)&&await db[_0x1ab909(0x197)](_0x1ab909(0x1bf)+'M\x20plugin_r'+_0x1ab909(0x1c4)+_0x1ab909(0x1dc)+'?',[_0x10e939['name']]);}catch(_0x358a50){error(_0x358a50,'['+name+(_0x1ab909(0x1c5)+'o\x20update\x20r'+_0x1ab909(0x1bb)+'gins\x20in\x20DB'));}}async function getAvailablePlugins(){const _0x5afc10=_0x1c77f2;try{const _0x5d85af=await db[_0x5afc10(0x1f2)](_0x5afc10(0x189)+_0x5afc10(0x171)+'_snapshot');if(!_0x5d85af||_0x5d85af[_0x5afc10(0x1ee)]===0x1b52+-0x2392+0x108*0x8)return[];return _0x5d85af['filter'](_0x32876e=>[_0x5afc10(0x1aa),'modules'][_0x5afc10(0x1fd)](_0x32876e[_0x5afc10(0x1bc)]))[_0x5afc10(0x184)](_0x21c652=>({'name':String(_0x21c652['name'])[_0x5afc10(0x1f4)](/\.js$/,''),'origin':_0x21c652[_0x5afc10(0x1bc)],'download':_0x21c652['download']||null}));}catch(_0x1485cc){return warn(_0x1485cc,'['+name+(_0x5afc10(0x1c5)+'o\x20get\x20avai'+_0x5afc10(0x1f9)+_0x5afc10(0x190)+'B')),[];}}async function getInstalledPlugins(){const _0x10fdb8=_0x1c77f2,_0x48fb53=new Set();try{const _0x2197d4=await _0x29822c[_0x10fdb8(0x1d7)](carlDir)[_0x10fdb8(0x1ab)](()=>[]);_0x2197d4[_0x10fdb8(0x172)](_0x4a847b=>_0x48fb53[_0x10fdb8(0x1e6)](String(_0x4a847b)[_0x10fdb8(0x1f4)]('.js','')));const _0x2a5291=await _0x29822c[_0x10fdb8(0x1d7)](modulesDir)[_0x10fdb8(0x1ab)](()=>[]);_0x2a5291[_0x10fdb8(0x172)](_0x5b1c5a=>_0x48fb53[_0x10fdb8(0x1e6)](String(_0x5b1c5a)[_0x10fdb8(0x1f4)]('.js','')));}catch(_0x1b11ca){}return Array[_0x10fdb8(0x1db)](_0x48fb53);}async function downloadFile(_0x222db2,_0x206a1b){const _0x312ff4=_0x1c77f2;if(!_0x222db2)return error(new Error(_0x312ff4(0x1c3)+_0x312ff4(0x1d9)),'['+name+(']\x20download'+'File\x20missi'+_0x312ff4(0x1e8)+'\x20')+_0x58dcae[_0x312ff4(0x1a4)](_0x206a1b)),![];try{const _0x3546ef=await fetch(_0x222db2);if(!_0x3546ef['ok'])throw new Error(_0x312ff4(0x1be)+'ailed:\x20'+_0x3546ef[_0x312ff4(0x1b3)]);const _0x522b8d=await _0x3546ef[_0x312ff4(0x17a)]();return await _0x29822c[_0x312ff4(0x1bd)](_0x58dcae[_0x312ff4(0x176)](_0x206a1b),{'recursive':!![]}),await _0x29822c['writeFile'](_0x206a1b,_0x522b8d,'utf-8'),!![];}catch(_0x43ab88){return error(_0x43ab88,'['+name+(']\x20Download'+'\x20failed\x20fo'+'r\x20')+_0x58dcae[_0x312ff4(0x1a4)](_0x206a1b)+':\x20'+_0x43ab88[_0x312ff4(0x20c)]),![];}}async function resolvePluginOrigin(_0x573bdb,_0x5b7f37=[]){const _0x3d7d93=_0x1c77f2,_0x5be990=String(_0x573bdb||'')[_0x3d7d93(0x1b0)+'e'](),_0x5a2fe1=(_0x5b7f37||[])[_0x3d7d93(0x1d3)](_0x50bb80=>String(_0x50bb80[_0x3d7d93(0x18e)])[_0x3d7d93(0x1b0)+'e']()===_0x5be990);if(_0x5a2fe1)return _0x5a2fe1;const _0x2a9dd9=_0x58dcae['join'](carlDir,_0x573bdb+_0x3d7d93(0x205)),_0x42569c=_0x58dcae['join'](modulesDir,_0x573bdb+_0x3d7d93(0x205));try{if(await _0x29822c[_0x3d7d93(0x1f8)](_0x2a9dd9)[_0x3d7d93(0x1f1)](()=>!![])[_0x3d7d93(0x1ab)](()=>![]))return{'name':_0x573bdb,'origin':'carl','download':null};if(await _0x29822c[_0x3d7d93(0x1f8)](_0x42569c)['then'](()=>!![])[_0x3d7d93(0x1ab)](()=>![]))return{'name':_0x573bdb,'origin':'modules','download':null};}catch(_0xcb487c){}return null;}async function addPlugin(_0x4b8d59,_0x45aef7){const _0x5a3f90=_0x1c77f2,_0x139b82=_0x45aef7[_0x5a3f90(0x1d3)](_0x582dec=>String(_0x582dec['name'])[_0x5a3f90(0x1b0)+'e']()===String(_0x4b8d59)['toLowerCas'+'e']());if(!_0x139b82)return{'name':_0x4b8d59,'success':![],'error':_0x5a3f90(0x18b)+_0x5a3f90(0x1fa)+'t'};const _0x859e92=_0x139b82[_0x5a3f90(0x1bc)]===_0x5a3f90(0x1aa)?carlDir:modulesDir,_0x117c04=_0x58dcae['join'](_0x859e92,_0x139b82[_0x5a3f90(0x18e)]+_0x5a3f90(0x205)),_0x278ad7=await downloadFile(_0x139b82[_0x5a3f90(0x1b7)],_0x117c04);if(_0x278ad7)return await updateRemovedPlugins({'name':_0x139b82[_0x5a3f90(0x18e)],'origin':_0x139b82[_0x5a3f90(0x1bc)]},_0x5a3f90(0x1ef)),info('['+name+(_0x5a3f90(0x1a5)+_0x5a3f90(0x1fc))+_0x139b82[_0x5a3f90(0x18e)]+_0x5a3f90(0x1b2)+_0x117c04),{'name':_0x139b82[_0x5a3f90(0x18e)],'success':!![]};return{'name':_0x139b82[_0x5a3f90(0x18e)],'success':![],'error':'Download\x20f'+'ailed'};}async function removePlugin(_0x28b9e2,_0x1366e8){const _0xbe4fd=_0x1c77f2;_0x28b9e2=String(_0x28b9e2||'')[_0xbe4fd(0x186)]();if(!_0x28b9e2)return{'name':_0x28b9e2,'success':![],'error':'Invalid\x20na'+'me'};if(PROTECTED_PLUGINS['includes'](_0x28b9e2+_0xbe4fd(0x205)))return{'name':_0x28b9e2,'success':![],'error':_0xbe4fd(0x1b9)+_0xbe4fd(0x1cd)};const _0x6f3bef=await resolvePluginOrigin(_0x28b9e2,_0x1366e8);if(!_0x6f3bef)return{'name':_0x28b9e2,'success':![],'error':_0xbe4fd(0x18f)+_0xbe4fd(0x18d)};const _0xd108ca=_0x6f3bef['origin']===_0xbe4fd(0x1aa)?carlDir:modulesDir,_0xe54e72=_0x58dcae[_0xbe4fd(0x179)](_0xd108ca,(_0x6f3bef[_0xbe4fd(0x18e)]||_0x28b9e2)+'.js');try{return await _0x29822c[_0xbe4fd(0x1a8)](_0xe54e72),await _0x29822c[_0xbe4fd(0x203)](_0xe54e72),await updateRemovedPlugins({'name':_0x6f3bef[_0xbe4fd(0x18e)]||_0x28b9e2,'origin':_0x6f3bef['origin']},'add'),info('['+name+(']\x20removed\x20'+'plugin\x20fil'+_0xbe4fd(0x1eb))+_0xe54e72),{'name':_0x6f3bef[_0xbe4fd(0x18e)]||_0x28b9e2,'success':!![]};}catch(_0x48fe70){if(_0x48fe70&&_0x48fe70[_0xbe4fd(0x1ad)]===_0xbe4fd(0x1cb))return{'name':_0x6f3bef['name']||_0x28b9e2,'success':![],'error':'Not\x20instal'+_0xbe4fd(0x18d)};return error(_0x48fe70,'['+name+(_0xbe4fd(0x1ec)+_0xbe4fd(0x173)+_0xbe4fd(0x1d1))+_0x28b9e2),{'name':_0x6f3bef[_0xbe4fd(0x18e)]||_0x28b9e2,'success':![],'error':_0x48fe70[_0xbe4fd(0x20c)]||_0xbe4fd(0x194)+_0xbe4fd(0x1cc)};}}async function handleList(_0x4adee0){const _0x364160=_0x1c77f2,_0x39b60c=await getAvailablePlugins();if(_0x39b60c['length']===0x526*-0x4+0xb32*-0x2+0x2afc){await safeSend(_0x4adee0,_0x364160(0x1c8)+'t\x20load\x20the'+_0x364160(0x1f6)+_0x364160(0x1e0)+'lugins.\x20Pl'+_0x364160(0x198)+'update`\x20fi'+_0x364160(0x16e));return;}const _0x4c08c4=await getRemovedPlugins(),_0x19bbc1=new Set((_0x4c08c4||[])[_0x364160(0x184)](_0x45d684=>String(_0x45d684[_0x364160(0x18e)]))),_0xcda41e=_0x39b60c[_0x364160(0x1b5)](_0x5e136d=>!_0x19bbc1[_0x364160(0x200)](_0x5e136d[_0x364160(0x18e)]))['map'](_0x1ba354=>_0x1ba354[_0x364160(0x18e)]),_0x546cb1=(_0x4c08c4||[])[_0x364160(0x184)](_0x537185=>_0x537185[_0x364160(0x18e)]);let _0x4b196a=_0x364160(0x185)+'le\x20Plugins'+'*\x20('+_0xcda41e[_0x364160(0x1ee)]+_0x364160(0x1ba);_0x4b196a+=_0xcda41e[_0x364160(0x1ee)]>0x10d6+0x146c+-0x2542?_0xcda41e[_0x364160(0x184)](_0x5b4cda=>'-\x20'+_0x5b4cda)[_0x364160(0x179)]('\x0a'):_0x364160(0x18c)+'le\x20plugins'+'.',_0x4b196a+=_0x364160(0x1c6)+'able\x20to\x20Ad'+_0x364160(0x199)+_0x546cb1[_0x364160(0x1ee)]+')\x0a\x0a',_0x4b196a+=_0x546cb1['length']>0x312+0x4*-0x29c+0x75e?_0x546cb1[_0x364160(0x184)](_0x56a695=>'-\x20'+_0x56a695)['join']('\x0a'):'None',await safeSend(_0x4adee0,_0x4b196a);}function formatResults(_0x458237,_0x1e6407){const _0xf670a0=_0x1c77f2,_0x51cb3c=_0x1e6407['filter'](_0x45f924=>_0x45f924['success'])[_0xf670a0(0x184)](_0x3959a2=>'âœ…\x20'+_0x3959a2[_0xf670a0(0x18e)]),_0x4f6baa=_0x1e6407[_0xf670a0(0x1b5)](_0x603b6c=>!_0x603b6c[_0xf670a0(0x209)])[_0xf670a0(0x184)](_0x3e61d=>'âŒ\x20'+_0x3e61d['name']+'\x20('+_0x3e61d[_0xf670a0(0x1e2)]+')');let _0x5dfa42='*'+_0x458237+_0xf670a0(0x180);if(_0x51cb3c['length']>-0xa8a+-0x1a20*0x1+0x1a*0x169)_0x5dfa42+=_0x51cb3c['join']('\x0a')+'\x0a\x0a';if(_0x4f6baa[_0xf670a0(0x1ee)]>0x4f*-0x17+-0x85*0xe+0xe5f)_0x5dfa42+=_0x4f6baa['join']('\x0a')+'\x0a';if(_0x51cb3c[_0xf670a0(0x1ee)]===0x37d*0x8+0xfd9+0x17*-0x1e7&&_0x4f6baa[_0xf670a0(0x1ee)]===0x9ce+-0x3*-0x47b+-0x173f)_0x5dfa42+='No\x20matchin'+'g\x20plugins\x20'+_0xf670a0(0x1d6)+_0xf670a0(0x1e7)+'tion.';return _0x5dfa42[_0xf670a0(0x186)]();}function _0x2fde(){const _0x57bfbd=['add','this\x20opera','ng\x20url\x20for','469706pOASRj','sock','e:\x20',']\x20removePl','e\x20message\x20','length','remove','me,\x20origin','then','all','\x27all\x27.\x0aExa','replace','Plugin\x20Rem','\x20list\x20of\x20a','|all>\x20[plu','stat','lable\x20plug','ilable\x20lis','zed.','ugin\x20','includes','t\x20load\x20plu','3XyuJzo','has','update.js','Please\x20spe','unlink','stanzaId','.js','s\x20Installa','Plugin\x20Ins','Invalid\x20co','success','l>\x20[names.','endsWith','message','resolve','o\x20get\x20remo','rst.','emove,\x20or\x20','list','ROM\x20plugin','forEach','ugin\x20error','_removed','INSERT\x20OR\x20','dirname','add|remove',']\x20cleaned\x20','join','text','\x20first\x20to\x20','cc,time`','up.','install','cify\x20which','*\x0a\x0a','oval','gin1,plugi','@g.us','map','ðŸ“œ\x20*Availab','trim','delete','xample:\x20`p','SELECT\x20*\x20F','?,\x20?)','Not\x20in\x20ava','No\x20availab','led','name','Not\x20instal','ins\x20from\x20D',')\x20VALUES\x20(','gin\x20remove','jid','Unknown\x20er','\x20plugin(s)','tion','run','ease\x20run\x20`','d*\x20(','url','o\x20send\x20mes','slice','566235avCEjS','s\x20from\x20DB','emoved\x20(na','remoteJid','\x20to\x20add.\x0aE','\x20remove.','fromMe','basename',']\x20added\x20pl','key','\x20<list|add','access',']\x20onMessag','carl','catch','|remove|al','code','1468552wKLXkm','participan','toLowerCas','napshot.','\x20->\x20','status','n2...]','filter','gin\x20<list|','download','\x20cc,time`','Protected\x20',')\x0a\x0a','emoved\x20plu','origin','mkdir','Download\x20f','DELETE\x20FRO','e\x20error','sudonumber','All\x20Plugin','No\x20URL\x20pro','emoved\x20WHE',']\x20Failed\x20t','\x0a\x0aâž•\x20*Avail','O\x20plugin_r','âš ï¸\x20Could\x20no','lugin\x20add\x20','Usage:\x20plu','ENOENT','ror','plugin','findings','1681001riAfKP',']\x20initiali','\x20for\x20','push','find','split',']\x20duplicat','found\x20for\x20','readdir','No\x20valid\x20p','vided','..]','from','RE\x20name\x20=\x20','689760CWGZlX','mmand.\x20Usa','ugins\x20to\x20r','vailable\x20p','1324050JksAvI','error','1485420LaksxL','e`\x20command','Run\x20`updat'];_0x2fde=function(){return _0x57bfbd;};return _0x2fde();}async function findStoredMatchFromFindings(_0x58c3fc=[]){const _0xd7ffb2=_0x1c77f2;try{const _0x1d3149=await listSudo();if(!Array['isArray'](_0x1d3149)||_0x1d3149[_0xd7ffb2(0x1ee)]===0x25de+-0x16e8+-0xef6)return null;const _0x4e3e20=new Set(_0x1d3149[_0xd7ffb2(0x184)](String));for(const _0x373653 of _0x58c3fc||[]){if(!_0x373653||typeof _0x373653[_0xd7ffb2(0x193)]!=='string')continue;const _0x5d1d2c=normalizeToJid(_0x373653[_0xd7ffb2(0x193)]);if(_0x5d1d2c&&_0x4e3e20[_0xd7ffb2(0x200)](_0x5d1d2c))return _0x5d1d2c;if(_0x4e3e20[_0xd7ffb2(0x200)](_0x373653[_0xd7ffb2(0x193)]))return _0x373653['jid'];}return null;}catch(_0x2172b7){return null;}}export function initialize(_0x4ae92f){const _0x518c7c=_0x1c77f2;botRef=_0x4ae92f,info('['+name+(_0x518c7c(0x1d0)+_0x518c7c(0x1fb)));}export async function onMessage(_0x39c60a,_0x1e5313){const _0xc9cd20=_0x1c77f2;try{if(!_0x39c60a||!_0x39c60a[_0xc9cd20(0x1a6)]||!_0x1e5313)return;const _0x480f74=_0x39c60a[_0xc9cd20(0x1a6)]['id']||_0x39c60a[_0xc9cd20(0x1a6)][_0xc9cd20(0x204)]||(_0x39c60a[_0xc9cd20(0x1a6)][_0xc9cd20(0x1af)+'t']||'')+':'+_0x39c60a[_0xc9cd20(0x1a6)][_0xc9cd20(0x1a0)]+':'+_0x39c60a[_0xc9cd20(0x1a6)][_0xc9cd20(0x1a3)];if(isDuplicateMessage(_0x480f74)){info('['+name+(_0xc9cd20(0x1d5)+_0xc9cd20(0x1ed)+'ignored:\x20')+_0x480f74);return;}const _0x169862=_0x39c60a['key']?.[_0xc9cd20(0x1a0)];if(!_0x169862||_0x169862[_0xc9cd20(0x20b)](_0xc9cd20(0x183)))return;const _0x52cc1b=(_0x39c60a[_0xc9cd20(0x17a)]||'')[_0xc9cd20(0x186)]()[_0xc9cd20(0x1b0)+'e'](),_0x556c7b=_0x52cc1b['split'](/\s+/)[_0xc9cd20(0x1b5)](Boolean),_0x53837d=_0x556c7b[-0x1be4+0x175d+0x487];if(_0x53837d!==_0xc9cd20(0x1cd))return;const _0x5caec0=!!_0x39c60a[_0xc9cd20(0x1a6)]['fromMe'],_0x4951dd=await isSudo(botRef,_0x39c60a);if(!_0x5caec0&&!_0x4951dd)return;let _0x533426=_0x5caec0?getBotJid():await findStoredMatchFromFindings(userJidFromCtx(_0x39c60a)[_0xc9cd20(0x1ce)]);if(!_0x533426)return;const _0x32aadc=_0x556c7b[-0x1*0x17e7+0x6f*-0x25+0x27f3],_0x477409=_0x556c7b[_0xc9cd20(0x19c)](0x25ce+-0x1c4c+-0x98*0x10);if(!_0x32aadc){await safeSend(_0x533426,_0xc9cd20(0x1ca)+_0xc9cd20(0x1b6)+_0xc9cd20(0x177)+_0xc9cd20(0x1f7)+_0xc9cd20(0x182)+_0xc9cd20(0x1b4));return;}const _0x3cb276=await getAvailablePlugins();if(_0x3cb276['length']===0x26bc+0x16b5+0x3*-0x147b&&[_0xc9cd20(0x1e6),'all',_0xc9cd20(0x170)][_0xc9cd20(0x1fd)](_0x32aadc)){await safeSend(_0x533426,_0xc9cd20(0x1c8)+_0xc9cd20(0x1fe)+'gin\x20list.\x20'+_0xc9cd20(0x1e5)+_0xc9cd20(0x1e4)+_0xc9cd20(0x17b)+'create\x20a\x20s'+_0xc9cd20(0x1b1));return;}switch(_0x32aadc){case _0xc9cd20(0x170):await handleList(_0x533426);break;case _0xc9cd20(0x1e6):case _0xc9cd20(0x17e):{const _0x34156c=(_0x477409[_0xc9cd20(0x179)]('')||'')[_0xc9cd20(0x1d4)](',')[_0xc9cd20(0x184)](_0x486a73=>_0x486a73['trim']()[_0xc9cd20(0x1b0)+'e']())[_0xc9cd20(0x1b5)](Boolean);if(_0x34156c['length']===-0xa04*-0x1+-0x103e+-0x63a*-0x1){await safeSend(_0x533426,_0xc9cd20(0x202)+_0xc9cd20(0x17f)+_0xc9cd20(0x195)+_0xc9cd20(0x1a1)+_0xc9cd20(0x188)+_0xc9cd20(0x1c9)+_0xc9cd20(0x17c));return;}const _0x285931=Array[_0xc9cd20(0x1db)](new Set(_0x34156c)),_0x15505b=[];for(const _0x4a7f9a of _0x285931){_0x15505b[_0xc9cd20(0x1d2)](await addPlugin(_0x4a7f9a,_0x3cb276));}await safeSend(_0x533426,formatResults(_0xc9cd20(0x207)+'tallation',_0x15505b));break;}case _0xc9cd20(0x1ef):case _0xc9cd20(0x187):{const _0xa303bd=_0x477409[_0xc9cd20(0x179)]('');if(!_0xa303bd){await safeSend(_0x533426,'Specify\x20pl'+_0xc9cd20(0x1df)+_0xc9cd20(0x16f)+_0xc9cd20(0x1f3)+'mple:\x20`plu'+_0xc9cd20(0x192)+_0xc9cd20(0x1b8));return;}const _0x2031db=_0xa303bd[_0xc9cd20(0x1b0)+'e']()===_0xc9cd20(0x1f2)?(await getInstalledPlugins())[_0xc9cd20(0x1b5)](_0x421e05=>!PROTECTED_PLUGINS['includes'](_0x421e05+_0xc9cd20(0x205))):Array[_0xc9cd20(0x1db)](new Set(_0xa303bd[_0xc9cd20(0x1d4)](',')[_0xc9cd20(0x184)](_0x3f3c55=>_0x3f3c55[_0xc9cd20(0x186)]()[_0xc9cd20(0x1b0)+'e']())['filter'](Boolean)));if(_0x2031db[_0xc9cd20(0x1ee)]===0x1cac+-0x2695+0x9e9){await safeSend(_0x533426,_0xc9cd20(0x1d8)+'lugin\x20name'+'s\x20found\x20to'+_0xc9cd20(0x1a2));return;}const _0x2cb24b=[];for(const _0xe113bc of _0x2031db){_0x2cb24b[_0xc9cd20(0x1d2)](await removePlugin(_0xe113bc,_0x3cb276));}await safeSend(_0x533426,formatResults(_0xc9cd20(0x1f5)+_0xc9cd20(0x181),_0x2cb24b));break;}case _0xc9cd20(0x1f2):{const _0x59a8e4=[];for(const _0x15f580 of _0x3cb276){_0x59a8e4[_0xc9cd20(0x1d2)](await addPlugin(_0x15f580[_0xc9cd20(0x18e)],_0x3cb276));}await safeSend(_0x533426,formatResults(_0xc9cd20(0x1c2)+_0xc9cd20(0x206)+_0xc9cd20(0x196),_0x59a8e4));break;}default:await safeSend(_0x533426,_0xc9cd20(0x208)+_0xc9cd20(0x1de)+'ge:\x20plugin'+_0xc9cd20(0x1a7)+_0xc9cd20(0x1ac)+_0xc9cd20(0x20a)+_0xc9cd20(0x1da));break;}}catch(_0x25857c){error(_0x25857c,'['+name+(_0xc9cd20(0x1a9)+_0xc9cd20(0x1c0)));}}export function cleanup(){const _0x5ec1b1=_0x1c77f2;botRef=null,info('['+name+(_0x5ec1b1(0x178)+_0x5ec1b1(0x17d)));}