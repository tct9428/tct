const _0x3e5743=_0x5638;(function(_0x4bc0ba,_0x340e31){const _0x50408b=_0x5638,_0x2e71a0=_0x4bc0ba();while(!![]){try{const _0x132d38=-parseInt(_0x50408b(0x245))/(0xe8c+-0x3*-0x6b9+0x3*-0xb92)*(parseInt(_0x50408b(0x1d4))/(0xe1d*-0x1+-0xb6a*-0x3+-0x141f))+-parseInt(_0x50408b(0x246))/(0x1252*-0x1+-0x20f+-0xa*-0x20a)+-parseInt(_0x50408b(0x23b))/(-0x16b6+-0x12b9*0x1+0x2973)*(-parseInt(_0x50408b(0x22c))/(-0x44c*0x9+0xa61+0x1c50))+-parseInt(_0x50408b(0x225))/(0x7*-0x409+-0x5*0x28d+-0x2*-0x1483)*(-parseInt(_0x50408b(0x1ff))/(0x47*-0x7d+-0x9*-0xff+0x19bb))+parseInt(_0x50408b(0x249))/(0x1*-0x19e+-0x4*-0x469+-0xffe)+-parseInt(_0x50408b(0x206))/(-0x112*-0x1a+-0x1948+-0x283)*(parseInt(_0x50408b(0x24a))/(0x22a8+0x18a6+-0x3b44))+parseInt(_0x50408b(0x255))/(-0x2*0xc25+-0x2016+0x386b);if(_0x132d38===_0x340e31)break;else _0x2e71a0['push'](_0x2e71a0['shift']());}catch(_0x2f8c24){_0x2e71a0['push'](_0x2e71a0['shift']());}}}(_0x27b1,0x77d35+0xc9f00+-0x9920e));function _0x5638(_0x63ad92,_0x3a7e4b){const _0x28a97c=_0x27b1();return _0x5638=function(_0x52254c,_0x34d28f){_0x52254c=_0x52254c-(-0x6b4+-0x49d*-0x2+-0x66*0x2);let _0x3b1f55=_0x28a97c[_0x52254c];return _0x3b1f55;},_0x5638(_0x63ad92,_0x3a7e4b);}import{promises as _0x4c768c}from'fs';import _0x5a5c78 from'path';import{fileURLToPath}from'url';import{info,warn,error}from'../utils/logger.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';function _0x27b1(){const _0x1c64b4=['then','toLowerCas','status','basename','resolve','download','oval','tion.','carl',']\x20onMessag','.removed.j','gin\x20<list|','No\x20availab','553HGJqvy','find','napshot.','ge:\x20plugin','unlink','splice','le\x20plugins','9EvtWON','File\x20missi','|all>\x20[plu','⚠️\x20Could\x20no','plugin\x20fil','origin','Please\x20spe','le\x20Plugins','replace','s\x20found\x20to','push','vailable\x20p','\x20<list|add','cify\x20which','remoteJid','.js','\x20failed\x20fo','ror','forEach','..]','\x20->\x20','plugin','has','update`\x20fi','dirname','No\x20matchin','*\x20(','trim','ailed:\x20','g\x20plugins\x20','modules','31398KkSWys','xample:\x20`p','Unknown\x20er',']\x20removePl',']\x20removed\x20','string','ng\x20url\x20for','3275YtBaDz',']\x20duplicat','jid',']\x20Failed\x20t','gin\x20remove','split','mkdir','ailed','utf-8',']\x20added\x20pl','text','isArray','join','d*\x20(','Specify\x20pl','3496yUDQeI','Not\x20instal','create\x20a\x20s','fromMe','e:\x20','message','s\x20Installa','stat','\x20remove.','mple:\x20`plu','1erCvIw','3318792tmtPxx','n2...]','N\x20file\x20at\x20','2436128VjcwgV','1267830pmbalq','*\x0a\x0a','remove','ugins\x20to\x20r','all','\x20to\x20add.\x0aE','lugin\x20add\x20','slice','filter','list','ignored:\x20','10002894UvwPky','ease\x20run\x20`','found\x20for\x20','t\x20load\x20the','lugins.\x20Pl','up.','from','length','readdir','Invalid\x20co','findIndex','e\x20message\x20','e`\x20command','\x20first\x20to\x20','\x20cc,time`','participan','\x20for\x20','e\x20error','ON\x20file\x20to','sendMessag','files','o\x20read\x20JSO','data','tion','name','url','stringify','Plugin\x20Ins','able\x20to\x20Ad','o\x20send\x20mes','this\x20opera','lugin\x20name','Plugin\x20Rem','sudonumber','zed.','includes','551946vuIsmD','No\x20valid\x20p','No\x20URL\x20pro','delete','\x20plugin(s)',')\x0a\x0a','findings','key','All\x20Plugin','Usage:\x20plu','writeFile','\x20list\x20of\x20a','update.js','ugin\x20','Download\x20f','None','gin\x20list.\x20','catch','map','endsWith','ENOENT',']\x20Download','ilable\x20lis','cc,time`','sage','add',']\x20initiali','error','led','code'];_0x27b1=function(){return _0x1c64b4;};return _0x27b1();}import{getBotJid}from'../utils/bot-state.js';export const name=_0x3e5743(0x21b);export const version='1.1.1';export const priority=0x1c3b*0x1+0x435+-0x2016;export const commands=[_0x3e5743(0x21b)];let botRef=null;const __filename=fileURLToPath(import.meta[_0x3e5743(0x1c9)]),__dirname=_0x5a5c78[_0x3e5743(0x21e)](__filename),projectRoot=_0x5a5c78[_0x3e5743(0x1f6)](__dirname,'..'),modulesDir=_0x5a5c78[_0x3e5743(0x238)](projectRoot,_0x3e5743(0x224)),carlDir=_0x5a5c78[_0x3e5743(0x238)](projectRoot,'carl'),snapshotPath=_0x5a5c78[_0x3e5743(0x238)](projectRoot,_0x3e5743(0x1c6),'tmp','.update.js'+'on'),removedPluginsPath=_0x5a5c78[_0x3e5743(0x238)](projectRoot,_0x3e5743(0x1c6),'tmp',_0x3e5743(0x1fc)+'son'),PROTECTED_PLUGINS=[_0x3e5743(0x1e0),'plugin.js',_0x3e5743(0x1d1)+_0x3e5743(0x215)],recentMessageIds=new Set();function isDuplicateMessage(_0x8a9176){const _0x456dbe=_0x3e5743;if(!_0x8a9176)return![];if(recentMessageIds[_0x456dbe(0x21c)](_0x8a9176))return!![];return recentMessageIds['add'](_0x8a9176),setTimeout(()=>recentMessageIds[_0x456dbe(0x1d7)](_0x8a9176),0x9*-0x271+-0x212f+0x4ab0),![];}async function safeSend(_0x4bb0dc,_0x73c577){const _0x2898bd=_0x3e5743;if(!_0x4bb0dc)return;try{const _0x1d6241=botRef[_0x2898bd(0x1c3)+'e']||botRef['sock']?.[_0x2898bd(0x1c3)+'e'];if(_0x1d6241)await _0x1d6241(_0x4bb0dc,{'text':_0x73c577});}catch(_0x3d3d77){error(_0x3d3d77,'['+name+(_0x2898bd(0x22f)+_0x2898bd(0x1cd)+_0x2898bd(0x1ec)));}}async function readJsonFile(_0x1a8d4c){const _0x4e115e=_0x3e5743;try{const _0x3c9c03=await _0x4c768c['readFile'](_0x1a8d4c,_0x4e115e(0x234));return JSON['parse'](_0x3c9c03);}catch(_0x48d9d9){if(_0x48d9d9&&_0x48d9d9[_0x4e115e(0x1f1)]===_0x4e115e(0x1e8))return null;return error(_0x48d9d9,'['+name+(_0x4e115e(0x22f)+_0x4e115e(0x1c5)+_0x4e115e(0x248))+_0x1a8d4c),null;}}async function writeJsonFile(_0x3af3bb,_0x4b89d4){const _0x3c4145=_0x3e5743;try{return await _0x4c768c[_0x3c4145(0x232)](_0x5a5c78['dirname'](_0x3af3bb),{'recursive':!![]}),await _0x4c768c[_0x3c4145(0x1de)](_0x3af3bb,JSON[_0x3c4145(0x1ca)](_0x4b89d4,null,0x3*0xb2d+-0x1b4a+-0x13f*0x5)),!![];}catch(_0x170a2b){return error(_0x170a2b,'['+name+(_0x3c4145(0x22f)+'o\x20write\x20JS'+_0x3c4145(0x1c2)+'\x20')+_0x3af3bb),![];}}async function getRemovedPlugins(){const _0x55af2d=_0x3e5743,_0x405306=await readJsonFile(removedPluginsPath);return Array[_0x55af2d(0x237)](_0x405306)?_0x405306:[];}async function updateRemovedPlugins(_0x37949d,_0x3256ce='add'){const _0x5ccb50=_0x3e5743;let _0x2bee61=await getRemovedPlugins();const _0x533b00=_0x2bee61[_0x5ccb50(0x1ba)](_0x120847=>_0x120847['name']===_0x37949d[_0x5ccb50(0x1c8)]);if(_0x3256ce===_0x5ccb50(0x1ed)&&_0x533b00===-(0x12fb+0x1f1c+-0x6*0x859))_0x2bee61[_0x5ccb50(0x210)](_0x37949d);else _0x3256ce===_0x5ccb50(0x24c)&&_0x533b00!==-(0x1d*0x131+-0x2705*-0x1+-0x4991)&&_0x2bee61[_0x5ccb50(0x204)](_0x533b00,-0x3*0xa3d+0x48d+0x3bd*0x7);await writeJsonFile(removedPluginsPath,_0x2bee61);}async function getAvailablePlugins(){const _0x4e6e68=_0x3e5743,_0x1aab76=await readJsonFile(snapshotPath);if(!_0x1aab76||!_0x1aab76[_0x4e6e68(0x1c4)])return[];return _0x1aab76[_0x4e6e68(0x1c4)][_0x4e6e68(0x252)](_0x223db1=>['carl',_0x4e6e68(0x224)]['includes'](_0x223db1[_0x4e6e68(0x20b)]))[_0x4e6e68(0x1e6)](_0x3b33bf=>({'name':String(_0x3b33bf[_0x4e6e68(0x1c8)])[_0x4e6e68(0x20e)](/\.js$/,''),'origin':_0x3b33bf[_0x4e6e68(0x20b)],'download':_0x3b33bf[_0x4e6e68(0x1f7)]||null}));}async function getInstalledPlugins(){const _0x3b18d6=_0x3e5743,_0x5904a2=new Set();try{const _0x26894d=await _0x4c768c['readdir'](carlDir)[_0x3b18d6(0x1e5)](()=>[]);_0x26894d[_0x3b18d6(0x218)](_0x508dfe=>_0x5904a2[_0x3b18d6(0x1ed)](String(_0x508dfe)[_0x3b18d6(0x20e)](_0x3b18d6(0x215),'')));const _0x454745=await _0x4c768c[_0x3b18d6(0x25d)](modulesDir)[_0x3b18d6(0x1e5)](()=>[]);_0x454745[_0x3b18d6(0x218)](_0x13dd63=>_0x5904a2[_0x3b18d6(0x1ed)](String(_0x13dd63)['replace'](_0x3b18d6(0x215),'')));}catch(_0x4a4f93){}return Array[_0x3b18d6(0x25b)](_0x5904a2);}async function downloadFile(_0x48564d,_0x4e5958){const _0x534e9d=_0x3e5743;if(!_0x48564d)return error(new Error(_0x534e9d(0x1d6)+'vided'),'['+name+(']\x20download'+_0x534e9d(0x207)+_0x534e9d(0x22b)+'\x20')+_0x5a5c78['basename'](_0x4e5958)),![];try{const _0x4474c0=await fetch(_0x48564d);if(!_0x4474c0['ok'])throw new Error(_0x534e9d(0x1e2)+_0x534e9d(0x222)+_0x4474c0[_0x534e9d(0x1f4)]);const _0x30620c=await _0x4474c0[_0x534e9d(0x236)]();return await _0x4c768c[_0x534e9d(0x232)](_0x5a5c78[_0x534e9d(0x21e)](_0x4e5958),{'recursive':!![]}),await _0x4c768c[_0x534e9d(0x1de)](_0x4e5958,_0x30620c,_0x534e9d(0x234)),!![];}catch(_0x4467e1){return error(_0x4467e1,'['+name+(_0x534e9d(0x1e9)+_0x534e9d(0x216)+'r\x20')+_0x5a5c78[_0x534e9d(0x1f5)](_0x4e5958)+':\x20'+_0x4467e1[_0x534e9d(0x240)]),![];}}async function resolvePluginOrigin(_0x51abda,_0x109dd1=[]){const _0x226ae5=_0x3e5743,_0x5e85a0=String(_0x51abda||'')[_0x226ae5(0x1f3)+'e'](),_0x1455fc=(_0x109dd1||[])[_0x226ae5(0x200)](_0x5d8fab=>String(_0x5d8fab['name'])[_0x226ae5(0x1f3)+'e']()===_0x5e85a0);if(_0x1455fc)return _0x1455fc;const _0x5b458a=_0x5a5c78[_0x226ae5(0x238)](carlDir,_0x51abda+'.js'),_0x34aeae=_0x5a5c78[_0x226ae5(0x238)](modulesDir,_0x51abda+_0x226ae5(0x215));try{if(await _0x4c768c[_0x226ae5(0x242)](_0x5b458a)[_0x226ae5(0x1f2)](()=>!![])[_0x226ae5(0x1e5)](()=>![]))return{'name':_0x51abda,'origin':_0x226ae5(0x1fa),'download':null};if(await _0x4c768c[_0x226ae5(0x242)](_0x34aeae)[_0x226ae5(0x1f2)](()=>!![])['catch'](()=>![]))return{'name':_0x51abda,'origin':_0x226ae5(0x224),'download':null};}catch(_0x4548c7){}return null;}async function addPlugin(_0x196701,_0x51630f){const _0x50bd08=_0x3e5743,_0x33f236=_0x51630f[_0x50bd08(0x200)](_0x28e14a=>String(_0x28e14a['name'])[_0x50bd08(0x1f3)+'e']()===String(_0x196701)[_0x50bd08(0x1f3)+'e']());if(!_0x33f236)return{'name':_0x196701,'success':![],'error':'Not\x20in\x20ava'+_0x50bd08(0x1ea)+'t'};const _0x27c551=_0x33f236[_0x50bd08(0x20b)]===_0x50bd08(0x1fa)?carlDir:modulesDir,_0x2e60e3=_0x5a5c78[_0x50bd08(0x238)](_0x27c551,_0x33f236['name']+_0x50bd08(0x215)),_0x4262fc=await downloadFile(_0x33f236['download'],_0x2e60e3);if(_0x4262fc)return await updateRemovedPlugins({'name':_0x33f236[_0x50bd08(0x1c8)],'origin':_0x33f236[_0x50bd08(0x20b)]},_0x50bd08(0x24c)),info('['+name+(_0x50bd08(0x235)+_0x50bd08(0x1e1))+_0x33f236['name']+_0x50bd08(0x21a)+_0x2e60e3),{'name':_0x33f236['name'],'success':!![]};return{'name':_0x33f236[_0x50bd08(0x1c8)],'success':![],'error':_0x50bd08(0x1e2)+_0x50bd08(0x233)};}async function removePlugin(_0x501f7a,_0x5a6622){const _0x2604de=_0x3e5743;_0x501f7a=String(_0x501f7a||'')[_0x2604de(0x221)]();if(!_0x501f7a)return{'name':_0x501f7a,'success':![],'error':'Invalid\x20na'+'me'};if(PROTECTED_PLUGINS['includes'](_0x501f7a+_0x2604de(0x215)))return{'name':_0x501f7a,'success':![],'error':'Protected\x20'+_0x2604de(0x21b)};const _0x38fedf=await resolvePluginOrigin(_0x501f7a,_0x5a6622);if(!_0x38fedf)return{'name':_0x501f7a,'success':![],'error':_0x2604de(0x23c)+_0x2604de(0x1f0)};const _0x2d34f7=_0x38fedf[_0x2604de(0x20b)]===_0x2604de(0x1fa)?carlDir:modulesDir,_0x436151=_0x5a5c78[_0x2604de(0x238)](_0x2d34f7,(_0x38fedf['name']||_0x501f7a)+_0x2604de(0x215));try{return await _0x4c768c['access'](_0x436151),await _0x4c768c[_0x2604de(0x203)](_0x436151),await updateRemovedPlugins({'name':_0x38fedf['name']||_0x501f7a,'origin':_0x38fedf['origin']},_0x2604de(0x1ed)),info('['+name+(_0x2604de(0x229)+_0x2604de(0x20a)+_0x2604de(0x23f))+_0x436151),{'name':_0x38fedf[_0x2604de(0x1c8)]||_0x501f7a,'success':!![]};}catch(_0xa4fca3){if(_0xa4fca3&&_0xa4fca3[_0x2604de(0x1f1)]===_0x2604de(0x1e8))return{'name':_0x38fedf[_0x2604de(0x1c8)]||_0x501f7a,'success':![],'error':_0x2604de(0x23c)+_0x2604de(0x1f0)};return error(_0xa4fca3,'['+name+(_0x2604de(0x228)+'ugin\x20error'+_0x2604de(0x1c0))+_0x501f7a),{'name':_0x38fedf[_0x2604de(0x1c8)]||_0x501f7a,'success':![],'error':_0xa4fca3[_0x2604de(0x240)]||_0x2604de(0x227)+_0x2604de(0x217)};}}async function handleList(_0x4230ce){const _0x64cb1b=_0x3e5743,_0x1b251c=await getAvailablePlugins();if(_0x1b251c[_0x64cb1b(0x25c)]===-0x3ab*-0x2+-0x1*0x3e9+0x36d*-0x1){await safeSend(_0x4230ce,'⚠️\x20Could\x20no'+_0x64cb1b(0x258)+_0x64cb1b(0x1df)+_0x64cb1b(0x211)+_0x64cb1b(0x259)+_0x64cb1b(0x256)+_0x64cb1b(0x21d)+'rst.');return;}const _0xbfab67=await getRemovedPlugins(),_0x3a504f=new Set((_0xbfab67||[])[_0x64cb1b(0x1e6)](_0x28eeb7=>String(_0x28eeb7[_0x64cb1b(0x1c8)]))),_0x58096f=_0x1b251c[_0x64cb1b(0x252)](_0xea5ad=>!_0x3a504f['has'](_0xea5ad['name']))['map'](_0x4a868e=>_0x4a868e[_0x64cb1b(0x1c8)]),_0x1e937b=(_0xbfab67||[])[_0x64cb1b(0x1e6)](_0x30b51b=>_0x30b51b[_0x64cb1b(0x1c8)]);let _0x42d9e7='📜\x20*Availab'+_0x64cb1b(0x20d)+_0x64cb1b(0x220)+_0x58096f['length']+')\x0a\x0a';_0x42d9e7+=_0x58096f['length']>0x24f0+0x3*-0xc0d+-0xc9?_0x58096f[_0x64cb1b(0x1e6)](_0x2518b9=>'-\x20'+_0x2518b9)[_0x64cb1b(0x238)]('\x0a'):_0x64cb1b(0x1fe)+_0x64cb1b(0x205)+'.',_0x42d9e7+='\x0a\x0a➕\x20*Avail'+_0x64cb1b(0x1cc)+_0x64cb1b(0x239)+_0x1e937b[_0x64cb1b(0x25c)]+_0x64cb1b(0x1d9),_0x42d9e7+=_0x1e937b[_0x64cb1b(0x25c)]>-0x575*-0x1+0x56*0x3f+0x2f*-0x91?_0x1e937b[_0x64cb1b(0x1e6)](_0x4d62e6=>'-\x20'+_0x4d62e6)['join']('\x0a'):_0x64cb1b(0x1e3),await safeSend(_0x4230ce,_0x42d9e7);}function formatResults(_0x7deab,_0x641c25){const _0x686ab9=_0x3e5743,_0x2b5051=_0x641c25[_0x686ab9(0x252)](_0x560337=>_0x560337['success'])[_0x686ab9(0x1e6)](_0x4401bb=>'✅\x20'+_0x4401bb['name']),_0x51b1a9=_0x641c25[_0x686ab9(0x252)](_0x32cf82=>!_0x32cf82['success'])[_0x686ab9(0x1e6)](_0x739488=>'❌\x20'+_0x739488[_0x686ab9(0x1c8)]+'\x20('+_0x739488[_0x686ab9(0x1ef)]+')');let _0x1089d8='*'+_0x7deab+_0x686ab9(0x24b);if(_0x2b5051['length']>-0x1*-0xe8d+0x163e+0x1*-0x24cb)_0x1089d8+=_0x2b5051[_0x686ab9(0x238)]('\x0a')+'\x0a\x0a';if(_0x51b1a9[_0x686ab9(0x25c)]>0x121f+0x2*-0xb73+0x4c7)_0x1089d8+=_0x51b1a9[_0x686ab9(0x238)]('\x0a')+'\x0a';if(_0x2b5051[_0x686ab9(0x25c)]===-0x11a*-0x10+0x1494+-0x2634&&_0x51b1a9[_0x686ab9(0x25c)]===0xa9f*0x2+-0x135a*-0x2+-0x3bf2)_0x1089d8+=_0x686ab9(0x21f)+_0x686ab9(0x223)+_0x686ab9(0x257)+_0x686ab9(0x1ce)+_0x686ab9(0x1f9);return _0x1089d8[_0x686ab9(0x221)]();}async function findStoredMatchFromFindings(_0x560605=[]){const _0x4f359f=_0x3e5743;try{const _0x3f8f78=await listSudo();if(!Array['isArray'](_0x3f8f78)||_0x3f8f78['length']===-0x1db3*-0x1+-0x121*-0x1+-0x1ed4*0x1)return null;const _0x137f10=new Set(_0x3f8f78[_0x4f359f(0x1e6)](String));for(const _0x162d6f of _0x560605||[]){if(!_0x162d6f||typeof _0x162d6f[_0x4f359f(0x22e)]!==_0x4f359f(0x22a))continue;const _0xc00387=normalizeToJid(_0x162d6f[_0x4f359f(0x22e)]);if(_0xc00387&&_0x137f10['has'](_0xc00387))return _0xc00387;if(_0x137f10[_0x4f359f(0x21c)](_0x162d6f[_0x4f359f(0x22e)]))return _0x162d6f[_0x4f359f(0x22e)];}return null;}catch(_0x421568){return null;}}export function initialize(_0x246fba){const _0x2729f0=_0x3e5743;botRef=_0x246fba,info('['+name+(_0x2729f0(0x1ee)+_0x2729f0(0x1d2)));}export async function onMessage(_0x309a43){const _0x2177d7=_0x3e5743;try{if(!_0x309a43||!_0x309a43[_0x2177d7(0x1db)])return;const _0x43c8ae=_0x309a43[_0x2177d7(0x1db)]['id']||_0x309a43[_0x2177d7(0x1db)]['stanzaId']||(_0x309a43[_0x2177d7(0x1db)][_0x2177d7(0x1bf)+'t']||'')+':'+_0x309a43[_0x2177d7(0x1db)]['remoteJid']+':'+_0x309a43['key'][_0x2177d7(0x23e)];if(isDuplicateMessage(_0x43c8ae)){info('['+name+(_0x2177d7(0x22d)+_0x2177d7(0x1bb)+_0x2177d7(0x254))+_0x43c8ae);return;}const _0x164522=_0x309a43[_0x2177d7(0x1db)]?.[_0x2177d7(0x214)];if(!_0x164522||_0x164522[_0x2177d7(0x1e7)]('@g.us'))return;const _0x175b06=(_0x309a43[_0x2177d7(0x236)]||'')[_0x2177d7(0x221)]()['toLowerCas'+'e'](),_0x1160b7=_0x175b06[_0x2177d7(0x231)](/\s+/)['filter'](Boolean),_0x47ed62=_0x1160b7[0xf94+-0x13*0x1c4+0x398*0x5];if(_0x47ed62!==_0x2177d7(0x21b))return;const _0xd9d168=!!_0x309a43[_0x2177d7(0x1db)]['fromMe'],_0x27eaa2=await isSudo(botRef,_0x309a43);if(!_0xd9d168&&!_0x27eaa2)return;let _0x1a05c5=_0xd9d168?getBotJid():await findStoredMatchFromFindings(userJidFromCtx(_0x309a43)[_0x2177d7(0x1da)]);if(!_0x1a05c5)return;const _0x38f752=_0x1160b7[0x517+0x24e8+-0x29fe],_0x43a3ea=_0x1160b7[_0x2177d7(0x251)](-0x586+-0xbf*0x26+-0x2*-0x10f1);if(!_0x38f752){await safeSend(_0x1a05c5,_0x2177d7(0x1dd)+_0x2177d7(0x1fd)+'add|remove'+_0x2177d7(0x208)+'gin1,plugi'+_0x2177d7(0x247));return;}const _0x36e30f=await getAvailablePlugins();if(_0x36e30f[_0x2177d7(0x25c)]===0x2*-0x739+-0x1fb*-0xc+-0x952&&['add',_0x2177d7(0x24e),_0x2177d7(0x253)]['includes'](_0x38f752)){await safeSend(_0x1a05c5,_0x2177d7(0x209)+'t\x20load\x20plu'+_0x2177d7(0x1e4)+'Run\x20`updat'+_0x2177d7(0x1bc)+_0x2177d7(0x1bd)+_0x2177d7(0x23d)+_0x2177d7(0x201));return;}switch(_0x38f752){case _0x2177d7(0x253):await handleList(_0x1a05c5);break;case'add':case'install':{const _0x169109=(_0x43a3ea['join']('')||'')[_0x2177d7(0x231)](',')[_0x2177d7(0x1e6)](_0x110437=>_0x110437[_0x2177d7(0x221)]()[_0x2177d7(0x1f3)+'e']())[_0x2177d7(0x252)](Boolean);if(_0x169109['length']===0x2708+-0x1968+-0xda0){await safeSend(_0x1a05c5,_0x2177d7(0x20c)+_0x2177d7(0x213)+_0x2177d7(0x1d8)+_0x2177d7(0x24f)+_0x2177d7(0x226)+_0x2177d7(0x250)+_0x2177d7(0x1eb));return;}const _0x534ba5=Array[_0x2177d7(0x25b)](new Set(_0x169109)),_0x4c9ecc=[];for(const _0x38a709 of _0x534ba5){_0x4c9ecc[_0x2177d7(0x210)](await addPlugin(_0x38a709,_0x36e30f));}await safeSend(_0x1a05c5,formatResults(_0x2177d7(0x1cb)+'tallation',_0x4c9ecc));break;}case'remove':case _0x2177d7(0x1d7):{const _0x16d28a=_0x43a3ea['join']('');if(!_0x16d28a){await safeSend(_0x1a05c5,_0x2177d7(0x23a)+_0x2177d7(0x24d)+'emove,\x20or\x20'+'\x27all\x27.\x0aExa'+_0x2177d7(0x244)+_0x2177d7(0x230)+_0x2177d7(0x1be));return;}const _0x32fd06=_0x16d28a[_0x2177d7(0x1f3)+'e']()==='all'?(await getInstalledPlugins())[_0x2177d7(0x252)](_0x2e882a=>!PROTECTED_PLUGINS[_0x2177d7(0x1d3)](_0x2e882a+_0x2177d7(0x215))):Array[_0x2177d7(0x25b)](new Set(_0x16d28a[_0x2177d7(0x231)](',')[_0x2177d7(0x1e6)](_0x50e182=>_0x50e182[_0x2177d7(0x221)]()[_0x2177d7(0x1f3)+'e']())[_0x2177d7(0x252)](Boolean)));if(_0x32fd06['length']===0x1*0xdd1+-0x8*0x183+-0x1b9){await safeSend(_0x1a05c5,_0x2177d7(0x1d5)+_0x2177d7(0x1cf)+_0x2177d7(0x20f)+_0x2177d7(0x243));return;}const _0x5977f0=[];for(const _0x3fe8da of _0x32fd06){_0x5977f0['push'](await removePlugin(_0x3fe8da,_0x36e30f));}await safeSend(_0x1a05c5,formatResults(_0x2177d7(0x1d0)+_0x2177d7(0x1f8),_0x5977f0));break;}case'all':{const _0x39ed6d=[];for(const _0x45a8c8 of _0x36e30f){_0x39ed6d[_0x2177d7(0x210)](await addPlugin(_0x45a8c8[_0x2177d7(0x1c8)],_0x36e30f));}await safeSend(_0x1a05c5,formatResults(_0x2177d7(0x1dc)+_0x2177d7(0x241)+_0x2177d7(0x1c7),_0x39ed6d));break;}default:await safeSend(_0x1a05c5,_0x2177d7(0x25e)+'mmand.\x20Usa'+_0x2177d7(0x202)+_0x2177d7(0x212)+'|remove|al'+'l>\x20[names.'+_0x2177d7(0x219));break;}}catch(_0x48ba6c){error(_0x48ba6c,'['+name+(_0x2177d7(0x1fb)+_0x2177d7(0x1c1)));}}export function cleanup(){const _0x315257=_0x3e5743;botRef=null,info('['+name+(']\x20cleaned\x20'+_0x315257(0x25a)));}