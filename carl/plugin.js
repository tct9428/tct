const _0x57d83d=_0x450b;(function(_0xdf69f0,_0xd02be6){const _0x4aeda0=_0x450b,_0x1e8602=_0xdf69f0();while(!![]){try{const _0x1a3b74=-parseInt(_0x4aeda0(0x12f))/(0xfdf*-0x1+0x27*-0x38+0x1868)*(-parseInt(_0x4aeda0(0x116))/(-0x16fd*-0x1+0xa6*0x2e+-0xb*0x4cd))+-parseInt(_0x4aeda0(0x115))/(-0x22*0x12+-0x13ea+0x1651)+parseInt(_0x4aeda0(0xb6))/(-0x97d+-0xcab+0x42*0x56)*(parseInt(_0x4aeda0(0xb0))/(-0x5*0x5ad+-0x23c*-0x11+-0x2*0x4cb))+-parseInt(_0x4aeda0(0x136))/(-0x18fe+0x24db+-0xbd7)+-parseInt(_0x4aeda0(0x11a))/(-0x108c+-0x1*0x2431+0x34c4)+parseInt(_0x4aeda0(0x100))/(0x808*0x4+-0x1b3f+-0x4d9*0x1)+parseInt(_0x4aeda0(0xb3))/(0x1*0xcca+-0xa22+-0x3d*0xb)*(parseInt(_0x4aeda0(0xec))/(-0x447+0x1df6+-0x19a5));if(_0x1a3b74===_0xd02be6)break;else _0x1e8602['push'](_0x1e8602['shift']());}catch(_0x288ca4){_0x1e8602['push'](_0x1e8602['shift']());}}}(_0x53db,0x1d40+-0x2fff*0x17+0x81e8c));import _0x1f5546 from'fs/promises';import _0x4183c7 from'path';import{fileURLToPath}from'url';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x57d83d(0x13c);export const version='2.1.0';export const priority=-0x2a0+0x1254+-0x51e*0x3;export const commands=[_0x57d83d(0x13c)];let botRef=null;const __filename=fileURLToPath(import.meta.url),__dirname=_0x4183c7['dirname'](__filename),projectRoot=_0x4183c7[_0x57d83d(0xe7)](__dirname,'..'),modulesDir=_0x4183c7[_0x57d83d(0xbf)](projectRoot,_0x57d83d(0x11d)),carlDir=_0x4183c7[_0x57d83d(0xbf)](projectRoot,_0x57d83d(0xad)),PROTECTED_PLUGINS=[_0x57d83d(0xe4),_0x57d83d(0xd7),_0x57d83d(0x142)+_0x57d83d(0x125)],recentMessageIds=new Set();function isDuplicateMessage(_0x50b695){const _0x6bd1dc=_0x57d83d;if(!_0x50b695)return![];if(recentMessageIds[_0x6bd1dc(0xfc)](_0x50b695))return!![];return recentMessageIds[_0x6bd1dc(0x117)](_0x50b695),setTimeout(()=>recentMessageIds[_0x6bd1dc(0x12b)](_0x50b695),0xce5*-0x1+0xa*0x3df+-0x649),![];}async function safeSend(_0x4ab9b8,_0xfccebc){const _0x27794d=_0x57d83d;if(!_0x4ab9b8)return;try{const _0x112ada=botRef['sendMessag'+'e']||botRef[_0x27794d(0x111)]?.[_0x27794d(0x127)+'e'];if(_0x112ada)await _0x112ada(_0x4ab9b8,{'text':_0xfccebc});}catch(_0x2317f5){error(_0x2317f5,'['+name+(_0x27794d(0xdc)+_0x27794d(0xe9)+'sage'));}}async function getRemovedPlugins(){const _0x5cfcf0=_0x57d83d;try{const _0x2b8a83=await db[_0x5cfcf0(0x135)](_0x5cfcf0(0xc5)+'ROM\x20plugin'+_0x5cfcf0(0x10d));return Array[_0x5cfcf0(0x114)](_0x2b8a83)?_0x2b8a83:[];}catch(_0x14be1c){return warn(_0x14be1c,'['+name+(_0x5cfcf0(0xdc)+'o\x20get\x20remo'+'ved\x20plugin'+_0x5cfcf0(0xfd))),[];}}async function updateRemovedPlugins(_0x5b949f,_0x16f5d2=_0x57d83d(0x117)){const _0x2a7a24=_0x57d83d;try{if(_0x16f5d2===_0x2a7a24(0x117))await db[_0x2a7a24(0x120)](_0x2a7a24(0xef)+_0x2a7a24(0xb1)+_0x2a7a24(0x113)+_0x2a7a24(0x10f)+_0x2a7a24(0xba)+')\x20VALUES\x20('+_0x2a7a24(0x148),[_0x5b949f['name'],_0x5b949f[_0x2a7a24(0xc4)]]);else _0x16f5d2==='remove'&&await db['run'](_0x2a7a24(0xb9)+_0x2a7a24(0x101)+_0x2a7a24(0xd4)+_0x2a7a24(0xc8)+'?',[_0x5b949f[_0x2a7a24(0x13d)]]);}catch(_0x55d250){error(_0x55d250,'['+name+(_0x2a7a24(0xdc)+_0x2a7a24(0xb4)+'emoved\x20plu'+_0x2a7a24(0xd3)));}}function _0x53db(){const _0x5c9eb5=['2609070rOCJyZ','push','stat','INSERT\x20OR\x20','ðŸ“œ\x20*Availab','n_removed','Plugin\x20Rem',']\x20removed\x20','*\x20(','ecking\x20','ror',']\x20onMessag','ge:\x20plugin','remove.','dirname','split','has','s\x20from\x20DB','n\x20disk\x20but','SELECT\x20nam','1551680TTRaVj','M\x20plugin_r','message','o\x20get\x20avai','fromMe','e,\x20origin\x20','download','emove,\x20or\x20','slice','unlink',']\x20download','dd.\x20E.g.,\x20','File\x20missi','_removed','Download\x20f','emoved\x20(na','vided','sock','filter','O\x20plugin_r','isArray','1166139AjeFPx','371886IFidqs','add','\x20removed\x20p','No\x20valid\x20p','2816275hgyywc','ugins\x20to\x20a','text','modules',']\x20Sync:\x20Ch','\x27all\x27.','run','catch','..]','mkdir','t\x20load\x20lis','.js','remoteJid','sendMessag','includes','|all>\x20[plu','utf-8','delete','tion','plugin\x20fil','âš ï¸\x20Could\x20no','1MSGfzf','\x20->\x20','stanzaId','length','remove','ailed:\x20','all','2651100VnAqJn','ilable\x20lis','from','gin1,plugi','_snapshot','FROM\x20plugi','plugin','name',')\x0a\x0a','trim','\x20<list|add','ins\x20from\x20D','sudonumber','replace','string','\x27\x20(found\x20o','list','install','?,\x20?)','g\x20plugins\x20','n2...]','map','oved\x20plugi',']\x20Download','All\x20Plugin','success','`update`\x20f','d).','toLowerCas','ng\x20url','ENOENT','Not\x20instal','carl','oval','Specify\x20pl','7540OIPeiX','IGNORE\x20INT','d*\x20(','36CIISiU','o\x20update\x20r','access','176soqGgJ','date`\x20firs','ugin\x20','DELETE\x20FRO','me,\x20origin',']\x20cleaned\x20','endsWith','zed\x20(synce',']\x20added\x20pl','join','d\x20cc`','ailed','lable\x20plug','*\x0a\x0a','origin','SELECT\x20*\x20F','participan','code','RE\x20name\x20=\x20','Not\x20in\x20ava','|remove|al','then','led','t.\x20Run\x20`up','readdir','Plugin\x20Ins','leted\x20\x27','error','t\x20load\x20plu','gins\x20in\x20DB','emoved\x20WHE','gins.\x20Run\x20','ns\x20on\x20star','plugin.js','`plugin\x20ad','mmand.\x20Usa','key','le\x20Plugins',']\x20Failed\x20t','found.','forEach','No\x20URL\x20pro','Protected\x20','Invalid\x20co','jid','Invalid\x20na','update.js','writeFile','status','resolve','find','o\x20send\x20mes','e\x20error','ugin\x20error'];_0x53db=function(){return _0x5c9eb5;};return _0x53db();}async function getAvailablePlugins(){const _0x3bb83c=_0x57d83d;try{const _0x5935e2=await db[_0x3bb83c(0x135)](_0x3bb83c(0xc5)+'ROM\x20plugin'+_0x3bb83c(0x13a));if(!_0x5935e2||_0x5935e2['length']===0x4a9+-0x40*0x26+0x4d7)return[];return _0x5935e2[_0x3bb83c(0x112)](_0x4ff086=>[_0x3bb83c(0xad),_0x3bb83c(0x11d)][_0x3bb83c(0x128)](_0x4ff086[_0x3bb83c(0xc4)]))[_0x3bb83c(0x14b)](_0x4ce8a7=>({'name':String(_0x4ce8a7[_0x3bb83c(0x13d)])['replace'](/\.js$/,''),'origin':_0x4ce8a7['origin'],'download':_0x4ce8a7[_0x3bb83c(0x106)]||null}));}catch(_0x36c35a){return warn(_0x36c35a,'['+name+(_0x3bb83c(0xdc)+_0x3bb83c(0x103)+_0x3bb83c(0xc2)+_0x3bb83c(0x141)+'B')),[];}}async function getInstalledPlugins(){const _0x29721a=_0x57d83d,_0x3e05fc=new Set();try{const _0x4c385c=await _0x1f5546[_0x29721a(0xce)](carlDir)[_0x29721a(0x121)](()=>[]);_0x4c385c[_0x29721a(0xde)](_0x938cba=>_0x3e05fc[_0x29721a(0x117)](String(_0x938cba)[_0x29721a(0x143)](_0x29721a(0x125),'')));const _0xd97f48=await _0x1f5546[_0x29721a(0xce)](modulesDir)['catch'](()=>[]);_0xd97f48[_0x29721a(0xde)](_0x14b9e3=>_0x3e05fc[_0x29721a(0x117)](String(_0x14b9e3)[_0x29721a(0x143)]('.js','')));}catch(_0x125159){}return Array['from'](_0x3e05fc);}async function downloadFile(_0x2b23fc,_0x287ff7){const _0x48e599=_0x57d83d;if(!_0x2b23fc)return error(new Error(_0x48e599(0xdf)+_0x48e599(0x110)),'['+name+(_0x48e599(0x10a)+_0x48e599(0x10c)+_0x48e599(0xaa))),![];try{const _0x4dd220=await fetch(_0x2b23fc);if(!_0x4dd220['ok'])throw new Error(_0x48e599(0x10e)+_0x48e599(0x134)+_0x4dd220[_0x48e599(0xe6)]);const _0x2f869a=await _0x4dd220[_0x48e599(0x11c)]();return await _0x1f5546[_0x48e599(0x123)](_0x4183c7[_0x48e599(0xfa)](_0x287ff7),{'recursive':!![]}),await _0x1f5546[_0x48e599(0xe5)](_0x287ff7,_0x2f869a,_0x48e599(0x12a)),!![];}catch(_0x1c4368){return error(_0x1c4368,'['+name+(_0x48e599(0x14d)+'\x20failed:\x20')+_0x1c4368[_0x48e599(0x102)]),![];}}async function resolvePluginOrigin(_0x17f661,_0x26b8df=[]){const _0x4e9171=_0x57d83d,_0x1a33af=String(_0x17f661||'')[_0x4e9171(0xa9)+'e'](),_0x3d336e=(_0x26b8df||[])[_0x4e9171(0xe8)](_0x569a3e=>String(_0x569a3e[_0x4e9171(0x13d)])[_0x4e9171(0xa9)+'e']()===_0x1a33af);if(_0x3d336e)return _0x3d336e;const _0x4855b6=_0x4183c7['join'](carlDir,_0x17f661+'.js'),_0x4323d7=_0x4183c7[_0x4e9171(0xbf)](modulesDir,_0x17f661+_0x4e9171(0x125));try{if(await _0x1f5546['stat'](_0x4855b6)[_0x4e9171(0xcb)](()=>!![])[_0x4e9171(0x121)](()=>![]))return{'name':_0x17f661,'origin':_0x4e9171(0xad),'download':null};if(await _0x1f5546[_0x4e9171(0xee)](_0x4323d7)[_0x4e9171(0xcb)](()=>!![])[_0x4e9171(0x121)](()=>![]))return{'name':_0x17f661,'origin':_0x4e9171(0x11d),'download':null};}catch(_0x3ce0de){}return null;}async function addPlugin(_0x239412,_0x3c0fa5){const _0x5d0c7b=_0x57d83d,_0x3ad95a=_0x3c0fa5[_0x5d0c7b(0xe8)](_0xb8107a=>String(_0xb8107a[_0x5d0c7b(0x13d)])[_0x5d0c7b(0xa9)+'e']()===String(_0x239412)['toLowerCas'+'e']());if(!_0x3ad95a)return{'name':_0x239412,'success':![],'error':_0x5d0c7b(0xc9)+_0x5d0c7b(0x137)+'t'};const _0x1fedfa=_0x3ad95a['origin']===_0x5d0c7b(0xad)?carlDir:modulesDir,_0x57a9c2=_0x4183c7['join'](_0x1fedfa,_0x3ad95a[_0x5d0c7b(0x13d)]+'.js'),_0x587750=await downloadFile(_0x3ad95a[_0x5d0c7b(0x106)],_0x57a9c2);if(_0x587750)return await updateRemovedPlugins({'name':_0x3ad95a[_0x5d0c7b(0x13d)],'origin':_0x3ad95a[_0x5d0c7b(0xc4)]},_0x5d0c7b(0x133)),info('['+name+(_0x5d0c7b(0xbe)+_0x5d0c7b(0xb8))+_0x3ad95a[_0x5d0c7b(0x13d)]+_0x5d0c7b(0x130)+_0x57a9c2),{'name':_0x3ad95a[_0x5d0c7b(0x13d)],'success':!![]};return{'name':_0x3ad95a['name'],'success':![],'error':_0x5d0c7b(0x10e)+_0x5d0c7b(0xc1)};}async function removePlugin(_0x27e655,_0x4d56a5){const _0x4da10d=_0x57d83d;_0x27e655=String(_0x27e655||'')[_0x4da10d(0x13f)]();if(!_0x27e655)return{'name':_0x27e655,'success':![],'error':_0x4da10d(0xe3)+'me'};if(PROTECTED_PLUGINS[_0x4da10d(0x128)](_0x27e655+_0x4da10d(0x125)))return{'name':_0x27e655,'success':![],'error':_0x4da10d(0xe0)+_0x4da10d(0x13c)};const _0x38613a=await resolvePluginOrigin(_0x27e655,_0x4d56a5);if(!_0x38613a)return{'name':_0x27e655,'success':![],'error':_0x4da10d(0xac)+_0x4da10d(0xcc)};const _0x2d5903=_0x38613a[_0x4da10d(0xc4)]===_0x4da10d(0xad)?carlDir:modulesDir,_0x2058d0=_0x4183c7[_0x4da10d(0xbf)](_0x2d5903,(_0x38613a[_0x4da10d(0x13d)]||_0x27e655)+_0x4da10d(0x125));try{return await _0x1f5546[_0x4da10d(0xb5)](_0x2058d0),await _0x1f5546['unlink'](_0x2058d0),await updateRemovedPlugins({'name':_0x38613a[_0x4da10d(0x13d)]||_0x27e655,'origin':_0x38613a[_0x4da10d(0xc4)]},_0x4da10d(0x117)),info('['+name+(_0x4da10d(0xf3)+_0x4da10d(0x12d)+'e:\x20')+_0x2058d0),{'name':_0x38613a[_0x4da10d(0x13d)]||_0x27e655,'success':!![]};}catch(_0x29c94f){if(_0x29c94f&&_0x29c94f[_0x4da10d(0xc7)]===_0x4da10d(0xab))return{'name':_0x38613a[_0x4da10d(0x13d)]||_0x27e655,'success':![],'error':_0x4da10d(0xac)+_0x4da10d(0xcc)};return error(_0x29c94f,'['+name+(']\x20removePl'+_0x4da10d(0xeb))),{'name':_0x38613a['name']||_0x27e655,'success':![],'error':_0x29c94f[_0x4da10d(0x102)]||'Unknown\x20er'+_0x4da10d(0xf6)};}}async function syncRemovedPlugins(){const _0x472e59=_0x57d83d;try{const _0x120d46=await db[_0x472e59(0x135)](_0x472e59(0xff)+_0x472e59(0x105)+_0x472e59(0x13b)+_0x472e59(0xf1));if(!_0x120d46||_0x120d46[_0x472e59(0x132)]===0x2*0x42a+-0x2008+0x29*0x94)return;info('['+name+(_0x472e59(0x11e)+_0x472e59(0xf5))+_0x120d46['length']+(_0x472e59(0x118)+'lugins...'));for(const _0xbdacf1 of _0x120d46){let _0x2d7704=String(_0xbdacf1['name']);if(!_0x2d7704['endsWith'](_0x472e59(0x125)))_0x2d7704+='.js';const _0x4b3cf0=_0xbdacf1[_0x472e59(0xc4)]===_0x472e59(0xad)?carlDir:modulesDir,_0x19f409=_0x4183c7[_0x472e59(0xbf)](_0x4b3cf0,_0x2d7704);try{await _0x1f5546[_0x472e59(0xb5)](_0x19f409),await _0x1f5546[_0x472e59(0x109)](_0x19f409),info('['+name+(']\x20Sync:\x20De'+_0x472e59(0xd0))+_0xbdacf1['name']+(_0x472e59(0x145)+_0x472e59(0xfe)+'\x20marked\x20re'+'moved).'));}catch(_0xeafb47){}}}catch(_0x15d800){error(_0x15d800,'['+name+(']\x20Failed\x20t'+'o\x20sync\x20rem'+_0x472e59(0x14c)+_0x472e59(0xd6)+'tup'));}}async function handleList(_0x8a2843){const _0x4498b8=_0x57d83d,_0x5f3d7b=await getAvailablePlugins();if(_0x5f3d7b[_0x4498b8(0x132)]===0x6ea+-0x125b+0xb71){await safeSend(_0x8a2843,_0x4498b8(0x12e)+_0x4498b8(0x124)+_0x4498b8(0xcd)+_0x4498b8(0xb7)+'t.');return;}const _0x4c2948=await getRemovedPlugins(),_0x445e73=new Set((_0x4c2948||[])[_0x4498b8(0x14b)](_0x296d39=>String(_0x296d39[_0x4498b8(0x13d)]))),_0x48d6f9=_0x5f3d7b[_0x4498b8(0x112)](_0x2741ac=>!_0x445e73['has'](_0x2741ac[_0x4498b8(0x13d)]))[_0x4498b8(0x14b)](_0x58e081=>_0x58e081[_0x4498b8(0x13d)]),_0x17df34=(_0x4c2948||[])[_0x4498b8(0x14b)](_0x4286c8=>_0x4286c8[_0x4498b8(0x13d)]);let _0x31b562=_0x4498b8(0xf0)+_0x4498b8(0xdb)+_0x4498b8(0xf4)+_0x48d6f9[_0x4498b8(0x132)]+_0x4498b8(0x13e);_0x31b562+=_0x48d6f9[_0x4498b8(0x132)]>-0x168e+-0xfe8+0x2676?_0x48d6f9[_0x4498b8(0x14b)](_0x42196f=>'-\x20'+_0x42196f)[_0x4498b8(0xbf)]('\x0a'):'None',_0x31b562+='\x0a\x0aâž•\x20*Avail'+'able\x20to\x20Ad'+_0x4498b8(0xb2)+_0x17df34[_0x4498b8(0x132)]+')\x0a\x0a',_0x31b562+=_0x17df34[_0x4498b8(0x132)]>0x25a7+0x1*-0xd31+-0x1876?_0x17df34[_0x4498b8(0x14b)](_0x494fcd=>'-\x20'+_0x494fcd)['join']('\x0a'):'None',await safeSend(_0x8a2843,_0x31b562);}function formatResults(_0x3d5ea4,_0x32def5){const _0x16eac1=_0x57d83d,_0x14ed68=_0x32def5['filter'](_0x4bbe57=>_0x4bbe57[_0x16eac1(0xa6)])[_0x16eac1(0x14b)](_0x5c049e=>'âœ…\x20'+_0x5c049e[_0x16eac1(0x13d)]),_0x5cbdff=_0x32def5[_0x16eac1(0x112)](_0xb50aad=>!_0xb50aad[_0x16eac1(0xa6)])[_0x16eac1(0x14b)](_0x12ece3=>'âŒ\x20'+_0x12ece3[_0x16eac1(0x13d)]+'\x20('+_0x12ece3[_0x16eac1(0xd1)]+')');let _0x4661c7='*'+_0x3d5ea4+_0x16eac1(0xc3);if(_0x14ed68['length']>0x24f+0x1*0x4a7+-0x6f6)_0x4661c7+=_0x14ed68[_0x16eac1(0xbf)]('\x0a')+'\x0a\x0a';if(_0x5cbdff[_0x16eac1(0x132)]>-0x2*-0x11e5+0x153e+-0xa*0x5b4)_0x4661c7+=_0x5cbdff[_0x16eac1(0xbf)]('\x0a')+'\x0a';if(_0x14ed68[_0x16eac1(0x132)]===0x660+-0x302*-0xb+0x13bb*-0x2&&_0x5cbdff[_0x16eac1(0x132)]===-0x1*-0x231a+-0xfef+-0x132b)_0x4661c7+='No\x20matchin'+_0x16eac1(0x149)+_0x16eac1(0xdd);return _0x4661c7[_0x16eac1(0x13f)]();}function _0x450b(_0x5173e0,_0xb8ffe4){_0x5173e0=_0x5173e0-(0x57*0x65+-0x1*0x191c+-0x891);const _0x45844a=_0x53db();let _0x2c7b82=_0x45844a[_0x5173e0];return _0x2c7b82;}async function findStoredMatchFromFindings(_0x57c9d2=[]){const _0x2599fc=_0x57d83d;try{const _0x2cb0eb=await listSudo();if(!Array[_0x2599fc(0x114)](_0x2cb0eb)||_0x2cb0eb[_0x2599fc(0x132)]===0x21e1+-0xfe8+-0x11f9)return null;const _0x1fb54c=new Set(_0x2cb0eb[_0x2599fc(0x14b)](String));for(const _0x4ff80a of _0x57c9d2||[]){if(!_0x4ff80a||typeof _0x4ff80a[_0x2599fc(0xe2)]!==_0x2599fc(0x144))continue;const _0x38c2af=normalizeToJid(_0x4ff80a['jid']);if(_0x38c2af&&_0x1fb54c['has'](_0x38c2af))return _0x38c2af;if(_0x1fb54c['has'](_0x4ff80a[_0x2599fc(0xe2)]))return _0x4ff80a[_0x2599fc(0xe2)];}return null;}catch(_0xf4e2ef){return null;}}export async function initialize(_0x4edc49){const _0x54878c=_0x57d83d;botRef=_0x4edc49,await syncRemovedPlugins(),info('['+name+(']\x20initiali'+_0x54878c(0xbd)+_0x54878c(0xa8)));}export async function onMessage(_0x16fc2f,_0x1f22e5){const _0x1e414e=_0x57d83d;try{if(!_0x16fc2f||!_0x16fc2f[_0x1e414e(0xda)])return;const _0x30a173=_0x16fc2f['key']['id']||_0x16fc2f[_0x1e414e(0xda)][_0x1e414e(0x131)]||(_0x16fc2f['key'][_0x1e414e(0xc6)+'t']||'')+':'+_0x16fc2f[_0x1e414e(0xda)][_0x1e414e(0x126)]+':'+_0x16fc2f[_0x1e414e(0xda)][_0x1e414e(0x104)];if(isDuplicateMessage(_0x30a173))return;const _0x4081ee=_0x16fc2f[_0x1e414e(0xda)]?.[_0x1e414e(0x126)];if(!_0x4081ee||_0x4081ee[_0x1e414e(0xbc)]('@g.us'))return;const _0x4b8158=(_0x16fc2f[_0x1e414e(0x11c)]||'')[_0x1e414e(0x13f)](),_0x26ab15=_0x4b8158['split'](/\s+/)[_0x1e414e(0x112)](Boolean);let _0x492120=(_0x26ab15[-0x1*0x1b+0x6e7+-0x6cc]||'')[_0x1e414e(0xa9)+'e']();_0x492120=_0x492120[_0x1e414e(0x143)](/^[./!]/,'');if(!commands[_0x1e414e(0x128)](_0x492120))return;const _0x50444a=!!_0x16fc2f[_0x1e414e(0xda)][_0x1e414e(0x104)],_0x1adf29=await isSudo(botRef,_0x16fc2f)['catch'](()=>![]);if(!_0x50444a&&!_0x1adf29)return;let _0x2e34b0=_0x50444a?getBotJid():await findStoredMatchFromFindings(userJidFromCtx(_0x16fc2f)['findings']);if(!_0x2e34b0)return;const _0x4d40de=(_0x26ab15[-0x1*0xd7c+0x8d5+0x4a8]||'')[_0x1e414e(0xa9)+'e'](),_0x17eb75=_0x26ab15[_0x1e414e(0x108)](-0x1*-0xb3+0x23a2+-0x1*0x2453);if(!_0x4d40de){await safeSend(_0x2e34b0,'Usage:\x20plu'+'gin\x20<list|'+'add|remove'+_0x1e414e(0x129)+_0x1e414e(0x139)+_0x1e414e(0x14a));return;}const _0x5b9754=await getAvailablePlugins();if(_0x5b9754[_0x1e414e(0x132)]===-0x1b87+-0x143e+0x2fc5&&[_0x1e414e(0x117),_0x1e414e(0x135),_0x1e414e(0x146)]['includes'](_0x4d40de)){await safeSend(_0x2e34b0,'âš ï¸\x20Could\x20no'+_0x1e414e(0xd2)+_0x1e414e(0xd5)+_0x1e414e(0xa7)+'irst.');return;}switch(_0x4d40de){case _0x1e414e(0x146):await handleList(_0x2e34b0);break;case _0x1e414e(0x117):case _0x1e414e(0x147):{const _0x2eb942=(_0x17eb75[_0x1e414e(0xbf)]('')||'')[_0x1e414e(0xfb)](',')[_0x1e414e(0x14b)](_0x578a27=>_0x578a27[_0x1e414e(0x13f)]()[_0x1e414e(0xa9)+'e']())[_0x1e414e(0x112)](Boolean);if(_0x2eb942[_0x1e414e(0x132)]===0x2303*0x1+0x25ac+-0x48af){await safeSend(_0x2e34b0,_0x1e414e(0xaf)+_0x1e414e(0x11b)+_0x1e414e(0x10b)+_0x1e414e(0xd8)+_0x1e414e(0xc0));return;}const _0x34f09b=Array[_0x1e414e(0x138)](new Set(_0x2eb942)),_0x479fae=[];for(const _0x186176 of _0x34f09b)_0x479fae[_0x1e414e(0xed)](await addPlugin(_0x186176,_0x5b9754));await safeSend(_0x2e34b0,formatResults(_0x1e414e(0xcf)+'tallation',_0x479fae));break;}case _0x1e414e(0x133):case'delete':{const _0x25dd55=_0x17eb75[_0x1e414e(0xbf)]('');if(!_0x25dd55){await safeSend(_0x2e34b0,'Specify\x20pl'+'ugins\x20to\x20r'+_0x1e414e(0x107)+_0x1e414e(0x11f));return;}const _0x1427fa=_0x25dd55['toLowerCas'+'e']()==='all'?(await getInstalledPlugins())[_0x1e414e(0x112)](_0x4e2431=>!PROTECTED_PLUGINS[_0x1e414e(0x128)](_0x4e2431+'.js')):Array[_0x1e414e(0x138)](new Set(_0x25dd55[_0x1e414e(0xfb)](',')['map'](_0x3bad72=>_0x3bad72[_0x1e414e(0x13f)]()[_0x1e414e(0xa9)+'e']())[_0x1e414e(0x112)](Boolean)));if(_0x1427fa[_0x1e414e(0x132)]===0x1fb9+0x1747+0x580*-0xa){await safeSend(_0x2e34b0,_0x1e414e(0x119)+'lugins\x20to\x20'+_0x1e414e(0xf9));return;}const _0x406de0=[];for(const _0x2c3db7 of _0x1427fa)_0x406de0[_0x1e414e(0xed)](await removePlugin(_0x2c3db7,_0x5b9754));await safeSend(_0x2e34b0,formatResults(_0x1e414e(0xf2)+_0x1e414e(0xae),_0x406de0));break;}case _0x1e414e(0x135):{const _0x56339f=[];for(const _0x24a91b of _0x5b9754)_0x56339f[_0x1e414e(0xed)](await addPlugin(_0x24a91b[_0x1e414e(0x13d)],_0x5b9754));await safeSend(_0x2e34b0,formatResults(_0x1e414e(0x14e)+'s\x20Installa'+_0x1e414e(0x12c),_0x56339f));break;}default:await safeSend(_0x2e34b0,_0x1e414e(0xe1)+_0x1e414e(0xd9)+_0x1e414e(0xf8)+_0x1e414e(0x140)+_0x1e414e(0xca)+'l>\x20[names.'+_0x1e414e(0x122));break;}}catch(_0xf21f5e){error(_0xf21f5e,'['+name+(_0x1e414e(0xf7)+_0x1e414e(0xea)));}}export function cleanup(){const _0x1dbc94=_0x57d83d;botRef=null,info('['+name+(_0x1dbc94(0xbb)+'up.'));}