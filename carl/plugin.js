const _0x2970c1=_0x2104;function _0x1c94(){const _0x28610d=['update`\x20fi','e\x20message\x20','download','N\x20file\x20at\x20','ror','.removed.j','4hwdScO','basename','o\x20write\x20JS','jid','\x0a\x0a➕\x20*Avail','remove','lugins.\x20Pl','toLowerCas','files',']\x20onMessag','dirname','Protected\x20','@g.us','.update.js','sage','delete',')\x0a\x0a','..]','sock','vailable\x20p','able\x20to\x20Ad','utf-8','Please\x20spe','5mqUeFK','gin1,plugi','stat',']\x20removed\x20','\x20cc,time`','\x20<list|add','Specify\x20pl','ilable\x20lis','d*\x20(','gin\x20remove','trim','ailed','replace','lugin\x20add\x20',']\x20download','n2...]','\x20to\x20add.\x0aE','unlink','\x20remove.','url','*\x20(','⚠️\x20Could\x20no','942642SxLufI','e\x20error','string','ng\x20url\x20for','s\x20found\x20to','stanzaId','all','Unknown\x20er','install','parse','status','text','add|remove','add',']\x20added\x20pl','split','None','splice','mple:\x20`plu','join','list','2717403yDDIEh','access','l>\x20[names.',']\x20Download','|all>\x20[plu','Download\x20f','54HuAHnZ','create\x20a\x20s','map','this\x20opera','No\x20availab','gin\x20list.\x20','tion','Not\x20instal','\x20list\x20of\x20a','\x20failed\x20fo','ugins\x20to\x20r','oval','readdir','Not\x20in\x20ava','Plugin\x20Ins','data','error','cc,time`','\x20->\x20','ugin\x20','tallation','message','then','1367793dzrldv','mkdir','carl','o\x20read\x20JSO','805882YLBMIj','lugin\x20name','xample:\x20`p','update.js','*\x0a\x0a','\x27all\x27.\x0aExa','Invalid\x20na',']\x20Failed\x20t',']\x20initiali','sendMessag','le\x20plugins','filter','mmand.\x20Usa','t\x20load\x20plu','Usage:\x20plu','has','from','origin','findIndex',']\x20removePl','ENOENT','o\x20send\x20mes','ON\x20file\x20to','modules','fromMe','plugin','findings','1519616NRhUhU','endsWith','t\x20load\x20the','up.','isArray','310ZVNprJ','.js','stringify','\x20plugin(s)','found\x20for\x20','\x20for\x20','writeFile','slice','includes','\x20first\x20to\x20','No\x20valid\x20p','ignored:\x20','code','plugin.js','napshot.','File\x20missi','forEach','2181XjzDBV','key','Invalid\x20co','All\x20Plugin','son','length','cify\x20which','success','name','catch','push','Run\x20`updat','214560aQyTZy','led','vided','find'];_0x1c94=function(){return _0x28610d;};return _0x1c94();}(function(_0x398052,_0x1cbce3){const _0x18bd8b=_0x2104,_0x262a0e=_0x398052();while(!![]){try{const _0x386797=-parseInt(_0x18bd8b(0x236))/(0x2047*0x1+0x1*0xcf5+-0x2d3b*0x1)*(parseInt(_0x18bd8b(0x1ea))/(0x2*0xb0e+0x23aa*-0x1+-0xd9*-0x10))+parseInt(_0x18bd8b(0x1e4))/(-0x47*0x61+0x34*-0x41+0x281e)*(-parseInt(_0x18bd8b(0x24c))/(0x282*0x4+0x47+-0x9b*0x11))+parseInt(_0x18bd8b(0x263))/(0x1*-0x21e2+0x21d9+0xe)*(-parseInt(_0x18bd8b(0x1cf))/(0x296*-0xa+-0x1eef+0x38d1))+-parseInt(_0x18bd8b(0x201))/(-0x1*-0x2116+-0x1*0xeff+-0x1210)+-parseInt(_0x18bd8b(0x220))/(-0x89f+0x3*0x727+0x2*-0x667)+-parseInt(_0x18bd8b(0x242))/(-0x20a6+0x8*0xe+-0x673*-0x5)+parseInt(_0x18bd8b(0x225))/(0x24c1+-0x260*-0xc+-0x109*0x3f)*(parseInt(_0x18bd8b(0x205))/(0x261+0xbc*0x28+-0x1fb6));if(_0x386797===_0x1cbce3)break;else _0x262a0e['push'](_0x262a0e['shift']());}catch(_0x4e4514){_0x262a0e['push'](_0x262a0e['shift']());}}}(_0x1c94,0x1*0x109ecc+0x40*-0x17d5+0xa19c));import{promises as _0x149fbb}from'fs';import _0x59c489 from'path';import{fileURLToPath}from'url';import{info,warn,error}from'../utils/logger.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';function _0x2104(_0x605252,_0x42bcb5){const _0xf96b63=_0x1c94();return _0x2104=function(_0x32063a,_0x54b784){_0x32063a=_0x32063a-(-0x1355+-0x21e+-0x1731*-0x1);let _0x55ba96=_0xf96b63[_0x32063a];return _0x55ba96;},_0x2104(_0x605252,_0x42bcb5);}import{getBotJid}from'../utils/bot-state.js';export const name=_0x2970c1(0x21e);export const version='1.1.1';export const priority=0x1e57+0x4f*0x65+-0x3d28;export const commands=[_0x2970c1(0x21e)];let botRef=null;const __filename=fileURLToPath(import.meta[_0x2970c1(0x1cc)]),__dirname=_0x59c489[_0x2970c1(0x256)](__filename),projectRoot=_0x59c489['resolve'](__dirname,'..'),modulesDir=_0x59c489[_0x2970c1(0x1e2)](projectRoot,_0x2970c1(0x21c)),carlDir=_0x59c489[_0x2970c1(0x1e2)](projectRoot,_0x2970c1(0x203)),snapshotPath=_0x59c489['join'](projectRoot,_0x2970c1(0x1f9),'tmp',_0x2970c1(0x259)+'on'),removedPluginsPath=_0x59c489['join'](projectRoot,'data','tmp',_0x2970c1(0x24b)+_0x2970c1(0x23a)),PROTECTED_PLUGINS=[_0x2970c1(0x208),_0x2970c1(0x232),'sudonumber'+_0x2970c1(0x226)],recentMessageIds=new Set();function isDuplicateMessage(_0x402096){const _0x4b8c6b=_0x2970c1;if(!_0x402096)return![];if(recentMessageIds[_0x4b8c6b(0x214)](_0x402096))return!![];return recentMessageIds[_0x4b8c6b(0x1dc)](_0x402096),setTimeout(()=>recentMessageIds['delete'](_0x402096),-0x39*0xa1+-0x16ff+0x4e60),![];}async function safeSend(_0xc97656,_0x5ac75c){const _0x58b514=_0x2970c1;if(!_0xc97656)return;try{const _0x13ea40=botRef[_0x58b514(0x20e)+'e']||botRef[_0x58b514(0x25e)]?.[_0x58b514(0x20e)+'e'];if(_0x13ea40)await _0x13ea40(_0xc97656,{'text':_0x5ac75c});}catch(_0x29f5af){error(_0x29f5af,'['+name+(_0x58b514(0x20c)+_0x58b514(0x21a)+_0x58b514(0x25a)));}}async function readJsonFile(_0x146956){const _0x3dfae9=_0x2970c1;try{const _0xb68398=await _0x149fbb['readFile'](_0x146956,_0x3dfae9(0x261));return JSON[_0x3dfae9(0x1d8)](_0xb68398);}catch(_0x1a3332){if(_0x1a3332&&_0x1a3332[_0x3dfae9(0x231)]===_0x3dfae9(0x219))return null;return error(_0x1a3332,'['+name+(']\x20Failed\x20t'+_0x3dfae9(0x204)+_0x3dfae9(0x249))+_0x146956),null;}}async function writeJsonFile(_0x4a486c,_0x1ded09){const _0x38e9f6=_0x2970c1;try{return await _0x149fbb['mkdir'](_0x59c489[_0x38e9f6(0x256)](_0x4a486c),{'recursive':!![]}),await _0x149fbb[_0x38e9f6(0x22b)](_0x4a486c,JSON[_0x38e9f6(0x227)](_0x1ded09,null,0x4*0x593+0x8ab+-0x1ef5)),!![];}catch(_0x183ed6){return error(_0x183ed6,'['+name+(_0x38e9f6(0x20c)+_0x38e9f6(0x24e)+_0x38e9f6(0x21b)+'\x20')+_0x4a486c),![];}}async function getRemovedPlugins(){const _0x149f81=await readJsonFile(removedPluginsPath);return Array['isArray'](_0x149f81)?_0x149f81:[];}async function updateRemovedPlugins(_0xd5a563,_0x8ba06='add'){const _0x4b7be6=_0x2970c1;let _0x15345d=await getRemovedPlugins();const _0x1f71f1=_0x15345d[_0x4b7be6(0x217)](_0x2ad6a3=>_0x2ad6a3[_0x4b7be6(0x23e)]===_0xd5a563['name']);if(_0x8ba06===_0x4b7be6(0x1dc)&&_0x1f71f1===-(-0x70e+-0x38*-0x2f+-0x37*0xf))_0x15345d['push'](_0xd5a563);else _0x8ba06===_0x4b7be6(0x251)&&_0x1f71f1!==-(-0xb1b+-0x4ed+0x1*0x1009)&&_0x15345d[_0x4b7be6(0x1e0)](_0x1f71f1,0x9*-0x37d+0x190a+0x65c);await writeJsonFile(removedPluginsPath,_0x15345d);}async function getAvailablePlugins(){const _0x2db88f=_0x2970c1,_0x11e215=await readJsonFile(snapshotPath);if(!_0x11e215||!_0x11e215['files'])return[];return _0x11e215[_0x2db88f(0x254)][_0x2db88f(0x210)](_0x4fa3d0=>['carl',_0x2db88f(0x21c)][_0x2db88f(0x22d)](_0x4fa3d0[_0x2db88f(0x216)]))[_0x2db88f(0x1ec)](_0x3c5f33=>({'name':String(_0x3c5f33[_0x2db88f(0x23e)])[_0x2db88f(0x1c5)](/\.js$/,''),'origin':_0x3c5f33[_0x2db88f(0x216)],'download':_0x3c5f33['download']||null}));}async function getInstalledPlugins(){const _0x2351bc=_0x2970c1,_0x564083=new Set();try{const _0x42f9de=await _0x149fbb[_0x2351bc(0x1f6)](carlDir)[_0x2351bc(0x23f)](()=>[]);_0x42f9de['forEach'](_0xd563a6=>_0x564083[_0x2351bc(0x1dc)](String(_0xd563a6)['replace'](_0x2351bc(0x226),'')));const _0x1b8e41=await _0x149fbb['readdir'](modulesDir)[_0x2351bc(0x23f)](()=>[]);_0x1b8e41[_0x2351bc(0x235)](_0x1b4153=>_0x564083['add'](String(_0x1b4153)[_0x2351bc(0x1c5)]('.js','')));}catch(_0x10a696){}return Array[_0x2351bc(0x215)](_0x564083);}async function downloadFile(_0x2860a6,_0x51602e){const _0xb0c232=_0x2970c1;if(!_0x2860a6)return error(new Error('No\x20URL\x20pro'+_0xb0c232(0x244)),'['+name+(_0xb0c232(0x1c7)+_0xb0c232(0x234)+_0xb0c232(0x1d2)+'\x20')+_0x59c489[_0xb0c232(0x24d)](_0x51602e)),![];try{const _0x428a5c=await fetch(_0x2860a6);if(!_0x428a5c['ok'])throw new Error(_0xb0c232(0x1e9)+'ailed:\x20'+_0x428a5c[_0xb0c232(0x1d9)]);const _0x29ddf9=await _0x428a5c[_0xb0c232(0x1da)]();return await _0x149fbb[_0xb0c232(0x202)](_0x59c489[_0xb0c232(0x256)](_0x51602e),{'recursive':!![]}),await _0x149fbb['writeFile'](_0x51602e,_0x29ddf9,_0xb0c232(0x261)),!![];}catch(_0x5616c6){return error(_0x5616c6,'['+name+(_0xb0c232(0x1e7)+_0xb0c232(0x1f3)+'r\x20')+_0x59c489[_0xb0c232(0x24d)](_0x51602e)+':\x20'+_0x5616c6['message']),![];}}async function resolvePluginOrigin(_0x542c4f,_0xe6d8a3=[]){const _0x473af8=_0x2970c1,_0xd1871c=String(_0x542c4f||'')['toLowerCas'+'e'](),_0x30bf48=(_0xe6d8a3||[])[_0x473af8(0x245)](_0x964649=>String(_0x964649[_0x473af8(0x23e)])[_0x473af8(0x253)+'e']()===_0xd1871c);if(_0x30bf48)return _0x30bf48;const _0x3578a0=_0x59c489['join'](carlDir,_0x542c4f+'.js'),_0xa00116=_0x59c489[_0x473af8(0x1e2)](modulesDir,_0x542c4f+'.js');try{if(await _0x149fbb['stat'](_0x3578a0)[_0x473af8(0x200)](()=>!![])[_0x473af8(0x23f)](()=>![]))return{'name':_0x542c4f,'origin':_0x473af8(0x203),'download':null};if(await _0x149fbb[_0x473af8(0x265)](_0xa00116)[_0x473af8(0x200)](()=>!![])[_0x473af8(0x23f)](()=>![]))return{'name':_0x542c4f,'origin':'modules','download':null};}catch(_0x77676c){}return null;}async function addPlugin(_0xf5568d,_0x5aa5bd){const _0x1ccdfd=_0x2970c1,_0x4a7faa=_0x5aa5bd[_0x1ccdfd(0x245)](_0x335eb4=>String(_0x335eb4[_0x1ccdfd(0x23e)])[_0x1ccdfd(0x253)+'e']()===String(_0xf5568d)[_0x1ccdfd(0x253)+'e']());if(!_0x4a7faa)return{'name':_0xf5568d,'success':![],'error':_0x1ccdfd(0x1f7)+_0x1ccdfd(0x1c0)+'t'};const _0x562338=_0x4a7faa[_0x1ccdfd(0x216)]===_0x1ccdfd(0x203)?carlDir:modulesDir,_0x7b0879=_0x59c489[_0x1ccdfd(0x1e2)](_0x562338,_0x4a7faa[_0x1ccdfd(0x23e)]+_0x1ccdfd(0x226)),_0x3e2b4d=await downloadFile(_0x4a7faa[_0x1ccdfd(0x248)],_0x7b0879);if(_0x3e2b4d)return await updateRemovedPlugins({'name':_0x4a7faa[_0x1ccdfd(0x23e)],'origin':_0x4a7faa[_0x1ccdfd(0x216)]},_0x1ccdfd(0x251)),info('['+name+(_0x1ccdfd(0x1dd)+_0x1ccdfd(0x1fd))+_0x4a7faa[_0x1ccdfd(0x23e)]+_0x1ccdfd(0x1fc)+_0x7b0879),{'name':_0x4a7faa[_0x1ccdfd(0x23e)],'success':!![]};return{'name':_0x4a7faa[_0x1ccdfd(0x23e)],'success':![],'error':_0x1ccdfd(0x1e9)+_0x1ccdfd(0x1c4)};}async function removePlugin(_0x558c18,_0x153cdb){const _0x6e5ab9=_0x2970c1;_0x558c18=String(_0x558c18||'')[_0x6e5ab9(0x1c3)]();if(!_0x558c18)return{'name':_0x558c18,'success':![],'error':_0x6e5ab9(0x20b)+'me'};if(PROTECTED_PLUGINS[_0x6e5ab9(0x22d)](_0x558c18+_0x6e5ab9(0x226)))return{'name':_0x558c18,'success':![],'error':_0x6e5ab9(0x257)+_0x6e5ab9(0x21e)};const _0x5a1bb0=await resolvePluginOrigin(_0x558c18,_0x153cdb);if(!_0x5a1bb0)return{'name':_0x558c18,'success':![],'error':_0x6e5ab9(0x1f1)+_0x6e5ab9(0x243)};const _0x2a8b4b=_0x5a1bb0['origin']===_0x6e5ab9(0x203)?carlDir:modulesDir,_0x5617ad=_0x59c489[_0x6e5ab9(0x1e2)](_0x2a8b4b,(_0x5a1bb0[_0x6e5ab9(0x23e)]||_0x558c18)+_0x6e5ab9(0x226));try{return await _0x149fbb[_0x6e5ab9(0x1e5)](_0x5617ad),await _0x149fbb[_0x6e5ab9(0x1ca)](_0x5617ad),await updateRemovedPlugins({'name':_0x5a1bb0[_0x6e5ab9(0x23e)]||_0x558c18,'origin':_0x5a1bb0[_0x6e5ab9(0x216)]},_0x6e5ab9(0x1dc)),info('['+name+(_0x6e5ab9(0x266)+'plugin\x20fil'+'e:\x20')+_0x5617ad),{'name':_0x5a1bb0[_0x6e5ab9(0x23e)]||_0x558c18,'success':!![]};}catch(_0x3c167c){if(_0x3c167c&&_0x3c167c[_0x6e5ab9(0x231)]==='ENOENT')return{'name':_0x5a1bb0[_0x6e5ab9(0x23e)]||_0x558c18,'success':![],'error':'Not\x20instal'+_0x6e5ab9(0x243)};return error(_0x3c167c,'['+name+(_0x6e5ab9(0x218)+'ugin\x20error'+_0x6e5ab9(0x22a))+_0x558c18),{'name':_0x5a1bb0[_0x6e5ab9(0x23e)]||_0x558c18,'success':![],'error':_0x3c167c[_0x6e5ab9(0x1ff)]||_0x6e5ab9(0x1d6)+_0x6e5ab9(0x24a)};}}async function handleList(_0x26e961){const _0x46a33c=_0x2970c1,_0x259f2c=await getAvailablePlugins();if(_0x259f2c[_0x46a33c(0x23b)]===-0x411*-0x9+-0x2*0x553+-0x19f3){await safeSend(_0x26e961,'⚠️\x20Could\x20no'+_0x46a33c(0x222)+_0x46a33c(0x1f2)+_0x46a33c(0x25f)+_0x46a33c(0x252)+'ease\x20run\x20`'+_0x46a33c(0x246)+'rst.');return;}const _0x61b308=await getRemovedPlugins(),_0x5f4c32=new Set((_0x61b308||[])[_0x46a33c(0x1ec)](_0x1f59af=>String(_0x1f59af[_0x46a33c(0x23e)]))),_0x3d8c10=_0x259f2c[_0x46a33c(0x210)](_0x2153e9=>!_0x5f4c32[_0x46a33c(0x214)](_0x2153e9[_0x46a33c(0x23e)]))[_0x46a33c(0x1ec)](_0x3e098d=>_0x3e098d[_0x46a33c(0x23e)]),_0x1ffb73=(_0x61b308||[])['map'](_0x4e2d10=>_0x4e2d10['name']);let _0x48c584='📜\x20*Availab'+'le\x20Plugins'+_0x46a33c(0x1cd)+_0x3d8c10[_0x46a33c(0x23b)]+')\x0a\x0a';_0x48c584+=_0x3d8c10[_0x46a33c(0x23b)]>-0x1173+-0x1d29+0x2e9c?_0x3d8c10[_0x46a33c(0x1ec)](_0x167cb0=>'-\x20'+_0x167cb0)[_0x46a33c(0x1e2)]('\x0a'):_0x46a33c(0x1ee)+_0x46a33c(0x20f)+'.',_0x48c584+=_0x46a33c(0x250)+_0x46a33c(0x260)+_0x46a33c(0x1c1)+_0x1ffb73[_0x46a33c(0x23b)]+_0x46a33c(0x25c),_0x48c584+=_0x1ffb73['length']>0x1b27+-0x172c+-0x3fb?_0x1ffb73[_0x46a33c(0x1ec)](_0x2cfc91=>'-\x20'+_0x2cfc91)[_0x46a33c(0x1e2)]('\x0a'):_0x46a33c(0x1df),await safeSend(_0x26e961,_0x48c584);}function formatResults(_0x38e4a7,_0x2f6b06){const _0x4f8f42=_0x2970c1,_0x4e79aa=_0x2f6b06[_0x4f8f42(0x210)](_0x5a06ff=>_0x5a06ff[_0x4f8f42(0x23d)])[_0x4f8f42(0x1ec)](_0x1619b4=>'✅\x20'+_0x1619b4[_0x4f8f42(0x23e)]),_0x5ee798=_0x2f6b06[_0x4f8f42(0x210)](_0x553e9b=>!_0x553e9b['success'])[_0x4f8f42(0x1ec)](_0x33f86e=>'❌\x20'+_0x33f86e[_0x4f8f42(0x23e)]+'\x20('+_0x33f86e[_0x4f8f42(0x1fa)]+')');let _0x398dbd='*'+_0x38e4a7+_0x4f8f42(0x209);if(_0x4e79aa[_0x4f8f42(0x23b)]>-0x2512+-0x1*0x3a5+-0x28b7*-0x1)_0x398dbd+=_0x4e79aa[_0x4f8f42(0x1e2)]('\x0a')+'\x0a\x0a';if(_0x5ee798['length']>-0x1e40+0x2*-0xef2+0x3c24)_0x398dbd+=_0x5ee798[_0x4f8f42(0x1e2)]('\x0a')+'\x0a';if(_0x4e79aa[_0x4f8f42(0x23b)]===-0x318*-0x2+0x1*0x109+-0x739&&_0x5ee798[_0x4f8f42(0x23b)]===-0x314+0x3*0x25d+0xd*-0x4f)_0x398dbd+='No\x20matchin'+'g\x20plugins\x20'+_0x4f8f42(0x229)+_0x4f8f42(0x1ed)+'tion.';return _0x398dbd[_0x4f8f42(0x1c3)]();}async function findStoredMatchFromFindings(_0x4a3759=[]){const _0x1fb06c=_0x2970c1;try{const _0x474ab1=await listSudo();if(!Array[_0x1fb06c(0x224)](_0x474ab1)||_0x474ab1[_0x1fb06c(0x23b)]===-0x2a7+0x2328+-0x2081)return null;const _0x51d3a3=new Set(_0x474ab1['map'](String));for(const _0x2034a5 of _0x4a3759||[]){if(!_0x2034a5||typeof _0x2034a5[_0x1fb06c(0x24f)]!==_0x1fb06c(0x1d1))continue;const _0x44f591=normalizeToJid(_0x2034a5[_0x1fb06c(0x24f)]);if(_0x44f591&&_0x51d3a3[_0x1fb06c(0x214)](_0x44f591))return _0x44f591;if(_0x51d3a3[_0x1fb06c(0x214)](_0x2034a5[_0x1fb06c(0x24f)]))return _0x2034a5['jid'];}return null;}catch(_0x578f0){return null;}}export function initialize(_0x399560){const _0x487421=_0x2970c1;botRef=_0x399560,info('['+name+(_0x487421(0x20d)+'zed.'));}export async function onMessage(_0x5d8dbe){const _0x57ac9b=_0x2970c1;try{if(!_0x5d8dbe||!_0x5d8dbe['key'])return;const _0x47cff2=_0x5d8dbe[_0x57ac9b(0x237)]['id']||_0x5d8dbe[_0x57ac9b(0x237)][_0x57ac9b(0x1d4)]||(_0x5d8dbe['key']['participan'+'t']||'')+':'+_0x5d8dbe['key']['remoteJid']+':'+_0x5d8dbe[_0x57ac9b(0x237)][_0x57ac9b(0x21d)];if(isDuplicateMessage(_0x47cff2)){info('['+name+(']\x20duplicat'+_0x57ac9b(0x247)+_0x57ac9b(0x230))+_0x47cff2);return;}const _0x29a678=_0x5d8dbe[_0x57ac9b(0x237)]?.['remoteJid'];if(!_0x29a678||_0x29a678[_0x57ac9b(0x221)](_0x57ac9b(0x258)))return;const _0x206d08=(_0x5d8dbe['text']||'')[_0x57ac9b(0x1c3)]()[_0x57ac9b(0x253)+'e'](),_0x10ed50=_0x206d08['split'](/\s+/)['filter'](Boolean),_0x2102d5=_0x10ed50[-0x24e3+0x526+0x1fbd];if(_0x2102d5!=='plugin')return;const _0x5a5b56=!!_0x5d8dbe[_0x57ac9b(0x237)][_0x57ac9b(0x21d)],_0x3e9cdf=await isSudo(botRef,_0x5d8dbe);if(!_0x5a5b56&&!_0x3e9cdf)return;let _0x3e0753=_0x5a5b56?getBotJid():await findStoredMatchFromFindings(userJidFromCtx(_0x5d8dbe)[_0x57ac9b(0x21f)]);if(!_0x3e0753)return;const _0x2848ac=_0x10ed50[-0x4*-0x5ba+0x993+-0x103d*0x2],_0x3ed5c7=_0x10ed50[_0x57ac9b(0x22c)](0x1491+0x3*-0x815+-0x76*-0x8);if(!_0x2848ac){await safeSend(_0x3e0753,_0x57ac9b(0x213)+'gin\x20<list|'+_0x57ac9b(0x1db)+_0x57ac9b(0x1e8)+_0x57ac9b(0x264)+_0x57ac9b(0x1c8));return;}const _0x5458c9=await getAvailablePlugins();if(_0x5458c9[_0x57ac9b(0x23b)]===-0x1cee+-0x1*0xd36+0xba*0x3a&&[_0x57ac9b(0x1dc),_0x57ac9b(0x1d5),_0x57ac9b(0x1e3)][_0x57ac9b(0x22d)](_0x2848ac)){await safeSend(_0x3e0753,_0x57ac9b(0x1ce)+_0x57ac9b(0x212)+_0x57ac9b(0x1ef)+_0x57ac9b(0x241)+'e`\x20command'+_0x57ac9b(0x22e)+_0x57ac9b(0x1eb)+_0x57ac9b(0x233));return;}switch(_0x2848ac){case _0x57ac9b(0x1e3):await handleList(_0x3e0753);break;case'add':case _0x57ac9b(0x1d7):{const _0x2e7304=(_0x3ed5c7[_0x57ac9b(0x1e2)]('')||'')[_0x57ac9b(0x1de)](',')[_0x57ac9b(0x1ec)](_0x4d665c=>_0x4d665c[_0x57ac9b(0x1c3)]()[_0x57ac9b(0x253)+'e']())[_0x57ac9b(0x210)](Boolean);if(_0x2e7304['length']===0xb88+-0x5f3+-0x595){await safeSend(_0x3e0753,_0x57ac9b(0x262)+_0x57ac9b(0x23c)+_0x57ac9b(0x228)+_0x57ac9b(0x1c9)+_0x57ac9b(0x207)+_0x57ac9b(0x1c6)+_0x57ac9b(0x1fb));return;}const _0x489d30=Array[_0x57ac9b(0x215)](new Set(_0x2e7304)),_0x25d6ad=[];for(const _0x5898f0 of _0x489d30){_0x25d6ad['push'](await addPlugin(_0x5898f0,_0x5458c9));}await safeSend(_0x3e0753,formatResults(_0x57ac9b(0x1f8)+_0x57ac9b(0x1fe),_0x25d6ad));break;}case _0x57ac9b(0x251):case _0x57ac9b(0x25b):{const _0x549b9b=_0x3ed5c7[_0x57ac9b(0x1e2)]('');if(!_0x549b9b){await safeSend(_0x3e0753,_0x57ac9b(0x1bf)+_0x57ac9b(0x1f4)+'emove,\x20or\x20'+_0x57ac9b(0x20a)+_0x57ac9b(0x1e1)+_0x57ac9b(0x1c2)+_0x57ac9b(0x267));return;}const _0x412dbc=_0x549b9b[_0x57ac9b(0x253)+'e']()===_0x57ac9b(0x1d5)?(await getInstalledPlugins())[_0x57ac9b(0x210)](_0xee8cd8=>!PROTECTED_PLUGINS[_0x57ac9b(0x22d)](_0xee8cd8+'.js')):Array['from'](new Set(_0x549b9b[_0x57ac9b(0x1de)](',')[_0x57ac9b(0x1ec)](_0x1e7687=>_0x1e7687[_0x57ac9b(0x1c3)]()[_0x57ac9b(0x253)+'e']())[_0x57ac9b(0x210)](Boolean)));if(_0x412dbc['length']===0x1*0x6cd+-0x782*0x4+0x173b){await safeSend(_0x3e0753,_0x57ac9b(0x22f)+_0x57ac9b(0x206)+_0x57ac9b(0x1d3)+_0x57ac9b(0x1cb));return;}const _0x444b79=[];for(const _0x5db675 of _0x412dbc){_0x444b79[_0x57ac9b(0x240)](await removePlugin(_0x5db675,_0x5458c9));}await safeSend(_0x3e0753,formatResults('Plugin\x20Rem'+_0x57ac9b(0x1f5),_0x444b79));break;}case _0x57ac9b(0x1d5):{const _0x3ffcc3=[];for(const _0x1b2597 of _0x5458c9){_0x3ffcc3['push'](await addPlugin(_0x1b2597['name'],_0x5458c9));}await safeSend(_0x3e0753,formatResults(_0x57ac9b(0x239)+'s\x20Installa'+_0x57ac9b(0x1f0),_0x3ffcc3));break;}default:await safeSend(_0x3e0753,_0x57ac9b(0x238)+_0x57ac9b(0x211)+'ge:\x20plugin'+_0x57ac9b(0x1be)+'|remove|al'+_0x57ac9b(0x1e6)+_0x57ac9b(0x25d));break;}}catch(_0x3c3572){error(_0x3c3572,'['+name+(_0x57ac9b(0x255)+_0x57ac9b(0x1d0)));}}export function cleanup(){const _0x4b7b86=_0x2970c1;botRef=null,info('['+name+(']\x20cleaned\x20'+_0x4b7b86(0x223)));}