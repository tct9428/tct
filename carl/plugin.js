const _0x4ffddc=_0x4e9c;(function(_0x25e1e1,_0x4d7091){const _0x50736d=_0x4e9c,_0x48bc52=_0x25e1e1();while(!![]){try{const _0x2ac12b=parseInt(_0x50736d(0x151))/(0x101f+-0x2*0x595+-0x4f4)+-parseInt(_0x50736d(0x120))/(-0x3*0x5b+0x1843+0x7*-0x350)*(-parseInt(_0x50736d(0x15f))/(0x1*0x564+-0x1a54+0x1*0x14f3))+parseInt(_0x50736d(0x132))/(0x4a*0x21+-0x3b4+-0x1*0x5d2)*(parseInt(_0x50736d(0x145))/(-0x1*0x1b+0x521+-0x501))+parseInt(_0x50736d(0x12a))/(0x8e0+-0x121f*0x1+-0x7*-0x153)*(parseInt(_0x50736d(0x170))/(-0xb52*-0x3+-0x2*-0x998+0x5e7*-0x9))+parseInt(_0x50736d(0x16a))/(-0x57*-0xb+0x13d1*-0x1+-0x101c*-0x1)+-parseInt(_0x50736d(0x148))/(0x1bb*-0x2+-0xa93*0x1+-0xe12*-0x1)+-parseInt(_0x50736d(0x176))/(-0x3c1+-0xa34+0xdff*0x1);if(_0x2ac12b===_0x4d7091)break;else _0x48bc52['push'](_0x48bc52['shift']());}catch(_0x104385){_0x48bc52['push'](_0x48bc52['shift']());}}}(_0x336a,0xa40f*0xe+-0x1*-0xa8849+-0xc9f64));import _0x2a7d3a from'fs/promises';import _0x595203 from'path';import{fileURLToPath}from'url';import{info,warn,error}from'../utils/logger.js';function _0x336a(){const _0x560972=['.js','\x20failed:\x20','add','success','1771AVEuIa','split','name','ailed:\x20','modules','up.','14847860lUDJUI','Plugin\x20Ins','emove,\x20or\x20','\x20<list|add','emoved\x20WHE','moved).','plugin.js','gin\x20<list|','remoteJid','list','ins\x20from\x20D',')\x0a\x0a','join','d\x20cc`','lugins...','n\x20disk\x20but','All\x20Plugin','FROM\x20plugi','carl','o\x20get\x20remo','all','@g.us','able\x20to\x20Ad','le\x20Plugins','2.1.0','jid','d).','remove','includes','unlink',']\x20Failed\x20t','replace','resolve','ilable\x20lis','zed\x20(synce','e:\x20','message','ved\x20plugin',']\x20Download','ROM\x20plugin','No\x20valid\x20p','File\x20missi','fromMe','_snapshot','download','gin1,plugi','o\x20update\x20r','*\x20(','o\x20get\x20avai','key',']\x20added\x20pl','âš ï¸\x20Could\x20no','update.js','code','ugin\x20','Protected\x20','o\x20send\x20mes','length',']\x20Sync:\x20De','has','utf-8','Download\x20f','M\x20plugin_r','push','date`\x20firs','Invalid\x20na','text',']\x20onMessag','trim','install','Plugin\x20Rem','emoved\x20(na','Unknown\x20er','\x20marked\x20re',']\x20initiali','ugins\x20to\x20a','gins.\x20Run\x20','ror','Not\x20instal','3240VtYAwX','|all>\x20[plu','led','\x27all\x27.','ugins\x20to\x20r','n_removed','n2...]','emoved\x20plu','remove.','filter','20940MIOcOU','then','\x20removed\x20p','me,\x20origin','url','plugin','delete','DELETE\x20FRO','36HUYTpX','map','slice','SELECT\x20nam','gins\x20in\x20DB','SELECT\x20*\x20F','..]','sendMessag','stat','forEach','origin','stanzaId','find','endsWith','toLowerCas','tallation','readdir','Specify\x20pl','o\x20sync\x20rem','409445DzkIOv',']\x20removePl','e\x20error','7067547ZvZfgf','mmand.\x20Usa','string','Usage:\x20plu','No\x20matchin','\x20->\x20','leted\x20\x27','ailed','_removed','639176SOPOmv','sage','None',']\x20removed\x20','isArray','access','catch','oved\x20plugi','sudonumber','ENOENT','dirname','ðŸ“œ\x20*Availab','*\x0a\x0a','t.\x20Run\x20`up','3jpTgiC','from','`update`\x20f','status','ns\x20on\x20star','run','found.','tup','vided','O\x20plugin_r','\x27\x20(found\x20o','3682408PapDIZ','Not\x20in\x20ava'];_0x336a=function(){return _0x560972;};return _0x336a();}import{db}from'../utils/database.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x4ffddc(0x12f);export const version=_0x4ffddc(0x18e);export const priority=-0x1267+-0x18c4+0x2b85;export const commands=[_0x4ffddc(0x12f)];let botRef=null;const __filename=fileURLToPath(import.meta[_0x4ffddc(0x12e)]),__dirname=_0x595203[_0x4ffddc(0x15b)](__filename),projectRoot=_0x595203[_0x4ffddc(0x196)](__dirname,'..'),modulesDir=_0x595203[_0x4ffddc(0x182)](projectRoot,_0x4ffddc(0x174)),carlDir=_0x595203[_0x4ffddc(0x182)](projectRoot,_0x4ffddc(0x188)),PROTECTED_PLUGINS=[_0x4ffddc(0x1aa),_0x4ffddc(0x17c),_0x4ffddc(0x159)+_0x4ffddc(0x16c)],recentMessageIds=new Set();function isDuplicateMessage(_0x5d44b0){const _0x581168=_0x4ffddc;if(!_0x5d44b0)return![];if(recentMessageIds[_0x581168(0x10c)](_0x5d44b0))return!![];return recentMessageIds['add'](_0x5d44b0),setTimeout(()=>recentMessageIds[_0x581168(0x130)](_0x5d44b0),0x1ada+0x45*0xa+-0xa04),![];}async function safeSend(_0x6d6906,_0x5cede2){const _0x1153c4=_0x4ffddc;if(!_0x6d6906)return;try{const _0xa50f9f=botRef[_0x1153c4(0x139)+'e']||botRef['sock']?.['sendMessag'+'e'];if(_0xa50f9f)await _0xa50f9f(_0x6d6906,{'text':_0x5cede2});}catch(_0x346708){error(_0x346708,'['+name+(_0x1153c4(0x194)+_0x1153c4(0x109)+_0x1153c4(0x152)));}}async function getRemovedPlugins(){const _0x4716d6=_0x4ffddc;try{const _0x2b4a5f=await db[_0x4716d6(0x18a)]('SELECT\x20*\x20F'+_0x4716d6(0x19d)+_0x4716d6(0x150));return Array[_0x4716d6(0x155)](_0x2b4a5f)?_0x2b4a5f:[];}catch(_0x21caef){return warn(_0x21caef,'['+name+(']\x20Failed\x20t'+_0x4716d6(0x189)+_0x4716d6(0x19b)+'s\x20from\x20DB')),[];}}async function updateRemovedPlugins(_0x4a391d,_0x5ccd44='add'){const _0x59b859=_0x4ffddc;try{if(_0x5ccd44===_0x59b859(0x16e))await db[_0x59b859(0x164)]('INSERT\x20OR\x20'+'IGNORE\x20INT'+_0x59b859(0x168)+_0x59b859(0x118)+_0x59b859(0x12d)+')\x20VALUES\x20('+'?,\x20?)',[_0x4a391d[_0x59b859(0x172)],_0x4a391d['origin']]);else _0x5ccd44==='remove'&&await db[_0x59b859(0x164)](_0x59b859(0x131)+_0x59b859(0x10f)+_0x59b859(0x17a)+'RE\x20name\x20=\x20'+'?',[_0x4a391d[_0x59b859(0x172)]]);}catch(_0x3dc9a2){error(_0x3dc9a2,'['+name+(']\x20Failed\x20t'+_0x59b859(0x1a4)+_0x59b859(0x127)+_0x59b859(0x136)));}}async function getAvailablePlugins(){const _0x39726f=_0x4ffddc;try{const _0xa3b60c=await db[_0x39726f(0x18a)](_0x39726f(0x137)+_0x39726f(0x19d)+_0x39726f(0x1a1));if(!_0xa3b60c||_0xa3b60c[_0x39726f(0x10a)]===0x2ab+-0x5a8*-0x2+-0xdfb)return[];return _0xa3b60c[_0x39726f(0x129)](_0x4a75a8=>['carl',_0x39726f(0x174)][_0x39726f(0x192)](_0x4a75a8[_0x39726f(0x13c)]))[_0x39726f(0x133)](_0xac0db7=>({'name':String(_0xac0db7[_0x39726f(0x172)])[_0x39726f(0x195)](/\.js$/,''),'origin':_0xac0db7[_0x39726f(0x13c)],'download':_0xac0db7['download']||null}));}catch(_0x2de5ae){return warn(_0x2de5ae,'['+name+(']\x20Failed\x20t'+_0x39726f(0x1a6)+'lable\x20plug'+_0x39726f(0x180)+'B')),[];}}async function getInstalledPlugins(){const _0x2a1bcb=_0x4ffddc,_0x4a65d2=new Set();try{const _0x53d4ec=await _0x2a7d3a[_0x2a1bcb(0x142)](carlDir)[_0x2a1bcb(0x157)](()=>[]);_0x53d4ec[_0x2a1bcb(0x13b)](_0x5e28ce=>_0x4a65d2[_0x2a1bcb(0x16e)](String(_0x5e28ce)[_0x2a1bcb(0x195)](_0x2a1bcb(0x16c),'')));const _0x5091c1=await _0x2a7d3a['readdir'](modulesDir)['catch'](()=>[]);_0x5091c1[_0x2a1bcb(0x13b)](_0x797683=>_0x4a65d2['add'](String(_0x797683)[_0x2a1bcb(0x195)]('.js','')));}catch(_0x5543f0){}return Array[_0x2a1bcb(0x160)](_0x4a65d2);}async function downloadFile(_0x1884ae,_0x55cfef){const _0x39cfe9=_0x4ffddc;if(!_0x1884ae)return error(new Error('No\x20URL\x20pro'+_0x39cfe9(0x167)),'['+name+(']\x20download'+_0x39cfe9(0x19f)+'ng\x20url')),![];try{const _0x45a6a4=await fetch(_0x1884ae);if(!_0x45a6a4['ok'])throw new Error(_0x39cfe9(0x10e)+_0x39cfe9(0x173)+_0x45a6a4[_0x39cfe9(0x162)]);const _0x1577c3=await _0x45a6a4[_0x39cfe9(0x113)]();return await _0x2a7d3a['mkdir'](_0x595203[_0x39cfe9(0x15b)](_0x55cfef),{'recursive':!![]}),await _0x2a7d3a['writeFile'](_0x55cfef,_0x1577c3,_0x39cfe9(0x10d)),!![];}catch(_0x5c28a1){return error(_0x5c28a1,'['+name+(_0x39cfe9(0x19c)+_0x39cfe9(0x16d))+_0x5c28a1[_0x39cfe9(0x19a)]),![];}}async function resolvePluginOrigin(_0x3814d0,_0x8c5e0b=[]){const _0x41fead=_0x4ffddc,_0x13432d=String(_0x3814d0||'')[_0x41fead(0x140)+'e'](),_0x120163=(_0x8c5e0b||[])[_0x41fead(0x13e)](_0x1cf5ca=>String(_0x1cf5ca[_0x41fead(0x172)])['toLowerCas'+'e']()===_0x13432d);if(_0x120163)return _0x120163;const _0x14ce87=_0x595203['join'](carlDir,_0x3814d0+_0x41fead(0x16c)),_0x5050f8=_0x595203[_0x41fead(0x182)](modulesDir,_0x3814d0+_0x41fead(0x16c));try{if(await _0x2a7d3a[_0x41fead(0x13a)](_0x14ce87)[_0x41fead(0x12b)](()=>!![])[_0x41fead(0x157)](()=>![]))return{'name':_0x3814d0,'origin':_0x41fead(0x188),'download':null};if(await _0x2a7d3a[_0x41fead(0x13a)](_0x5050f8)[_0x41fead(0x12b)](()=>!![])['catch'](()=>![]))return{'name':_0x3814d0,'origin':_0x41fead(0x174),'download':null};}catch(_0x359422){}return null;}function _0x4e9c(_0x11e3df,_0x17688f){const _0x5d3a8a=_0x336a();return _0x4e9c=function(_0x193ad1,_0x117671){_0x193ad1=_0x193ad1-(0xda*-0x5+-0x17*-0xf3+-0x108a);let _0x2708e7=_0x5d3a8a[_0x193ad1];return _0x2708e7;},_0x4e9c(_0x11e3df,_0x17688f);}async function addPlugin(_0x49a0c7,_0x5171ce){const _0x2cb9ea=_0x4ffddc,_0xbafed8=_0x5171ce[_0x2cb9ea(0x13e)](_0x1435a2=>String(_0x1435a2[_0x2cb9ea(0x172)])[_0x2cb9ea(0x140)+'e']()===String(_0x49a0c7)[_0x2cb9ea(0x140)+'e']());if(!_0xbafed8)return{'name':_0x49a0c7,'success':![],'error':_0x2cb9ea(0x16b)+_0x2cb9ea(0x197)+'t'};const _0x423afe=_0xbafed8['origin']===_0x2cb9ea(0x188)?carlDir:modulesDir,_0x3aef1b=_0x595203[_0x2cb9ea(0x182)](_0x423afe,_0xbafed8[_0x2cb9ea(0x172)]+_0x2cb9ea(0x16c)),_0x5d96dc=await downloadFile(_0xbafed8[_0x2cb9ea(0x1a2)],_0x3aef1b);if(_0x5d96dc)return await updateRemovedPlugins({'name':_0xbafed8[_0x2cb9ea(0x172)],'origin':_0xbafed8[_0x2cb9ea(0x13c)]},_0x2cb9ea(0x191)),info('['+name+(_0x2cb9ea(0x1a8)+_0x2cb9ea(0x1ac))+_0xbafed8[_0x2cb9ea(0x172)]+_0x2cb9ea(0x14d)+_0x3aef1b),{'name':_0xbafed8[_0x2cb9ea(0x172)],'success':!![]};return{'name':_0xbafed8[_0x2cb9ea(0x172)],'success':![],'error':_0x2cb9ea(0x10e)+_0x2cb9ea(0x14f)};}async function removePlugin(_0x539d13,_0x368d14){const _0x300b69=_0x4ffddc;_0x539d13=String(_0x539d13||'')[_0x300b69(0x115)]();if(!_0x539d13)return{'name':_0x539d13,'success':![],'error':_0x300b69(0x112)+'me'};if(PROTECTED_PLUGINS[_0x300b69(0x192)](_0x539d13+_0x300b69(0x16c)))return{'name':_0x539d13,'success':![],'error':_0x300b69(0x1ad)+'plugin'};const _0x2f1f04=await resolvePluginOrigin(_0x539d13,_0x368d14);if(!_0x2f1f04)return{'name':_0x539d13,'success':![],'error':_0x300b69(0x11f)+_0x300b69(0x122)};const _0x1bc405=_0x2f1f04[_0x300b69(0x13c)]===_0x300b69(0x188)?carlDir:modulesDir,_0x2e07ea=_0x595203[_0x300b69(0x182)](_0x1bc405,(_0x2f1f04[_0x300b69(0x172)]||_0x539d13)+'.js');try{return await _0x2a7d3a['access'](_0x2e07ea),await _0x2a7d3a[_0x300b69(0x193)](_0x2e07ea),await updateRemovedPlugins({'name':_0x2f1f04[_0x300b69(0x172)]||_0x539d13,'origin':_0x2f1f04[_0x300b69(0x13c)]},_0x300b69(0x16e)),info('['+name+(_0x300b69(0x154)+'plugin\x20fil'+_0x300b69(0x199))+_0x2e07ea),{'name':_0x2f1f04[_0x300b69(0x172)]||_0x539d13,'success':!![]};}catch(_0x44a415){if(_0x44a415&&_0x44a415[_0x300b69(0x1ab)]===_0x300b69(0x15a))return{'name':_0x2f1f04['name']||_0x539d13,'success':![],'error':'Not\x20instal'+'led'};return error(_0x44a415,'['+name+(_0x300b69(0x146)+'ugin\x20error')),{'name':_0x2f1f04[_0x300b69(0x172)]||_0x539d13,'success':![],'error':_0x44a415[_0x300b69(0x19a)]||_0x300b69(0x119)+_0x300b69(0x11e)};}}async function syncRemovedPlugins(){const _0x28c707=_0x4ffddc;try{const _0xd9424b=await db['all'](_0x28c707(0x135)+'e,\x20origin\x20'+_0x28c707(0x187)+_0x28c707(0x125));if(!_0xd9424b||_0xd9424b[_0x28c707(0x10a)]===0x1c7+0x124a*-0x1+0x1083)return;info('['+name+(']\x20Sync:\x20Ch'+'ecking\x20')+_0xd9424b[_0x28c707(0x10a)]+(_0x28c707(0x12c)+_0x28c707(0x184)));for(const _0x4a22e9 of _0xd9424b){let _0x1eafa9=String(_0x4a22e9[_0x28c707(0x172)]);if(!_0x1eafa9['endsWith'](_0x28c707(0x16c)))_0x1eafa9+=_0x28c707(0x16c);const _0x534e99=_0x4a22e9['origin']===_0x28c707(0x188)?carlDir:modulesDir,_0x4566d2=_0x595203[_0x28c707(0x182)](_0x534e99,_0x1eafa9);try{await _0x2a7d3a[_0x28c707(0x156)](_0x4566d2),await _0x2a7d3a[_0x28c707(0x193)](_0x4566d2),info('['+name+(_0x28c707(0x10b)+_0x28c707(0x14e))+_0x4a22e9['name']+(_0x28c707(0x169)+_0x28c707(0x185)+_0x28c707(0x11a)+_0x28c707(0x17b)));}catch(_0x1e7c82){}}}catch(_0xbc7980){error(_0xbc7980,'['+name+(_0x28c707(0x194)+_0x28c707(0x144)+_0x28c707(0x158)+_0x28c707(0x163)+_0x28c707(0x166)));}}async function handleList(_0x3839ea){const _0x363892=_0x4ffddc,_0x54bf78=await getAvailablePlugins();if(_0x54bf78[_0x363892(0x10a)]===-0x238b+0xf3*0x17+0x5a*0x27){await safeSend(_0x3839ea,_0x363892(0x1a9)+'t\x20load\x20lis'+_0x363892(0x15e)+_0x363892(0x111)+'t.');return;}const _0x568594=await getRemovedPlugins(),_0x3d9db3=new Set((_0x568594||[])[_0x363892(0x133)](_0x13900=>String(_0x13900[_0x363892(0x172)]))),_0xff5846=_0x54bf78['filter'](_0xa70aa1=>!_0x3d9db3[_0x363892(0x10c)](_0xa70aa1[_0x363892(0x172)]))[_0x363892(0x133)](_0x404f67=>_0x404f67['name']),_0x29cf5d=(_0x568594||[])[_0x363892(0x133)](_0x1132a8=>_0x1132a8[_0x363892(0x172)]);let _0x4fb600=_0x363892(0x15c)+_0x363892(0x18d)+_0x363892(0x1a5)+_0xff5846[_0x363892(0x10a)]+_0x363892(0x181);_0x4fb600+=_0xff5846[_0x363892(0x10a)]>0xe6b+-0x101b+0x90*0x3?_0xff5846[_0x363892(0x133)](_0x214280=>'-\x20'+_0x214280)[_0x363892(0x182)]('\x0a'):_0x363892(0x153),_0x4fb600+='\x0a\x0aâž•\x20*Avail'+_0x363892(0x18c)+'d*\x20('+_0x29cf5d['length']+_0x363892(0x181),_0x4fb600+=_0x29cf5d['length']>0x16db+0xa*0x232+-0x2ccf?_0x29cf5d[_0x363892(0x133)](_0x58ecc5=>'-\x20'+_0x58ecc5)['join']('\x0a'):_0x363892(0x153),await safeSend(_0x3839ea,_0x4fb600);}function formatResults(_0x4c8b97,_0x6d97b6){const _0x199e3c=_0x4ffddc,_0x5d6870=_0x6d97b6[_0x199e3c(0x129)](_0x422930=>_0x422930[_0x199e3c(0x16f)])[_0x199e3c(0x133)](_0x5c9c1c=>'âœ…\x20'+_0x5c9c1c['name']),_0x1d6c38=_0x6d97b6[_0x199e3c(0x129)](_0x31992f=>!_0x31992f[_0x199e3c(0x16f)])['map'](_0x31cf30=>'âŒ\x20'+_0x31cf30[_0x199e3c(0x172)]+'\x20('+_0x31cf30['error']+')');let _0x50ceb1='*'+_0x4c8b97+_0x199e3c(0x15d);if(_0x5d6870[_0x199e3c(0x10a)]>0x2703+-0xe1*-0x1+0x3*-0xd4c)_0x50ceb1+=_0x5d6870[_0x199e3c(0x182)]('\x0a')+'\x0a\x0a';if(_0x1d6c38[_0x199e3c(0x10a)]>0x7c*0x3b+-0x15*-0x101+-0x31a9)_0x50ceb1+=_0x1d6c38[_0x199e3c(0x182)]('\x0a')+'\x0a';if(_0x5d6870[_0x199e3c(0x10a)]===-0x2047+-0x660*0x1+-0x5*-0x7bb&&_0x1d6c38[_0x199e3c(0x10a)]===0x7*-0x31f+0x22e5+-0xd0c)_0x50ceb1+=_0x199e3c(0x14c)+'g\x20plugins\x20'+_0x199e3c(0x165);return _0x50ceb1[_0x199e3c(0x115)]();}async function findStoredMatchFromFindings(_0x48616c=[]){const _0x3cd73e=_0x4ffddc;try{const _0x4d6d94=await listSudo();if(!Array['isArray'](_0x4d6d94)||_0x4d6d94[_0x3cd73e(0x10a)]===0x3ad*-0x5+-0x7*0x2de+0x11*0x243)return null;const _0x24163a=new Set(_0x4d6d94[_0x3cd73e(0x133)](String));for(const _0x418806 of _0x48616c||[]){if(!_0x418806||typeof _0x418806[_0x3cd73e(0x18f)]!==_0x3cd73e(0x14a))continue;const _0x3ce755=normalizeToJid(_0x418806[_0x3cd73e(0x18f)]);if(_0x3ce755&&_0x24163a[_0x3cd73e(0x10c)](_0x3ce755))return _0x3ce755;if(_0x24163a[_0x3cd73e(0x10c)](_0x418806['jid']))return _0x418806[_0x3cd73e(0x18f)];}return null;}catch(_0xa697a3){return null;}}export async function initialize(_0x13eac7){const _0x3c5009=_0x4ffddc;botRef=_0x13eac7,await syncRemovedPlugins(),info('['+name+(_0x3c5009(0x11b)+_0x3c5009(0x198)+_0x3c5009(0x190)));}export async function onMessage(_0x274db6,_0x12f0d6){const _0x2e0ba0=_0x4ffddc;try{if(!_0x274db6||!_0x274db6[_0x2e0ba0(0x1a7)])return;const _0x53563c=_0x274db6[_0x2e0ba0(0x1a7)]['id']||_0x274db6[_0x2e0ba0(0x1a7)][_0x2e0ba0(0x13d)]||(_0x274db6['key']['participan'+'t']||'')+':'+_0x274db6[_0x2e0ba0(0x1a7)][_0x2e0ba0(0x17e)]+':'+_0x274db6[_0x2e0ba0(0x1a7)][_0x2e0ba0(0x1a0)];if(isDuplicateMessage(_0x53563c))return;const _0x317288=_0x274db6[_0x2e0ba0(0x1a7)]?.[_0x2e0ba0(0x17e)];if(!_0x317288||_0x317288[_0x2e0ba0(0x13f)](_0x2e0ba0(0x18b)))return;const _0x2613c1=(_0x274db6[_0x2e0ba0(0x113)]||'')['trim'](),_0x529ccf=_0x2613c1[_0x2e0ba0(0x171)](/\s+/)[_0x2e0ba0(0x129)](Boolean);let _0x27c855=(_0x529ccf[0x62*-0x8+-0x1cb6+0x7*0x48a]||'')[_0x2e0ba0(0x140)+'e']();_0x27c855=_0x27c855[_0x2e0ba0(0x195)](/^[./!]/,'');if(!commands[_0x2e0ba0(0x192)](_0x27c855))return;const _0xb4b70c=!!_0x274db6[_0x2e0ba0(0x1a7)][_0x2e0ba0(0x1a0)],_0x4b7ad8=await isSudo(botRef,_0x274db6)['catch'](()=>![]);if(!_0xb4b70c&&!_0x4b7ad8)return;let _0x1a625f=_0xb4b70c?getBotJid():await findStoredMatchFromFindings(userJidFromCtx(_0x274db6)['findings']);if(!_0x1a625f)return;const _0x520992=(_0x529ccf[0x26f1*0x1+0xbf*0x26+-0x16*0x30f]||'')['toLowerCas'+'e'](),_0x2eb46b=_0x529ccf[_0x2e0ba0(0x134)](-0xb2f+-0x15b3*0x1+0x20e4);if(!_0x520992){await safeSend(_0x1a625f,_0x2e0ba0(0x14b)+_0x2e0ba0(0x17d)+'add|remove'+_0x2e0ba0(0x121)+_0x2e0ba0(0x1a3)+_0x2e0ba0(0x126));return;}const _0x391206=await getAvailablePlugins();if(_0x391206[_0x2e0ba0(0x10a)]===0x2202+0x1*-0x1faf+0x1*-0x253&&[_0x2e0ba0(0x16e),_0x2e0ba0(0x18a),_0x2e0ba0(0x17f)][_0x2e0ba0(0x192)](_0x520992)){await safeSend(_0x1a625f,_0x2e0ba0(0x1a9)+'t\x20load\x20plu'+_0x2e0ba0(0x11d)+_0x2e0ba0(0x161)+'irst.');return;}switch(_0x520992){case _0x2e0ba0(0x17f):await handleList(_0x1a625f);break;case _0x2e0ba0(0x16e):case _0x2e0ba0(0x116):{const _0x14d4a1=(_0x2eb46b[_0x2e0ba0(0x182)]('')||'')[_0x2e0ba0(0x171)](',')['map'](_0x2e2efd=>_0x2e2efd['trim']()['toLowerCas'+'e']())[_0x2e0ba0(0x129)](Boolean);if(_0x14d4a1[_0x2e0ba0(0x10a)]===-0x1af4+-0x16f7+0x3d7*0xd){await safeSend(_0x1a625f,_0x2e0ba0(0x143)+_0x2e0ba0(0x11c)+'dd.\x20E.g.,\x20'+'`plugin\x20ad'+_0x2e0ba0(0x183));return;}const _0x5b2329=Array['from'](new Set(_0x14d4a1)),_0x49f5de=[];for(const _0x261245 of _0x5b2329)_0x49f5de[_0x2e0ba0(0x110)](await addPlugin(_0x261245,_0x391206));await safeSend(_0x1a625f,formatResults(_0x2e0ba0(0x177)+_0x2e0ba0(0x141),_0x49f5de));break;}case'remove':case _0x2e0ba0(0x130):{const _0x1237cb=_0x2eb46b[_0x2e0ba0(0x182)]('');if(!_0x1237cb){await safeSend(_0x1a625f,_0x2e0ba0(0x143)+_0x2e0ba0(0x124)+_0x2e0ba0(0x178)+_0x2e0ba0(0x123));return;}const _0x4c8a2=_0x1237cb['toLowerCas'+'e']()===_0x2e0ba0(0x18a)?(await getInstalledPlugins())['filter'](_0x146243=>!PROTECTED_PLUGINS[_0x2e0ba0(0x192)](_0x146243+_0x2e0ba0(0x16c))):Array[_0x2e0ba0(0x160)](new Set(_0x1237cb[_0x2e0ba0(0x171)](',')[_0x2e0ba0(0x133)](_0x5de348=>_0x5de348['trim']()[_0x2e0ba0(0x140)+'e']())[_0x2e0ba0(0x129)](Boolean)));if(_0x4c8a2[_0x2e0ba0(0x10a)]===0x1b46+0x1*0x1494+-0x62*0x7d){await safeSend(_0x1a625f,_0x2e0ba0(0x19e)+'lugins\x20to\x20'+_0x2e0ba0(0x128));return;}const _0x5d983d=[];for(const _0x651ef7 of _0x4c8a2)_0x5d983d[_0x2e0ba0(0x110)](await removePlugin(_0x651ef7,_0x391206));await safeSend(_0x1a625f,formatResults(_0x2e0ba0(0x117)+'oval',_0x5d983d));break;}case'all':{const _0x18d16c=[];for(const _0x108e9d of _0x391206)_0x18d16c[_0x2e0ba0(0x110)](await addPlugin(_0x108e9d['name'],_0x391206));await safeSend(_0x1a625f,formatResults(_0x2e0ba0(0x186)+'s\x20Installa'+'tion',_0x18d16c));break;}default:await safeSend(_0x1a625f,'Invalid\x20co'+_0x2e0ba0(0x149)+'ge:\x20plugin'+_0x2e0ba0(0x179)+'|remove|al'+'l>\x20[names.'+_0x2e0ba0(0x138));break;}}catch(_0x258654){error(_0x258654,'['+name+(_0x2e0ba0(0x114)+_0x2e0ba0(0x147)));}}export function cleanup(){const _0x151597=_0x4ffddc;botRef=null,info('['+name+(']\x20cleaned\x20'+_0x151597(0x175)));}