const _0xa4efec=_0x8c52;(function(_0x4491a0,_0x45618d){const _0x48412f=_0x8c52,_0x9e7077=_0x4491a0();while(!![]){try{const _0x4d3376=-parseInt(_0x48412f(0x208))/(-0x1*-0xfa7+0x1bdb+-0x637*0x7)*(-parseInt(_0x48412f(0x131))/(0x13e6+-0x633+-0x2bd*0x5))+parseInt(_0x48412f(0x139))/(0xcac+0x7*0x180+-0x31*0x79)+parseInt(_0x48412f(0x189))/(0x1*0x10e2+0x1*0x46d+0xed*-0x17)+-parseInt(_0x48412f(0x10d))/(-0x16f8+0x91e+0xddf)*(parseInt(_0x48412f(0x141))/(-0x12d0+0x130*-0x4+-0x1796*-0x1))+-parseInt(_0x48412f(0x1b2))/(0x1401+-0x1*0x1c7+0x1*-0x1233)+parseInt(_0x48412f(0x264))/(-0x2ed*0xa+-0x2*-0xd6c+0x272)+-parseInt(_0x48412f(0x206))/(-0x1*-0x161b+-0x99c+-0xc76);if(_0x4d3376===_0x45618d)break;else _0x9e7077['push'](_0x9e7077['shift']());}catch(_0x33319d){_0x9e7077['push'](_0x9e7077['shift']());}}}(_0x3012,-0x19*0x272f+0x1faf5*-0x1+0xd78af));import _0x5830f4 from'fs';import _0x3d4cf3 from'path';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import*as _0x38a5d7 from'../utils/groups.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name='alive';export const version='3.0.0';export const priority=-0xf*0x11+-0x19a+0x3*0x106;export const configKeys=['TIMEZONE'];export const commands=[_0xa4efec(0x1d8),_0xa4efec(0x1f4),_0xa4efec(0x268),_0xa4efec(0x176),_0xa4efec(0x188)];let botRef=null,sendApi=null,moduleStartTs=Date[_0xa4efec(0x26d)]();const DEDUPE_TTL_MS=(-0x75b+-0x10*0x119+0x1909)*(-0x416*0x9+0x1*-0x2c3+-0x3*-0xe7b),processedMessageKeys=new Map();function markProcessed(_0x3b6a4a){const _0x4c35f8=_0xa4efec;if(!_0x3b6a4a)return;if(processedMessageKeys[_0x4c35f8(0x238)](_0x3b6a4a))try{clearTimeout(processedMessageKeys[_0x4c35f8(0x259)](_0x3b6a4a));}catch(_0x2decfb){}const _0x39651d=setTimeout(()=>processedMessageKeys[_0x4c35f8(0x161)](_0x3b6a4a),DEDUPE_TTL_MS);processedMessageKeys[_0x4c35f8(0x1fe)](_0x3b6a4a,_0x39651d);}function isProcessed(_0x49fabb){const _0x5c1cf7=_0xa4efec;return _0x49fabb&&processedMessageKeys[_0x5c1cf7(0x238)](_0x49fabb);}let DEFAULT_TIMEZONE=_0xa4efec(0x255)+_0xa4efec(0x25c),cardImages=[],baseUrl=_0xa4efec(0xf5)+_0xa4efec(0x278)+_0xa4efec(0x1fc);for(let i=0xc28+0x3*0x7+-0xc3d;i<=-0x1*-0x224e+-0x800*0x1+-0x1a43;i++){let suffix=i===-0x1b08+-0x7e5+0x22ed*0x1?'':i;cardImages[_0xa4efec(0x1a5)](''+baseUrl+suffix+'.jpg');}function refreshConfig(){const _0x14bc5e=_0xa4efec;try{const _0x315abb=getConfig&&getConfig()?getConfig():{};DEFAULT_TIMEZONE=_0x315abb['TIMEZONE']||_0x315abb[_0x14bc5e(0x249)+'AME']||DEFAULT_TIMEZONE,info('['+name+(_0x14bc5e(0xfa)+'efreshed;\x20'+_0x14bc5e(0x132))+DEFAULT_TIMEZONE);}catch(_0x7bdd99){warn('['+name+(_0x14bc5e(0x14b)+'onfig\x20erro'+_0x14bc5e(0x246))+(_0x7bdd99?.['message']||_0x7bdd99));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>refreshConfig());}catch(_0x4ae24c){warn('['+name+(_0xa4efec(0x1af)+_0xa4efec(0x15a)+_0xa4efec(0x1a0)+_0xa4efec(0x26f))+(_0x4ae24c?.[_0xa4efec(0x157)]||_0x4ae24c));}refreshConfig();const GLOBAL_QUOTES_TABLE=_0xa4efec(0x209)+_0xa4efec(0x185),ALIVE_TABLE=_0xa4efec(0x1d8),ALIVE_QUOTES_TABLE=_0xa4efec(0x26b)+'es',DAILY_TABLE=_0xa4efec(0x172)+'y_settings';async function ensureSchema(){const _0x12a9af=_0xa4efec;try{await db[_0x12a9af(0x229)](_0x12a9af(0x112)+_0x12a9af(0x15e)+_0x12a9af(0x283)+_0x12a9af(0x1c8)+ALIVE_TABLE+(_0x12a9af(0x1e9)+_0x12a9af(0x1c3)+_0x12a9af(0x285)+'ARY\x20KEY,\x0a\x20'+_0x12a9af(0x19f)+'sage\x20TEXT\x20'+'NOT\x20NULL,\x0a'+_0x12a9af(0x1ec)+_0x12a9af(0x1dd)+_0x12a9af(0x1f0)+_0x12a9af(0x1cd)+_0x12a9af(0x1ab)+_0x12a9af(0x1c1)+'\x20INTEGER\x20D'+_0x12a9af(0x187)+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20')),await db[_0x12a9af(0x229)]('\x0a\x20\x20\x20\x20\x20\x20CRE'+_0x12a9af(0x15e)+'IF\x20NOT\x20EXI'+_0x12a9af(0x1c8)+ALIVE_QUOTES_TABLE+(_0x12a9af(0x1e9)+'\x20id\x20INTEGE'+_0x12a9af(0x261)+_0x12a9af(0x280)+_0x12a9af(0x20b)+_0x12a9af(0x125)+_0x12a9af(0x224)+_0x12a9af(0xf4)+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12a9af(0x121)+'\x20NOT\x20NULL,'+_0x12a9af(0x1ff)+_0x12a9af(0x1fb)+'TEXT\x20DEFAU'+_0x12a9af(0x1a4)+_0x12a9af(0x142)+_0x12a9af(0x1d9)+'GER\x20DEFAUL'+'T\x200,\x0a\x20\x20\x20\x20\x20'+_0x12a9af(0x117)+'_at\x20INTEGE'+_0x12a9af(0x252)+_0x12a9af(0x1a6)+_0x12a9af(0x1cc))),await db[_0x12a9af(0x229)](_0x12a9af(0x112)+'ATE\x20TABLE\x20'+'IF\x20NOT\x20EXI'+_0x12a9af(0x1c8)+GLOBAL_QUOTES_TABLE+(_0x12a9af(0x1e9)+'\x20id\x20INTEGE'+_0x12a9af(0x261)+_0x12a9af(0x280)+'CREMENT,\x0a\x20'+_0x12a9af(0x104)+_0x12a9af(0xec)+_0x12a9af(0x1ee)+_0x12a9af(0x232)+_0x12a9af(0x11d)+'TEGER\x20DEFA'+_0x12a9af(0xfd)+_0x12a9af(0x218))),await db[_0x12a9af(0x229)]('\x0a\x20\x20\x20\x20\x20\x20CRE'+_0x12a9af(0x15e)+_0x12a9af(0x283)+_0x12a9af(0x1c8)+DAILY_TABLE+(_0x12a9af(0x1e9)+_0x12a9af(0x1c3)+'\x20TEXT\x20PRIM'+'ARY\x20KEY,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ena'+_0x12a9af(0x1b9)+'ER\x20DEFAULT'+_0x12a9af(0x154)+'\x20\x20time\x20TEX'+_0x12a9af(0x239)+_0x12a9af(0x1c9)+'\x20\x20\x20\x20\x20\x20\x20las'+_0x12a9af(0x204)+_0x12a9af(0x13c)+_0x12a9af(0x155)+_0x12a9af(0x18f))),info('['+name+(_0x12a9af(0x21e)+_0x12a9af(0x1c2)));}catch(_0x42c686){error(_0x42c686,'['+name+(']\x20ensureSc'+_0x12a9af(0x23b)+'d'));throw _0x42c686;}}function resolveQuotesFilePath(){const _0x57f30f=_0xa4efec;return _0x3d4cf3[_0x57f30f(0x13f)](process[_0x57f30f(0xed)](),_0x57f30f(0x1ba),_0x57f30f(0x164),_0x57f30f(0x136)+'on');}async function loadQuotesFromFileIntoDB(){const _0x811a45=_0xa4efec;try{const _0x3ee47d=resolveQuotesFilePath();if(!_0x5830f4[_0x811a45(0xf6)](_0x3ee47d)){info('['+name+(_0x811a45(0x231)+_0x811a45(0x25d)+'und\x20at\x20')+_0x3ee47d+(_0x811a45(0x113)+_0x811a45(0x101)+'d'));return;}const _0x115e02=await _0x5830f4['promises'][_0x811a45(0x148)](_0x3ee47d,'utf8');let _0x1d2729=[];try{_0x1d2729=JSON[_0x811a45(0x1f9)](_0x115e02);}catch(_0x127161){warn('['+name+(_0x811a45(0x231)+_0x811a45(0x138)+_0x811a45(0x1dc)+_0x811a45(0x105))+(_0x127161?.[_0x811a45(0x157)]||_0x127161));return;}if(!Array[_0x811a45(0x123)](_0x1d2729))return;const _0x43dfe8=_0x1d2729['map'](_0xb2a222=>{const _0x214b71=_0x811a45;if(!_0xb2a222)return null;if(typeof _0xb2a222===_0x214b71(0x1ce))return _0xb2a222[_0x214b71(0x234)]();if(typeof _0xb2a222===_0x214b71(0x24b)){if(_0xb2a222['quote'])return String(_0xb2a222[_0x214b71(0x164)])[_0x214b71(0x234)]();if(_0xb2a222[_0x214b71(0x194)])return String(_0xb2a222[_0x214b71(0x194)])['trim']();}return null;})[_0x811a45(0x1f7)](Boolean);if(!_0x43dfe8[_0x811a45(0x275)])return;const _0x2b507f=await db[_0x811a45(0x237)]('INSERT\x20OR\x20'+_0x811a45(0x1be)+'O\x20'+GLOBAL_QUOTES_TABLE+('\x20(quote,\x20u'+_0x811a45(0x22e)+_0x811a45(0x22d)));try{for(const _0x3d5a43 of _0x43dfe8){try{await _0x2b507f[_0x811a45(0x158)](_0x3d5a43);}catch(_0x2982d6){}}}finally{try{await _0x2b507f[_0x811a45(0x1b4)]();}catch(_0x59094e){}}info('['+name+_0x811a45(0x228)+_0x43dfe8[_0x811a45(0x275)]+(_0x811a45(0x1c0)+_0x811a45(0x192)+'to\x20')+GLOBAL_QUOTES_TABLE+(_0x811a45(0x240)+_0x811a45(0x13e)+')'));}catch(_0x1f8b5b){warn('['+name+(_0x811a45(0x26c)+_0x811a45(0x151)+_0x811a45(0x223)+_0x811a45(0x159))+(_0x1f8b5b?.[_0x811a45(0x157)]||_0x1f8b5b));}}async function pickNextGlobalQuote(){const _0x367b50=_0xa4efec;try{const _0x1a1a71=await db[_0x367b50(0x259)](_0x367b50(0x168)+_0x367b50(0x10a)+'M\x20'+GLOBAL_QUOTES_TABLE+(_0x367b50(0x124)+_0x367b50(0xf2)+'R\x20BY\x20id\x20LI'+_0x367b50(0x12d)));if(_0x1a1a71&&_0x1a1a71['quote'])return await db[_0x367b50(0x158)](_0x367b50(0xf7)+GLOBAL_QUOTES_TABLE+(_0x367b50(0x152)+_0x367b50(0x166)+_0x367b50(0x21f)),[_0x1a1a71['id']]),_0x1a1a71[_0x367b50(0x164)];await db[_0x367b50(0x158)](_0x367b50(0xf7)+GLOBAL_QUOTES_TABLE+(_0x367b50(0x152)+_0x367b50(0xee)+_0x367b50(0x18a)));const _0x51cef2=await db[_0x367b50(0x259)](_0x367b50(0x168)+_0x367b50(0x10a)+'M\x20'+GLOBAL_QUOTES_TABLE+(_0x367b50(0x27b)+'id\x20LIMIT\x201'));if(_0x51cef2&&_0x51cef2[_0x367b50(0x164)])return await db[_0x367b50(0x158)](_0x367b50(0xf7)+GLOBAL_QUOTES_TABLE+(_0x367b50(0x152)+'=\x201\x20WHERE\x20'+_0x367b50(0x21f)),[_0x51cef2['id']]),_0x51cef2[_0x367b50(0x164)];return null;}catch(_0x23405a){return warn('['+name+(']\x20pickNext'+_0x367b50(0x1ef)+_0x367b50(0x25b))+(_0x23405a?.[_0x367b50(0x157)]||_0x23405a)),null;}}async function pickNextQuoteForGroup(_0x555d10){const _0x287cdd=_0xa4efec;try{const _0x10d7c1=await db[_0x287cdd(0x236)](_0x287cdd(0x168)+'\x20quote\x20FRO'+'M\x20'+ALIVE_QUOTES_TABLE+(_0x287cdd(0xfc)+'up_jid\x20=\x20?'+_0x287cdd(0x27b)+'id'),[_0x555d10]);if(_0x10d7c1&&_0x10d7c1[_0x287cdd(0x275)]){const _0x5e9d4a=await db[_0x287cdd(0x259)]('SELECT\x20quo'+_0x287cdd(0x212)+_0x287cdd(0xea)+ALIVE_TABLE+('\x20WHERE\x20gro'+_0x287cdd(0x115)),[_0x555d10]);let _0x5a3770=0x1dd+-0x269e+-0x61*-0x61;if(_0x5e9d4a&&Number[_0x287cdd(0x18d)](_0x5e9d4a['quote_rr_i'+'ndex']))_0x5a3770=Number(_0x5e9d4a[_0x287cdd(0x1c7)+_0x287cdd(0x15b)]||0x1aef+-0x1757+0x2*-0x1cc);_0x5a3770=_0x5a3770%_0x10d7c1[_0x287cdd(0x275)];const _0x238391=_0x10d7c1[_0x5a3770][_0x287cdd(0x164)],_0x8fb210=(_0x5a3770+(-0x3*0x209+0xda9+0x1*-0x78d))%_0x10d7c1[_0x287cdd(0x275)];try{await db['run'](_0x287cdd(0x153)+'O\x20'+ALIVE_TABLE+('\x20(group_ji'+_0x287cdd(0x1b1)+_0x287cdd(0x181)+_0x287cdd(0x175)+_0x287cdd(0x211)+_0x287cdd(0x15f)+_0x287cdd(0x23c)+'\x20?,\x20?,\x20?)\x0a'+_0x287cdd(0x15f)+_0x287cdd(0x205)+_0x287cdd(0x267)+_0x287cdd(0x1ae)+'TE\x20SET\x20quo'+_0x287cdd(0x212)+'x\x20=\x20exclud'+_0x287cdd(0x201)+'r_index'),[_0x555d10,'',Math[_0x287cdd(0x14e)](Date[_0x287cdd(0x26d)]()/(-0x1*-0x1438+0x1*0x2165+-0x31b5)),_0x8fb210]);}catch(_0x153b4e){}return _0x238391;}return await pickNextGlobalQuote();}catch(_0x1dbd12){return warn('['+name+(_0x287cdd(0x21d)+_0x287cdd(0x230)+_0x287cdd(0x13d)+'\x20')+(_0x1dbd12?.[_0x287cdd(0x157)]||_0x1dbd12)),null;}}async function setDailySetting(_0x55cd4b,_0x3cf93e,_0x326db5=null){const _0x248f6d=_0xa4efec;try{const _0x2fcf19=typeof _0x326db5==='string'&&/^\d{2}:\d{2}$/[_0x248f6d(0x11a)](_0x326db5)?_0x326db5:_0x326db5?_0x326db5:_0x248f6d(0x13a),_0x423031=_0x3cf93e?-0x1*-0x95c+-0x2179+-0x181e*-0x1:0x24d5+-0xa60+-0x1a75;return await db[_0x248f6d(0x158)](_0x248f6d(0x153)+'O\x20'+DAILY_TABLE+(_0x248f6d(0x1ed)+_0x248f6d(0x1b0)+',\x20time,\x20la'+_0x248f6d(0x23e)+'ALUES\x20(?,\x20'+_0x248f6d(0x19c)+_0x248f6d(0x17b)+'NFLICT(gro'+'up_jid)\x20DO'+'\x20UPDATE\x20SE'+_0x248f6d(0x10b)+_0x248f6d(0x1bd)+_0x248f6d(0x110)+_0x248f6d(0x16a)+_0x248f6d(0x190)),[_0x55cd4b,_0x423031,_0x2fcf19]),!![];}catch(_0x1b98b3){return warn('['+name+(']\x20setDaily'+_0x248f6d(0xff)+_0x248f6d(0x19d))+(_0x1b98b3?.[_0x248f6d(0x157)]||_0x1b98b3)),![];}}async function getDailySetting(_0x1c2c90){const _0x5571ab=_0xa4efec;try{const _0x3685fb=await db[_0x5571ab(0x259)]('SELECT\x20ena'+'bled,\x20time'+_0x5571ab(0x20e)+_0x5571ab(0x1a7)+DAILY_TABLE+('\x20WHERE\x20gro'+_0x5571ab(0x115)),[_0x1c2c90]);return _0x3685fb||{'enabled':0x0,'time':_0x5571ab(0x13a),'last_sent':0x0};}catch(_0x533f9a){return warn('['+name+(_0x5571ab(0x1e0)+'Setting\x20er'+_0x5571ab(0x19d))+(_0x533f9a?.[_0x5571ab(0x157)]||_0x533f9a)),{'enabled':0x0,'time':_0x5571ab(0x13a),'last_sent':0x0};}}function _0x8c52(_0x5d6064,_0x26a751){const _0xd41544=_0x3012();return _0x8c52=function(_0x2e7912,_0x2dbc0b){_0x2e7912=_0x2e7912-(-0x58b*0x5+-0x69b+0x142*0x1c);let _0x56b410=_0xd41544[_0x2e7912];return _0x56b410;},_0x8c52(_0x5d6064,_0x26a751);}async function updateDailyLastSent(_0xd07dbe,_0x59f146){const _0x2bda1c=_0xa4efec;try{await db[_0x2bda1c(0x158)](_0x2bda1c(0xf7)+DAILY_TABLE+(_0x2bda1c(0x1fd)+_0x2bda1c(0x100)+_0x2bda1c(0x16c)+_0x2bda1c(0x1a8)),[_0x59f146||Math['floor'](Date[_0x2bda1c(0x26d)]()/(0x1655+0x1757+-0xb*0x3cc)),_0xd07dbe]);}catch(_0x471ccc){warn('['+name+(']\x20updateDa'+_0x2bda1c(0x1df)+'t\x20error:\x20')+(_0x471ccc?.[_0x2bda1c(0x157)]||_0x471ccc));}}function tryBuildSendApiFromBot(_0x20af52){const _0x21e83a=_0xa4efec;if(!_0x20af52)return null;if(typeof _0x20af52[_0x21e83a(0x180)+'e']==='function')return async(_0x563c73,_0x1f573c)=>_0x20af52[_0x21e83a(0x180)+'e'](_0x563c73,_0x1f573c);if(_0x20af52['sock']&&typeof _0x20af52[_0x21e83a(0x1e3)][_0x21e83a(0x180)+'e']===_0x21e83a(0x217))return async(_0x5ed60d,_0x34df38)=>_0x20af52[_0x21e83a(0x1e3)]['sendMessag'+'e'](_0x5ed60d,_0x34df38);return null;}function setupSendApi(_0x1d4707){const _0x5940b1=_0xa4efec;botRef=_0x1d4707,sendApi=tryBuildSendApiFromBot(botRef),info('['+name+(_0x5940b1(0x1ea)+'\x20')+(sendApi?'available':_0x5940b1(0x11f)+_0x5940b1(0x18e)));}async function safeSend(_0x22c0c4,_0x3175ae,_0x17c571=[]){const _0x330bc8=_0xa4efec;try{if(!_0x22c0c4||!_0x3175ae)return![];if(Array[_0x330bc8(0x123)](_0x17c571)&&_0x17c571[_0x330bc8(0x275)])_0x3175ae['mentions']=_0x17c571;if(sendApi)return await sendApi(_0x22c0c4,_0x3175ae),!![];if(botRef&&typeof botRef[_0x330bc8(0x180)+'e']===_0x330bc8(0x217))return await botRef[_0x330bc8(0x180)+'e'](_0x22c0c4,_0x3175ae),!![];if(botRef&&botRef[_0x330bc8(0x1e3)]&&typeof botRef[_0x330bc8(0x1e3)][_0x330bc8(0x180)+'e']===_0x330bc8(0x217))return await botRef[_0x330bc8(0x1e3)][_0x330bc8(0x180)+'e'](_0x22c0c4,_0x3175ae),!![];return warn('['+name+(_0x330bc8(0x145)+'surface\x20av'+_0x330bc8(0x25e))),![];}catch(_0x5e8a0e){return warn('['+name+(_0x330bc8(0x247)+_0x330bc8(0x26f))+(_0x5e8a0e?.['message']||_0x5e8a0e)),![];}}async function composeAliveMessage(_0x50eac7){const _0x1270f7=_0xa4efec;try{const _0x355b75=await pickNextQuoteForGroup(_0x50eac7),_0x49d543=_0x1270f7(0x258)+_0x1270f7(0x251),_0x5d0a4c=[];_0x355b75&&(_0x5d0a4c[_0x1270f7(0x1a5)](_0x49d543),_0x5d0a4c[_0x1270f7(0x1a5)](_0x1270f7(0x169)+_0x1270f7(0x1a9)),_0x5d0a4c[_0x1270f7(0x1a5)](String(_0x355b75)['trim']()),_0x5d0a4c[_0x1270f7(0x1a5)](_0x49d543));const _0x27f663=await db[_0x1270f7(0x259)](_0x1270f7(0x286)+_0x1270f7(0x10c)+_0x1270f7(0x17d)+_0x1270f7(0x202)+_0x1270f7(0x1bb)+_0x1270f7(0x146),[name])[_0x1270f7(0x213)](()=>null),_0x12f90b=_0x27f663&&Number(_0x27f663[_0x1270f7(0x1f1)])?Number(_0x27f663[_0x1270f7(0x1f1)]):Math[_0x1270f7(0x14e)](moduleStartTs/(0x12f6+0x1e9d+-0x2dab)),_0x222313=Math[_0x1270f7(0x135)](0x12ef+-0x90b+-0x9e4,Math[_0x1270f7(0x14e)](Date[_0x1270f7(0x26d)]()/(-0xd5*-0x2+-0x2a1*0x1+0x4df))-_0x12f90b),_0x9ef457=formatUptimeFromSeconds(_0x222313);_0x5d0a4c[_0x1270f7(0x1a5)]('Uptime:\x20'+_0x9ef457),_0x5d0a4c[_0x1270f7(0x1a5)](_0x49d543),_0x5d0a4c[_0x1270f7(0x1a5)]('');const _0x100711=await db[_0x1270f7(0x259)](_0x1270f7(0x243)+_0x1270f7(0x256)+ALIVE_TABLE+(_0x1270f7(0xfc)+_0x1270f7(0x115)),[_0x50eac7]);if(_0x100711&&_0x100711[_0x1270f7(0x157)])_0x5d0a4c['push'](String(_0x100711[_0x1270f7(0x157)])[_0x1270f7(0x234)]());return _0x5d0a4c['join']('\x0a');}catch(_0x1d875e){return warn('['+name+(_0x1270f7(0x1c5)+_0x1270f7(0x1bc)+_0x1270f7(0x25b))+(_0x1d875e?.[_0x1270f7(0x157)]||_0x1d875e)),'Alive';}}function formatUptimeFromSeconds(_0x381c89){const _0x2a183c=_0xa4efec,_0x287e=Math[_0x2a183c(0x14e)](_0x381c89/((-0x35*-0x71+-0x565+-0x11e8)*(0x2*-0x595+0x16fd+0x23d))),_0x5c7285=Math['floor'](_0x381c89%((-0x5*-0x6bb+-0x3*0x9f5+-0x3b0)*(-0x157c+-0x14bd+0x3849))/(-0x1*-0x152+-0x79*-0x47+-0x49*0x49)),_0x53a6c8=Math[_0x2a183c(0x14e)](_0x381c89%(-0x1692+-0x7a*0x16+0x146*0x25)/(-0x1bc3+-0x349*-0x2+0x156d)),_0x40ed22=[];if(_0x287e)_0x40ed22[_0x2a183c(0x1a5)](_0x287e+_0x2a183c(0x23a)+(_0x287e===-0x5f+-0x78d*0x5+0x2621*0x1?'':'s'));if(_0x5c7285)_0x40ed22[_0x2a183c(0x1a5)](_0x5c7285+_0x2a183c(0x12b)+(_0x5c7285===0xf*-0xa7+-0x19f*-0x3+-0x1*-0x4ed?'':'s'));if(_0x53a6c8||_0x40ed22[_0x2a183c(0x275)]===0x186a+0x1a1*0xb+-0x2a55)_0x40ed22['push'](_0x53a6c8+_0x2a183c(0x12e)+(_0x53a6c8===-0x19ad+-0x17*0x3f+0x71*0x47?'':'s'));return _0x40ed22[_0x2a183c(0x13f)]('\x20');}function buildExternalAdReply(_0x51b84c,_0x2dac46=''){const _0x54efae=_0xa4efec,_0xcc366=cardImages[Math['floor'](Math['random']()*cardImages[_0x54efae(0x275)])],_0x4c5613=_0x54efae(0x17a)+'live',_0x2abc88=(''+(_0x51b84c||''))[_0x54efae(0x234)]()||'Group',_0x6b55ad={'title':_0x4c5613,'body':_0x2abc88,'thumbnailUrl':_0xcc366,'mediaType':0x1,'renderLargerThumbnail':!![]};return _0x6b55ad;}async function sendAliveToChat(_0x1fc827,_0x178d1a){const _0x771f89=_0xa4efec;try{if(!_0x1fc827)return![];let _0x5a3b55='';try{if(String(_0x1fc827)[_0x771f89(0x191)]('@g.us')){const _0xac7768=await(botRef?.[_0x771f89(0x1e3)]||botRef)['groupMetad'+_0x771f89(0x207)](_0x1fc827)[_0x771f89(0x213)](()=>null);_0x5a3b55=_0xac7768?.[_0x771f89(0x12f)]||'';}}catch(_0x247ec2){_0x5a3b55='';}const _0x2654ad=buildExternalAdReply(_0x5a3b55),_0x56a415={'text':_0x178d1a,'contextInfo':{'forwardingScore':0x3e7,'isForwarded':![],'externalAdReply':_0x2654ad}};return await safeSend(_0x1fc827,_0x56a415);}catch(_0x504f7b){return warn('['+name+(_0x771f89(0x1f6)+_0x771f89(0x1ac)+_0x771f89(0x19d))+(_0x504f7b?.[_0x771f89(0x157)]||_0x504f7b)),![];}}function splitRestForGp(_0x5a6efc){const _0x48df01=_0xa4efec;if(!_0x5a6efc)return{'left':'','gp':null};const _0x60d8dc=_0x5a6efc['match'](/\bgp[:\s]+(\S+)/i);if(_0x60d8dc){const _0x84073d=_0x5a6efc[_0x48df01(0x186)](-0x1*-0x2042+0x4ed+-0x39*0xa7,_0x60d8dc[_0x48df01(0x19b)])['trim'](),_0x1282a0=_0x60d8dc[-0x2f1+-0x1265*-0x1+0x5*-0x317][_0x48df01(0x234)]();return{'left':_0x84073d,'gp':_0x1282a0};}const _0x678828=_0x5a6efc[_0x48df01(0x250)](/\s+/)[_0x48df01(0x1f7)](Boolean);if(_0x678828[_0x48df01(0x275)]>0x1e71*-0x1+-0xb9e+0x2a10){const _0x5cb720=_0x678828[_0x678828[_0x48df01(0x275)]-(0x1*0x23c+0x1308+0x1*-0x1543)];if(_0x5cb720[_0x48df01(0x1e7)+'e']()===_0x48df01(0x236)||_0x5cb720[_0x48df01(0xe6)]('@'))return _0x678828[_0x48df01(0x1eb)](),{'left':_0x678828[_0x48df01(0x13f)]('\x20')[_0x48df01(0x234)](),'gp':_0x5cb720};}return{'left':_0x5a6efc[_0x48df01(0x234)](),'gp':null};}async function resolveDefaultGroupJids(_0x5497e5){const _0x4388c1=_0xa4efec;try{if(!_0x5497e5)return[];const _0x3ee42d=String(_0x5497e5)[_0x4388c1(0x250)]('@')[0x1fd6+-0x299+0x1f3*-0xf],_0x509d02=await getDefault(_0x3ee42d)[_0x4388c1(0x213)](()=>null);if(!_0x509d02)return[];const _0xa0ebfd=Array['isArray'](_0x509d02)?_0x509d02:[_0x509d02],_0x953853=new Set();for(const _0x370221 of _0xa0ebfd){if(!_0x370221)continue;try{const _0x43c564=await getConnection(_0x370221)[_0x4388c1(0x213)](()=>null);if(Array[_0x4388c1(0x123)](_0x43c564)){for(const _0x478dff of _0x43c564)if(_0x478dff)_0x953853[_0x4388c1(0x219)](String(_0x478dff));else{if(_0x43c564)_0x953853[_0x4388c1(0x219)](String(_0x43c564));}}}catch(_0x3e3164){warn('['+name+(_0x4388c1(0x1cb)+_0x4388c1(0x16f)+'efault\x20')+_0x370221+':\x20'+(_0x3e3164?.[_0x4388c1(0x157)]||_0x3e3164));}}return Array[_0x4388c1(0xe9)](_0x953853);}catch(_0x3e53a8){return warn('['+name+(']\x20resolveD'+_0x4388c1(0x1aa)+_0x4388c1(0x126)+_0x4388c1(0x14f))+(_0x3e53a8?.[_0x4388c1(0x157)]||_0x3e53a8)),[];}}async function findStoredMatchFromFindings(_0x5aa3f0=[]){const _0x28d509=_0xa4efec;try{const _0x5aa096=await listSudo();if(!Array[_0x28d509(0x123)](_0x5aa096)||_0x5aa096[_0x28d509(0x275)]===-0x22*0xce+0x8ff+0x61f*0x3)return null;const _0x1cd74f=new Set(_0x5aa096[_0x28d509(0x27d)](String));for(const _0x5410de of _0x5aa3f0||[]){if(!_0x5410de||typeof _0x5410de[_0x28d509(0x1b7)]!==_0x28d509(0x1ce))continue;const _0x52adea=normalizeToJid(_0x5410de[_0x28d509(0x1b7)]);if(_0x52adea&&_0x1cd74f[_0x28d509(0x238)](_0x52adea))return _0x52adea;if(_0x1cd74f['has'](_0x5410de[_0x28d509(0x1b7)]))return _0x5410de[_0x28d509(0x1b7)];const _0x57b4ad=String(_0x5410de[_0x28d509(0x1b7)])[_0x28d509(0x250)]('@')[-0x23e9+0x5*-0x2f6+0x32b7]['split'](':')[-0x26b*0x2+0x14e*0x2+-0x5*-0x72];if(_0x57b4ad)for(const _0x5cf651 of _0x5aa096){const _0x5a8f85=String(_0x5cf651)[_0x28d509(0x250)]('@')[-0x2584+0x833+0x1d51];if(_0x5a8f85&&_0x5a8f85===_0x57b4ad)return _0x5cf651;}}return null;}catch(_0x19370c){return warn('['+name+(_0x28d509(0x108)+_0x28d509(0x167)+'mFindings\x20'+_0x28d509(0x242))+(_0x19370c?.[_0x28d509(0x157)]||_0x19370c)),null;}}function _0x3012(){const _0x830684=['OFF','No\x20default','sendMessag',',\x20updated_',']\x20delalive','\x20for\x20',']\x20isadmin\x20','al_quotes','slice','EFAULT\x200\x0a\x20','alivedaily','2644572zmMhmq','used\x20!=\x200','toFormat',']\x20daily\x20sc','isInteger','ble','\x20);\x0a\x20\x20\x20\x20','luded.time','endsWith','om\x20file\x20in','d\x20for\x20','text','selectedBu','d|all>\x20inl','\x0a\x20<your\x20mu','\x20target(s)','Time\x20must\x20','\x22.\x20Use\x20gp:','index','?,\x20?,\x200)\x0a\x20','ror:\x20','match','\x20\x20\x20\x20\x20\x20\x20mes','gistration','message\x20fo','vedaily\x20on','e):\x0a','LT\x20\x27\x27,\x0a\x20\x20\x20','push','0\x0a\x20\x20\x20\x20\x20\x20);','t\x20FROM\x20','_jid\x20=\x20?','\x20THE\x20DAY\x0a','efaultGrou','\x20\x20\x20\x20\x20\x20quot','eToChat\x20er','ctReply','d)\x20DO\x20UPDA',']\x20hotReloa','d,\x20enabled','d,\x20message','2837317odQkKZ','r\x20this\x20gro','finalize','message\x20=\x20','updated_at','jid','listRespon','bled\x20INTEG','data','RE\x20module\x20','liveMessag','=\x20excluded','IGNORE\x20INT','ter)\x20<mess','\x20quotes\x20fr','e_rr_index','a\x20ensured','\x20group_jid','setZone',']\x20composeA','setalive\x20(','quote_rr_i','STS\x20','\x2708:00\x27,\x0a\x20','Daily\x20aliv',']\x20failed\x20r','\x0a\x20\x20\x20\x20','AULT\x200,\x0a\x20\x20','string','dated_at\x20=','wId','up.','PDATE\x20SET\x20','e:\x20','\x20HH:mm\x20|\x20a','gp:alias','isCommand','alias','alive','ed_at\x20INTE','ply\x20the\x20al','\x20at\x20','arse\x20faile','dated_at\x20I','Usage:\x20ali','ilyLastSen',']\x20getDaily','check\x20fail',']\x20cleanup\x20','sock','participan','getUniqueJ','LICT(group','toLowerCas','last_sent','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20',']\x20send\x20API','pop','\x20\x20\x20\x20\x20\x20\x20\x20up','\x20(group_ji','T\x20NULL\x20UNI','GlobalQuot','NTEGER\x20DEF','started_at','Global\x20quo','resolveNam','setalive','Could\x20not\x20',']\x20sendAliv','filter','talive\x20(pr','parse','\x20HH:mm\x20gp:','reated_by\x20','dia/alive','\x20SET\x20last_','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20c','onnection(','ed.quote_r','uptime\x20WHE',']\x20DB\x20init\x20','t_sent\x20INT','ON\x20CONFLIC','12134601OvpXsX','ata','3388MwVecc','alive_glob','excluded.m','CREMENT,\x0a\x20','videoMessa','ge>',',\x20last_sen','clear','roup.','rr_index)\x0a','te_rr_inde','catch','cluded.mes','dated_at','resolve\x20gp','function','\x20\x20);\x0a\x20\x20\x20\x20','add','ule,\x20start','on\x2007:30','conversati',']\x20pickNext',']\x20DB\x20schem','id\x20=\x20?','uires\x20bot\x20','No\x20quotes\x20','Daily\x20sett','IntoDB\x20err','up_jid\x20TEX','on\x2007:30\x20g','daily\x20tick','tiline:\x20se',']\x20loaded\x20','exec','fromMe','ved\x20alive\x20','\x20error:\x20','S\x20(?,\x200)','sed)\x20VALUE','buttonsRes','QuoteForGr',']\x20quotes\x20f','QUE,\x0a\x20\x20\x20\x20\x20','xtMessage','trim','PM\x20usage:\x20','all','prepare','has','T\x20DEFAULT\x20','\x20day','hema\x20faile','VALUES\x20(?,','an\x20send\x20mu','st_sent)\x20V',']\x20daily\x20ti','\x20(duplicat','ttonId','error:\x20','SELECT\x20mes','e\x20DISABLED','ive\x20failed','r:\x20',']\x20safeSend','include\x20gp','TIMEZONE_N','s).','object','O\x20module_u','l\x20->\x20faile','o\x20send\x20\x22al',']\x20daily\x20al','split','═════⊷','R\x20DEFAULT\x20',']\x20quotes\x20l','available.','Africa/Nai','sage\x20FROM\x20','day','⊷═════════','get','id)\x20DO\x20UPD','e\x20error:\x20','robi','ile\x20not\x20fo','ailable','p\x0aFor\x20seta','padStart','R\x20PRIMARY\x20','opped','ids','3110232rxHjOo',']\x20PM:\x20bot\x20','hasSame','T(group_ji','delalive','key','age>\x20gp:al','alive_quot',']\x20loadQuot','now','Usage:\x0a\x20se','\x20failed:\x20','tes\x20(sampl','replace','livedaily\x20','ck\x20error:\x20','24-hour).\x20','length','Deleted\x20sa','ive\x20sent\x20t','tct.com/me','fromSecond','\x20pm\x20failed','\x20ORDER\x20BY\x20','for\x20this\x20g','map','\x20to\x20','live\x20messa','KEY\x20AUTOIN','SELECT\x20gro','seMessage','IF\x20NOT\x20EXI',':<alias|ji','\x20TEXT\x20PRIM','SELECT\x20sta','ive\x20messag','includes','JID\x20not\x20av','Saved\x20aliv','from','x\x20FROM\x20','ive\x20all\x22.','te\x20TEXT\x20NO','cwd','=\x200\x20WHERE\x20',']\x20_dailyTi','Quotes\x20for','selectedRo','d\x20=\x200\x20ORDE','\x20gp:mygrou','T\x20NOT\x20NULL','https://i-','existsSync','UPDATE\x20','ponseMessa','enter)\x20<me',']\x20config\x20r','\x20(?,\x20?,\x20?)','\x20WHERE\x20gro','ULT\x200\x0a\x20\x20\x20\x20','all\x20or\x20a\x20g','Setting\x20er','sent\x20=\x20?\x20W','g\x20file\x20loa','singleSele','\x20default\x20c','\x20\x20\x20\x20\x20\x20\x20quo','d:\x20','roup\x20at\x20','talive\x20(en',']\x20findStor','ptime\x20(mod','\x20quote\x20FRO','T\x20enabled\x20','rted_at\x20FR','215bHxNeX','e,\x20last_se','lti-line\x20a','.enabled,\x20','remoteJid','\x0a\x20\x20\x20\x20\x20\x20CRE','\x20—\x20skippin','\x20\x20\x20ON\x20CONF','up_jid\x20=\x20?','alias,\x20gp:','\x20\x20\x20updated','id\x20LIMIT\x202','ted_at\x20=\x20e','test','ssage\x20=\x20ex','ll\x20|\x20alive','\x20\x20\x20used\x20IN','r\x20replies\x20','not-availa','enabled','quote\x20TEXT','Example:\x20a','isArray','\x20WHERE\x20use','\x20\x20\x20\x20\x20\x20\x20gro','pJids\x20fail','xcluded.up','at\x20','alias|gp:a','extendedTe','\x20hour','\x20for\x20this\x20','MIT\x201','\x20minute','subject','ings:\x0a','338DHKvDr','timezone=','imageMessa','time','max','.quotes.js','\x20WHERE\x20ena','ile\x20JSON\x20p','2635728dtQwDA','08:00','caption','EGER\x20DEFAU','oup\x20error:','es\x20ignored','join','roup\x20JID.','34206tOnVvB','\x20\x20\x20\x20\x20creat','\x20to\x20send\x20t','ialize\x20req',']\x20no\x20send\x20','=\x20?','zed\x20v','readFile','id\x20LIMIT\x201','daily\x20off\x20',']\x20refreshC','instance','oad\x20error:','floor','ed:\x20','CT(group_j','esFromFile','\x20SET\x20used\x20','INSERT\x20INT','\x200,\x0a\x20\x20\x20\x20\x20\x20','LT\x200\x0a\x20\x20\x20\x20\x20','Sent\x20alive','message','run','or:\x20','dConfig\x20re','ndex','sage,\x20upda','@g.us','ATE\x20TABLE\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','e\x20message\x20','delete','fatal:\x20','lti-line:\x20','quote','DELETE\x20FRO','=\x201\x20WHERE\x20','edMatchFro','SELECT\x20id,','🌍\x20QUOTE\x20OF','time\x20=\x20exc','nt\x20FROM\x20','HERE\x20group','le:\x0a','_jid)\x20DO\x20U','esolving\x20d','e\x20ENABLED\x20','ns\x20found\x20t','alive_dail','Please\x20sup',']\x20onMessag','at,\x20quote_','listquote','Deleted\x20al','be\x20HH:mm\x20(',':\x20\x22','✅\x20Bot\x20is\x20A','\x20\x20\x20\x20\x20ON\x20CO','off','OM\x20module_'];_0x3012=function(){return _0x830684;};return _0x3012();}let schedulerHandle=null,schedulerRunning=![];function startDailyScheduler(){const _0x50e435=_0xa4efec;stopDailyScheduler();const _0x2ca628=-0xa3c3*-0x1+0x1705a+0x51*-0x3ad-Date[_0x50e435(0x26d)]()%(0x15e26*-0x1+-0xf996+0x3421c);setTimeout(()=>{const _0x25a115=_0x50e435;_dailyTick()['catch'](_0xf67487=>warn('['+name+(']\x20initial\x20'+_0x25a115(0x226)+_0x25a115(0x22c))+(_0xf67487?.[_0x25a115(0x157)]||_0xf67487))),schedulerHandle=setInterval(()=>_dailyTick()[_0x25a115(0x213)](_0x195fc3=>warn('['+name+(_0x25a115(0x23f)+_0x25a115(0x273))+(_0x195fc3?.[_0x25a115(0x157)]||_0x195fc3))),(0xd75*-0x1+0x10e6+-0x335)*(0x240a+0x1*0x6b+0xd*-0x281)),info('['+name+(_0x25a115(0x18c)+'heduler\x20st'+'arted\x20(ali'+'gned)'));},_0x2ca628);}function stopDailyScheduler(){const _0x145292=_0xa4efec;schedulerHandle&&(clearInterval(schedulerHandle),schedulerHandle=null,info('['+name+(_0x145292(0x18c)+'heduler\x20st'+_0x145292(0x262))));}async function _dailyTick(){const _0x5d597e=_0xa4efec;if(schedulerRunning)return;schedulerRunning=!![];try{const _0x321ed5=await db['all'](_0x5d597e(0x281)+'up_jid,\x20en'+'abled,\x20tim'+_0x5d597e(0x10e)+_0x5d597e(0x16b)+DAILY_TABLE+(_0x5d597e(0x137)+'bled\x20=\x201'));if(!_0x321ed5||!_0x321ed5[_0x5d597e(0x275)])return;for(const _0x30341b of _0x321ed5){try{const _0x316604=_0x30341b['group_jid'],_0x3ec44e=_0x30341b['time']||_0x5d597e(0x13a),_0x13a54e=DEFAULT_TIMEZONE,_0x52695d=DateTime[_0x5d597e(0x26d)]()[_0x5d597e(0x1c4)](_0x13a54e),_0x539689=_0x52695d[_0x5d597e(0x18b)]('HH:mm');if(_0x539689!==_0x3ec44e)continue;const _0x104940=Number(_0x30341b[_0x5d597e(0x1e8)]||0x969*-0x2+-0x309+-0x45f*-0x5);if(_0x104940){const _0xb17fdd=DateTime[_0x5d597e(0x279)+'s'](_0x104940)['setZone'](_0x13a54e);if(_0xb17fdd[_0x5d597e(0x266)](_0x52695d,_0x5d597e(0x257)))continue;}const _0x49fe3c=await composeAliveMessage(_0x316604),_0x2fefe5=await sendAliveToChat(_0x316604,_0x49fe3c);_0x2fefe5?(await updateDailyLastSent(_0x316604,Math[_0x5d597e(0x14e)](Date[_0x5d597e(0x26d)]()/(-0x705*-0x1+-0x2b9*0x4+0x7c7))),info('['+name+(_0x5d597e(0x24f)+_0x5d597e(0x277)+'o\x20')+_0x316604+_0x5d597e(0x1db)+_0x3ec44e)):warn('['+name+(']\x20daily\x20al'+_0x5d597e(0x245)+_0x5d597e(0x143)+'o\x20')+_0x316604);}catch(_0x136b3f){warn('['+name+(']\x20dailyTic'+'k\x20per-row\x20'+_0x5d597e(0x242))+(_0x136b3f?.['message']||_0x136b3f));}}}catch(_0x414bd6){warn('['+name+(_0x5d597e(0xef)+'ck\x20error:\x20')+(_0x414bd6?.['message']||_0x414bd6));}finally{schedulerRunning=![];}}function extractTextFromMessage(_0x3d7b86){const _0x39a4cb=_0xa4efec;if(!_0x3d7b86||!_0x3d7b86[_0x39a4cb(0x157)])return'';const _0x353d8f=_0x3d7b86[_0x39a4cb(0x157)];if(_0x353d8f[_0x39a4cb(0x21c)+'on'])return _0x353d8f[_0x39a4cb(0x21c)+'on'];if(_0x353d8f[_0x39a4cb(0x12a)+_0x39a4cb(0x233)]?.[_0x39a4cb(0x194)])return _0x353d8f[_0x39a4cb(0x12a)+_0x39a4cb(0x233)][_0x39a4cb(0x194)];if(_0x353d8f[_0x39a4cb(0x133)+'ge']?.[_0x39a4cb(0x13b)])return _0x353d8f['imageMessa'+'ge']['caption'];if(_0x353d8f[_0x39a4cb(0x20c)+'ge']?.[_0x39a4cb(0x13b)])return _0x353d8f[_0x39a4cb(0x20c)+'ge']['caption'];if(_0x353d8f[_0x39a4cb(0x22f)+_0x39a4cb(0xf8)+'ge']?.[_0x39a4cb(0x195)+_0x39a4cb(0x241)])return _0x353d8f[_0x39a4cb(0x22f)+'ponseMessa'+'ge'][_0x39a4cb(0x195)+'ttonId'];if(_0x353d8f[_0x39a4cb(0x1b8)+'seMessage']?.[_0x39a4cb(0x102)+'ctReply']?.['selectedRo'+'wId'])return _0x353d8f[_0x39a4cb(0x1b8)+_0x39a4cb(0x282)][_0x39a4cb(0x102)+_0x39a4cb(0x1ad)]?.[_0x39a4cb(0xf1)+_0x39a4cb(0x1d0)];return'';}function detectCommandName(_0x19ad9e){const _0x353ecc=_0xa4efec;if(!_0x19ad9e)return'';return _0x19ad9e[_0x353ecc(0x234)]()[_0x353ecc(0x250)](/\s+/)[0x1983+-0x2230+0x1*0x8ad]['toLowerCas'+'e']();}export async function initialize(_0x125108){const _0x36f4c1=_0xa4efec;if(!_0x125108)throw new Error('alive.init'+_0x36f4c1(0x144)+_0x36f4c1(0x220)+_0x36f4c1(0x14c));botRef=_0x125108,setupSendApi(botRef),moduleStartTs=Date[_0x36f4c1(0x26d)](),await ensureSchema()[_0x36f4c1(0x213)](_0x42d476=>{const _0x303a7b=_0x36f4c1;error(_0x42d476,'['+name+(_0x303a7b(0x203)+_0x303a7b(0x162))+(_0x42d476?.[_0x303a7b(0x157)]||_0x42d476));throw _0x42d476;}),await loadQuotesFromFileIntoDB()[_0x36f4c1(0x213)](_0x42663b=>warn('['+name+(_0x36f4c1(0x253)+_0x36f4c1(0x14d)+'\x20')+(_0x42663b?.['message']||_0x42663b)));try{const _0x18499f=await db['get'](_0x36f4c1(0x286)+'rted_at\x20FR'+_0x36f4c1(0x17d)+'uptime\x20WHE'+_0x36f4c1(0x1bb)+_0x36f4c1(0x146),[name]);if(!_0x18499f){const _0x444e2b=Math[_0x36f4c1(0x14e)](Date[_0x36f4c1(0x26d)]()/(-0x70*-0x38+-0x43b*0x1+0x105d*-0x1));await db[_0x36f4c1(0x158)](_0x36f4c1(0x153)+_0x36f4c1(0x24c)+_0x36f4c1(0x109)+_0x36f4c1(0x21a)+'ed_at)\x20VAL'+'UES\x20(?,\x20?)',[name,_0x444e2b]);}}catch(_0x5ed3a6){}startDailyScheduler(),info('['+name+(']\x20initiali'+_0x36f4c1(0x147))+version);}export async function onMessage(_0x1546b0){const _0x46714f=_0xa4efec;try{if(!_0x1546b0||!_0x1546b0[_0x46714f(0x269)]||!_0x1546b0[_0x46714f(0x157)])return;const _0x5f29b3=String(_0x1546b0[_0x46714f(0x269)][_0x46714f(0x111)]||'')+'::'+String(_0x1546b0[_0x46714f(0x269)]['id']||_0x1546b0[_0x46714f(0x269)]['participan'+'t']||'');if(isProcessed(_0x5f29b3))return;markProcessed(_0x5f29b3);const _0x27c13b=String(extractTextFromMessage(_0x1546b0)||'');if(!_0x27c13b[_0x46714f(0x234)]())return;let _0x647c14='',_0x3d9efb=![];if(_0x1546b0[_0x46714f(0x1d6)]){const _0x29b248=(_0x27c13b['trim']()[_0x46714f(0x250)](/\s+/)[-0x1*-0x34+0x2*0x10e7+-0x2202]||'')['toLowerCas'+'e']();commands[_0x46714f(0xe6)](_0x29b248)&&(_0x647c14=_0x29b248,_0x3d9efb=!![]);}else{const _0x2fab6c=(_0x27c13b[_0x46714f(0x250)](/\r?\n/)[-0x1462+0x4a3*-0x5+0x13*0x24b]||'')[_0x46714f(0x234)](),_0x510775=(_0x2fab6c[_0x46714f(0x250)](/\s+/)[-0xb5f*0x1+-0x1*0x21cf+0x2d2e]||'')[_0x46714f(0x1e7)+'e']();commands[_0x46714f(0xe6)](_0x510775)&&(_0x647c14=_0x510775,_0x3d9efb=!![]);}if(!_0x3d9efb)return;const _0x2e5a63=_0x1546b0['key'][_0x46714f(0x111)],_0x267ff9=typeof _0x2e5a63===_0x46714f(0x1ce)&&_0x2e5a63[_0x46714f(0x191)](_0x46714f(0x15d));if(_0x267ff9){let _0x10249b=![];try{_0x10249b=await isadmin(botRef,_0x1546b0);}catch(_0x50c7fe){warn('['+name+(_0x46714f(0x184)+_0x46714f(0x1e1)+'ed')),_0x10249b=![];}if(!_0x10249b)return;const _0xd774f5=_0x1546b0[_0x46714f(0x269)][_0x46714f(0x1e4)+'t']||_0x1546b0[_0x46714f(0x269)][_0x46714f(0xe9)]||_0x1546b0['key'][_0x46714f(0x111)]||'',_0x9748cb=_0x27c13b[_0x46714f(0x250)](/\r?\n/)[0x123b*0x2+-0xc6+-0x23b0*0x1]||'',_0x5be295=_0x9748cb[_0x46714f(0x234)]()['split'](/\s+/)[_0x46714f(0x1f7)](Boolean),_0x5f5297=(_0x5be295[0x2bf*0x7+-0xc2f+0x709*-0x1]||'')[_0x46714f(0x1e7)+'e']();if(_0x647c14===_0x46714f(0x1d8)){if(_0x5f5297===_0x46714f(0x236)){const _0x303058=(_0xd774f5||'')[_0x46714f(0x250)]('@')[0x1829*-0x1+0x162e*-0x1+0x2e57],_0x5d758a=await resolveDefaultGroupJids(_0x303058);if(!_0x5d758a||_0x5d758a['length']===0x1bd*-0x4+0x24c9+-0x1dd5){await safeSend(_0x2e5a63,{'text':_0x46714f(0x17f)+'\x20connectio'+_0x46714f(0x171)+_0x46714f(0x24e)+_0x46714f(0xeb)});return;}let _0x556e5c=0x2365+-0xecf+-0x1496;for(const _0x5b8380 of _0x5d758a){try{const _0x364b9e=await composeAliveMessage(_0x5b8380);await sendAliveToChat(_0x5b8380,_0x364b9e),_0x556e5c++;}catch(_0x43f29c){warn('['+name+(']\x20alive\x20al'+_0x46714f(0x24d)+_0x46714f(0x193))+_0x5b8380+':\x20'+(_0x43f29c?.['message']||_0x43f29c));}}await safeSend(_0x2e5a63,{'text':_0x46714f(0x156)+_0x46714f(0x27e)+_0x556e5c+(_0x46714f(0x103)+_0x46714f(0x200)+_0x46714f(0x24a))});return;}const _0x4ef090=await composeAliveMessage(_0x2e5a63);await sendAliveToChat(_0x2e5a63,_0x4ef090);return;}if(_0x647c14===_0x46714f(0x1f4)){const _0x4257ab=_0x27c13b[_0x46714f(0x250)](/\r?\n/),_0x350fa1=(_0x4257ab[-0x1*-0xca+-0x12e*-0xd+0x2b0*-0x6]||'')['trim'](),_0x13d3f5=_0x350fa1['replace'](new RegExp('^'+_0x647c14+'\x5cb','i'),'')[_0x46714f(0x234)](),_0x1324a7=[];if(_0x13d3f5)_0x1324a7[_0x46714f(0x1a5)](_0x13d3f5);_0x1324a7[_0x46714f(0x1a5)](..._0x4257ab[_0x46714f(0x186)](-0xe76+-0x2dc+-0x5*-0x377));const _0x503dd0=_0x1324a7[_0x46714f(0x13f)]('\x0a')[_0x46714f(0x234)]();if(!_0x503dd0){await safeSend(_0x2e5a63,{'text':_0x46714f(0x26e)+_0x46714f(0x1f8)+'ess\x20enter)'+_0x46714f(0x197)+_0x46714f(0x10f)+_0x46714f(0x27f)+_0x46714f(0x20d)});return;}const _0x41cbb6=await db[_0x46714f(0x158)]('INSERT\x20INT'+'O\x20'+ALIVE_TABLE+('\x20(group_ji'+_0x46714f(0x1b1)+_0x46714f(0x181)+'at)\x20VALUES'+_0x46714f(0xfb)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ON\x20CONFLI'+_0x46714f(0x150)+_0x46714f(0x25a)+'ATE\x20SET\x20me'+_0x46714f(0x11b)+_0x46714f(0x214)+_0x46714f(0x15c)+_0x46714f(0x119)+_0x46714f(0x127)+_0x46714f(0x215)),[_0x2e5a63,_0x503dd0,Math['floor'](Date[_0x46714f(0x26d)]()/(-0x894+0xf85*0x1+-0x309))]);await safeSend(_0x2e5a63,{'text':'Saved\x20aliv'+_0x46714f(0x160)+_0x46714f(0x27c)+_0x46714f(0x210)});return;}if(_0x647c14==='delalive'){const _0x57ce71=await db['run'](_0x46714f(0x165)+'M\x20'+ALIVE_TABLE+(_0x46714f(0xfc)+_0x46714f(0x115)),[_0x2e5a63]);await safeSend(_0x2e5a63,{'text':_0x46714f(0x276)+_0x46714f(0x22b)+_0x46714f(0x1a1)+_0x46714f(0x1b3)+_0x46714f(0x1d1)});return;}if(_0x647c14==='listquote'){const _0x325c01=await db[_0x46714f(0x236)](_0x46714f(0x168)+_0x46714f(0x10a)+'M\x20'+ALIVE_QUOTES_TABLE+('\x20WHERE\x20gro'+_0x46714f(0x115)+_0x46714f(0x27b)+'id'),[_0x2e5a63]);if(_0x325c01&&_0x325c01[_0x46714f(0x275)]){let _0xb455c4=_0x46714f(0xf0)+'\x20'+_0x2e5a63+':\x0a';for(const _0x124e13 of _0x325c01){_0xb455c4+=_0x124e13['id']+'.\x20'+_0x124e13[_0x46714f(0x164)]+'\x0a',_0xb455c4[_0x46714f(0x275)]>0x17b2+0x2*-0xf4f+0xb9c*0x1&&(await safeSend(_0x2e5a63,{'text':_0xb455c4}),_0xb455c4='');}if(_0xb455c4[_0x46714f(0x234)]())await safeSend(_0x2e5a63,{'text':_0xb455c4});return;}const _0x4a7bff=await db['all'](_0x46714f(0x168)+'\x20quote\x20FRO'+'M\x20'+GLOBAL_QUOTES_TABLE+(_0x46714f(0x27b)+_0x46714f(0x149)+'0'));if(!_0x4a7bff||!_0x4a7bff[_0x46714f(0x275)]){await safeSend(_0x2e5a63,{'text':_0x46714f(0x221)+'available.'});return;}let _0x2c7565=_0x46714f(0x1f2)+_0x46714f(0x270)+_0x46714f(0x1a3);for(const _0x59a173 of _0x4a7bff)_0x2c7565+='-\x20'+_0x59a173[_0x46714f(0x164)]+'\x0a';await safeSend(_0x2e5a63,{'text':_0x2c7565});return;}if(_0x647c14==='alivedaily'){const _0x2d9e67=_0x5f5297||'';if(!_0x2d9e67){const _0x1e62f2=await getDailySetting(_0x2e5a63);await safeSend(_0x2e5a63,{'text':_0x46714f(0x1ca)+_0x46714f(0x1d3)+(_0x1e62f2[_0x46714f(0x120)]?'ON':'OFF')+_0x46714f(0x1db)+_0x1e62f2[_0x46714f(0x134)]});return;}if(_0x2d9e67==='on'){const _0x5d1012=(_0x5be295[-0x19ff+0xec9+-0x4*-0x2ce]||_0x46714f(0x13a))[_0x46714f(0x234)]();if(!/^\d{1,2}:\d{2}$/[_0x46714f(0x11a)](_0x5d1012)){await safeSend(_0x2e5a63,{'text':_0x46714f(0x199)+'be\x20HH:mm\x20('+_0x46714f(0x274)+_0x46714f(0x122)+_0x46714f(0x272)+_0x46714f(0x21b)});return;}const _0x570462=_0x5d1012[_0x46714f(0x250)](':')[-0x245b+-0x26c8*-0x1+-0x26d][_0x46714f(0x260)](-0xd58*-0x2+-0x2030+0x582,'0'),_0x5bb196=_0x5d1012['split'](':')[0x1e6c+0xf0f+-0x2d7a][_0x46714f(0x260)](0x1*0x12fb+-0x367+-0xf92,'0'),_0x1bbf16=_0x570462+':'+_0x5bb196;await setDailySetting(_0x2e5a63,!![],_0x1bbf16),await safeSend(_0x2e5a63,{'text':_0x46714f(0x1ca)+_0x46714f(0x170)+_0x46714f(0x27c)+_0x46714f(0x106)+_0x1bbf16});return;}if(_0x2d9e67===_0x46714f(0x17c)){await setDailySetting(_0x2e5a63,![],null),await safeSend(_0x2e5a63,{'text':_0x46714f(0x1ca)+_0x46714f(0x244)+_0x46714f(0x12c)+'group.'});return;}await safeSend(_0x2e5a63,{'text':_0x46714f(0x1de)+_0x46714f(0x1a2)+_0x46714f(0x1d4)+_0x46714f(0x272)+'off'});return;}return;}const _0x2a9ccc=Boolean(_0x1546b0[_0x46714f(0x269)][_0x46714f(0x22a)]);let _0x41ade5=null;if(_0x2a9ccc){const _0x23cc38=getBotJid();if(!_0x23cc38){warn('['+name+(_0x46714f(0x265)+_0x46714f(0xe7)+'ailable\x20fo'+_0x46714f(0x11e)+'(fromMe)'));return;}_0x41ade5=_0x23cc38;}else{let _0x56ebf1=![];try{_0x56ebf1=await isSudo(botRef,_0x1546b0);}catch(_0xb50ad6){_0x56ebf1=![];}if(!_0x56ebf1)return;const _0x4863d0=userJidFromCtx(_0x1546b0)||{'findings':[]},_0x5e9642=await findStoredMatchFromFindings(_0x4863d0['findings']||[]);if(!_0x5e9642)return;_0x41ade5=_0x5e9642;}const {firstLine:_0x299033,restText:_0x4a23bd}=((()=>{const _0x51cf15=_0x46714f,_0x507ed5=_0x27c13b[_0x51cf15(0x250)](/\r?\n/);return{'firstLine':_0x507ed5[0x131d*-0x1+-0x738+-0x8c7*-0x3]||'','restText':_0x507ed5[_0x51cf15(0x186)](-0x2a5+0x1be5*0x1+-0x193f)[_0x51cf15(0x13f)]('\x0a')};})()),_0x2dd137=(_0x299033||'')[_0x46714f(0x234)]()[_0x46714f(0x250)](/\s+/)[_0x46714f(0x1f7)](Boolean),_0x42f186=(_0x2dd137[0x98e+-0x1dac+0x1*0x141f]||'')['toLowerCas'+'e'](),_0x3c54a0=_0x647c14,_0xb5b995=_0x4a23bd&&_0x4a23bd[_0x46714f(0x275)]?_0x4a23bd+'\x0a'+_0x299033:_0x299033,_0xa619fc=_0xb5b995[_0x46714f(0x19e)](/\bgp[:\s]+(\S+)/i),_0x49646f=_0xa619fc?_0xa619fc[-0x19b6+-0x1fbe+0x3975][_0x46714f(0x234)]():null;async function _0x2c9fb5(_0x1aa24e){const _0x317bd3=_0x46714f;if(!_0x1aa24e)return[];if(_0x1aa24e[_0x317bd3(0x1e7)+'e']()==='all')return await _0x38a5d7[_0x317bd3(0x1e5)+_0x317bd3(0x263)]();const _0x5c64f3=await _0x38a5d7[_0x317bd3(0x1f3)+'e'](_0x1aa24e);if(_0x5c64f3)return[_0x5c64f3];if(_0x1aa24e[_0x317bd3(0xe6)]('@'))return[_0x38a5d7['normalizeT'+'oUserJid'](_0x1aa24e)];return[];}if(_0x3c54a0===_0x46714f(0x176)){const _0x316cf9=await db[_0x46714f(0x236)](_0x46714f(0x168)+'\x20quote\x20FRO'+'M\x20'+GLOBAL_QUOTES_TABLE+('\x20ORDER\x20BY\x20'+_0x46714f(0x118)+'0'));if(!_0x316cf9||!_0x316cf9[_0x46714f(0x275)]){await safeSend(_0x41ade5,{'text':_0x46714f(0x221)+_0x46714f(0x254)});return;}let _0x21f4ce='Global\x20quo'+_0x46714f(0x270)+_0x46714f(0x1a3);for(const _0x535078 of _0x316cf9)_0x21f4ce+='-\x20'+_0x535078[_0x46714f(0x164)]+'\x0a';await safeSend(_0x41ade5,{'text':_0x21f4ce});return;}const _0x3557b7=[_0x46714f(0x1d8),_0x46714f(0x1f4),_0x46714f(0x268),_0x46714f(0x188)];if(_0x3557b7[_0x46714f(0xe6)](_0x3c54a0)&&!_0x49646f){await safeSend(_0x41ade5,{'text':_0x46714f(0x235)+_0x46714f(0x248)+_0x46714f(0x284)+_0x46714f(0x196)+'ine.\x20Examp'+_0x46714f(0x16d)+_0x3c54a0+(_0x46714f(0xf3)+_0x46714f(0x25f)+'live\x20you\x20c'+_0x46714f(0x23d)+_0x46714f(0x163)+_0x46714f(0x1c6)+_0x46714f(0xf9)+'ssage>\x20gp:'+_0x46714f(0x1d7))});return;}const _0x11eec5=_0x49646f?await _0x2c9fb5(_0x49646f):[];if(_0x3557b7['includes'](_0x3c54a0)&&(!_0x11eec5||_0x11eec5[_0x46714f(0x275)]===0xa4e*0x1+-0x1c24+0x11d6)){await safeSend(_0x41ade5,{'text':_0x46714f(0x1f5)+_0x46714f(0x216)+_0x46714f(0x179)+_0x49646f+(_0x46714f(0x19a)+_0x46714f(0x116)+_0x46714f(0xfe)+_0x46714f(0x140))});return;}if(_0x3c54a0===_0x46714f(0x1d8)){for(const _0x1cdde2 of _0x11eec5){const _0x5cafdd=await composeAliveMessage(_0x1cdde2);await sendAliveToChat(_0x1cdde2,_0x5cafdd);}await safeSend(_0x41ade5,{'text':_0x46714f(0x156)+_0x46714f(0x27e)+_0x11eec5[_0x46714f(0x275)]+(_0x46714f(0x198)+'.')});return;}if(_0x3c54a0===_0x46714f(0x1f4)){const _0x5a3089=_0x299033[_0x46714f(0x271)](new RegExp('^'+_0x3c54a0+'\x5cb','i'),'')['trim'](),_0x5db31a=[];if(_0x5a3089)_0x5db31a['push'](_0x5a3089);if(_0x4a23bd)_0x5db31a[_0x46714f(0x1a5)](_0x4a23bd);const _0x5d2bcc=_0x5db31a[_0x46714f(0x13f)]('\x0a')['replace'](/\bgp[:\s]+\S+/ig,'')['trim']();if(!_0x5d2bcc){await safeSend(_0x41ade5,{'text':_0x46714f(0x173)+_0x46714f(0x1da)+_0x46714f(0x287)+'e.\x20Use\x20mul'+_0x46714f(0x227)+_0x46714f(0x107)+_0x46714f(0x1bf)+_0x46714f(0x26a)+'ias'});return;}let _0xc45f02=-0x170+-0x78*-0x17+-0x958;for(const _0x41979a of _0x11eec5){try{await db[_0x46714f(0x158)](_0x46714f(0x153)+'O\x20'+ALIVE_TABLE+(_0x46714f(0x1ed)+'d,\x20message'+',\x20updated_'+'at)\x20VALUES'+_0x46714f(0xfb)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46714f(0x114)+_0x46714f(0x1e6)+_0x46714f(0x16e)+_0x46714f(0x1d2)+_0x46714f(0x1b5)+_0x46714f(0x20a)+'essage,\x20up'+_0x46714f(0x1cf)+'\x20excluded.'+_0x46714f(0x1b6)),[_0x41979a,_0x5d2bcc,Math['floor'](Date[_0x46714f(0x26d)]()/(0x1b23*-0x1+0x13*0x137+0x7f6))]),_0xc45f02++;}catch(_0x19cfe6){warn('['+name+(']\x20setalive'+_0x46714f(0x27a)+_0x46714f(0x183))+_0x41979a+':\x20'+(_0x19cfe6?.[_0x46714f(0x157)]||_0x19cfe6));}}await safeSend(_0x41ade5,{'text':_0x46714f(0xe8)+_0x46714f(0x160)+'for\x20'+_0xc45f02+('\x20target(s)'+'.')});return;}if(_0x3c54a0===_0x46714f(0x268)){let _0x577e60=-0x1077+-0x66b+0x16e2;for(const _0x50793b of _0x11eec5){try{const _0x41f7dd=await db['run'](_0x46714f(0x165)+'M\x20'+ALIVE_TABLE+(_0x46714f(0xfc)+_0x46714f(0x115)),[_0x50793b]);_0x577e60++;}catch(_0x313180){warn('['+name+(_0x46714f(0x182)+_0x46714f(0x27a)+'\x20for\x20')+_0x50793b+':\x20'+(_0x313180?.[_0x46714f(0x157)]||_0x313180));}}await safeSend(_0x41ade5,{'text':_0x46714f(0x177)+_0x46714f(0x287)+'e(s)\x20for\x20'+_0x577e60+(_0x46714f(0x198)+'.')});return;}if(_0x3c54a0===_0x46714f(0x188)){const _0x5b4b53=_0x42f186||'';if(!_0x5b4b53){let _0x39b01e=[];for(const _0xb98569 of _0x11eec5){const _0x3ab806=await getDailySetting(_0xb98569);_0x39b01e[_0x46714f(0x1a5)](_0xb98569+':\x20'+(_0x3ab806[_0x46714f(0x120)]?'ON':_0x46714f(0x17e))+_0x46714f(0x1db)+_0x3ab806[_0x46714f(0x134)]);}await safeSend(_0x41ade5,{'text':_0x46714f(0x222)+_0x46714f(0x130)+_0x39b01e[_0x46714f(0x13f)]('\x0a')});return;}if(_0x5b4b53==='on'){const _0x31050e=(_0x2dd137[-0x7*0x32+0xa*0x26f+0x2*-0xb7b]||_0x46714f(0x13a))['trim']();if(!/^\d{1,2}:\d{2}$/[_0x46714f(0x11a)](_0x31050e)){await safeSend(_0x41ade5,{'text':_0x46714f(0x199)+_0x46714f(0x178)+_0x46714f(0x274)+_0x46714f(0x122)+_0x46714f(0x272)+_0x46714f(0x225)+'p:alias'});return;}const _0x2bccc9=_0x31050e[_0x46714f(0x250)](':')[0x2*0xa8a+-0xf34+-0x5e0]['padStart'](-0xe2*0x16+0x2583+-0x607*0x3,'0'),_0x3de09e=_0x31050e[_0x46714f(0x250)](':')[-0x96c+-0x4*-0x45a+-0x7fb*0x1][_0x46714f(0x260)](-0x1c57+-0x12b4*-0x2+-0x90f,'0'),_0x2c7048=_0x2bccc9+':'+_0x3de09e;for(const _0x155941 of _0x11eec5)await setDailySetting(_0x155941,!![],_0x2c7048);await safeSend(_0x41ade5,{'text':'Daily\x20aliv'+_0x46714f(0x170)+_0x46714f(0x128)+_0x2c7048+_0x46714f(0x183)+_0x11eec5[_0x46714f(0x275)]+('\x20target(s)'+'.')});return;}if(_0x5b4b53===_0x46714f(0x17c)){for(const _0x49791c of _0x11eec5)await setDailySetting(_0x49791c,![],null);await safeSend(_0x41ade5,{'text':_0x46714f(0x1ca)+_0x46714f(0x244)+_0x46714f(0x183)+_0x11eec5[_0x46714f(0x275)]+('\x20target(s)'+'.')});return;}await safeSend(_0x41ade5,{'text':_0x46714f(0x1de)+'vedaily\x20on'+_0x46714f(0x1fa)+_0x46714f(0x129)+_0x46714f(0x11c)+_0x46714f(0x14a)+_0x46714f(0x1d5)});return;}}catch(_0x4e3f4b){error(_0x4e3f4b,'['+name+(_0x46714f(0x174)+_0x46714f(0x25b))+(_0x4e3f4b?.['message']||_0x4e3f4b));}}export async function cleanup(){const _0x32957d=_0xa4efec;try{stopDailyScheduler();for(const _0xa90e6e of processedMessageKeys['values']())try{clearTimeout(_0xa90e6e);}catch(_0x1df87c){}processedMessageKeys[_0x32957d(0x20f)]();}catch(_0x342c16){warn('['+name+(_0x32957d(0x1e2)+'error:\x20')+(_0x342c16?.[_0x32957d(0x157)]||_0x342c16));}finally{botRef=null,sendApi=null,info('['+name+(']\x20cleaned\x20'+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};