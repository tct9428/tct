const _0x137d0f=_0x38a3;(function(_0x1c9d13,_0x37f0ec){const _0x480da7=_0x38a3,_0x18f0d7=_0x1c9d13();while(!![]){try{const _0x3a5cc9=parseInt(_0x480da7(0x312))/(0x44b*0x3+0xdc9+-0x1aa9)+parseInt(_0x480da7(0x286))/(-0x2194+0x4*0xb1+0x1ed2)+-parseInt(_0x480da7(0x23a))/(-0x1*0x1ed4+0x1*0x329+0x49d*0x6)*(-parseInt(_0x480da7(0x242))/(0x1*0x16d+0x20fd+-0x2266))+parseInt(_0x480da7(0x2fe))/(-0x1d84+-0x1*-0x1ed+0x49a*0x6)+-parseInt(_0x480da7(0x2ec))/(-0xe6b*-0x1+0x6*0x178+-0x1735)+parseInt(_0x480da7(0x26e))/(-0x158e+-0x1d*-0xd8+0x2e3*-0x1)*(parseInt(_0x480da7(0x22f))/(-0x3*-0xc5f+0xc1*-0x5+-0x2150))+-parseInt(_0x480da7(0x2cd))/(-0xe3*0x7+-0x1*-0x6e7+-0x1*0xa9);if(_0x3a5cc9===_0x37f0ec)break;else _0x18f0d7['push'](_0x18f0d7['shift']());}catch(_0x528cd4){_0x18f0d7['push'](_0x18f0d7['shift']());}}}(_0xccfc,-0x1659d*0x5+0x1*-0x4a3c3+0x1050d0));import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import*as _0x5d4849 from'../utils/groups.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';export const name=_0x137d0f(0x1fd);export const version=_0x137d0f(0x318);export const priority=-0xb*-0x1be+-0x1*-0xc1f+-0x1eef;export const configKeys=[_0x137d0f(0x275)];export const commands=[_0x137d0f(0x21a)+'oup',_0x137d0f(0x249)+_0x137d0f(0x259),_0x137d0f(0x30f)+_0x137d0f(0x1f9),_0x137d0f(0x225)+'ongroups',_0x137d0f(0x21a)+_0x137d0f(0x27c),_0x137d0f(0x1fd),_0x137d0f(0x2eb)+_0x137d0f(0x207),_0x137d0f(0x268)+_0x137d0f(0x1ee)];let botRef=null;const groupQueues=new Map(),groupTimers=new Map();let CFG={'ENABLED':![],'DEBOUNCE_MS':0xbb8,'notify_group':null};const DEDUPE_TTL_MS=(-0x1bc5*0x1+0x1*0xf75+-0x2*-0x637)*(-0x7*-0x245+0x1cb0+-0x28ab*0x1),processedMessageKeys=new Map();function markProcessed(_0x1b27a1){const _0x1946e7=_0x137d0f;if(!_0x1b27a1)return;if(processedMessageKeys[_0x1946e7(0x1f7)](_0x1b27a1))try{clearTimeout(processedMessageKeys[_0x1946e7(0x293)](_0x1b27a1));}catch(_0x25a6f5){}const _0x1a90bb=setTimeout(()=>processedMessageKeys['delete'](_0x1b27a1),DEDUPE_TTL_MS);processedMessageKeys[_0x1946e7(0x2f8)](_0x1b27a1,_0x1a90bb);}function isProcessed(_0x4dad71){const _0x121d64=_0x137d0f;return _0x4dad71&&processedMessageKeys[_0x121d64(0x1f7)](_0x4dad71);}async function ensureSchema(){const _0x5f52ce=_0x137d0f;try{await db[_0x5f52ce(0x298)](_0x5f52ce(0x203)+'ATE\x20TABLE\x20'+'IF\x20NOT\x20EXI'+_0x5f52ce(0x200)+_0x5f52ce(0x2ac)+_0x5f52ce(0x1ef)+_0x5f52ce(0x2e5)+'PRIMARY\x20KE'+'Y,\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x5f52ce(0x2c7)+_0x5f52ce(0x25d)+_0x5f52ce(0x228)),await db[_0x5f52ce(0x298)]('\x0a\x20\x20\x20\x20\x20\x20CRE'+_0x5f52ce(0x239)+_0x5f52ce(0x230)+_0x5f52ce(0x200)+'ons_groups'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x5f52ce(0x30d)+_0x5f52ce(0x232)+_0x5f52ce(0x238)+_0x5f52ce(0x2f5)+'\x20'),info('['+name+(_0x5f52ce(0x27f)+'a\x20ensured'));}catch(_0x39a4c0){error(_0x39a4c0,'['+name+(_0x5f52ce(0x210)+_0x5f52ce(0x1e9)+'d:\x20')+(_0x39a4c0?.[_0x5f52ce(0x2c4)]||_0x39a4c0));throw _0x39a4c0;}}async function dbSetConfig(_0x1d6e23,_0x252deb){const _0x4a6515=_0x137d0f;try{return await db[_0x4a6515(0x222)](_0x4a6515(0x1f2)+'O\x20addition'+'s_config\x20('+_0x4a6515(0x2c1)+_0x4a6515(0x1f1)+'?,\x20?)\x20ON\x20C'+_0x4a6515(0x1fe)+_0x4a6515(0x23b)+_0x4a6515(0x236)+'ue\x20=\x20exclu'+'ded.value;',[_0x1d6e23,String(_0x252deb)]),!![];}catch(_0x4b4a46){return warn('['+name+(_0x4a6515(0x28e)+_0x4a6515(0x2fb)+':\x20')+(_0x4b4a46?.[_0x4a6515(0x2c4)]||_0x4b4a46)),![];}}function _0xccfc(){const _0x2d0868=['HERE\x20group','isInteger','77vVxImU','groupId',']\x20runtime\x20','values','Target\x20JID','r\x20confirma','notify','ADDITIONS','@g.us','value','em\x20cannot\x20','failed:\x20','untimeConf','trim','oups','RDER\x20BY\x20gr','mary\x20for\x20g',']\x20DB\x20schem','provided.','_jid|index','bot\x20instan','\x20requires\x20','nable.\x20Ple','author','725612JORlbL',']\x20gpUpdate','videoMessa','object',']\x20no\x20send\x20','off','✅\x20addition','slice',']\x20dbSetCon','d>\x20[<group','delete','up\x20failed:','DEBOUNCE_M','get','gistration','\x20must\x20incl','tadata','ing\x20`addit','exec','plied\x20(cha','notificati','ummary','⚠️\x20Not\x20foun','from','remoteJid','check\x20fail',']\x20hotReloa','pdate','ror:\x20','debounce_m','❌\x20Cannot\x20e','nged\x20keys:',']\x20dbIsGrou','Group\x20erro','key','initiator','\x20a\x20target.',']\x20initiali','ons_config','o\x20remove:\x0a','actor','g\x20summary\x20','for\x20group-','ed:\x20','Failed\x20to\x20',',\x20notify_g','xtMessage',')\x20ON\x20CONFL','push','buttonsRes','dConfig\x20re','replace','s\x20from\x20lis','ase\x20add\x20at','text','n\x20groups\x20c','\x0a\x0a📛\x20Group:','QUIRED)','function','key,\x20value','index','groupJid','message','surface\x20to','iongroup`\x20','\x20value\x20TEX','\x20added:\x0a','additions.','st.','ponseMessa','No\x20valid\x20i','8822394AKLnrk','group_jid','singleSele','isArray','itiongroup','jid|clear>','group_jid)','filter',']\x20refreshR','Usage:\x20del','conversati','s_groups\x20W','\x20\x20@',']\x20dbDelete','DELETE\x20FRO','roup\x20JIDs\x20','ase\x20set\x20a\x20','pMonitored','t\x20<target_','changes','admin','target\x20cle','first.',']\x20cleanup\x20','\x20key\x20TEXT\x20','..@g.us)','map','zed','ditions_co','listRespon','additionta','702234AKwyYk','add','Config\x20fai','SELECT\x20gro','subject','ndler\x20erro','clear','✅\x20Added:\x0a','ze\x20error:\x20','\x20\x20\x20\x20);\x0a\x20\x20\x20','action','(none\x20-\x20RE','set','QUIRED\x20TO\x20','itiontarge','fig\x20failed','onWhatsApp','_jid\x20=\x20?\x20L','2156925QuZIlg','lete.\x20Use\x20','t:\x20','\x20failed:\x20','⚠️\x20Skipped/','itions\x20sum','ed\x20managed','ts.update','oup','erForGroup','invoker','O\x20addition','✅\x20Removed:','groups\x20to\x20','extendedTe','\x20group_jid','M\x20addition','removeaddi','ENABLE)',',\x20debounce','314795RKJzBV','s_groups\x20O','endsWith','No\x20items\x20r','size','r\x20for\x20','1.4.0','isNaN','.]>\x0aUse\x20li','ts_added','s_groups\x20(','\x20listener\x20','hema\x20faile','notify_gro','No\x20valid\x20g','test','istener:\x20','atus','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','d\x20/\x20invali',')\x20VALUES\x20(','INSERT\x20INT','itions\x20ena','*Additions','rFallback\x20','split','has','sendMessag','tiongroup','y_group\x20ta','ue\x20FROM\x20ad','itions\x20on|','additions','ONFLICT(ke','on\x20without','STS\x20additi','Monitored\x20','catch','\x0a\x20\x20\x20\x20\x20\x20CRE','caption','monitor\x20us','\x20error','rget','Usage:\x20add','ared.\x20Note','ata','system@sys',']\x20dbRemove','oups\x20faile','dditions\x20s','\x20to\x20',']\x20ensureSc','`additiont','includes',']\x20sendApiO','tion\x20to\x20',']\x20isadmin\x20','length','group-part','IMIT\x201',']\x20dbAddGro','additiongr','participan','arget`\x20fir','on\x20target\x20','roup\x20','Notify\x20tar','id1>\x0a<jid2','o\x20register','run','wId','selectedBu','listadditi','getGroupMe','t.\x20Skippin','\x0a\x20\x20\x20\x20','target\x20fai','_ms=','[,index,..','\x20or\x20indice','\x20key\x20=\x20?\x20L','get:\x20*','8536JrsqES','IF\x20NOT\x20EXI','max','\x20TEXT\x20PRIM','ude\x20an\x20@\x20(','ENABLED','dConfig\x20ha','TE\x20SET\x20val','roups.','ARY\x20KEY\x0a\x20\x20','ATE\x20TABLE\x20','426051HjpYGR','y)\x20DO\x20UPDA','pop','Handler\x20er','surface\x20av','ary\x20failed','error:\x20','up_jid\x20FRO','8PxnwpG','d:\x20','toLowerCas','roup=','vname','jid','\x20->\x20target','deladditio','failed:\x0a','type','_jid\x20=\x20?','ctReply',']\x20flushAdd','ICT(group_','for\x20','selectedRo','enabled',':\x20The\x20syst','all','ttonId','e\x20error:\x20','name','target\x20set','ngroup','tadditiong','s_config\x20W','sock','T\x0a\x20\x20\x20\x20\x20\x20);','No\x20additio','seMessage',']\x20onMessag','JID\x20using\x20',']\x20Sent\x20add','true',']\x20flushGro','unshift',']\x20dbGetCon','join','additionst','be\x20turned\x20','\x20group\x20to\x20','r:\x20'];_0xccfc=function(){return _0x2d0868;};return _0xccfc();}async function dbGetConfig(_0x1eb7da){const _0x2ce390=_0x137d0f;try{const _0x6057a4=await db[_0x2ce390(0x293)]('SELECT\x20val'+_0x2ce390(0x1fb)+_0x2ce390(0x2e9)+'nfig\x20WHERE'+_0x2ce390(0x22d)+_0x2ce390(0x218),[_0x1eb7da]);return _0x6057a4?_0x6057a4[_0x2ce390(0x277)]:null;}catch(_0x27def2){return warn('['+name+(_0x2ce390(0x266)+_0x2ce390(0x2fb)+':\x20')+(_0x27def2?.[_0x2ce390(0x2c4)]||_0x27def2)),null;}}async function dbDeleteConfig(_0x142f96){const _0x4ca74f=_0x137d0f;try{return await db['run'](_0x4ca74f(0x2db)+_0x4ca74f(0x30e)+_0x4ca74f(0x25b)+'HERE\x20key\x20='+'\x20?',[_0x142f96]),!![];}catch(_0x276c66){return warn('['+name+(_0x4ca74f(0x2da)+_0x4ca74f(0x2ee)+'led:\x20')+(_0x276c66?.[_0x4ca74f(0x2c4)]||_0x276c66)),![];}}async function dbAddGroup(_0x469b3c){const _0xcf8a47=_0x137d0f;try{return await db[_0xcf8a47(0x222)](_0xcf8a47(0x1f2)+_0xcf8a47(0x309)+_0xcf8a47(0x1e7)+_0xcf8a47(0x2d3)+'\x20VALUES\x20(?'+_0xcf8a47(0x2b5)+_0xcf8a47(0x24f)+'jid)\x20DO\x20NO'+'THING;',[_0x469b3c]),!![];}catch(_0x2f7bbe){return warn('['+name+(_0xcf8a47(0x219)+'up\x20failed:'+'\x20')+(_0x2f7bbe?.[_0xcf8a47(0x2c4)]||_0x2f7bbe)),![];}}async function dbRemoveGroup(_0x5aa77f){const _0x327414=_0x137d0f;try{const _0x26c1f4=await db[_0x327414(0x222)](_0x327414(0x2db)+'M\x20addition'+_0x327414(0x2d8)+'HERE\x20group'+_0x327414(0x24c),[_0x5aa77f]);return!!_0x26c1f4?.[_0x327414(0x2e0)];}catch(_0x27644c){return warn('['+name+(_0x327414(0x20c)+'Group\x20fail'+'ed:\x20')+(_0x27644c?.[_0x327414(0x2c4)]||_0x27644c)),![];}}async function dbListGroups(){const _0x5e8aae=_0x137d0f;try{const _0x2fc4f8=await db[_0x5e8aae(0x254)](_0x5e8aae(0x2ef)+_0x5e8aae(0x241)+'M\x20addition'+_0x5e8aae(0x313)+_0x5e8aae(0x27d)+'oup_jid');return(_0x2fc4f8||[])['map'](_0x31b1c4=>_0x31b1c4[_0x5e8aae(0x2ce)]);}catch(_0x32f15b){return warn('['+name+(']\x20dbListGr'+_0x5e8aae(0x20d)+_0x5e8aae(0x243))+(_0x32f15b?.[_0x5e8aae(0x2c4)]||_0x32f15b)),[];}}async function dbIsGroupMonitored(_0x1df0c1){const _0x5dd6eb=_0x137d0f;try{const _0x5f0a6d=await db['get'](_0x5dd6eb(0x2ef)+_0x5dd6eb(0x241)+_0x5dd6eb(0x30e)+_0x5dd6eb(0x2d8)+_0x5dd6eb(0x26c)+_0x5dd6eb(0x2fd)+_0x5dd6eb(0x218),[_0x1df0c1]);return!!_0x5f0a6d;}catch(_0x3f8b7d){return warn('['+name+(_0x5dd6eb(0x2a6)+_0x5dd6eb(0x2de)+_0x5dd6eb(0x301))+(_0x3f8b7d?.[_0x5dd6eb(0x2c4)]||_0x3f8b7d)),![];}}async function refreshRuntimeConfig(){const _0x4db876=_0x137d0f;try{const _0x59f791=getConfig()||{},_0x589f96=_0x59f791[_0x4db876(0x275)]&&typeof _0x59f791[_0x4db876(0x275)]===_0x4db876(0x289)?_0x59f791[_0x4db876(0x275)]:{};CFG[_0x4db876(0x292)+'S']=Number[_0x4db876(0x26d)](_0x589f96['DEBOUNCE_M'+'S'])?_0x589f96[_0x4db876(0x292)+'S']:0x4d2+-0x8c0+0xfa6;const _0x4e1b0e=await dbGetConfig('enabled');CFG['ENABLED']=_0x4e1b0e==='1'||_0x4e1b0e===_0x4db876(0x263);const _0x5dc214=await dbGetConfig(_0x4db876(0x2a3)+'s');if(_0x5dc214!==null&&!Number[_0x4db876(0x1e4)](Number(_0x5dc214)))CFG[_0x4db876(0x292)+'S']=Number(_0x5dc214);const _0x962377=await dbGetConfig(_0x4db876(0x1ea)+'up');CFG[_0x4db876(0x1ea)+'up']=_0x962377||null,info('['+name+(_0x4db876(0x270)+'config\x20ref'+'reshed\x20(en'+'abled=')+CFG['ENABLED']+(_0x4db876(0x311)+_0x4db876(0x22a))+CFG['DEBOUNCE_M'+'S']+(_0x4db876(0x2b3)+_0x4db876(0x245))+CFG[_0x4db876(0x1ea)+'up']+')');}catch(_0x213a7e){warn('['+name+(_0x4db876(0x2d5)+_0x4db876(0x27a)+'ig\x20failed:'+'\x20')+(_0x213a7e?.[_0x4db876(0x2c4)]||_0x213a7e));}}try{hotReloadConfig&&hotReloadConfig(_0x338ef0=>{const _0x97d085=_0x137d0f;try{refreshRuntimeConfig(),info('['+name+(_0x97d085(0x2a0)+'dConfig\x20ap'+_0x97d085(0x299)+_0x97d085(0x2a5)+'\x20')+(_0x338ef0||[])[_0x97d085(0x267)](',')+')');}catch(_0x157599){warn('['+name+(_0x97d085(0x2a0)+_0x97d085(0x235)+_0x97d085(0x2f1)+_0x97d085(0x26b))+(_0x157599?.[_0x97d085(0x2c4)]||_0x157599));}});}catch(_0x5cb7fa){warn('['+name+(_0x137d0f(0x2a0)+_0x137d0f(0x2b8)+_0x137d0f(0x294)+_0x137d0f(0x301))+(_0x5cb7fa?.[_0x137d0f(0x2c4)]||_0x5cb7fa));}async function resolveDisplayName(_0xc17d30){const _0x5cb99c=_0x137d0f;try{if(!botRef||!_0xc17d30)return _0xc17d30?.[_0x5cb99c(0x1f6)]?.('@')?.[0xdbe*0x1+0x22b7+0x3*-0x1027]??_0xc17d30;try{if(typeof botRef[_0x5cb99c(0x2fc)]===_0x5cb99c(0x2c0)){const _0x1fc099=await botRef[_0x5cb99c(0x2fc)](_0xc17d30);if(Array[_0x5cb99c(0x2d0)](_0x1fc099)&&_0x1fc099[_0x5cb99c(0x216)]>0x3ca*-0x5+0x1829+-0x537){const _0xe49171=_0x1fc099[0x22a2+0x5*-0x143+-0x1c53];if(_0xe49171&&(_0xe49171[_0x5cb99c(0x274)]||_0xe49171['vname']||_0xe49171[_0x5cb99c(0x257)]))return _0xe49171[_0x5cb99c(0x274)]||_0xe49171[_0x5cb99c(0x246)]||_0xe49171[_0x5cb99c(0x257)];}}if(botRef[_0x5cb99c(0x25c)]&&typeof botRef['sock']['onWhatsApp']===_0x5cb99c(0x2c0)){const _0x32d7c0=await botRef[_0x5cb99c(0x25c)][_0x5cb99c(0x2fc)](_0xc17d30);if(Array[_0x5cb99c(0x2d0)](_0x32d7c0)&&_0x32d7c0[_0x5cb99c(0x216)]>0xaf1*-0x1+-0x44*-0x24+0x161){const _0xcc0572=_0x32d7c0[-0x2c6+0x522+-0x4*0x97];if(_0xcc0572&&(_0xcc0572[_0x5cb99c(0x274)]||_0xcc0572[_0x5cb99c(0x246)]||_0xcc0572[_0x5cb99c(0x257)]))return _0xcc0572[_0x5cb99c(0x274)]||_0xcc0572['vname']||_0xcc0572['name'];}}}catch(_0x225ac8){}const _0x45d0ed=String(_0xc17d30)['split'](':')[_0x5cb99c(0x23c)]()[_0x5cb99c(0x1f6)]('@')[0x4a*0x75+-0x5ca+0x4e*-0x5c];return _0x45d0ed||_0xc17d30;}catch(_0x25d3ad){return _0xc17d30?.['split']?.('@')?.[-0xd3*-0x25+0x64f*0x2+-0x2b1d]??_0xc17d30;}}async function getGroupTitle(_0x229485){const _0x22afe8=_0x137d0f;try{if(!botRef)return _0x229485;if(botRef[_0x22afe8(0x25c)]&&typeof botRef['sock']['groupMetad'+_0x22afe8(0x20a)]===_0x22afe8(0x2c0)){const _0xdf044c=await botRef[_0x22afe8(0x25c)]['groupMetad'+_0x22afe8(0x20a)](_0x229485)[_0x22afe8(0x202)](()=>null);if(_0xdf044c&&_0xdf044c[_0x22afe8(0x2f0)])return _0xdf044c[_0x22afe8(0x2f0)];}if(typeof botRef[_0x22afe8(0x226)+_0x22afe8(0x296)]===_0x22afe8(0x2c0)){const _0x115b03=await botRef[_0x22afe8(0x226)+_0x22afe8(0x296)](_0x229485)[_0x22afe8(0x202)](()=>null);if(_0x115b03&&_0x115b03[_0x22afe8(0x2f0)])return _0x115b03[_0x22afe8(0x2f0)];}return _0x229485;}catch(_0x284fc3){return _0x229485;}}async function sendSummary(_0x207622,_0x3809b2,_0x259eac){const _0x3e0bef=_0x137d0f;try{if(!botRef)return;if(!CFG[_0x3e0bef(0x1ea)+'up']){warn('['+name+(']\x20No\x20notif'+_0x3e0bef(0x1fa)+'rget\x20is\x20se'+_0x3e0bef(0x227)+_0x3e0bef(0x2af)+_0x3e0bef(0x250))+_0x207622+'.');return;}const _0x16eb29=await resolveDisplayName(_0x3809b2),_0x338e1f=[],_0xf92cab=[];for(const _0x472811 of _0x259eac){const _0x5311d5=await resolveDisplayName(_0x472811);_0x338e1f[_0x3e0bef(0x2b6)](_0x472811),_0xf92cab[_0x3e0bef(0x2b6)](_0x3e0bef(0x2d9)+String(_0x5311d5)[_0x3e0bef(0x2b9)](/\n/g,'\x20'));}if(!_0x338e1f[_0x3e0bef(0x212)](_0x3809b2))_0x338e1f[_0x3e0bef(0x265)](_0x3809b2);const _0x3b6e13=await getGroupTitle(_0x207622),_0xc5a926='👥\x20@'+String(_0x16eb29)[_0x3e0bef(0x2b9)](/\n/g,'\x20')+_0x3e0bef(0x2c8),_0x5c443a=_0xf92cab[_0x3e0bef(0x267)]('\x0a'),_0x458da0=_0x3e0bef(0x2be)+'\x20'+_0x3b6e13+'\x20('+_0x207622+')',_0x284379=_0xc5a926+_0x5c443a+_0x458da0,_0x386cd1=CFG[_0x3e0bef(0x1ea)+'up'];if(botRef&&typeof botRef['sendMessag'+'e']===_0x3e0bef(0x2c0))await botRef[_0x3e0bef(0x1f8)+'e'](_0x386cd1,{'text':_0x284379,'mentions':_0x338e1f});else botRef&&botRef[_0x3e0bef(0x25c)]&&typeof botRef[_0x3e0bef(0x25c)]['sendMessag'+'e']===_0x3e0bef(0x2c0)?await botRef['sock'][_0x3e0bef(0x1f8)+'e'](_0x386cd1,{'text':_0x284379,'mentions':_0x338e1f}):warn('['+name+(_0x3e0bef(0x28a)+_0x3e0bef(0x2c5)+'\x20deliver\x20a'+_0x3e0bef(0x20e)+_0x3e0bef(0x29b)));info('['+name+(_0x3e0bef(0x262)+_0x3e0bef(0x303)+_0x3e0bef(0x27e)+_0x3e0bef(0x21e))+_0x207622+(_0x3e0bef(0x248)+'\x20')+_0x386cd1);}catch(_0x2ee7c4){warn('['+name+(']\x20sendSumm'+_0x3e0bef(0x23f)+':\x20')+(_0x2ee7c4?.[_0x3e0bef(0x2c4)]||_0x2ee7c4));}}async function flushAdderForGroup(_0xb7a052,_0x34671c){const _0x1da706=_0x137d0f;try{if(!botRef)return;const _0x28ac85=groupQueues[_0x1da706(0x293)](_0xb7a052);if(!_0x28ac85)return;const _0x2d2b1f=_0x28ac85[_0x1da706(0x293)](_0x34671c);if(!_0x2d2b1f||_0x2d2b1f[_0x1da706(0x316)]===0xa*-0x377+-0x26f5+-0x499b*-0x1){_0x28ac85[_0x1da706(0x290)](_0x34671c);if(_0x28ac85[_0x1da706(0x316)]===-0x22f9+-0x1a2d*0x1+0x3d26)groupQueues[_0x1da706(0x290)](_0xb7a052);return;}const _0x2f21d8=Array[_0x1da706(0x29d)](_0x2d2b1f);await sendSummary(_0xb7a052,_0x34671c,_0x2f21d8);}catch(_0x69862e){error(_0x69862e,'['+name+(_0x1da706(0x24e)+_0x1da706(0x307)+_0x1da706(0x206)));}finally{const _0x38e1ab=groupQueues[_0x1da706(0x293)](_0xb7a052);if(_0x38e1ab){_0x38e1ab[_0x1da706(0x290)](_0x34671c);if(_0x38e1ab[_0x1da706(0x316)]===0x2f*-0x3a+0x14d*0x17+-0x1345)groupQueues['delete'](_0xb7a052);}}}async function flushGroup(_0x3f23c1){const _0x31c715=_0x137d0f;try{const _0x412092=groupQueues[_0x31c715(0x293)](_0x3f23c1);if(!_0x412092)return;const _0x3d165d=Array[_0x31c715(0x29d)](_0x412092['keys']());for(const _0x2139d2 of _0x3d165d){await flushAdderForGroup(_0x3f23c1,_0x2139d2);}}catch(_0x369875){error(_0x369875,'['+name+(_0x31c715(0x264)+'up\x20error:\x20')+(_0x369875?.[_0x31c715(0x2c4)]||_0x369875));}finally{if(groupTimers['has'](_0x3f23c1)){try{clearTimeout(groupTimers[_0x31c715(0x293)](_0x3f23c1));}catch(_0x42cbdb){}groupTimers[_0x31c715(0x290)](_0x3f23c1);}if(groupQueues[_0x31c715(0x293)](_0x3f23c1)&&groupQueues[_0x31c715(0x293)](_0x3f23c1)[_0x31c715(0x316)]===-0x2*-0x72b+0x69f+-0x431*0x5)groupQueues[_0x31c715(0x290)](_0x3f23c1);}}async function gpUpdateHandler(_0x2b7192){const _0x3aa1be=_0x137d0f;try{if(!_0x2b7192)return;if(!CFG[_0x3aa1be(0x234)])return;const _0x2f9b8d=_0x2b7192[_0x3aa1be(0x2f6)]||_0x2b7192[_0x3aa1be(0x24b)]||null;if(!_0x2f9b8d)return;if(String(_0x2f9b8d)[_0x3aa1be(0x244)+'e']()!==_0x3aa1be(0x2ed))return;const _0x40190b=_0x2b7192['id']||_0x2b7192[_0x3aa1be(0x26f)]||_0x2b7192[_0x3aa1be(0x247)]||_0x2b7192[_0x3aa1be(0x2c3)];if(!_0x40190b)return;const _0x2850b2=await dbIsGroupMonitored(_0x40190b);if(!_0x2850b2)return;const _0x4a7b24=Array[_0x3aa1be(0x2d0)](_0x2b7192[_0x3aa1be(0x21b)+'ts'])?_0x2b7192[_0x3aa1be(0x21b)+'ts']:Array[_0x3aa1be(0x2d0)](_0x2b7192[_0x3aa1be(0x21b)+_0x3aa1be(0x1e6)])?_0x2b7192[_0x3aa1be(0x21b)+_0x3aa1be(0x1e6)]:[];if(!_0x4a7b24||_0x4a7b24[_0x3aa1be(0x216)]===-0x5fd+0x69b*0x2+-0x739)return;const _0x11c1a1=_0x2b7192[_0x3aa1be(0x2ae)]||_0x2b7192[_0x3aa1be(0x285)]||_0x2b7192['by']||_0x2b7192[_0x3aa1be(0x2a9)]||_0x2b7192[_0x3aa1be(0x2e1)]||_0x2b7192[_0x3aa1be(0x308)]||_0x3aa1be(0x20b)+'tem';if(!groupQueues[_0x3aa1be(0x1f7)](_0x40190b))groupQueues[_0x3aa1be(0x2f8)](_0x40190b,new Map());const _0x39f9bd=groupQueues[_0x3aa1be(0x293)](_0x40190b);if(!_0x39f9bd['has'](_0x11c1a1))_0x39f9bd['set'](_0x11c1a1,new Set());const _0x293a5e=_0x39f9bd[_0x3aa1be(0x293)](_0x11c1a1);for(const _0x1fc0f4 of _0x4a7b24)_0x293a5e['add'](_0x1fc0f4);if(groupTimers[_0x3aa1be(0x1f7)](_0x40190b))try{clearTimeout(groupTimers[_0x3aa1be(0x293)](_0x40190b));}catch(_0x5cc677){}const _0x106b71=Math[_0x3aa1be(0x231)](0x5ac*0x5+0x7*-0x368+-0x420,Number(CFG[_0x3aa1be(0x292)+'S']||-0x43*-0x6f+-0x9b*-0x1d+0x22e4*-0x1)),_0x2d8d26=setTimeout(()=>{const _0xec35a8=_0x3aa1be;flushGroup(_0x40190b)['catch'](_0x1e5964=>warn('['+name+(_0xec35a8(0x264)+_0xec35a8(0x291)+'\x20')+(_0x1e5964?.[_0xec35a8(0x2c4)]||_0x1e5964)));},_0x106b71);groupTimers[_0x3aa1be(0x2f8)](_0x40190b,_0x2d8d26);}catch(_0x3ad15d){warn('['+name+(_0x3aa1be(0x287)+_0x3aa1be(0x23d)+_0x3aa1be(0x2a2))+(_0x3ad15d?.['message']||_0x3ad15d));}}function extractTextFromMessage(_0x3ab480){const _0x3e6477=_0x137d0f;if(!_0x3ab480||!_0x3ab480[_0x3e6477(0x2c4)])return'';const _0x63a18e=_0x3ab480[_0x3e6477(0x2c4)];if(_0x63a18e['conversati'+'on'])return _0x63a18e[_0x3e6477(0x2d7)+'on'];if(_0x63a18e['extendedTe'+_0x3e6477(0x2b4)]?.[_0x3e6477(0x2bc)])return _0x63a18e[_0x3e6477(0x30c)+'xtMessage'][_0x3e6477(0x2bc)];if(_0x63a18e['imageMessa'+'ge']?.[_0x3e6477(0x204)])return _0x63a18e['imageMessa'+'ge'][_0x3e6477(0x204)];if(_0x63a18e[_0x3e6477(0x288)+'ge']?.[_0x3e6477(0x204)])return _0x63a18e[_0x3e6477(0x288)+'ge'][_0x3e6477(0x204)];if(_0x63a18e[_0x3e6477(0x2b7)+_0x3e6477(0x2cb)+'ge']?.['selectedBu'+'ttonId'])return _0x63a18e[_0x3e6477(0x2b7)+_0x3e6477(0x2cb)+'ge'][_0x3e6477(0x224)+_0x3e6477(0x255)];if(_0x63a18e[_0x3e6477(0x2ea)+'seMessage']?.['singleSele'+_0x3e6477(0x24d)]?.['selectedRo'+_0x3e6477(0x223)])return _0x63a18e[_0x3e6477(0x2ea)+_0x3e6477(0x25f)][_0x3e6477(0x2cf)+_0x3e6477(0x24d)][_0x3e6477(0x251)+_0x3e6477(0x223)];return'';}function detectCommandName(_0x2dfd4d){const _0x7acb28=_0x137d0f;if(!_0x2dfd4d)return null;const _0x2748f7=_0x2dfd4d[_0x7acb28(0x27b)]();if(!_0x2748f7)return null;return _0x2748f7[_0x7acb28(0x1f6)](/\s+/)[-0xc47+0xd59*0x1+0x112*-0x1][_0x7acb28(0x244)+'e']();}function parseJidsFromText(_0x568fcb){const _0x2ce80b=_0x137d0f;if(!_0x568fcb)return[];const _0x254c22=_0x568fcb[_0x2ce80b(0x1f6)](/[\s,]+/)[_0x2ce80b(0x2e7)](_0x10c2e7=>_0x10c2e7['trim']())[_0x2ce80b(0x2d4)](Boolean),_0x446bb6=_0x254c22[_0x2ce80b(0x2d4)](_0xce007=>_0xce007[_0x2ce80b(0x212)]('@'))[_0x2ce80b(0x2e7)](_0x3738aa=>_0x3738aa);return _0x446bb6;}function parseDeleteItems(_0x531f56){const _0x1cd71=_0x137d0f;if(!_0x531f56)return[];const _0x341d73=_0x531f56[_0x1cd71(0x1f6)](/[\s,]+/)[_0x1cd71(0x2e7)](_0x2fc36f=>_0x2fc36f[_0x1cd71(0x27b)]())['filter'](Boolean),_0x473af4=_0x341d73[_0x1cd71(0x2e7)](_0x5e5acd=>{const _0x17f470=_0x1cd71;if(/^\d+$/[_0x17f470(0x1ec)](_0x5e5acd))return{'type':_0x17f470(0x2c2),'value':Number(_0x5e5acd)};return{'type':'jid','value':_0x5e5acd};});return _0x473af4;}async function sendApiOrFallback(_0x207344,_0xbd7eca,_0x3eaa4e=[]){const _0x3849c8=_0x137d0f;try{if(!_0x207344||!_0xbd7eca)return;if(botRef&&typeof botRef[_0x3849c8(0x1f8)+'e']==='function')await botRef[_0x3849c8(0x1f8)+'e'](_0x207344,{'text':String(_0xbd7eca),'mentions':_0x3eaa4e});else botRef&&botRef[_0x3849c8(0x25c)]&&typeof botRef['sock'][_0x3849c8(0x1f8)+'e']==='function'?await botRef[_0x3849c8(0x25c)][_0x3849c8(0x1f8)+'e'](_0x207344,{'text':String(_0xbd7eca),'mentions':_0x3eaa4e}):warn('['+name+(']\x20no\x20send\x20'+_0x3849c8(0x23e)+'ailable\x20fo'+_0x3849c8(0x273)+_0x3849c8(0x214))+_0x207344);}catch(_0x205a1c){warn('['+name+(_0x3849c8(0x213)+_0x3849c8(0x1f5)+_0x3849c8(0x279))+(_0x205a1c?.[_0x3849c8(0x2c4)]||_0x205a1c));}}function chunkLines(_0xb63801,_0x154cd7=-0x1192+-0x1a02+-0x2*-0x18b8){const _0x2ec121=_0x137d0f,_0x32cfc6=[];let _0x3a77af='';for(const _0x4c8dd8 of _0xb63801){(_0x3a77af+'\x0a'+_0x4c8dd8)[_0x2ec121(0x216)]>_0x154cd7&&(_0x32cfc6[_0x2ec121(0x2b6)](_0x3a77af['trim']()),_0x3a77af=''),_0x3a77af+=(_0x3a77af?'\x0a':'')+_0x4c8dd8;}if(_0x3a77af)_0x32cfc6[_0x2ec121(0x2b6)](_0x3a77af[_0x2ec121(0x27b)]());return _0x32cfc6;}export async function initialize(_0x12cc39){const _0x570fc5=_0x137d0f;try{if(!_0x12cc39)throw new Error(_0x570fc5(0x2c9)+'initialize'+_0x570fc5(0x283)+_0x570fc5(0x282)+'ce');botRef=_0x12cc39,await ensureSchema(),await refreshRuntimeConfig();try{startManagedListener({'botRef':botRef,'eventName':'group-part'+'icipants.u'+_0x570fc5(0x2a1),'handler':gpUpdateHandler,'moduleName':name}),info('['+name+(']\x20register'+_0x570fc5(0x304)+_0x570fc5(0x1e8)+_0x570fc5(0x2b0)+_0x570fc5(0x21b)+_0x570fc5(0x305)));}catch(_0x19e086){warn('['+name+(']\x20failed\x20t'+_0x570fc5(0x221)+'\x20managed\x20l'+_0x570fc5(0x1ed))+(_0x19e086?.[_0x570fc5(0x2c4)]||_0x19e086));}info('['+name+(_0x570fc5(0x2ab)+_0x570fc5(0x2e8)));}catch(_0x36d078){error(_0x36d078,'['+name+(_0x570fc5(0x2ab)+_0x570fc5(0x2f4))+(_0x36d078?.[_0x570fc5(0x2c4)]||_0x36d078));throw _0x36d078;}}export async function onMessage(_0x106363){const _0x4f1e99=_0x137d0f;try{if(!_0x106363||!_0x106363['key'])return;const _0x2de9b1=String(_0x106363[_0x4f1e99(0x2a8)][_0x4f1e99(0x29e)]||'')+'::'+String(_0x106363[_0x4f1e99(0x2a8)]['id']||_0x106363[_0x4f1e99(0x2a8)][_0x4f1e99(0x21b)+'t']||'');if(isProcessed(_0x2de9b1))return;markProcessed(_0x2de9b1);const _0x1c7639=_0x106363['text']&&typeof _0x106363[_0x4f1e99(0x2bc)]==='string'?_0x106363['text']:extractTextFromMessage(_0x106363)||'';if(!_0x1c7639)return;const _0x1df072=_0x106363[_0x4f1e99(0x2a8)][_0x4f1e99(0x29e)],_0x126408=String(_0x1df072||'')[_0x4f1e99(0x314)](_0x4f1e99(0x276));if(!_0x106363['isCommand'])return;if(!_0x126408)return;let _0x49d466=![];try{_0x49d466=await isadmin(botRef,_0x106363);}catch(_0x37ac84){warn('['+name+(_0x4f1e99(0x215)+_0x4f1e99(0x29f)+_0x4f1e99(0x2b1))+(_0x37ac84?.[_0x4f1e99(0x2c4)]||_0x37ac84)),_0x49d466=![];}if(!_0x49d466)return;const _0x1b18f0=typeof _0x106363['text']==='string'&&_0x106363[_0x4f1e99(0x2bc)]['trim']()['length']?_0x106363[_0x4f1e99(0x2bc)][_0x4f1e99(0x27b)]():_0x1c7639[_0x4f1e99(0x27b)](),_0x42d937=detectCommandName(_0x1b18f0);if(!_0x42d937||!commands[_0x4f1e99(0x212)](_0x42d937))return;const _0x2176a5=_0x1df072;if(_0x42d937===_0x4f1e99(0x21a)+_0x4f1e99(0x306)){const _0x3d4883=_0x1b18f0[_0x4f1e99(0x2b9)](/^additiongroup\b/i,'')[_0x4f1e99(0x27b)]();let _0x22ef95=[];if(_0x3d4883&&_0x3d4883[_0x4f1e99(0x216)])_0x22ef95=parseJidsFromText(_0x3d4883);else{const _0x1977a4=_0x1b18f0['split'](/\r?\n/)[_0x4f1e99(0x28d)](-0x17*0xd7+0x2107+-0xdb5)[_0x4f1e99(0x2e7)](_0x4a495d=>_0x4a495d[_0x4f1e99(0x27b)]())[_0x4f1e99(0x2d4)](Boolean),_0x5ee1f9=_0x1977a4['join']('\x20');_0x22ef95=parseJidsFromText(_0x5ee1f9);}if(!_0x22ef95['length']){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x208)+_0x4f1e99(0x2d1)+'\x20<group_ji'+_0x4f1e99(0x28f)+'_jid>...]\x0a'+'Or:\x0aadditi'+'ongroup\x0a<j'+_0x4f1e99(0x220)+'>\x0a');return;}const _0xfaf0ce=[],_0x5da68e=[];for(const _0x3a0caf of _0x22ef95){if(!_0x3a0caf[_0x4f1e99(0x212)]('@')){_0x5da68e[_0x4f1e99(0x2b6)](_0x3a0caf);continue;}try{const _0x2ebecf=await dbAddGroup(_0x3a0caf);if(_0x2ebecf)_0xfaf0ce[_0x4f1e99(0x2b6)](_0x3a0caf);else _0x5da68e['push'](_0x3a0caf);}catch(_0x4ff6f5){warn('['+name+(_0x4f1e99(0x219)+'up\x20error\x20f'+'or\x20')+_0x3a0caf+':\x20'+(_0x4ff6f5?.[_0x4f1e99(0x2c4)]||_0x4ff6f5)),_0x5da68e[_0x4f1e99(0x2b6)](_0x3a0caf);}}const _0x2897f3=[];if(_0xfaf0ce[_0x4f1e99(0x216)])_0x2897f3['push'](_0x4f1e99(0x2f3)+_0xfaf0ce[_0x4f1e99(0x2e7)](_0x2d2cb0=>'•\x20'+_0x2d2cb0)[_0x4f1e99(0x267)]('\x0a'));if(_0x5da68e[_0x4f1e99(0x216)])_0x2897f3[_0x4f1e99(0x2b6)](_0x4f1e99(0x302)+_0x4f1e99(0x24a)+_0x5da68e['map'](_0x17de0a=>'•\x20'+_0x17de0a)[_0x4f1e99(0x267)]('\x0a'));await sendApiOrFallback(_0x2176a5,_0x2897f3['join']('\x0a\x0a')||_0x4f1e99(0x1eb)+_0x4f1e99(0x2dc)+_0x4f1e99(0x280));return;}if(_0x42d937===_0x4f1e99(0x249)+'ngroup'||_0x42d937===_0x4f1e99(0x30f)+_0x4f1e99(0x1f9)){const _0x159f75=_0x1b18f0[_0x4f1e99(0x2b9)](/^(deladditiongroup|removeadditiongroup)\b/i,'')[_0x4f1e99(0x27b)]();if(!_0x159f75){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x2d6)+_0x4f1e99(0x21a)+'oup\x20<group'+_0x4f1e99(0x281)+_0x4f1e99(0x22b)+_0x4f1e99(0x1e5)+'staddition'+_0x4f1e99(0x30b)+'see\x20indice'+'s.');return;}const _0x2e3fad=parseDeleteItems(_0x159f75);if(!_0x2e3fad[_0x4f1e99(0x216)]){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x2cc)+'tems\x20to\x20de'+_0x4f1e99(0x2ff)+'group\x20JIDs'+_0x4f1e99(0x22c)+_0x4f1e99(0x2ba)+_0x4f1e99(0x25a)+_0x4f1e99(0x237));return;}const _0x41b506=await dbListGroups(),_0x176f82=new Set(),_0x385940=[];for(const _0x4a2d17 of _0x2e3fad){if(_0x4a2d17[_0x4f1e99(0x24b)]===_0x4f1e99(0x247)){const _0x2a60d9=_0x4a2d17[_0x4f1e99(0x277)];if(_0x41b506[_0x4f1e99(0x212)](_0x2a60d9))_0x176f82[_0x4f1e99(0x2ed)](_0x2a60d9);else _0x385940[_0x4f1e99(0x2b6)](_0x2a60d9);}else{if(_0x4a2d17[_0x4f1e99(0x24b)]===_0x4f1e99(0x2c2)){const _0x41c633=_0x4a2d17[_0x4f1e99(0x277)];if(_0x41c633<=-0x1126+-0xc0f+0x1d35||_0x41c633>_0x41b506['length']){_0x385940[_0x4f1e99(0x2b6)](String(_0x41c633));continue;}const _0x38a088=_0x41b506[_0x41c633-(0x3*0xbe9+-0x1*0x7a+-0x2340)];if(_0x38a088)_0x176f82[_0x4f1e99(0x2ed)](_0x38a088);}}}const _0x30599=[],_0x3163e1=[];for(const _0x46f3a9 of Array[_0x4f1e99(0x29d)](_0x176f82)){try{const _0x30e7cc=await dbRemoveGroup(_0x46f3a9);if(_0x30e7cc)_0x30599['push'](_0x46f3a9);else _0x3163e1['push'](_0x46f3a9);}catch(_0x1dddbc){warn('['+name+(']\x20dbRemove'+_0x4f1e99(0x2a7)+_0x4f1e99(0x317))+_0x46f3a9+':\x20'+(_0x1dddbc?.[_0x4f1e99(0x2c4)]||_0x1dddbc)),_0x3163e1['push'](_0x46f3a9);}}const _0xc12808=[];if(_0x30599[_0x4f1e99(0x216)])_0xc12808[_0x4f1e99(0x2b6)](_0x4f1e99(0x30a)+'\x0a'+_0x30599['map'](_0x20f0a5=>'•\x20'+_0x20f0a5)['join']('\x0a'));if(_0x3163e1['length'])_0xc12808[_0x4f1e99(0x2b6)]('❌\x20Failed\x20t'+_0x4f1e99(0x2ad)+_0x3163e1[_0x4f1e99(0x2e7)](_0x8b440d=>'•\x20'+_0x8b440d)[_0x4f1e99(0x267)]('\x0a'));if(_0x385940[_0x4f1e99(0x216)])_0xc12808[_0x4f1e99(0x2b6)](_0x4f1e99(0x29c)+_0x4f1e99(0x1f0)+_0x4f1e99(0x243)+_0x385940[_0x4f1e99(0x2e7)](_0x3f20dd=>'\x20'+_0x3f20dd)[_0x4f1e99(0x267)](','));await sendApiOrFallback(_0x2176a5,_0xc12808[_0x4f1e99(0x267)]('\x0a\x0a')||_0x4f1e99(0x315)+'emoved.');return;}if(_0x42d937===_0x4f1e99(0x225)+'ongroups'||_0x42d937===_0x4f1e99(0x21a)+'oups'){const _0xbad427=await dbListGroups();if(!_0xbad427||_0xbad427[_0x4f1e99(0x216)]===0x24e2+-0x1*-0x1b9d+-0xd1*0x4f){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x25e)+_0x4f1e99(0x2bd)+'onfigured.');return;}const _0x1af7ef=_0xbad427['map']((_0x33bbc7,_0x287470)=>_0x287470+(0x22d9+0x5*0x68f+0x43a3*-0x1)+'.\x20'+_0x33bbc7),_0x298dbc=chunkLines(_0x1af7ef,-0x23d*0x1+-0xd66+0x1453);for(const _0x3be1b6 of _0x298dbc)await sendApiOrFallback(_0x2176a5,_0x3be1b6);return;}if(_0x42d937===_0x4f1e99(0x1fd)){const _0x3c11a3=_0x1b18f0['split'](/\s+/)[_0x4f1e99(0x28d)](-0x1358+0x1148+0x211);if(!_0x3c11a3||!_0x3c11a3[-0x15*-0x61+0x1402+-0x1bf7*0x1]){await sendApiOrFallback(_0x2176a5,'Usage:\x20add'+_0x4f1e99(0x1fc)+'off\x0aCurren'+_0x4f1e99(0x300)+(CFG['ENABLED']?'on':_0x4f1e99(0x28b)));return;}const _0x16e9da=_0x3c11a3[-0x15+0x17f0+-0x1*0x17db][_0x4f1e99(0x244)+'e']();if(_0x16e9da!=='on'&&_0x16e9da!=='off'){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x208)+'itions\x20on|'+_0x4f1e99(0x28b));return;}const _0x121014=_0x16e9da==='on';if(_0x121014){const _0x240930=await dbListGroups(),_0xda0bfc=await dbGetConfig('notify_gro'+'up');if(_0x240930['length']===0x5ba*-0x1+-0x1b5+-0x76f*-0x1){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x2a4)+'nable.\x20Ple'+_0x4f1e99(0x2bb)+'\x20least\x20one'+_0x4f1e99(0x26a)+_0x4f1e99(0x205)+_0x4f1e99(0x297)+_0x4f1e99(0x2c6)+_0x4f1e99(0x2e3));return;}if(!_0xda0bfc){await sendApiOrFallback(_0x2176a5,'❌\x20Cannot\x20e'+_0x4f1e99(0x284)+_0x4f1e99(0x2dd)+_0x4f1e99(0x29a)+_0x4f1e99(0x21d)+_0x4f1e99(0x261)+_0x4f1e99(0x211)+_0x4f1e99(0x21c)+_0x4f1e99(0x2ca));return;}}const _0x308cf4=await dbSetConfig(_0x4f1e99(0x252),_0x121014?'1':'0');if(!_0x308cf4){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x2b2)+'update\x20add'+_0x4f1e99(0x1f3)+'bled\x20state'+'.');return;}CFG[_0x4f1e99(0x234)]=_0x121014,await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x28c)+'s\x20'+(_0x121014?_0x4f1e99(0x252):'disabled'));return;}if(_0x42d937===_0x4f1e99(0x2eb)+_0x4f1e99(0x207)){const _0x162c38=_0x1b18f0[_0x4f1e99(0x1f6)](/\s+/)[_0x4f1e99(0x28d)](-0x1258+-0x19f7+0x2c50);if(!_0x162c38||!_0x162c38[-0x505*-0x5+-0x22f1*-0x1+-0x122*0x35]){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x208)+_0x4f1e99(0x2fa)+_0x4f1e99(0x2df)+_0x4f1e99(0x2d2)+'\x0aCurrent:\x20'+(CFG[_0x4f1e99(0x1ea)+'up']||_0x4f1e99(0x2f7)+_0x4f1e99(0x2bf)));return;}const _0x412934=_0x162c38[-0x2c2+-0x1*-0x1c53+-0x1991]['trim']();if(_0x412934[_0x4f1e99(0x244)+'e']()==='clear'){await dbDeleteConfig(_0x4f1e99(0x1ea)+'up'),CFG[_0x4f1e99(0x1ea)+'up']=null,await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x28c)+_0x4f1e99(0x2e2)+_0x4f1e99(0x209)+_0x4f1e99(0x253)+_0x4f1e99(0x278)+_0x4f1e99(0x269)+_0x4f1e99(0x1ff)+_0x4f1e99(0x2aa));return;}if(!_0x412934[_0x4f1e99(0x212)]('@')){await sendApiOrFallback(_0x2176a5,_0x4f1e99(0x272)+_0x4f1e99(0x295)+_0x4f1e99(0x233)+'e.g.\x201203.'+_0x4f1e99(0x2e6));return;}const _0x241da5=await dbSetConfig(_0x4f1e99(0x1ea)+'up',_0x412934);if(!_0x241da5){await sendApiOrFallback(_0x2176a5,'❌\x20addition'+_0x4f1e99(0x229)+'led\x20for\x20'+_0x412934);return;}CFG[_0x4f1e99(0x1ea)+'up']=_0x412934,await sendApiOrFallback(_0x2176a5,'✅\x20addition'+_0x4f1e99(0x258)+_0x4f1e99(0x20f)+_0x412934);return;}if(_0x42d937==='additionst'+_0x4f1e99(0x1ee)){const _0x1d8a0e=CFG['ENABLED']?'on':_0x4f1e99(0x28b),_0x22d7b7=CFG[_0x4f1e99(0x1ea)+'up']||_0x4f1e99(0x2f7)+_0x4f1e99(0x2f9)+_0x4f1e99(0x310),_0x56ca75=await dbListGroups(),_0x1b7af5=[_0x4f1e99(0x1f4)+'\x20Notifier\x20'+'Status*\x0a','Enabled:\x20*'+_0x1d8a0e+'*',_0x4f1e99(0x21f)+_0x4f1e99(0x22e)+_0x22d7b7+'*',_0x4f1e99(0x201)+'groups:\x20*'+(_0x56ca75['length']||0x258*0xf+-0x21cd+-0x15b*0x1)+'*'];await sendApiOrFallback(_0x2176a5,_0x1b7af5[_0x4f1e99(0x267)]('\x0a'));if(_0x56ca75[_0x4f1e99(0x216)]){const _0x1bf13e=_0x56ca75['map']((_0x2961a9,_0x3dd3cd)=>_0x3dd3cd+(0x1f*-0x53+0xdab+0xb9*-0x5)+'.\x20'+_0x2961a9),_0x395c50=chunkLines(_0x1bf13e,-0x22e4+0x360+-0x14b*-0x1c);for(const _0x9a8f76 of _0x395c50)await sendApiOrFallback(_0x2176a5,_0x9a8f76);}return;}}catch(_0x5886cc){error(_0x5886cc,'['+name+(_0x4f1e99(0x260)+_0x4f1e99(0x256))+(_0x5886cc?.[_0x4f1e99(0x2c4)]||_0x5886cc));}}function _0x38a3(_0x5148ce,_0xc8bab){const _0x431981=_0xccfc();return _0x38a3=function(_0x1f0b34,_0x471413){_0x1f0b34=_0x1f0b34-(-0x86d+0x15*-0x68+0x12d9);let _0x3e7b2b=_0x431981[_0x1f0b34];return _0x3e7b2b;},_0x38a3(_0x5148ce,_0xc8bab);}export async function cleanup(){const _0x5618d6=_0x137d0f;try{for(const _0x2f9c80 of groupTimers[_0x5618d6(0x271)]())try{clearTimeout(_0x2f9c80);}catch(_0x5d0fc0){}groupTimers[_0x5618d6(0x2f2)](),groupQueues[_0x5618d6(0x2f2)]();try{stopManagedListener(name,_0x5618d6(0x217)+'icipants.u'+'pdate');}catch(_0x429a93){}}catch(_0x3a344e){warn('['+name+(_0x5618d6(0x2e4)+_0x5618d6(0x240))+(_0x3a344e?.[_0x5618d6(0x2c4)]||_0x3a344e));}finally{botRef=null,info('['+name+(']\x20cleaned\x20'+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};