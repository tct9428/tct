const _0x68b25c=_0x5692;(function(_0x5ac697,_0x29ff62){const _0x1ed298=_0x5692,_0x672497=_0x5ac697();while(!![]){try{const _0xb984bf=-parseInt(_0x1ed298(0x13a))/(0x1*0x2533+0x8f*-0x6+0x5a4*-0x6)*(parseInt(_0x1ed298(0x206))/(0xcb4+0x101*-0x8+-0x4aa))+parseInt(_0x1ed298(0x1bc))/(-0x15ed*-0x1+-0x2*-0x566+0x35*-0x9e)*(-parseInt(_0x1ed298(0x16b))/(-0x1450+-0xb7e*0x1+-0xfe9*-0x2))+parseInt(_0x1ed298(0x13b))/(-0xa94+-0xd*-0x225+-0x1148)+parseInt(_0x1ed298(0x119))/(0x14*-0x19a+0x41b*-0x6+0x1*0x38b0)*(parseInt(_0x1ed298(0x24c))/(-0x1762+-0xf37*-0x1+0x832))+parseInt(_0x1ed298(0x231))/(0x1ee*-0x4+0x23b5*-0x1+0x2b75)+parseInt(_0x1ed298(0x13f))/(0x1*0x11d1+0x27d*0xa+-0x2aaa)+-parseInt(_0x1ed298(0x1c2))/(-0x303*-0x2+0x7c*-0x29+0x128*0xc);if(_0xb984bf===_0x29ff62)break;else _0x672497['push'](_0x672497['shift']());}catch(_0x5c7524){_0x672497['push'](_0x672497['shift']());}}}(_0x2d56,0x3b831*0x7+-0xf8743+0xdee*0x35));import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import*as _0x2cd1a7 from'../utils/groups.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';export const name=_0x68b25c(0x155);export const version='1.4.0';export const priority=0x1888*0x1+0x1*0xe4b+-0x2679;export const configKeys=[_0x68b25c(0x225)];export const commands=['additiongr'+_0x68b25c(0x188),_0x68b25c(0x154)+_0x68b25c(0x156),_0x68b25c(0x144)+_0x68b25c(0x1cc),_0x68b25c(0x1ed)+_0x68b25c(0x197),_0x68b25c(0x174)+_0x68b25c(0x17a),'additions',_0x68b25c(0x147)+_0x68b25c(0x1c7),_0x68b25c(0x1eb)+'atus'];let botRef=null;const groupQueues=new Map(),groupTimers=new Map();let CFG={'ENABLED':![],'DEBOUNCE_MS':0xbb8,'notify_group':null};const DEDUPE_TTL_MS=(-0x202b+-0x4*-0x94d+0x1*-0x4eb)*(0x1f35+-0x2546+0x9f9),processedMessageKeys=new Map();function markProcessed(_0x53f167){const _0x32cd11=_0x68b25c;if(!_0x53f167)return;if(processedMessageKeys[_0x32cd11(0x12d)](_0x53f167))try{clearTimeout(processedMessageKeys[_0x32cd11(0x115)](_0x53f167));}catch(_0x4652d9){}const _0xc1d48c=setTimeout(()=>processedMessageKeys[_0x32cd11(0x11d)](_0x53f167),DEDUPE_TTL_MS);processedMessageKeys[_0x32cd11(0x151)](_0x53f167,_0xc1d48c);}function isProcessed(_0x4d64b4){const _0x4bfefc=_0x68b25c;return _0x4d64b4&&processedMessageKeys[_0x4bfefc(0x12d)](_0x4d64b4);}async function ensureSchema(){const _0x465038=_0x68b25c;try{await db['exec'](_0x465038(0x1be)+_0x465038(0x126)+'IF\x20NOT\x20EXI'+_0x465038(0x1c3)+'ons_config'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x465038(0x1ee)+_0x465038(0x1db)+_0x465038(0x153)+'\x20value\x20TEX'+_0x465038(0x201)+_0x465038(0x124)),await db[_0x465038(0x191)]('\x0a\x20\x20\x20\x20\x20\x20CRE'+_0x465038(0x126)+_0x465038(0x246)+_0x465038(0x1c3)+_0x465038(0x243)+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x465038(0x215)+_0x465038(0x18e)+_0x465038(0x121)+_0x465038(0x24e)+'\x20'),info('['+name+(']\x20DB\x20schem'+_0x465038(0x14c)));}catch(_0x1e4347){error(_0x1e4347,'['+name+(_0x465038(0x163)+'hema\x20faile'+_0x465038(0x112))+(_0x1e4347?.[_0x465038(0x1c0)]||_0x1e4347));throw _0x1e4347;}}async function dbSetConfig(_0x1218a4,_0x3f2426){const _0x38bd6e=_0x68b25c;try{return await db[_0x38bd6e(0x1ea)]('INSERT\x20INT'+_0x38bd6e(0x12f)+_0x38bd6e(0x1ca)+'key,\x20value'+_0x38bd6e(0x140)+_0x38bd6e(0x1c4)+_0x38bd6e(0x22d)+_0x38bd6e(0x194)+'TE\x20SET\x20val'+_0x38bd6e(0x1c5)+_0x38bd6e(0x1a4),[_0x1218a4,String(_0x3f2426)]),!![];}catch(_0x5d393b){return warn('['+name+(_0x38bd6e(0x234)+_0x38bd6e(0x111)+':\x20')+(_0x5d393b?.[_0x38bd6e(0x1c0)]||_0x5d393b)),![];}}async function dbGetConfig(_0x2f4590){const _0x4f1c5a=_0x68b25c;try{const _0x566113=await db[_0x4f1c5a(0x115)](_0x4f1c5a(0x199)+_0x4f1c5a(0x211)+'ditions_co'+_0x4f1c5a(0x182)+_0x4f1c5a(0x1bf)+_0x4f1c5a(0x176),[_0x2f4590]);return _0x566113?_0x566113[_0x4f1c5a(0x1a5)]:null;}catch(_0x4678d4){return warn('['+name+(_0x4f1c5a(0x20b)+_0x4f1c5a(0x111)+':\x20')+(_0x4678d4?.[_0x4f1c5a(0x1c0)]||_0x4678d4)),null;}}async function dbDeleteConfig(_0x2a51ba){const _0xb28e14=_0x68b25c;try{return await db['run'](_0xb28e14(0x224)+_0xb28e14(0x242)+'s_config\x20W'+_0xb28e14(0x11c)+'\x20?',[_0x2a51ba]),!![];}catch(_0x732225){return warn('['+name+(_0xb28e14(0x14f)+_0xb28e14(0x24b)+_0xb28e14(0x1e1))+(_0x732225?.['message']||_0x732225)),![];}}async function dbAddGroup(_0x27fcd7){const _0x16b0d9=_0x68b25c;try{return await db[_0x16b0d9(0x1ea)](_0x16b0d9(0x19f)+_0x16b0d9(0x12f)+_0x16b0d9(0x1aa)+_0x16b0d9(0x17b)+_0x16b0d9(0x1a7)+_0x16b0d9(0x15e)+_0x16b0d9(0x236)+_0x16b0d9(0x1f5)+_0x16b0d9(0x19e),[_0x27fcd7]),!![];}catch(_0x2e5f52){return warn('['+name+(_0x16b0d9(0x1b7)+'up\x20failed:'+'\x20')+(_0x2e5f52?.[_0x16b0d9(0x1c0)]||_0x2e5f52)),![];}}async function dbRemoveGroup(_0x992740){const _0x136b76=_0x68b25c;try{const _0x1b3411=await db[_0x136b76(0x1ea)](_0x136b76(0x224)+_0x136b76(0x242)+'s_groups\x20W'+_0x136b76(0x207)+_0x136b76(0x14a),[_0x992740]);return!!_0x1b3411?.[_0x136b76(0x16f)];}catch(_0xeb61f7){return warn('['+name+(_0x136b76(0x1fe)+'Group\x20fail'+_0x136b76(0x166))+(_0xeb61f7?.[_0x136b76(0x1c0)]||_0xeb61f7)),![];}}function _0x2d56(){const _0x22fe53=['ailable\x20fo','initialize','\x20deliver\x20a','dConfig\x20ha','ig\x20failed:','first.','run','additionst','isInteger','listadditi','\x20key\x20TEXT\x20','r:\x20','gistration','toLowerCas',']\x20runtime\x20','ared.\x20Note','s_groups\x20O','jid)\x20DO\x20NO','tem','join','Status*\x0a','Handler\x20er','ttonId','üë•\x20@','erForGroup','icipants.u',']\x20dbRemove','name','all','T\x0a\x20\x20\x20\x20\x20\x20);','extendedTe','unshift','ts_added','t:\x20','2znURME','HERE\x20group','disabled',']\x20No\x20notif','Enabled:\x20*',']\x20dbGetCon','for\x20group-','d>\x20[<group','y_group\x20ta','\x0a\x0aüìõ\x20Group:','ary\x20failed','ue\x20FROM\x20ad','No\x20valid\x20g','ze\x20error:\x20','roups.','\x20group_jid','monitor\x20us','\x20or\x20indice','_ms=',']\x20Sent\x20add','buttonsRes','roup\x20',']\x20register','check\x20fail','\x20->\x20target','sendMessag',']\x20onMessag','error:\x20','dConfig\x20re','slice','DELETE\x20FRO','ADDITIONS','notify','failed:\x20','push','emoved.','target\x20cle','\x20a\x20target.','nged\x20keys:','ONFLICT(ke','Group\x20erro','enabled','tion\x20to\x20','11445480YEARmS','split','target\x20fai',']\x20dbSetCon',']\x20flushGro','ICT(group_',']\x20cleanup\x20','‚ùå\x20Cannot\x20e','n\x20groups\x20c','‚ùå\x20addition','_jid>...]\x0a','itions\x20ena','_jid\x20=\x20?\x20L','No\x20valid\x20i','remoteJid','off\x0aCurren','surface\x20av','M\x20addition','ons_groups','dConfig\x20ap','oups\x20faile','IF\x20NOT\x20EXI','invoker','e\x20error:\x20','from','max','Config\x20fai','273xLMLGt','‚úÖ\x20addition','\x20\x20\x20\x20);\x0a\x20\x20\x20','‚ùå\x20Failed\x20t','isCommand',']\x20gpUpdate','g\x20summary\x20','fig\x20failed','d:\x20','s_groups\x20W','e.g.\x201203.','get','failed:\x0a','\x20added:\x0a','ndler\x20erro','184842WPcvxh','seMessage','\x20must\x20incl','HERE\x20key\x20=','delete','replace','groupId','size','ARY\x20KEY\x0a\x20\x20','id1>\x0a<jid2','test','\x0a\x20\x20\x20\x20','isNaN','ATE\x20TABLE\x20','text',']\x20sendApiO','oup_jid','istener:\x20','values','videoMessa','has','groups:\x20*','O\x20addition','notify_gro','DEBOUNCE_M','Notify\x20tar','up\x20error:\x20','ponseMessa','atus','initiator','dditions\x20s','_jid|index','singleSele','757023EtQWjj','2260645nmJfPD','provided.','‚ö†Ô∏è\x20Skipped/','lete.\x20Use\x20','10955394DYcKuh',')\x20VALUES\x20(','Target\x20JID','‚úÖ\x20Removed:','target\x20set','removeaddi','No\x20additio','..@g.us)','additionta',']\x20no\x20send\x20','SELECT\x20gro','_jid\x20=\x20?','jid|clear>','a\x20ensured','actor','get:\x20*',']\x20dbDelete','ude\x20an\x20@\x20(','set','subject','Y,\x0a\x20\x20\x20\x20\x20\x20\x20','deladditio','additions','ngroup','jid','ase\x20add\x20at','add',']\x20initiali','xtMessage',']\x20sendSumm','`additiont',')\x20ON\x20CONFL','led\x20for\x20','abled=','map','includes',']\x20ensureSc','on\x20without','onWhatsApp','ed:\x20','function','off','caption','\x20requires\x20','76UEMoiD',']\x20isadmin\x20','st.','bot\x20instan','changes','up\x20error\x20f','pdate','groupMetad','zed','additiongr','up_jid\x20FRO','IMIT\x201','participan','\x20failed:\x20','oup\x20<group','oups','group_jid)','sock','endsWith','group_jid','tadata','QUIRED\x20TO\x20','Monitored\x20','nfig\x20WHERE','ata','index','\x20managed\x20l','Failed\x20to\x20','tadditiong','oup','group-part','\x20group\x20to\x20','author','or\x20',']\x20hotReloa','\x20TEXT\x20PRIM','\x20to\x20','type','exec','staddition',']\x20failed\x20t','y)\x20DO\x20UPDA','nable.\x20Ple','trim','ongroups','imageMessa','SELECT\x20val','itions\x20sum','\x20least\x20one','config\x20ref','ENABLE)','THING;','INSERT\x20INT','itiontarge','conversati','Or:\x0aadditi','ongroup\x0a<j','ded.value;','value',']\x20dbListGr','\x20VALUES\x20(?','groups\x20to\x20','itions\x20on|','s_groups\x20(','\x20<group_ji',']\x20dbIsGrou','key','bled\x20state',']\x20flushAdd','listRespon','\x20error','(none\x20-\x20RE','length','system@sys','iongroup`\x20','reshed\x20(en',']\x20dbAddGro','action','o\x20register','\x20Notifier\x20','[,index,..','132438EAyRab','isArray','\x0a\x20\x20\x20\x20\x20\x20CRE','\x20key\x20=\x20?\x20L','message','admin','18280980fVySSc','STS\x20additi','?,\x20?)\x20ON\x20C','ue\x20=\x20exclu','selectedRo','rget','vname','ing\x20`addit','s_config\x20(','ed\x20managed','tiongroup','clear','for\x20','ENABLED','notificati','untimeConf','see\x20indice','.]>\x0aUse\x20li','No\x20items\x20r','roup=','on\x20target\x20','Usage:\x20add','‚ö†Ô∏è\x20Not\x20foun','catch','*Additions','PRIMARY\x20KE','pMonitored','arget`\x20fir','filter','RDER\x20BY\x20gr','r\x20for\x20','led:\x20',',\x20debounce','JID\x20using\x20'];_0x2d56=function(){return _0x22fe53;};return _0x2d56();}function _0x5692(_0x71e383,_0x3bc29d){const _0x3bea2b=_0x2d56();return _0x5692=function(_0x4223ba,_0x4da101){_0x4223ba=_0x4223ba-(0x12a2+0xa1*-0x26+0x651);let _0x412220=_0x3bea2b[_0x4223ba];return _0x412220;},_0x5692(_0x71e383,_0x3bc29d);}async function dbListGroups(){const _0xbb2111=_0x68b25c;try{const _0x2fb4d6=await db[_0xbb2111(0x200)](_0xbb2111(0x149)+_0xbb2111(0x175)+_0xbb2111(0x242)+_0xbb2111(0x1f4)+_0xbb2111(0x1df)+_0xbb2111(0x129));return(_0x2fb4d6||[])[_0xbb2111(0x161)](_0x5d130d=>_0x5d130d[_0xbb2111(0x17e)]);}catch(_0x253d95){return warn('['+name+(_0xbb2111(0x1a6)+_0xbb2111(0x245)+'d:\x20')+(_0x253d95?.[_0xbb2111(0x1c0)]||_0x253d95)),[];}}async function dbIsGroupMonitored(_0x45f035){const _0x1a9fe2=_0x68b25c;try{const _0x1a0b50=await db[_0x1a9fe2(0x115)]('SELECT\x20gro'+_0x1a9fe2(0x175)+_0x1a9fe2(0x242)+_0x1a9fe2(0x113)+_0x1a9fe2(0x207)+_0x1a9fe2(0x23d)+_0x1a9fe2(0x176),[_0x45f035]);return!!_0x1a0b50;}catch(_0x4e669e){return warn('['+name+(_0x1a9fe2(0x1ac)+_0x1a9fe2(0x1dc)+_0x1a9fe2(0x178))+(_0x4e669e?.['message']||_0x4e669e)),![];}}async function refreshRuntimeConfig(){const _0x20821e=_0x68b25c;try{const _0x44bcdc=getConfig()||{},_0x183ace=_0x44bcdc[_0x20821e(0x225)]&&typeof _0x44bcdc['ADDITIONS']==='object'?_0x44bcdc['ADDITIONS']:{};CFG['DEBOUNCE_M'+'S']=Number[_0x20821e(0x1ec)](_0x183ace['DEBOUNCE_M'+'S'])?_0x183ace[_0x20821e(0x131)+'S']:-0x6e5+0x2367+-0x10ca;const _0x2efca7=await dbGetConfig(_0x20821e(0x22f));CFG[_0x20821e(0x1cf)]=_0x2efca7==='1'||_0x2efca7==='true';const _0x10ea39=await dbGetConfig('debounce_m'+'s');if(_0x10ea39!==null&&!Number[_0x20821e(0x125)](Number(_0x10ea39)))CFG[_0x20821e(0x131)+'S']=Number(_0x10ea39);const _0xd9deb3=await dbGetConfig(_0x20821e(0x130)+'up');CFG[_0x20821e(0x130)+'up']=_0xd9deb3||null,info('['+name+(_0x20821e(0x1f2)+_0x20821e(0x19c)+_0x20821e(0x1b6)+_0x20821e(0x160))+CFG[_0x20821e(0x1cf)]+(_0x20821e(0x1e2)+_0x20821e(0x218))+CFG[_0x20821e(0x131)+'S']+(',\x20notify_g'+_0x20821e(0x1d5))+CFG['notify_gro'+'up']+')');}catch(_0x44c4ca){warn('['+name+(']\x20refreshR'+_0x20821e(0x1d1)+_0x20821e(0x1e8)+'\x20')+(_0x44c4ca?.['message']||_0x44c4ca));}}try{hotReloadConfig&&hotReloadConfig(_0x2da5f2=>{const _0x28f901=_0x68b25c;try{refreshRuntimeConfig(),info('['+name+(_0x28f901(0x18d)+_0x28f901(0x244)+'plied\x20(cha'+_0x28f901(0x22c)+'\x20')+(_0x2da5f2||[])[_0x28f901(0x1f7)](',')+')');}catch(_0xaa2967){warn('['+name+(_0x28f901(0x18d)+_0x28f901(0x1e7)+_0x28f901(0x118)+_0x28f901(0x1ef))+(_0xaa2967?.['message']||_0xaa2967));}});}catch(_0x3f3727){warn('['+name+(_0x68b25c(0x18d)+_0x68b25c(0x222)+_0x68b25c(0x1f0)+_0x68b25c(0x178))+(_0x3f3727?.[_0x68b25c(0x1c0)]||_0x3f3727));}async function resolveDisplayName(_0x24e2b9){const _0x576cd6=_0x68b25c;try{if(!botRef||!_0x24e2b9)return _0x24e2b9?.[_0x576cd6(0x232)]?.('@')?.[0x2586+-0xa7*0x27+-0x1*0xc15]??_0x24e2b9;try{if(typeof botRef['onWhatsApp']===_0x576cd6(0x167)){const _0x727ab4=await botRef[_0x576cd6(0x165)](_0x24e2b9);if(Array[_0x576cd6(0x1bd)](_0x727ab4)&&_0x727ab4['length']>-0x1fec+-0x801+0x27ed*0x1){const _0x1b7214=_0x727ab4[0x1*-0x57d+0x4*-0x9e+0x15*0x61];if(_0x1b7214&&(_0x1b7214['notify']||_0x1b7214[_0x576cd6(0x1c8)]||_0x1b7214[_0x576cd6(0x1ff)]))return _0x1b7214[_0x576cd6(0x226)]||_0x1b7214['vname']||_0x1b7214[_0x576cd6(0x1ff)];}}if(botRef['sock']&&typeof botRef[_0x576cd6(0x17c)][_0x576cd6(0x165)]==='function'){const _0xdb2d9e=await botRef[_0x576cd6(0x17c)][_0x576cd6(0x165)](_0x24e2b9);if(Array[_0x576cd6(0x1bd)](_0xdb2d9e)&&_0xdb2d9e['length']>-0xda7+-0x3*-0xa07+-0x106e){const _0x2e7507=_0xdb2d9e[-0x1ea9+-0xc69*-0x3+0x3a*-0x1d];if(_0x2e7507&&(_0x2e7507[_0x576cd6(0x226)]||_0x2e7507[_0x576cd6(0x1c8)]||_0x2e7507['name']))return _0x2e7507[_0x576cd6(0x226)]||_0x2e7507[_0x576cd6(0x1c8)]||_0x2e7507['name'];}}}catch(_0x2c7058){}const _0x4c6525=String(_0x24e2b9)[_0x576cd6(0x232)](':')['pop']()['split']('@')[0x19af+-0xe2d+0x6*-0x1eb];return _0x4c6525||_0x24e2b9;}catch(_0xe4842a){return _0x24e2b9?.['split']?.('@')?.[0x22a*0xa+-0x260b+-0x11*-0xf7]??_0x24e2b9;}}async function getGroupTitle(_0x32fc69){const _0x4b7c9a=_0x68b25c;try{if(!botRef)return _0x32fc69;if(botRef[_0x4b7c9a(0x17c)]&&typeof botRef[_0x4b7c9a(0x17c)][_0x4b7c9a(0x172)+_0x4b7c9a(0x183)]===_0x4b7c9a(0x167)){const _0x323e3d=await botRef['sock'][_0x4b7c9a(0x172)+_0x4b7c9a(0x183)](_0x32fc69)[_0x4b7c9a(0x1d9)](()=>null);if(_0x323e3d&&_0x323e3d[_0x4b7c9a(0x152)])return _0x323e3d[_0x4b7c9a(0x152)];}if(typeof botRef['getGroupMe'+_0x4b7c9a(0x17f)]===_0x4b7c9a(0x167)){const _0x42eb64=await botRef['getGroupMe'+_0x4b7c9a(0x17f)](_0x32fc69)[_0x4b7c9a(0x1d9)](()=>null);if(_0x42eb64&&_0x42eb64[_0x4b7c9a(0x152)])return _0x42eb64[_0x4b7c9a(0x152)];}return _0x32fc69;}catch(_0x5f2232){return _0x32fc69;}}async function sendSummary(_0x5185d8,_0x548146,_0x552207){const _0x7d204d=_0x68b25c;try{if(!botRef)return;if(!CFG[_0x7d204d(0x130)+'up']){warn('['+name+(_0x7d204d(0x209)+_0x7d204d(0x20e)+'rget\x20is\x20se'+'t.\x20Skippin'+_0x7d204d(0x110)+_0x7d204d(0x1ce))+_0x5185d8+'.');return;}const _0x16db7c=await resolveDisplayName(_0x548146),_0x11a699=[],_0x2a6d74=[];for(const _0x5aae29 of _0x552207){const _0x5b2914=await resolveDisplayName(_0x5aae29);_0x11a699[_0x7d204d(0x228)](_0x5aae29),_0x2a6d74[_0x7d204d(0x228)]('\x20\x20@'+String(_0x5b2914)[_0x7d204d(0x11e)](/\n/g,'\x20'));}if(!_0x11a699[_0x7d204d(0x162)](_0x548146))_0x11a699[_0x7d204d(0x203)](_0x548146);const _0x40d2bf=await getGroupTitle(_0x5185d8),_0x475051=_0x7d204d(0x1fb)+String(_0x16db7c)['replace'](/\n/g,'\x20')+_0x7d204d(0x117),_0x173020=_0x2a6d74[_0x7d204d(0x1f7)]('\x0a'),_0x47c8da=_0x7d204d(0x20f)+'\x20'+_0x40d2bf+'\x20('+_0x5185d8+')',_0x250c2d=_0x475051+_0x173020+_0x47c8da,_0x46ee76=CFG['notify_gro'+'up'];if(botRef&&typeof botRef[_0x7d204d(0x21f)+'e']===_0x7d204d(0x167))await botRef[_0x7d204d(0x21f)+'e'](_0x46ee76,{'text':_0x250c2d,'mentions':_0x11a699});else botRef&&botRef['sock']&&typeof botRef[_0x7d204d(0x17c)][_0x7d204d(0x21f)+'e']===_0x7d204d(0x167)?await botRef[_0x7d204d(0x17c)]['sendMessag'+'e'](_0x46ee76,{'text':_0x250c2d,'mentions':_0x11a699}):warn('['+name+(']\x20no\x20send\x20'+'surface\x20to'+_0x7d204d(0x1e6)+_0x7d204d(0x137)+'ummary'));info('['+name+(_0x7d204d(0x219)+_0x7d204d(0x19a)+'mary\x20for\x20g'+_0x7d204d(0x21b))+_0x5185d8+(_0x7d204d(0x21e)+'\x20')+_0x46ee76);}catch(_0x1e4148){warn('['+name+(_0x7d204d(0x15c)+_0x7d204d(0x210)+':\x20')+(_0x1e4148?.[_0x7d204d(0x1c0)]||_0x1e4148));}}async function flushAdderForGroup(_0x41bf3e,_0x3f5d9b){const _0x3640ed=_0x68b25c;try{if(!botRef)return;const _0xde9730=groupQueues[_0x3640ed(0x115)](_0x41bf3e);if(!_0xde9730)return;const _0x32d404=_0xde9730[_0x3640ed(0x115)](_0x3f5d9b);if(!_0x32d404||_0x32d404['size']===0x5b1+0x1*0x923+0x124*-0xd){_0xde9730['delete'](_0x3f5d9b);if(_0xde9730[_0x3640ed(0x120)]===-0x1bfe+-0x87+0x7*0x413)groupQueues[_0x3640ed(0x11d)](_0x41bf3e);return;}const _0x48d720=Array[_0x3640ed(0x249)](_0x32d404);await sendSummary(_0x41bf3e,_0x3f5d9b,_0x48d720);}catch(_0x37206d){error(_0x37206d,'['+name+(_0x3640ed(0x1af)+_0x3640ed(0x1fc)+_0x3640ed(0x1b1)));}finally{const _0x343442=groupQueues[_0x3640ed(0x115)](_0x41bf3e);if(_0x343442){_0x343442[_0x3640ed(0x11d)](_0x3f5d9b);if(_0x343442[_0x3640ed(0x120)]===-0x151c+-0x50*-0x6d+0x4*-0x33d)groupQueues['delete'](_0x41bf3e);}}}async function flushGroup(_0x54b5da){const _0x331947=_0x68b25c;try{const _0xd826d5=groupQueues[_0x331947(0x115)](_0x54b5da);if(!_0xd826d5)return;const _0x3b5d96=Array[_0x331947(0x249)](_0xd826d5['keys']());for(const _0x55c941 of _0x3b5d96){await flushAdderForGroup(_0x54b5da,_0x55c941);}}catch(_0x4f6e60){error(_0x4f6e60,'['+name+(_0x331947(0x235)+_0x331947(0x133))+(_0x4f6e60?.[_0x331947(0x1c0)]||_0x4f6e60));}finally{if(groupTimers[_0x331947(0x12d)](_0x54b5da)){try{clearTimeout(groupTimers[_0x331947(0x115)](_0x54b5da));}catch(_0x387b97){}groupTimers[_0x331947(0x11d)](_0x54b5da);}if(groupQueues[_0x331947(0x115)](_0x54b5da)&&groupQueues[_0x331947(0x115)](_0x54b5da)[_0x331947(0x120)]===0x141a+-0x57*-0x2f+-0x5*0x737)groupQueues[_0x331947(0x11d)](_0x54b5da);}}async function gpUpdateHandler(_0x2b2c66){const _0x1cead9=_0x68b25c;try{if(!_0x2b2c66)return;if(!CFG[_0x1cead9(0x1cf)])return;const _0x3454a1=_0x2b2c66[_0x1cead9(0x1b8)]||_0x2b2c66[_0x1cead9(0x190)]||null;if(!_0x3454a1)return;if(String(_0x3454a1)[_0x1cead9(0x1f1)+'e']()!==_0x1cead9(0x159))return;const _0xa81b32=_0x2b2c66['id']||_0x2b2c66[_0x1cead9(0x11f)]||_0x2b2c66['jid']||_0x2b2c66['groupJid'];if(!_0xa81b32)return;const _0x111ccd=await dbIsGroupMonitored(_0xa81b32);if(!_0x111ccd)return;const _0x120c9c=Array[_0x1cead9(0x1bd)](_0x2b2c66['participan'+'ts'])?_0x2b2c66[_0x1cead9(0x177)+'ts']:Array['isArray'](_0x2b2c66[_0x1cead9(0x177)+_0x1cead9(0x204)])?_0x2b2c66[_0x1cead9(0x177)+_0x1cead9(0x204)]:[];if(!_0x120c9c||_0x120c9c[_0x1cead9(0x1b3)]===0x8b*-0x36+0x16a4+0x13*0x5a)return;const _0x38c7e7=_0x2b2c66[_0x1cead9(0x14d)]||_0x2b2c66[_0x1cead9(0x18b)]||_0x2b2c66['by']||_0x2b2c66[_0x1cead9(0x136)]||_0x2b2c66[_0x1cead9(0x1c1)]||_0x2b2c66[_0x1cead9(0x247)]||_0x1cead9(0x1b4)+_0x1cead9(0x1f6);if(!groupQueues[_0x1cead9(0x12d)](_0xa81b32))groupQueues['set'](_0xa81b32,new Map());const _0x54d247=groupQueues['get'](_0xa81b32);if(!_0x54d247[_0x1cead9(0x12d)](_0x38c7e7))_0x54d247[_0x1cead9(0x151)](_0x38c7e7,new Set());const _0x243eae=_0x54d247[_0x1cead9(0x115)](_0x38c7e7);for(const _0xaae980 of _0x120c9c)_0x243eae[_0x1cead9(0x159)](_0xaae980);if(groupTimers[_0x1cead9(0x12d)](_0xa81b32))try{clearTimeout(groupTimers[_0x1cead9(0x115)](_0xa81b32));}catch(_0x427575){}const _0x298a20=Math[_0x1cead9(0x24a)](-0xb*-0x2e7+0xd75+-0x2cfe,Number(CFG[_0x1cead9(0x131)+'S']||-0xbea*0x2+0x25*0xd+-0xa9*-0x33)),_0x236e68=setTimeout(()=>{const _0x2dbc54=_0x1cead9;flushGroup(_0xa81b32)[_0x2dbc54(0x1d9)](_0x1880c8=>warn('['+name+(_0x2dbc54(0x235)+'up\x20failed:'+'\x20')+(_0x1880c8?.[_0x2dbc54(0x1c0)]||_0x1880c8)));},_0x298a20);groupTimers[_0x1cead9(0x151)](_0xa81b32,_0x236e68);}catch(_0x5857cd){warn('['+name+(_0x1cead9(0x10f)+_0x1cead9(0x1f9)+'ror:\x20')+(_0x5857cd?.[_0x1cead9(0x1c0)]||_0x5857cd));}}function extractTextFromMessage(_0x62490c){const _0x43a480=_0x68b25c;if(!_0x62490c||!_0x62490c['message'])return'';const _0x39c8d3=_0x62490c[_0x43a480(0x1c0)];if(_0x39c8d3[_0x43a480(0x1a1)+'on'])return _0x39c8d3['conversati'+'on'];if(_0x39c8d3[_0x43a480(0x202)+_0x43a480(0x15b)]?.[_0x43a480(0x127)])return _0x39c8d3[_0x43a480(0x202)+_0x43a480(0x15b)][_0x43a480(0x127)];if(_0x39c8d3[_0x43a480(0x198)+'ge']?.[_0x43a480(0x169)])return _0x39c8d3[_0x43a480(0x198)+'ge']['caption'];if(_0x39c8d3[_0x43a480(0x12c)+'ge']?.['caption'])return _0x39c8d3[_0x43a480(0x12c)+'ge']['caption'];if(_0x39c8d3[_0x43a480(0x21a)+_0x43a480(0x134)+'ge']?.['selectedBu'+_0x43a480(0x1fa)])return _0x39c8d3[_0x43a480(0x21a)+_0x43a480(0x134)+'ge']['selectedBu'+_0x43a480(0x1fa)];if(_0x39c8d3[_0x43a480(0x1b0)+'seMessage']?.[_0x43a480(0x139)+'ctReply']?.[_0x43a480(0x1c6)+'wId'])return _0x39c8d3[_0x43a480(0x1b0)+_0x43a480(0x11a)]['singleSele'+'ctReply'][_0x43a480(0x1c6)+'wId'];return'';}function detectCommandName(_0x3ac9d4){const _0x253f53=_0x68b25c;if(!_0x3ac9d4)return null;const _0x4d15f3=_0x3ac9d4[_0x253f53(0x196)]();if(!_0x4d15f3)return null;return _0x4d15f3[_0x253f53(0x232)](/\s+/)[0xc12+-0x63e+0x1*-0x5d4]['toLowerCas'+'e']();}function parseJidsFromText(_0x4cd439){const _0x11b168=_0x68b25c;if(!_0x4cd439)return[];const _0x299470=_0x4cd439[_0x11b168(0x232)](/[\s,]+/)['map'](_0x4e4a6d=>_0x4e4a6d[_0x11b168(0x196)]())[_0x11b168(0x1de)](Boolean),_0x21bb26=_0x299470[_0x11b168(0x1de)](_0x54e142=>_0x54e142['includes']('@'))[_0x11b168(0x161)](_0x254641=>_0x254641);return _0x21bb26;}function parseDeleteItems(_0x30c588){const _0x501c2a=_0x68b25c;if(!_0x30c588)return[];const _0x49cce6=_0x30c588[_0x501c2a(0x232)](/[\s,]+/)['map'](_0x3ab34a=>_0x3ab34a[_0x501c2a(0x196)]())['filter'](Boolean),_0x156ab0=_0x49cce6[_0x501c2a(0x161)](_0x313583=>{const _0x39127e=_0x501c2a;if(/^\d+$/[_0x39127e(0x123)](_0x313583))return{'type':'index','value':Number(_0x313583)};return{'type':_0x39127e(0x157),'value':_0x313583};});return _0x156ab0;}async function sendApiOrFallback(_0x12a747,_0x1e1950,_0x362d8e=[]){const _0x45f00d=_0x68b25c;try{if(!_0x12a747||!_0x1e1950)return;if(botRef&&typeof botRef['sendMessag'+'e']===_0x45f00d(0x167))await botRef['sendMessag'+'e'](_0x12a747,{'text':String(_0x1e1950),'mentions':_0x362d8e});else botRef&&botRef['sock']&&typeof botRef[_0x45f00d(0x17c)][_0x45f00d(0x21f)+'e']===_0x45f00d(0x167)?await botRef['sock'][_0x45f00d(0x21f)+'e'](_0x12a747,{'text':String(_0x1e1950),'mentions':_0x362d8e}):warn('['+name+(_0x45f00d(0x148)+_0x45f00d(0x241)+_0x45f00d(0x1e4)+'r\x20confirma'+_0x45f00d(0x230))+_0x12a747);}catch(_0x4dfc07){warn('['+name+(_0x45f00d(0x128)+'rFallback\x20'+_0x45f00d(0x227))+(_0x4dfc07?.['message']||_0x4dfc07));}}function chunkLines(_0x5cefa1,_0x13de23=-0xe1f+0x2665+-0x126a){const _0x15221c=_0x68b25c,_0x12b6d7=[];let _0x482dea='';for(const _0x2dad6d of _0x5cefa1){(_0x482dea+'\x0a'+_0x2dad6d)['length']>_0x13de23&&(_0x12b6d7[_0x15221c(0x228)](_0x482dea[_0x15221c(0x196)]()),_0x482dea=''),_0x482dea+=(_0x482dea?'\x0a':'')+_0x2dad6d;}if(_0x482dea)_0x12b6d7['push'](_0x482dea[_0x15221c(0x196)]());return _0x12b6d7;}export async function initialize(_0x5d9582){const _0x52363f=_0x68b25c;try{if(!_0x5d9582)throw new Error('additions.'+_0x52363f(0x1e5)+_0x52363f(0x16a)+_0x52363f(0x16e)+'ce');botRef=_0x5d9582,await ensureSchema(),await refreshRuntimeConfig();try{startManagedListener({'botRef':botRef,'eventName':'group-part'+_0x52363f(0x1fd)+_0x52363f(0x171),'handler':gpUpdateHandler,'moduleName':name}),info('['+name+(_0x52363f(0x21c)+_0x52363f(0x1cb)+'\x20listener\x20'+_0x52363f(0x20c)+'participan'+'ts.update'));}catch(_0x501c6c){warn('['+name+(_0x52363f(0x193)+_0x52363f(0x1b9)+_0x52363f(0x185)+_0x52363f(0x12a))+(_0x501c6c?.['message']||_0x501c6c));}info('['+name+(_0x52363f(0x15a)+_0x52363f(0x173)));}catch(_0xc02f7f){error(_0xc02f7f,'['+name+(_0x52363f(0x15a)+_0x52363f(0x213))+(_0xc02f7f?.[_0x52363f(0x1c0)]||_0xc02f7f));throw _0xc02f7f;}}export async function onMessage(_0x538ccb){const _0x2de76d=_0x68b25c;try{if(!_0x538ccb||!_0x538ccb['key'])return;const _0x246afd=String(_0x538ccb[_0x2de76d(0x1ad)][_0x2de76d(0x23f)]||'')+'::'+String(_0x538ccb[_0x2de76d(0x1ad)]['id']||_0x538ccb[_0x2de76d(0x1ad)][_0x2de76d(0x177)+'t']||'');if(isProcessed(_0x246afd))return;markProcessed(_0x246afd);const _0x564c44=_0x538ccb['text']&&typeof _0x538ccb[_0x2de76d(0x127)]==='string'?_0x538ccb[_0x2de76d(0x127)]:extractTextFromMessage(_0x538ccb)||'';if(!_0x564c44)return;const _0x3a65c9=_0x538ccb[_0x2de76d(0x1ad)]['remoteJid'],_0x123520=String(_0x3a65c9||'')[_0x2de76d(0x17d)]('@g.us');if(!_0x538ccb[_0x2de76d(0x10e)])return;if(!_0x123520)return;let _0x2be3cd=![];try{_0x2be3cd=await isadmin(botRef,_0x538ccb);}catch(_0x546439){warn('['+name+(_0x2de76d(0x16c)+_0x2de76d(0x21d)+_0x2de76d(0x166))+(_0x546439?.['message']||_0x546439)),_0x2be3cd=![];}if(!_0x2be3cd)return;const _0x5068e3=typeof _0x538ccb[_0x2de76d(0x127)]==='string'&&_0x538ccb[_0x2de76d(0x127)][_0x2de76d(0x196)]()['length']?_0x538ccb[_0x2de76d(0x127)]['trim']():_0x564c44[_0x2de76d(0x196)](),_0x47e7a9=detectCommandName(_0x5068e3);if(!_0x47e7a9||!commands['includes'](_0x47e7a9))return;const _0x2eafd9=_0x3a65c9;if(_0x47e7a9==='additiongr'+_0x2de76d(0x188)){const _0x42b8e1=_0x5068e3[_0x2de76d(0x11e)](/^additiongroup\b/i,'')[_0x2de76d(0x196)]();let _0x52f45d=[];if(_0x42b8e1&&_0x42b8e1['length'])_0x52f45d=parseJidsFromText(_0x42b8e1);else{const _0x2fc218=_0x5068e3[_0x2de76d(0x232)](/\r?\n/)['slice'](-0x1*-0x171+-0xce6*-0x1+0xe56*-0x1)['map'](_0x3ab372=>_0x3ab372[_0x2de76d(0x196)]())[_0x2de76d(0x1de)](Boolean),_0x4e7277=_0x2fc218[_0x2de76d(0x1f7)]('\x20');_0x52f45d=parseJidsFromText(_0x4e7277);}if(!_0x52f45d[_0x2de76d(0x1b3)]){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x1d7)+'itiongroup'+_0x2de76d(0x1ab)+_0x2de76d(0x20d)+_0x2de76d(0x23b)+_0x2de76d(0x1a2)+_0x2de76d(0x1a3)+_0x2de76d(0x122)+'>\x0a');return;}const _0x247a0a=[],_0x6c02d5=[];for(const _0x24ffa9 of _0x52f45d){if(!_0x24ffa9[_0x2de76d(0x162)]('@')){_0x6c02d5[_0x2de76d(0x228)](_0x24ffa9);continue;}try{const _0x557c11=await dbAddGroup(_0x24ffa9);if(_0x557c11)_0x247a0a['push'](_0x24ffa9);else _0x6c02d5[_0x2de76d(0x228)](_0x24ffa9);}catch(_0x38c8e8){warn('['+name+(_0x2de76d(0x1b7)+_0x2de76d(0x170)+_0x2de76d(0x18c))+_0x24ffa9+':\x20'+(_0x38c8e8?.[_0x2de76d(0x1c0)]||_0x38c8e8)),_0x6c02d5[_0x2de76d(0x228)](_0x24ffa9);}}const _0x3415e8=[];if(_0x247a0a['length'])_0x3415e8['push']('‚úÖ\x20Added:\x0a'+_0x247a0a[_0x2de76d(0x161)](_0x84f830=>'‚Ä¢\x20'+_0x84f830)[_0x2de76d(0x1f7)]('\x0a'));if(_0x6c02d5['length'])_0x3415e8['push'](_0x2de76d(0x13d)+_0x2de76d(0x116)+_0x6c02d5[_0x2de76d(0x161)](_0x4b57d8=>'‚Ä¢\x20'+_0x4b57d8)[_0x2de76d(0x1f7)]('\x0a'));await sendApiOrFallback(_0x2eafd9,_0x3415e8[_0x2de76d(0x1f7)]('\x0a\x0a')||_0x2de76d(0x212)+'roup\x20JIDs\x20'+_0x2de76d(0x13c));return;}if(_0x47e7a9===_0x2de76d(0x154)+_0x2de76d(0x156)||_0x47e7a9===_0x2de76d(0x144)+_0x2de76d(0x1cc)){const _0x308156=_0x5068e3['replace'](/^(deladditiongroup|removeadditiongroup)\b/i,'')[_0x2de76d(0x196)]();if(!_0x308156){await sendApiOrFallback(_0x2eafd9,'Usage:\x20del'+_0x2de76d(0x174)+_0x2de76d(0x179)+_0x2de76d(0x138)+_0x2de76d(0x1bb)+_0x2de76d(0x1d3)+_0x2de76d(0x192)+_0x2de76d(0x1a8)+_0x2de76d(0x1d2)+'s.');return;}const _0x9e529b=parseDeleteItems(_0x308156);if(!_0x9e529b[_0x2de76d(0x1b3)]){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x23e)+'tems\x20to\x20de'+_0x2de76d(0x13e)+'group\x20JIDs'+_0x2de76d(0x217)+'s\x20from\x20lis'+_0x2de76d(0x187)+_0x2de76d(0x214));return;}const _0x3b3f2b=await dbListGroups(),_0x2c6b2a=new Set(),_0x33a38f=[];for(const _0x7e4cba of _0x9e529b){if(_0x7e4cba[_0x2de76d(0x190)]===_0x2de76d(0x157)){const _0x2da60d=_0x7e4cba['value'];if(_0x3b3f2b[_0x2de76d(0x162)](_0x2da60d))_0x2c6b2a['add'](_0x2da60d);else _0x33a38f[_0x2de76d(0x228)](_0x2da60d);}else{if(_0x7e4cba[_0x2de76d(0x190)]===_0x2de76d(0x184)){const _0x4cb1b2=_0x7e4cba[_0x2de76d(0x1a5)];if(_0x4cb1b2<=0x1fd*0xa+-0x10*-0x26c+0xbe*-0x4f||_0x4cb1b2>_0x3b3f2b[_0x2de76d(0x1b3)]){_0x33a38f[_0x2de76d(0x228)](String(_0x4cb1b2));continue;}const _0x1538f4=_0x3b3f2b[_0x4cb1b2-(-0x371*0x3+-0x31*-0x69+-0x9c5)];if(_0x1538f4)_0x2c6b2a[_0x2de76d(0x159)](_0x1538f4);}}}const _0x1b1510=[],_0x4fa377=[];for(const _0x146dec of Array[_0x2de76d(0x249)](_0x2c6b2a)){try{const _0x374418=await dbRemoveGroup(_0x146dec);if(_0x374418)_0x1b1510['push'](_0x146dec);else _0x4fa377[_0x2de76d(0x228)](_0x146dec);}catch(_0x1b9951){warn('['+name+(_0x2de76d(0x1fe)+_0x2de76d(0x22e)+_0x2de76d(0x1e0))+_0x146dec+':\x20'+(_0x1b9951?.[_0x2de76d(0x1c0)]||_0x1b9951)),_0x4fa377[_0x2de76d(0x228)](_0x146dec);}}const _0x5ef9cc=[];if(_0x1b1510[_0x2de76d(0x1b3)])_0x5ef9cc['push'](_0x2de76d(0x142)+'\x0a'+_0x1b1510['map'](_0x27b492=>'‚Ä¢\x20'+_0x27b492)[_0x2de76d(0x1f7)]('\x0a'));if(_0x4fa377[_0x2de76d(0x1b3)])_0x5ef9cc['push'](_0x2de76d(0x10d)+'o\x20remove:\x0a'+_0x4fa377[_0x2de76d(0x161)](_0x5deea0=>'‚Ä¢\x20'+_0x5deea0)[_0x2de76d(0x1f7)]('\x0a'));if(_0x33a38f['length'])_0x5ef9cc[_0x2de76d(0x228)](_0x2de76d(0x1d8)+'d\x20/\x20invali'+_0x2de76d(0x112)+_0x33a38f[_0x2de76d(0x161)](_0x352dfd=>'\x20'+_0x352dfd)[_0x2de76d(0x1f7)](','));await sendApiOrFallback(_0x2eafd9,_0x5ef9cc['join']('\x0a\x0a')||_0x2de76d(0x1d4)+_0x2de76d(0x229));return;}if(_0x47e7a9===_0x2de76d(0x1ed)+_0x2de76d(0x197)||_0x47e7a9==='additiongr'+'oups'){const _0x4c3e3b=await dbListGroups();if(!_0x4c3e3b||_0x4c3e3b[_0x2de76d(0x1b3)]===-0x487*0x4+0x1*0x448+0xdd4){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x145)+_0x2de76d(0x239)+'onfigured.');return;}const _0x42d241=_0x4c3e3b[_0x2de76d(0x161)]((_0x2cbed0,_0x3d2ec3)=>_0x3d2ec3+(-0x2*0x70b+-0x1cf5+0x227*0x14)+'.\x20'+_0x2cbed0),_0x416d79=chunkLines(_0x42d241,-0x55*0x1e+0x20b0+-0x120a*0x1);for(const _0x4ac4e8 of _0x416d79)await sendApiOrFallback(_0x2eafd9,_0x4ac4e8);return;}if(_0x47e7a9===_0x2de76d(0x155)){const _0x1c8ac5=_0x5068e3['split'](/\s+/)[_0x2de76d(0x223)](-0x27*0x97+-0x17f+-0x99*-0x29);if(!_0x1c8ac5||!_0x1c8ac5[-0x1e39+-0x182+0x1fbb*0x1]){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x1d7)+_0x2de76d(0x1a9)+_0x2de76d(0x240)+_0x2de76d(0x205)+(CFG[_0x2de76d(0x1cf)]?'on':_0x2de76d(0x168)));return;}const _0xafe867=_0x1c8ac5[0x2fa+0x2*0x525+-0x3*0x46c][_0x2de76d(0x1f1)+'e']();if(_0xafe867!=='on'&&_0xafe867!==_0x2de76d(0x168)){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x1d7)+_0x2de76d(0x1a9)+_0x2de76d(0x168));return;}const _0x1861e4=_0xafe867==='on';if(_0x1861e4){const _0x2e06d2=await dbListGroups(),_0x1da241=await dbGetConfig(_0x2de76d(0x130)+'up');if(_0x2e06d2[_0x2de76d(0x1b3)]===0x83*-0x46+-0x1185+-0x1*-0x3557){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x238)+'nable.\x20Ple'+_0x2de76d(0x158)+_0x2de76d(0x19b)+_0x2de76d(0x18a)+_0x2de76d(0x216)+_0x2de76d(0x1c9)+_0x2de76d(0x1b5)+_0x2de76d(0x1e9));return;}if(!_0x1da241){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x238)+_0x2de76d(0x195)+'ase\x20set\x20a\x20'+_0x2de76d(0x1d0)+_0x2de76d(0x1d6)+_0x2de76d(0x1e3)+_0x2de76d(0x15d)+_0x2de76d(0x1dd)+_0x2de76d(0x16d));return;}}const _0xa6ad1d=await dbSetConfig('enabled',_0x1861e4?'1':'0');if(!_0xa6ad1d){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x186)+'update\x20add'+_0x2de76d(0x23c)+_0x2de76d(0x1ae)+'.');return;}CFG[_0x2de76d(0x1cf)]=_0x1861e4,await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x24d)+'s\x20'+(_0x1861e4?_0x2de76d(0x22f):_0x2de76d(0x208)));return;}if(_0x47e7a9==='additionta'+_0x2de76d(0x1c7)){const _0x3cf07d=_0x5068e3[_0x2de76d(0x232)](/\s+/)[_0x2de76d(0x223)](0x1*-0x18f5+0x1*0x48d+0xd1*0x19);if(!_0x3cf07d||!_0x3cf07d[0x1a4b+-0x2319+-0xe*-0xa1]){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x1d7)+_0x2de76d(0x1a0)+'t\x20<target_'+_0x2de76d(0x14b)+'\x0aCurrent:\x20'+(CFG[_0x2de76d(0x130)+'up']||'(none\x20-\x20RE'+'QUIRED)'));return;}const _0x25eb4d=_0x3cf07d[0x6b6+-0x1a8c*0x1+0x13d6][_0x2de76d(0x196)]();if(_0x25eb4d['toLowerCas'+'e']()===_0x2de76d(0x1cd)){await dbDeleteConfig('notify_gro'+'up'),CFG['notify_gro'+'up']=null,await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x24d)+_0x2de76d(0x22a)+_0x2de76d(0x1f3)+':\x20The\x20syst'+'em\x20cannot\x20'+'be\x20turned\x20'+_0x2de76d(0x164)+_0x2de76d(0x22b));return;}if(!_0x25eb4d[_0x2de76d(0x162)]('@')){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x141)+_0x2de76d(0x11b)+_0x2de76d(0x150)+_0x2de76d(0x114)+_0x2de76d(0x146));return;}const _0x5b509a=await dbSetConfig(_0x2de76d(0x130)+'up',_0x25eb4d);if(!_0x5b509a){await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x23a)+_0x2de76d(0x233)+_0x2de76d(0x15f)+_0x25eb4d);return;}CFG['notify_gro'+'up']=_0x25eb4d,await sendApiOrFallback(_0x2eafd9,_0x2de76d(0x24d)+_0x2de76d(0x143)+_0x2de76d(0x18f)+_0x25eb4d);return;}if(_0x47e7a9==='additionst'+_0x2de76d(0x135)){const _0x5d54f7=CFG['ENABLED']?'on':'off',_0x2152be=CFG[_0x2de76d(0x130)+'up']||_0x2de76d(0x1b2)+_0x2de76d(0x180)+_0x2de76d(0x19d),_0x40b5dd=await dbListGroups(),_0x9f7e67=[_0x2de76d(0x1da)+_0x2de76d(0x1ba)+_0x2de76d(0x1f8),_0x2de76d(0x20a)+_0x5d54f7+'*',_0x2de76d(0x132)+_0x2de76d(0x14e)+_0x2152be+'*',_0x2de76d(0x181)+_0x2de76d(0x12e)+(_0x40b5dd[_0x2de76d(0x1b3)]||-0x84b+0x2*0x274+0x1*0x363)+'*'];await sendApiOrFallback(_0x2eafd9,_0x9f7e67[_0x2de76d(0x1f7)]('\x0a'));if(_0x40b5dd['length']){const _0x44dd29=_0x40b5dd[_0x2de76d(0x161)]((_0x27dcf4,_0x4972c3)=>_0x4972c3+(0x107f+-0xe*-0x1ec+0xb*-0x3f2)+'.\x20'+_0x27dcf4),_0x4a8dec=chunkLines(_0x44dd29,-0x33a+-0xd83+-0x1*-0x156d);for(const _0x38dcdb of _0x4a8dec)await sendApiOrFallback(_0x2eafd9,_0x38dcdb);}return;}}catch(_0x456df2){error(_0x456df2,'['+name+(_0x2de76d(0x220)+_0x2de76d(0x248))+(_0x456df2?.[_0x2de76d(0x1c0)]||_0x456df2));}}export async function cleanup(){const _0x37a108=_0x68b25c;try{for(const _0x5754d5 of groupTimers[_0x37a108(0x12b)]())try{clearTimeout(_0x5754d5);}catch(_0x4d6805){}groupTimers['clear'](),groupQueues[_0x37a108(0x1cd)]();try{stopManagedListener(name,_0x37a108(0x189)+_0x37a108(0x1fd)+_0x37a108(0x171));}catch(_0x4340d5){}}catch(_0x10cf2f){warn('['+name+(_0x37a108(0x237)+_0x37a108(0x221))+(_0x10cf2f?.['message']||_0x10cf2f));}finally{botRef=null,info('['+name+(']\x20cleaned\x20'+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};