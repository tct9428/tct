const _0x3b9ffe=_0x5233;(function(_0x214cc8,_0x42e8ad){const _0x211ef0=_0x5233,_0x51396b=_0x214cc8();while(!![]){try{const _0x358b42=parseInt(_0x211ef0(0x1a2))/(0x1325+0x1dd1+-0x30f5)+parseInt(_0x211ef0(0x1ba))/(-0x1c99+-0x2f3*0x8+-0x17*-0x245)+-parseInt(_0x211ef0(0x162))/(-0x1b14*-0x1+0x1*0x1de0+-0x38f1)+-parseInt(_0x211ef0(0x1a0))/(0x17b*0x9+-0x28*-0x27+-0x1367)*(parseInt(_0x211ef0(0x1f9))/(-0x8d6+0x4d*0xc+-0x1*-0x53f))+parseInt(_0x211ef0(0x12f))/(-0x12e9*-0x1+0x668+-0x194b)*(-parseInt(_0x211ef0(0x14c))/(-0xa98+0x24c6+0x1a27*-0x1))+parseInt(_0x211ef0(0x211))/(0x9d9*-0x1+0xfe*-0x23+0x2c9b)+-parseInt(_0x211ef0(0x178))/(-0x139b*0x1+-0x20a+0x15ae)*(-parseInt(_0x211ef0(0x158))/(0xe1a+-0x19b7+-0x1*-0xba7));if(_0x358b42===_0x42e8ad)break;else _0x51396b['push'](_0x51396b['shift']());}catch(_0xcaf29){_0x51396b['push'](_0x51396b['shift']());}}}(_0x2cb7,0x3*-0x53816+-0xadc7b+0x1*0x23714b));import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import*as _0x5c9150 from'../utils/groups.js';import{getBotJid}from'../utils/bot-state.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';export const name=_0x3b9ffe(0x1aa);export const version=_0x3b9ffe(0x13d);export const priority=0x21db+0x17db+-0x395c;export const configKeys=['ADDITIONS'];export const commands=[_0x3b9ffe(0x1dd)+'oup',_0x3b9ffe(0x1c0)+_0x3b9ffe(0x1c9),'removeaddi'+_0x3b9ffe(0x17b),'listadditi'+_0x3b9ffe(0x17c),_0x3b9ffe(0x1dd)+_0x3b9ffe(0x1b2),'additions',_0x3b9ffe(0x146)+_0x3b9ffe(0x16c),_0x3b9ffe(0x21d)+_0x3b9ffe(0x12b)];let botRef=null;const groupQueues=new Map(),groupTimers=new Map();let CFG={'ENABLED':![],'DEBOUNCE_MS':0xbb8,'notify_group':null};const DEDUPE_TTL_MS=(-0x561*0x7+-0x3a1*0x1+-0x2966*-0x1)*(-0x2*0x794+-0x29*-0xb2+-0x6*0x193),processedMessageKeys=new Map();function markProcessed(_0x249f72){const _0x71f87e=_0x3b9ffe;if(!_0x249f72)return;if(processedMessageKeys['has'](_0x249f72))try{clearTimeout(processedMessageKeys[_0x71f87e(0x1b4)](_0x249f72));}catch(_0x4c0a4e){}const _0x2b6ca1=setTimeout(()=>processedMessageKeys[_0x71f87e(0x13f)](_0x249f72),DEDUPE_TTL_MS);processedMessageKeys[_0x71f87e(0x165)](_0x249f72,_0x2b6ca1);}function isProcessed(_0x513ffa){return _0x513ffa&&processedMessageKeys['has'](_0x513ffa);}async function ensureSchema(){const _0x3160ce=_0x3b9ffe;try{await db[_0x3160ce(0x1bf)](_0x3160ce(0x1df)+_0x3160ce(0x138)+'IF\x20NOT\x20EXI'+_0x3160ce(0x1f7)+_0x3160ce(0x18d)+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x3160ce(0x1d1)+'PRIMARY\x20KE'+_0x3160ce(0x195)+_0x3160ce(0x1f2)+_0x3160ce(0x154)+_0x3160ce(0x18b)),await db[_0x3160ce(0x1bf)](_0x3160ce(0x1df)+_0x3160ce(0x138)+_0x3160ce(0x184)+'STS\x20additi'+'ons_groups'+_0x3160ce(0x13b)+_0x3160ce(0x206)+_0x3160ce(0x218)+_0x3160ce(0x1af)+_0x3160ce(0x1ef)+'\x20');}catch(_0x3506a2){error(_0x3506a2,'['+name+(_0x3160ce(0x15d)+'hema\x20faile'+_0x3160ce(0x1c4))+(_0x3506a2?.[_0x3160ce(0x1eb)]||_0x3506a2));throw _0x3506a2;}}async function dbSetConfig(_0x308ed7,_0x275786){const _0x29953f=_0x3b9ffe;try{return await db[_0x29953f(0x19d)](_0x29953f(0x14a)+_0x29953f(0x1d7)+_0x29953f(0x163)+_0x29953f(0x17a)+_0x29953f(0x135)+_0x29953f(0x15a)+_0x29953f(0x1e6)+_0x29953f(0x14d)+_0x29953f(0x1c6)+_0x29953f(0x12d)+_0x29953f(0x190),[_0x308ed7,String(_0x275786)]),!![];}catch(_0xaeb9a1){return![];}}function _0x5233(_0x1b6274,_0x347d58){_0x1b6274=_0x1b6274-(0xd3+0x163*0x7+-0x95d);const _0x3313dc=_0x2cb7();let _0x508d4a=_0x3313dc[_0x1b6274];return _0x508d4a;}async function dbGetConfig(_0xef227a){const _0x310ce0=_0x3b9ffe;try{const _0x6b7ada=await db['get']('SELECT\x20val'+_0x310ce0(0x1f5)+'ditions_co'+_0x310ce0(0x201)+'\x20key\x20=\x20?\x20L'+_0x310ce0(0x1c2),[_0xef227a]);return _0x6b7ada?_0x6b7ada[_0x310ce0(0x176)]:null;}catch(_0x41c1f7){return null;}}async function dbDeleteConfig(_0x491dd5){const _0x59a592=_0x3b9ffe;try{return await db[_0x59a592(0x19d)]('DELETE\x20FRO'+_0x59a592(0x191)+_0x59a592(0x20d)+_0x59a592(0x1a8)+'\x20?',[_0x491dd5]),!![];}catch(_0x2316ce){return![];}}async function dbAddGroup(_0x1fd93b){const _0x12a46d=_0x3b9ffe;try{return await db['run']('INSERT\x20INT'+'O\x20addition'+_0x12a46d(0x1a5)+_0x12a46d(0x13e)+_0x12a46d(0x18e)+_0x12a46d(0x13a)+'ICT(group_'+'jid)\x20DO\x20NO'+'THING;',[_0x1fd93b]),!![];}catch(_0x31aaa8){return![];}}async function dbRemoveGroup(_0xde2965){const _0x4d1fdf=_0x3b9ffe;try{const _0x1d1b3f=await db[_0x4d1fdf(0x19d)]('DELETE\x20FRO'+_0x4d1fdf(0x191)+_0x4d1fdf(0x212)+_0x4d1fdf(0x1cd)+_0x4d1fdf(0x15e),[_0xde2965]);return!!_0x1d1b3f?.[_0x4d1fdf(0x1f8)];}catch(_0x4fe99a){return![];}}async function dbListGroups(){const _0x4f4c8b=_0x3b9ffe;try{const _0x144ef9=await db[_0x4f4c8b(0x1ff)](_0x4f4c8b(0x1e9)+_0x4f4c8b(0x161)+_0x4f4c8b(0x191)+_0x4f4c8b(0x16d)+'RDER\x20BY\x20gr'+'oup_jid');return(_0x144ef9||[])[_0x4f4c8b(0x1e2)](_0x1e8cd1=>_0x1e8cd1[_0x4f4c8b(0x147)]);}catch(_0x2c679f){return[];}}async function dbIsGroupMonitored(_0x246330){const _0x5bca94=_0x3b9ffe;try{const _0x42cad3=await db['get']('SELECT\x20gro'+'up_jid\x20FRO'+'M\x20addition'+_0x5bca94(0x212)+_0x5bca94(0x1cd)+'_jid\x20=\x20?\x20L'+_0x5bca94(0x1c2),[_0x246330]);return!!_0x42cad3;}catch(_0x5affca){return![];}}async function refreshRuntimeConfig(){const _0x4ce5c7=_0x3b9ffe;try{const _0x27e427=getConfig()||{},_0xc7400a=_0x27e427[_0x4ce5c7(0x192)]&&typeof _0x27e427[_0x4ce5c7(0x192)]===_0x4ce5c7(0x1c1)?_0x27e427[_0x4ce5c7(0x192)]:{};CFG[_0x4ce5c7(0x1b6)+'S']=Number['isInteger'](_0xc7400a['DEBOUNCE_M'+'S'])?_0xc7400a[_0x4ce5c7(0x1b6)+'S']:0x7a*0x4c+-0xbbf*-0x1+-0x243f*0x1;const _0xa983ad=await dbGetConfig('enabled');CFG[_0x4ce5c7(0x1cf)]=_0xa983ad==='1'||_0xa983ad==='true';const _0x497651=await dbGetConfig(_0x4ce5c7(0x1d3)+'s');if(_0x497651!==null&&!Number['isNaN'](Number(_0x497651)))CFG[_0x4ce5c7(0x1b6)+'S']=Number(_0x497651);const _0xd5abc9=await dbGetConfig(_0x4ce5c7(0x169)+'up');CFG[_0x4ce5c7(0x169)+'up']=_0xd5abc9||null;}catch(_0x3bfc0e){}}try{hotReloadConfig&&hotReloadConfig(_0x4b6012=>{try{refreshRuntimeConfig();}catch(_0xec9719){}});}catch(_0x5de070){}async function resolveDisplayName(_0x591bec){const _0x38399e=_0x3b9ffe;try{const _0x2f23f9=typeof _0x591bec===_0x38399e(0x1dc)?_0x591bec:_0x591bec?.['id']||_0x591bec?.['jid']||null;if(!botRef||!_0x2f23f9){const _0x2b6dd=_0x2f23f9||(typeof _0x591bec===_0x38399e(0x1c1)?_0x591bec?.['id']:_0x591bec)||_0x38399e(0x207);return _0x2b6dd['split']?.('@')?.[-0x250c*-0x1+0x1583+-0x3a8f]??_0x2b6dd;}try{if(typeof botRef['onWhatsApp']===_0x38399e(0x172)){const _0x4a1df1=await botRef[_0x38399e(0x173)](_0x2f23f9);if(Array[_0x38399e(0x1de)](_0x4a1df1)&&_0x4a1df1['length']>0x1305+-0x1504+0x1ff){const _0x28acc3=_0x4a1df1[0x2*0xa63+0x1*-0x303+-0x11c3];if(_0x28acc3&&(_0x28acc3[_0x38399e(0x1ab)]||_0x28acc3[_0x38399e(0x1f3)]||_0x28acc3[_0x38399e(0x1e0)]))return _0x28acc3[_0x38399e(0x1ab)]||_0x28acc3[_0x38399e(0x1f3)]||_0x28acc3['name'];}}if(botRef[_0x38399e(0x1b5)]&&typeof botRef[_0x38399e(0x1b5)]['onWhatsApp']===_0x38399e(0x172)){const _0x1cb0e2=await botRef[_0x38399e(0x1b5)][_0x38399e(0x173)](_0x2f23f9);if(Array['isArray'](_0x1cb0e2)&&_0x1cb0e2['length']>0x3cd*-0x1+0x24e5+-0x2118){const _0x5b4472=_0x1cb0e2[0x712*-0x1+0x12e7+-0xbd5];if(_0x5b4472&&(_0x5b4472[_0x38399e(0x1ab)]||_0x5b4472[_0x38399e(0x1f3)]||_0x5b4472['name']))return _0x5b4472['notify']||_0x5b4472[_0x38399e(0x1f3)]||_0x5b4472['name'];}}}catch(_0x539422){}const _0x2b2a15=String(_0x2f23f9)[_0x38399e(0x18f)](':')[_0x38399e(0x1da)]()['split']('@')[0x651*-0x1+-0x1fc1+0x2612];return _0x2b2a15||_0x2f23f9;}catch(_0x43b2fb){const _0x4f96e7=typeof _0x591bec==='string'?_0x591bec:_0x591bec?.['id']||_0x38399e(0x207);return _0x4f96e7?.[_0x38399e(0x18f)]?.('@')?.[0x2*-0x3d3+-0x1*0x223b+0x29e1]??_0x4f96e7;}}async function getGroupTitle(_0x55b476){const _0x1f775e=_0x3b9ffe;try{if(!botRef)return _0x55b476;if(botRef[_0x1f775e(0x1b5)]&&typeof botRef[_0x1f775e(0x1b5)][_0x1f775e(0x1b3)+'ata']==='function'){const _0x47c184=await botRef[_0x1f775e(0x1b5)]['groupMetad'+_0x1f775e(0x1ca)](_0x55b476)[_0x1f775e(0x185)](()=>null);if(_0x47c184&&_0x47c184['subject'])return _0x47c184[_0x1f775e(0x17e)];}if(typeof botRef['getGroupMe'+_0x1f775e(0x1fb)]===_0x1f775e(0x172)){const _0x7a53cf=await botRef['getGroupMe'+_0x1f775e(0x1fb)](_0x55b476)[_0x1f775e(0x185)](()=>null);if(_0x7a53cf&&_0x7a53cf['subject'])return _0x7a53cf['subject'];}return _0x55b476;}catch(_0x3ddd95){return _0x55b476;}}async function sendSummary(_0x299db6,_0x1dcc7f,_0x1b54da){const _0x301e3c=_0x3b9ffe;try{if(!botRef)return;if(!CFG['notify_gro'+'up'])return;const _0x1e2692=await resolveDisplayName(_0x1dcc7f)||_0x1dcc7f||_0x301e3c(0x182),_0x4a1899=[],_0xc68f0b=[];for(const _0x3e60fc of _0x1b54da){if(!_0x3e60fc)continue;const _0x44dc6b=await resolveDisplayName(_0x3e60fc)||_0x3e60fc||_0x301e3c(0x182);_0x4a1899['push'](String(_0x3e60fc)),_0xc68f0b[_0x301e3c(0x1fa)]('\x20\x20@'+String(_0x44dc6b)['replace'](/\n/g,'\x20'));}_0x1dcc7f&&!_0x4a1899['includes'](String(_0x1dcc7f))&&_0x4a1899[_0x301e3c(0x14b)](String(_0x1dcc7f));const _0x30751d=await getGroupTitle(_0x299db6)||_0x299db6||_0x301e3c(0x1f6)+_0x301e3c(0x189),_0x45e995='üë•\x20@'+String(_0x1e2692)[_0x301e3c(0x1e7)](/\n/g,'\x20')+_0x301e3c(0x167),_0x578eaa=_0xc68f0b[_0x301e3c(0x1a3)]('\x0a'),_0x23a773=_0x301e3c(0x13c)+'\x20'+String(_0x30751d)+'\x20('+String(_0x299db6??_0x301e3c(0x1ec)+'D')+')',_0x14363e=_0x45e995+_0x578eaa+_0x23a773,_0x2c5247=CFG[_0x301e3c(0x169)+'up'];if(botRef&&typeof botRef['sendMessag'+'e']===_0x301e3c(0x172))await botRef[_0x301e3c(0x187)+'e'](_0x2c5247,{'text':_0x14363e,'mentions':_0x4a1899});else botRef&&botRef[_0x301e3c(0x1b5)]&&typeof botRef[_0x301e3c(0x1b5)]['sendMessag'+'e']===_0x301e3c(0x172)&&await botRef['sock'][_0x301e3c(0x187)+'e'](_0x2c5247,{'text':_0x14363e,'mentions':_0x4a1899});}catch(_0x3c96a4){}}async function flushAdderForGroup(_0x1f2099,_0x21e57c){const _0x8f73cd=_0x3b9ffe;try{if(!botRef)return;const _0x1ce691=groupQueues[_0x8f73cd(0x1b4)](_0x1f2099);if(!_0x1ce691)return;const _0x2c8cdd=_0x1ce691[_0x8f73cd(0x1b4)](_0x21e57c);if(!_0x2c8cdd||_0x2c8cdd['size']===-0x1*0x1c4e+-0x1017+0x2c65){_0x1ce691['delete'](_0x21e57c);if(_0x1ce691[_0x8f73cd(0x143)]===-0x1b9d+0x152d+0x67*0x10)groupQueues[_0x8f73cd(0x13f)](_0x1f2099);return;}const _0x429f0d=Array[_0x8f73cd(0x1a7)](_0x2c8cdd);await sendSummary(_0x1f2099,_0x21e57c,_0x429f0d);}catch(_0x47f551){}finally{const _0x2d24f3=groupQueues[_0x8f73cd(0x1b4)](_0x1f2099);if(_0x2d24f3){_0x2d24f3[_0x8f73cd(0x13f)](_0x21e57c);if(_0x2d24f3['size']===-0x969+0x1ea4+-0x153b)groupQueues[_0x8f73cd(0x13f)](_0x1f2099);}}}async function flushGroup(_0x54409e){const _0x45c497=_0x3b9ffe;try{const _0x55fcef=groupQueues[_0x45c497(0x1b4)](_0x54409e);if(!_0x55fcef)return;const _0xc9fcb2=Array[_0x45c497(0x1a7)](_0x55fcef[_0x45c497(0x1a4)]());for(const _0x16bc21 of _0xc9fcb2){await flushAdderForGroup(_0x54409e,_0x16bc21);}}catch(_0x5c9862){}finally{if(groupTimers[_0x45c497(0x204)](_0x54409e)){try{clearTimeout(groupTimers[_0x45c497(0x1b4)](_0x54409e));}catch(_0xab760a){}groupTimers['delete'](_0x54409e);}if(groupQueues[_0x45c497(0x1b4)](_0x54409e)&&groupQueues['get'](_0x54409e)['size']===0x68+0x399*-0x5+0x7*0x283)groupQueues[_0x45c497(0x13f)](_0x54409e);}}async function gpUpdateHandler(_0xcdd915){const _0x22b0ab=_0x3b9ffe;try{if(!_0xcdd915)return;if(!CFG[_0x22b0ab(0x1cf)])return;const _0x5b2a3f=_0xcdd915['action']||_0xcdd915[_0x22b0ab(0x1fc)]||null;if(!_0x5b2a3f)return;if(String(_0x5b2a3f)[_0x22b0ab(0x1ea)+'e']()!==_0x22b0ab(0x1e3))return;const _0x37265d=_0xcdd915['id']||_0xcdd915[_0x22b0ab(0x1a9)]||_0xcdd915[_0x22b0ab(0x20a)]||_0xcdd915[_0x22b0ab(0x200)];if(!_0x37265d)return;const _0x3efb1e=await dbIsGroupMonitored(_0x37265d);if(!_0x3efb1e)return;const _0x92ce08=Array[_0x22b0ab(0x1de)](_0xcdd915['participan'+'ts'])?_0xcdd915[_0x22b0ab(0x219)+'ts']:Array[_0x22b0ab(0x1de)](_0xcdd915[_0x22b0ab(0x219)+_0x22b0ab(0x21c)])?_0xcdd915[_0x22b0ab(0x219)+_0x22b0ab(0x21c)]:[];if(!_0x92ce08||_0x92ce08[_0x22b0ab(0x1a6)]===0x1*0x60f+0x4*0x3a3+-0x149b)return;const _0x14cc60=_0xcdd915[_0x22b0ab(0x181)]||_0xcdd915[_0x22b0ab(0x16b)]||_0xcdd915['by']||_0xcdd915[_0x22b0ab(0x180)]||_0xcdd915[_0x22b0ab(0x20e)]||_0xcdd915[_0x22b0ab(0x21b)]||_0x22b0ab(0x188)+'tem';if(!groupQueues[_0x22b0ab(0x204)](_0x37265d))groupQueues[_0x22b0ab(0x165)](_0x37265d,new Map());const _0x18f290=groupQueues[_0x22b0ab(0x1b4)](_0x37265d);if(!_0x18f290[_0x22b0ab(0x204)](_0x14cc60))_0x18f290[_0x22b0ab(0x165)](_0x14cc60,new Set());const _0x37b1cd=_0x18f290[_0x22b0ab(0x1b4)](_0x14cc60);for(const _0x56275d of _0x92ce08){const _0x406817=typeof _0x56275d==='string'?_0x56275d:_0x56275d?.['id']||_0x56275d?.[_0x22b0ab(0x20a)]||null;_0x406817&&_0x37b1cd[_0x22b0ab(0x1e3)](_0x406817);}if(groupTimers[_0x22b0ab(0x204)](_0x37265d))try{clearTimeout(groupTimers['get'](_0x37265d));}catch(_0x2ed077){}const _0x190b27=Math['max'](0x2094+0x76*-0x2e+0x2bf*-0x4,Number(CFG['DEBOUNCE_M'+'S']||0x83+-0x19*-0xa7+0x28d*-0x2)),_0x37d533=setTimeout(()=>{const _0x42f23c=_0x22b0ab;flushGroup(_0x37265d)[_0x42f23c(0x185)](_0x105240=>{});},_0x190b27);groupTimers['set'](_0x37265d,_0x37d533);}catch(_0x5918a4){}}function extractTextFromMessage(_0x41c5e9){const _0xfb97d1=_0x3b9ffe;if(!_0x41c5e9||!_0x41c5e9[_0xfb97d1(0x1eb)])return'';const _0x33dda8=_0x41c5e9['message'];if(_0x33dda8[_0xfb97d1(0x215)+'on'])return _0x33dda8[_0xfb97d1(0x215)+'on'];if(_0x33dda8[_0xfb97d1(0x196)+_0xfb97d1(0x149)]?.[_0xfb97d1(0x210)])return _0x33dda8['extendedTe'+_0xfb97d1(0x149)][_0xfb97d1(0x210)];if(_0x33dda8[_0xfb97d1(0x19a)+'ge']?.[_0xfb97d1(0x217)])return _0x33dda8[_0xfb97d1(0x19a)+'ge']['caption'];if(_0x33dda8[_0xfb97d1(0x1bb)+'ge']?.[_0xfb97d1(0x217)])return _0x33dda8[_0xfb97d1(0x1bb)+'ge']['caption'];if(_0x33dda8[_0xfb97d1(0x216)+_0xfb97d1(0x1be)+'ge']?.[_0xfb97d1(0x1e8)+'ttonId'])return _0x33dda8[_0xfb97d1(0x216)+'ponseMessa'+'ge'][_0xfb97d1(0x1e8)+_0xfb97d1(0x17f)];if(_0x33dda8[_0xfb97d1(0x1d2)+_0xfb97d1(0x1ee)]?.[_0xfb97d1(0x133)+'ctReply']?.[_0xfb97d1(0x12c)+_0xfb97d1(0x141)])return _0x33dda8[_0xfb97d1(0x1d2)+'seMessage'][_0xfb97d1(0x133)+_0xfb97d1(0x1c5)]['selectedRo'+'wId'];return'';}function _0x2cb7(){const _0xda106a=['st.','Y,\x0a\x20\x20\x20\x20\x20\x20\x20','extendedTe','*Additions','target\x20set','listadditi','imageMessa','em\x20cannot\x20','jid|clear>','run','\x20<group_ji','filter','4zfTyLJ','monitor\x20us','50423lIWAjA','join','keys','s_groups\x20(','length','from','HERE\x20key\x20=','groupId','additions','notify','itions\x20on|','arget`\x20fir','\x20group\x20to\x20','ARY\x20KEY\x0a\x20\x20','pdate','‚úÖ\x20Removed:','oups','groupMetad','get','sock','DEBOUNCE_M','bled\x20state','ared.\x20Note','update\x20add','471394DJKFRG','videoMessa','‚ùå\x20addition','nable.\x20Ple','ponseMessa','exec','deladditio','object','IMIT\x201','remoteJid','d:\x20','ctReply','TE\x20SET\x20val','\x20a\x20target.','e\x20error:\x20','ngroup','ata','Monitored\x20','\x20Notifier\x20','HERE\x20group','e.g.\x201203.','ENABLED','d>\x20[<group','\x20key\x20TEXT\x20','listRespon','debounce_m','‚ùå\x20Failed\x20t','enabled','Usage:\x20add','O\x20addition','lete.\x20Use\x20','notificati','pop','.]>\x0aUse\x20li','string','additiongr','isArray','\x0a\x20\x20\x20\x20\x20\x20CRE','name',':\x20The\x20syst','map','add','oup\x20<group','led\x20for\x20','ONFLICT(ke','replace','selectedBu','SELECT\x20gro','toLowerCas','message','Unknown\x20JI','Failed\x20to\x20','seMessage','\x20\x20\x20\x20);\x0a\x20\x20\x20','ase\x20set\x20a\x20','\x20to\x20','\x20value\x20TEX','vname','ongroup\x0a<j','ue\x20FROM\x20ad','Unknown\x20Gr','STS\x20additi','changes','326290GBOZik','push','tadata','type','No\x20valid\x20g','ase\x20add\x20at','all','groupJid','nfig\x20WHERE','@g.us','initialize','has','‚úÖ\x20addition','\x20group_jid','unknown','off\x0aCurren','_jid|index','jid',']\x20initiali','isCommand','s_config\x20W','admin','failed:\x0a','text','3308584QLPXpM','s_groups\x20W','s\x20from\x20lis','includes','conversati','buttonsRes','caption','\x20TEXT\x20PRIM','participan','Notify\x20tar','invoker','ts_added','additionst','id1>\x0a<jid2','(none\x20-\x20RE','atus','selectedRo','ue\x20=\x20exclu','`additiont','426RXHrwb','icipants.u','trim','first.','singleSele','off',')\x20VALUES\x20(','test','removeaddi','ATE\x20TABLE\x20','No\x20valid\x20i',')\x20ON\x20CONFL','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','\x0a\x0aüìõ\x20Group:','2.0.3','group_jid)','delete','onfigured.','wId','index','size','tems\x20to\x20de','\x20requires\x20','additionta','group_jid','ude\x20an\x20@\x20(','xtMessage','INSERT\x20INT','unshift','92743osIxXp','y)\x20DO\x20UPDA','\x20must\x20incl','group-part','‚ùå\x20Cannot\x20e',']\x20onMessag','roups.','bot\x20instan','T\x0a\x20\x20\x20\x20\x20\x20);','groups:\x20*','get:\x20*','on\x20without','10FeFEtG','ing\x20`addit','?,\x20?)\x20ON\x20C','\x0aCurrent:\x20','o\x20remove:\x0a',']\x20ensureSc','_jid\x20=\x20?','key','QUIRED)','up_jid\x20FRO','2487693VgMiLs','s_config\x20(','target\x20fai','set','ENABLE)','\x20added:\x0a','\x20or\x20indice','notify_gro','zed','author','rget','s_groups\x20O','slice','..@g.us)','QUIRED\x20TO\x20','_jid>...]\x0a','function','onWhatsApp','No\x20additio','JID\x20using\x20','value','on\x20target\x20','15482889ATlEaZ','clear','key,\x20value','tiongroup','ongroups','endsWith','subject','ttonId','initiator','actor','Unknown','target\x20cle','IF\x20NOT\x20EXI','catch','staddition','sendMessag','system@sys','oup','additions.','\x0a\x20\x20\x20\x20','be\x20turned\x20','ons_config','\x20VALUES\x20(?','split','ded.value;','M\x20addition','ADDITIONS','tadditiong'];_0x2cb7=function(){return _0xda106a;};return _0x2cb7();}function detectCommandName(_0x4bc9b1){const _0x171eee=_0x3b9ffe;if(!_0x4bc9b1)return null;const _0x293e0e=_0x4bc9b1['trim']();if(!_0x293e0e)return null;return _0x293e0e[_0x171eee(0x18f)](/\s+/)[-0x67a+-0x2427+-0x2aa1*-0x1][_0x171eee(0x1ea)+'e']();}function parseJidsFromText(_0x17875b){const _0x17814f=_0x3b9ffe;if(!_0x17875b)return[];const _0x4ea04d=_0x17875b['split'](/[\s,]+/)['map'](_0x1d149=>_0x1d149[_0x17814f(0x131)]())[_0x17814f(0x19f)](Boolean),_0xe1cc60=_0x4ea04d[_0x17814f(0x19f)](_0x175af3=>_0x175af3[_0x17814f(0x214)]('@'))[_0x17814f(0x1e2)](_0x2d8704=>_0x2d8704);return _0xe1cc60;}function parseDeleteItems(_0x409e49){const _0x35fd53=_0x3b9ffe;if(!_0x409e49)return[];const _0x4e500a=_0x409e49['split'](/[\s,]+/)[_0x35fd53(0x1e2)](_0x30833c=>_0x30833c['trim']())[_0x35fd53(0x19f)](Boolean),_0x109f08=_0x4e500a[_0x35fd53(0x1e2)](_0x180fdc=>{const _0x414b93=_0x35fd53;if(/^\d+$/[_0x414b93(0x136)](_0x180fdc))return{'type':_0x414b93(0x142),'value':Number(_0x180fdc)};return{'type':_0x414b93(0x20a),'value':_0x180fdc};});return _0x109f08;}async function sendApiOrFallback(_0x3fbbf7,_0x2506e4,_0x3892d3=[]){const _0xb3d227=_0x3b9ffe;try{if(!_0x3fbbf7||!_0x2506e4)return;if(botRef&&typeof botRef[_0xb3d227(0x187)+'e']===_0xb3d227(0x172))await botRef[_0xb3d227(0x187)+'e'](_0x3fbbf7,{'text':String(_0x2506e4),'mentions':_0x3892d3});else botRef&&botRef[_0xb3d227(0x1b5)]&&typeof botRef['sock'][_0xb3d227(0x187)+'e']===_0xb3d227(0x172)&&await botRef['sock'][_0xb3d227(0x187)+'e'](_0x3fbbf7,{'text':String(_0x2506e4),'mentions':_0x3892d3});}catch(_0x31ff28){}}function chunkLines(_0x1b138b,_0x561ebc=0x1f8f+0x376+0x5*-0x5d5){const _0x3f9204=_0x3b9ffe,_0x852548=[];let _0x437351='';for(const _0x3913f5 of _0x1b138b){(_0x437351+'\x0a'+_0x3913f5)['length']>_0x561ebc&&(_0x852548['push'](_0x437351[_0x3f9204(0x131)]()),_0x437351=''),_0x437351+=(_0x437351?'\x0a':'')+_0x3913f5;}if(_0x437351)_0x852548[_0x3f9204(0x1fa)](_0x437351[_0x3f9204(0x131)]());return _0x852548;}export async function initialize(_0x13a0b6){const _0x5146b3=_0x3b9ffe;try{if(!_0x13a0b6)throw new Error(_0x5146b3(0x18a)+_0x5146b3(0x203)+_0x5146b3(0x145)+_0x5146b3(0x153)+'ce');botRef=_0x13a0b6,await ensureSchema(),await refreshRuntimeConfig();try{_0x13a0b6['on'](_0x5146b3(0x14f)+_0x5146b3(0x130)+'pdate',gpUpdateHandler);}catch(_0x3a293f){}info('['+name+(_0x5146b3(0x20b)+_0x5146b3(0x16a)));}catch(_0x456d30){throw _0x456d30;}}export async function onMessage(_0x2ef95b,_0x134ad1){const _0x2c1ec5=_0x3b9ffe;try{if(!_0x2ef95b||!_0x2ef95b['key']||!_0x134ad1)return;const _0x2632d7=String(_0x2ef95b[_0x2c1ec5(0x15f)][_0x2c1ec5(0x1c3)]||'')+'::'+String(_0x2ef95b[_0x2c1ec5(0x15f)]['id']||_0x2ef95b[_0x2c1ec5(0x15f)]['participan'+'t']||'');if(isProcessed(_0x2632d7))return;markProcessed(_0x2632d7);const _0x42ea0d=_0x2ef95b['text']&&typeof _0x2ef95b['text']==='string'?_0x2ef95b[_0x2c1ec5(0x210)]:extractTextFromMessage(_0x2ef95b)||'';if(!_0x42ea0d)return;const _0x382984=_0x2ef95b[_0x2c1ec5(0x15f)][_0x2c1ec5(0x1c3)],_0x1be701=String(_0x382984||'')[_0x2c1ec5(0x17d)](_0x2c1ec5(0x202));if(!_0x2ef95b[_0x2c1ec5(0x20c)])return;if(!_0x1be701)return;const _0x749514=await isadmin(botRef,_0x2ef95b);if(!_0x749514)return;const _0x27c641=typeof _0x2ef95b[_0x2c1ec5(0x210)]===_0x2c1ec5(0x1dc)&&_0x2ef95b[_0x2c1ec5(0x210)]['trim']()[_0x2c1ec5(0x1a6)]?_0x2ef95b[_0x2c1ec5(0x210)][_0x2c1ec5(0x131)]():_0x42ea0d[_0x2c1ec5(0x131)](),_0xd5c201=detectCommandName(_0x27c641);if(!_0xd5c201||!commands['includes'](_0xd5c201))return;const _0x4860bd=_0x382984;if(_0xd5c201===_0x2c1ec5(0x1dd)+_0x2c1ec5(0x189)){const _0x55ec51=_0x27c641[_0x2c1ec5(0x1e7)](/^additiongroup\b/i,'')[_0x2c1ec5(0x131)]();let _0x122cb9=[];if(_0x55ec51&&_0x55ec51[_0x2c1ec5(0x1a6)])_0x122cb9=parseJidsFromText(_0x55ec51);else{const _0x14cadb=_0x27c641['split'](/\r?\n/)[_0x2c1ec5(0x16e)](-0xfca+-0x2296+0x9*0x599)[_0x2c1ec5(0x1e2)](_0x4fabc4=>_0x4fabc4['trim']())[_0x2c1ec5(0x19f)](Boolean),_0x3b7d31=_0x14cadb[_0x2c1ec5(0x1a3)]('\x20');_0x122cb9=parseJidsFromText(_0x3b7d31);}if(!_0x122cb9[_0x2c1ec5(0x1a6)]){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x1d6)+'itiongroup'+_0x2c1ec5(0x19e)+_0x2c1ec5(0x1d0)+_0x2c1ec5(0x171)+'Or:\x0aadditi'+_0x2c1ec5(0x1f4)+_0x2c1ec5(0x21e)+'>\x0a');return;}const _0xad5ce3=[],_0x266eaa=[];for(const _0x129370 of _0x122cb9){if(!_0x129370[_0x2c1ec5(0x214)]('@')){_0x266eaa[_0x2c1ec5(0x1fa)](_0x129370);continue;}try{const _0x505732=await dbAddGroup(_0x129370);if(_0x505732)_0xad5ce3[_0x2c1ec5(0x1fa)](_0x129370);else _0x266eaa['push'](_0x129370);}catch(_0x513f66){_0x266eaa['push'](_0x129370);}}const _0x3f35b9=[];if(_0xad5ce3['length'])_0x3f35b9[_0x2c1ec5(0x1fa)]('‚úÖ\x20Added:\x0a'+_0xad5ce3[_0x2c1ec5(0x1e2)](_0x40163a=>'‚Ä¢\x20'+_0x40163a)[_0x2c1ec5(0x1a3)]('\x0a'));if(_0x266eaa[_0x2c1ec5(0x1a6)])_0x3f35b9[_0x2c1ec5(0x1fa)]('‚ö†Ô∏è\x20Skipped/'+_0x2c1ec5(0x20f)+_0x266eaa[_0x2c1ec5(0x1e2)](_0x131708=>'‚Ä¢\x20'+_0x131708)[_0x2c1ec5(0x1a3)]('\x0a'));await sendApiOrFallback(_0x4860bd,_0x3f35b9[_0x2c1ec5(0x1a3)]('\x0a\x0a')||_0x2c1ec5(0x1fd)+'roup\x20JIDs\x20'+'provided.');return;}if(_0xd5c201===_0x2c1ec5(0x1c0)+_0x2c1ec5(0x1c9)||_0xd5c201===_0x2c1ec5(0x137)+_0x2c1ec5(0x17b)){const _0x287423=_0x27c641[_0x2c1ec5(0x1e7)](/^(deladditiongroup|removeadditiongroup)\b/i,'')[_0x2c1ec5(0x131)]();if(!_0x287423){await sendApiOrFallback(_0x4860bd,'Usage:\x20del'+_0x2c1ec5(0x1dd)+_0x2c1ec5(0x1e4)+_0x2c1ec5(0x209)+'[,index,..'+_0x2c1ec5(0x1db)+_0x2c1ec5(0x186)+'groups\x20to\x20'+'see\x20indice'+'s.');return;}const _0x2632a3=parseDeleteItems(_0x287423);if(!_0x2632a3[_0x2c1ec5(0x1a6)]){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x139)+_0x2c1ec5(0x144)+_0x2c1ec5(0x1d8)+'group\x20JIDs'+_0x2c1ec5(0x168)+_0x2c1ec5(0x213)+_0x2c1ec5(0x193)+_0x2c1ec5(0x152));return;}const _0x49c392=await dbListGroups(),_0x1dfed1=new Set(),_0x433820=[];for(const _0x345a33 of _0x2632a3){if(_0x345a33[_0x2c1ec5(0x1fc)]===_0x2c1ec5(0x20a)){const _0x4bc153=_0x345a33[_0x2c1ec5(0x176)];if(_0x49c392['includes'](_0x4bc153))_0x1dfed1[_0x2c1ec5(0x1e3)](_0x4bc153);else _0x433820[_0x2c1ec5(0x1fa)](_0x4bc153);}else{if(_0x345a33[_0x2c1ec5(0x1fc)]===_0x2c1ec5(0x142)){const _0x2c294b=_0x345a33[_0x2c1ec5(0x176)];if(_0x2c294b<=-0xbb3+-0xed3+0x1a86||_0x2c294b>_0x49c392[_0x2c1ec5(0x1a6)]){_0x433820[_0x2c1ec5(0x1fa)](String(_0x2c294b));continue;}const _0x3e7ef1=_0x49c392[_0x2c294b-(-0x10bc+-0x1f54+0x3011)];if(_0x3e7ef1)_0x1dfed1[_0x2c1ec5(0x1e3)](_0x3e7ef1);}}}const _0x2e6329=[],_0x37dd24=[];for(const _0x3be615 of Array[_0x2c1ec5(0x1a7)](_0x1dfed1)){try{const _0x2e73ad=await dbRemoveGroup(_0x3be615);if(_0x2e73ad)_0x2e6329[_0x2c1ec5(0x1fa)](_0x3be615);else _0x37dd24[_0x2c1ec5(0x1fa)](_0x3be615);}catch(_0x46be96){_0x37dd24[_0x2c1ec5(0x1fa)](_0x3be615);}}const _0x439df8=[];if(_0x2e6329[_0x2c1ec5(0x1a6)])_0x439df8[_0x2c1ec5(0x1fa)](_0x2c1ec5(0x1b1)+'\x0a'+_0x2e6329[_0x2c1ec5(0x1e2)](_0x9d33d6=>'‚Ä¢\x20'+_0x9d33d6)[_0x2c1ec5(0x1a3)]('\x0a'));if(_0x37dd24['length'])_0x439df8['push'](_0x2c1ec5(0x1d4)+_0x2c1ec5(0x15c)+_0x37dd24[_0x2c1ec5(0x1e2)](_0x3041b2=>'‚Ä¢\x20'+_0x3041b2)['join']('\x0a'));if(_0x433820[_0x2c1ec5(0x1a6)])_0x439df8[_0x2c1ec5(0x1fa)]('‚ö†Ô∏è\x20Not\x20foun'+'d\x20/\x20invali'+_0x2c1ec5(0x1c4)+_0x433820[_0x2c1ec5(0x1e2)](_0x4fe188=>'\x20'+_0x4fe188)[_0x2c1ec5(0x1a3)](','));await sendApiOrFallback(_0x4860bd,_0x439df8['join']('\x0a\x0a')||'No\x20items\x20r'+'emoved.');return;}if(_0xd5c201===_0x2c1ec5(0x199)+'ongroups'||_0xd5c201===_0x2c1ec5(0x1dd)+_0x2c1ec5(0x1b2)){const _0x1faee8=await dbListGroups();if(!_0x1faee8||_0x1faee8[_0x2c1ec5(0x1a6)]===0x7f8+0x161a+0x3*-0xa06){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x174)+'n\x20groups\x20c'+_0x2c1ec5(0x140));return;}const _0x33ff8d=_0x1faee8[_0x2c1ec5(0x1e2)]((_0x33584b,_0x3b4cd7)=>_0x3b4cd7+(-0x1523+-0x202d+0x1*0x3551)+'.\x20'+_0x33584b),_0x156bee=chunkLines(_0x33ff8d,0x262+-0x33c*-0x3+-0x766);for(const _0x24cc56 of _0x156bee)await sendApiOrFallback(_0x4860bd,_0x24cc56);return;}if(_0xd5c201===_0x2c1ec5(0x1aa)){const _0x11ee3e=_0x27c641[_0x2c1ec5(0x18f)](/\s+/)[_0x2c1ec5(0x16e)](0x13*0x1be+0xa83+-0x2b9c);if(!_0x11ee3e||!_0x11ee3e[0x6a+-0xe06+0xd9c]){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x1d6)+_0x2c1ec5(0x1ac)+_0x2c1ec5(0x208)+'t:\x20'+(CFG['ENABLED']?'on':_0x2c1ec5(0x134)));return;}const _0x3da92d=_0x11ee3e[-0x1144+0x7e0+0x1*0x964][_0x2c1ec5(0x1ea)+'e']();if(_0x3da92d!=='on'&&_0x3da92d!==_0x2c1ec5(0x134)){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x1d6)+_0x2c1ec5(0x1ac)+_0x2c1ec5(0x134));return;}const _0x66f33e=_0x3da92d==='on';if(_0x66f33e){const _0x20d8fd=await dbListGroups(),_0x5046e8=await dbGetConfig(_0x2c1ec5(0x169)+'up');if(_0x20d8fd['length']===0x3*-0x7d+0xe3e+-0xcc7){await sendApiOrFallback(_0x4860bd,'‚ùå\x20Cannot\x20e'+_0x2c1ec5(0x1bd)+_0x2c1ec5(0x1fe)+'\x20least\x20one'+_0x2c1ec5(0x1ae)+_0x2c1ec5(0x1a1)+_0x2c1ec5(0x159)+'iongroup`\x20'+_0x2c1ec5(0x132));return;}if(!_0x5046e8){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x150)+_0x2c1ec5(0x1bd)+_0x2c1ec5(0x1f0)+_0x2c1ec5(0x1d9)+_0x2c1ec5(0x177)+_0x2c1ec5(0x175)+_0x2c1ec5(0x12e)+_0x2c1ec5(0x1ad)+_0x2c1ec5(0x194));return;}}const _0x59c30e=await dbSetConfig(_0x2c1ec5(0x1d5),_0x66f33e?'1':'0');if(!_0x59c30e){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x1ed)+_0x2c1ec5(0x1b9)+'itions\x20ena'+_0x2c1ec5(0x1b7)+'.');return;}CFG[_0x2c1ec5(0x1cf)]=_0x66f33e,await sendApiOrFallback(_0x4860bd,'‚úÖ\x20addition'+'s\x20'+(_0x66f33e?_0x2c1ec5(0x1d5):'disabled'));return;}if(_0xd5c201===_0x2c1ec5(0x146)+_0x2c1ec5(0x16c)){const _0x531c3b=_0x27c641['split'](/\s+/)[_0x2c1ec5(0x16e)](0x27b+0x169*0xa+0x4*-0x425);if(!_0x531c3b||!_0x531c3b[-0x6b1+-0x14e2+0x1b93]){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x1d6)+'itiontarge'+'t\x20<target_'+_0x2c1ec5(0x19c)+_0x2c1ec5(0x15b)+(CFG[_0x2c1ec5(0x169)+'up']||_0x2c1ec5(0x21f)+_0x2c1ec5(0x160)));return;}const _0x527bc8=_0x531c3b[-0x2e0+0x1ca2+-0x15*0x13a][_0x2c1ec5(0x131)]();if(_0x527bc8[_0x2c1ec5(0x1ea)+'e']()==='clear'){await dbDeleteConfig('notify_gro'+'up'),CFG[_0x2c1ec5(0x169)+'up']=null,await sendApiOrFallback(_0x4860bd,'‚úÖ\x20addition'+_0x2c1ec5(0x183)+_0x2c1ec5(0x1b8)+_0x2c1ec5(0x1e1)+_0x2c1ec5(0x19b)+_0x2c1ec5(0x18c)+_0x2c1ec5(0x157)+_0x2c1ec5(0x1c7));return;}if(!_0x527bc8[_0x2c1ec5(0x214)]('@')){await sendApiOrFallback(_0x4860bd,'Target\x20JID'+_0x2c1ec5(0x14e)+_0x2c1ec5(0x148)+_0x2c1ec5(0x1ce)+_0x2c1ec5(0x16f));return;}const _0x3f6876=await dbSetConfig('notify_gro'+'up',_0x527bc8);if(!_0x3f6876){await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x1bc)+_0x2c1ec5(0x164)+_0x2c1ec5(0x1e5)+_0x527bc8);return;}CFG['notify_gro'+'up']=_0x527bc8,await sendApiOrFallback(_0x4860bd,_0x2c1ec5(0x205)+_0x2c1ec5(0x198)+_0x2c1ec5(0x1f1)+_0x527bc8);return;}if(_0xd5c201==='additionst'+_0x2c1ec5(0x12b)){const _0x5a1671=CFG[_0x2c1ec5(0x1cf)]?'on':_0x2c1ec5(0x134),_0x3a7075=CFG[_0x2c1ec5(0x169)+'up']||'(none\x20-\x20RE'+_0x2c1ec5(0x170)+_0x2c1ec5(0x166),_0x2a9cdd=await dbListGroups(),_0x200b48=[_0x2c1ec5(0x197)+_0x2c1ec5(0x1cc)+'Status*\x0a','Enabled:\x20*'+_0x5a1671+'*',_0x2c1ec5(0x21a)+_0x2c1ec5(0x156)+_0x3a7075+'*',_0x2c1ec5(0x1cb)+_0x2c1ec5(0x155)+(_0x2a9cdd[_0x2c1ec5(0x1a6)]||-0xdfb+0x3f*-0x95+0x32a6)+'*'];await sendApiOrFallback(_0x4860bd,_0x200b48['join']('\x0a'));if(_0x2a9cdd[_0x2c1ec5(0x1a6)]){const _0x1659ca=_0x2a9cdd[_0x2c1ec5(0x1e2)]((_0x13d159,_0x21c96d)=>_0x21c96d+(-0x147f+-0xe7*0x27+0x10d*0x35)+'.\x20'+_0x13d159),_0x5e61f7=chunkLines(_0x1659ca,0x182d+-0x2*-0xc49+-0x1*0x2c0f);for(const _0x2f8743 of _0x5e61f7)await sendApiOrFallback(_0x4860bd,_0x2f8743);}return;}}catch(_0x2b5e6){error(_0x2b5e6,'['+name+(_0x2c1ec5(0x151)+_0x2c1ec5(0x1c8))+(_0x2b5e6?.[_0x2c1ec5(0x1eb)]||_0x2b5e6));}}export async function cleanup(){const _0x88a755=_0x3b9ffe;try{for(const _0xa03755 of groupTimers['values']())try{clearTimeout(_0xa03755);}catch(_0x2b6914){}groupTimers['clear'](),groupQueues[_0x88a755(0x179)]();try{botRef&&typeof botRef[_0x88a755(0x134)]==='function'&&botRef[_0x88a755(0x134)](_0x88a755(0x14f)+_0x88a755(0x130)+_0x88a755(0x1b0),gpUpdateHandler);}catch(_0x4ae595){}}catch(_0x2de9eb){}finally{botRef=null,info('['+name+(']\x20cleaned\x20'+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};