const _0x44db7f=_0x28ad;(function(_0x118b46,_0x3ed2af){const _0x43ed7e=_0x28ad,_0x14a344=_0x118b46();while(!![]){try{const _0x2de891=parseInt(_0x43ed7e(0x280))/(0x2f*-0x25+-0x2182+-0x284e*-0x1)+parseInt(_0x43ed7e(0x217))/(0x2*0xa1d+-0x805+-0x1*0xc33)+-parseInt(_0x43ed7e(0x1d5))/(-0x1dc5+-0x8e*-0xe+0x1604)*(parseInt(_0x43ed7e(0x2a4))/(0x1d*-0x2e+0x853+-0x3d*0xd))+-parseInt(_0x43ed7e(0x240))/(-0x5b6*0x2+-0x8*-0x17+0xab9)*(parseInt(_0x43ed7e(0x1bc))/(0x1573+-0x474+0x10f9*-0x1))+parseInt(_0x43ed7e(0x273))/(0x21d3+0x193*-0x11+-0x709)+-parseInt(_0x43ed7e(0x242))/(-0x1c4*-0xa+0x9*0xc+-0x1c*0xa5)*(parseInt(_0x43ed7e(0x1c5))/(0xc1c+-0x19ce+0x2bf*0x5))+-parseInt(_0x43ed7e(0x229))/(0xf1*-0x16+0x1*-0x205+0x16c5)*(-parseInt(_0x43ed7e(0x2bc))/(-0x17d0+-0x1716+0xc5*0x3d));if(_0x2de891===_0x3ed2af)break;else _0x14a344['push'](_0x14a344['shift']());}catch(_0x29e181){_0x14a344['push'](_0x14a344['shift']());}}}(_0x11df,0x1f0f4+-0x30b56+0x2f764));import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import*as _0x1fb680 from'../utils/groups.js';import{getBotJid}from'../utils/bot-state.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';export const name='additions';export const version='2.0.2';export const priority=0x1bc7+0x1d4b+-0x58*0xa5;export const configKeys=[_0x44db7f(0x263)];export const commands=[_0x44db7f(0x247)+_0x44db7f(0x1df),'deladditio'+_0x44db7f(0x2ab),_0x44db7f(0x244)+'tiongroup','listadditi'+'ongroups',_0x44db7f(0x247)+_0x44db7f(0x1cb),_0x44db7f(0x1fb),_0x44db7f(0x29a)+'rget',_0x44db7f(0x1b6)+_0x44db7f(0x233)];let botRef=null;function _0x11df(){const _0x2de0a0=['additionta','tadditiong','true','up\x20error:\x20','nable.\x20Ple','trim','\x20to\x20','\x20group_jid','IMIT\x201','g\x20summary\x20','4zvJMLz','onWhatsApp','ongroup\x0a<j','HERE\x20key\x20=','\x20error','Unknown',')\x20VALUES\x20(','ngroup','[,index,..','name','text','set','STS\x20additi','\x20key\x20TEXT\x20','üë•\x20@','rget','QUIRED)','stener:\x20','pdate','bot\x20instan','exec','‚ùå\x20Cannot\x20e',']\x20flushAdd','pMonitored','163361cEjnQO',']\x20flushGro','\x20must\x20incl','tiongroup','subject','size','ons_groups','message','toLowerCas','initiator','ase\x20set\x20a\x20','itions\x20sum','SELECT\x20gro','fig\x20failed','jid|clear>','for\x20','\x20deliver\x20a','ing\x20`addit','ue\x20FROM\x20ad','\x0a\x20\x20\x20\x20\x20\x20CRE','DELETE\x20FRO','first.','isArray','‚úÖ\x20addition','ons_config','key,\x20value','y_group\x20ta','target\x20cle','or\x20group-p','tadata','emoved.',']\x20onMessag','_jid\x20=\x20?','Notify\x20tar','a\x20ensured','oups\x20faile','*Additions','\x20value\x20TEX',']\x20sendSumm','group_jid)','push','additionst','roup\x20JIDs\x20','o\x20register','ongroups','clear','monitor\x20us','6IWTnfi','buttonsRes',']\x20dbDelete','extendedTe','ed\x20stable\x20','mary\x20for\x20g','debounce_m','RDER\x20BY\x20gr','\x20or\x20indice','36yWYBle','groupJid','map','listadditi','videoMessa','Group\x20erro','oups','selectedRo','delete','disabled','up\x20failed:','selectedBu','lete.\x20Use\x20','ed:\x20','Or:\x0aadditi','DEBOUNCE_M','287919PVGzkN','ponseMessa','unshift','run','ONFLICT(ke','off','d>\x20[<group','@g.us','r\x20confirma','xtMessage','oup','arget`\x20fir','remoteJid','see\x20indice','includes','bled\x20state','group\x20JIDs','value',']\x20hotReloa','reshed\x20(en','THING;','IF\x20NOT\x20EXI','author','isAdmin','up\x20error\x20f','listener\x20f','s.update','d\x20/\x20invali','\x20<group_ji','singleSele','group-part','?,\x20?)\x20ON\x20C','roups.','seMessage','join','notify','erForGroup','ts_added','additions','ded.value;','s_config\x20W','n\x20groups\x20c','itions\x20ena',']\x20dbAddGro','No\x20valid\x20i','vname','catch','groupId','tion\x20to\x20','ze\x20error:\x20','\x20key\x20=\x20?\x20L','getGroupMe',']\x20dbListGr',',\x20debounce','\x20group\x20to\x20',']\x20dbIsGrou','or\x20',']\x20cleaned\x20','caption','actor','ATE\x20TABLE\x20','ared.\x20Note','target\x20fai','‚ùå\x20Failed\x20t','TE\x20SET\x20val','error:\x20','388848AwhEgu','ctReply','object','get:\x20*','endsWith','sock','PRIMARY\x20KE','s_config\x20(','e.g.\x201203.','from',']\x20dbRemove','_ms=','nfig\x20WHERE','changes','has','all','Config\x20fai','provided.','90ixTBaf','off\x0aCurren',']\x20runtime\x20','ENABLE)','jid)\x20DO\x20NO','No\x20items\x20r','dConfig\x20ap','system@sys','on\x20without',']\x20dbSetCon','atus','ue\x20=\x20exclu','add','INSERT\x20INT','slice','ENABLED','\x20\x20@','untimeConf',']\x20register','config\x20ref','unknown','conversati','icipants.u','1218655fMwobn','zed','188536KjHfnz','\x20VALUES\x20(?','removeaddi',']\x20No\x20notif','abled=','additiongr','‚ö†Ô∏è\x20Skipped/','\x20\x20\x20\x20);\x0a\x20\x20\x20',']\x20initiali',']\x20failed\x20t',']\x20no\x20send\x20','JID\x20using\x20','y)\x20DO\x20UPDA','Usage:\x20add','tem','s\x20from\x20lis','target\x20set','Monitored\x20','split','type','ase\x20add\x20at','imageMessa','ailable\x20fo','em\x20cannot\x20','staddition','ndler\x20erro',']\x20Sent\x20add','Status*\x0a','itiontarge','itions\x20on|','ata','_jid|index','jid','ADDITIONS','e\x20error:\x20','filter','length','up_jid\x20FRO','failed:\x20','Failed\x20to\x20','ditions_co','keys','..@g.us)','replace','isInteger','dditions\x20s','values','isNaN','be\x20turned\x20','903154xpfMXs',']\x20sendApiO','participan','roup\x20','\x20Notifier\x20','surface\x20av','M\x20addition','sendMessag',']\x20ensureSc','string','led:\x20','ICT(group_','function','98981bCKWjD','\x20a\x20target.','itiongroup','get','key','Unknown\x20JI','\x20TEXT\x20PRIM','notificati','t.\x20Skippin','surface\x20to','\x20stable\x20li','isCommand','listRespon','ttonId','Enabled:\x20*','iongroup`\x20','st.',':\x20The\x20syst','d:\x20','test','groups:\x20*',')\x20ON\x20CONFL','\x20failed:\x20','r\x20for\x20','notify_gro','QUIRED\x20TO\x20'];_0x11df=function(){return _0x2de0a0;};return _0x11df();}const groupQueues=new Map(),groupTimers=new Map();let CFG={'ENABLED':![],'DEBOUNCE_MS':0xbb8,'notify_group':null};const DEDUPE_TTL_MS=(-0xc1*0x13+0xb2b+0x346)*(0x18*0x145+0x1*0x1277+0x1*-0x2d07),processedMessageKeys=new Map();function markProcessed(_0xa8e063){const _0x469ad4=_0x44db7f;if(!_0xa8e063)return;if(processedMessageKeys[_0x469ad4(0x225)](_0xa8e063))try{clearTimeout(processedMessageKeys[_0x469ad4(0x283)](_0xa8e063));}catch(_0x52f128){}const _0x54db21=setTimeout(()=>processedMessageKeys[_0x469ad4(0x1cd)](_0xa8e063),DEDUPE_TTL_MS);processedMessageKeys['set'](_0xa8e063,_0x54db21);}function isProcessed(_0x38d9c9){const _0x9552d5=_0x44db7f;return _0x38d9c9&&processedMessageKeys[_0x9552d5(0x225)](_0x38d9c9);}async function ensureSchema(){const _0x425b97=_0x44db7f;try{await db[_0x425b97(0x2b8)]('\x0a\x20\x20\x20\x20\x20\x20CRE'+_0x425b97(0x211)+_0x425b97(0x1ea)+_0x425b97(0x2b0)+_0x425b97(0x1a5)+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x425b97(0x2b1)+_0x425b97(0x21d)+'Y,\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x425b97(0x1b2)+'T\x0a\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20'),await db[_0x425b97(0x2b8)](_0x425b97(0x1a0)+'ATE\x20TABLE\x20'+_0x425b97(0x1ea)+_0x425b97(0x2b0)+_0x425b97(0x2c2)+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x425b97(0x2a1)+_0x425b97(0x286)+'ARY\x20KEY\x0a\x20\x20'+_0x425b97(0x249)+'\x20'),info('['+name+(']\x20DB\x20schem'+_0x425b97(0x1af)));}catch(_0x60ea9b){error(_0x60ea9b,'['+name+(_0x425b97(0x27b)+'hema\x20faile'+_0x425b97(0x292))+(_0x60ea9b?.[_0x425b97(0x2c3)]||_0x60ea9b));throw _0x60ea9b;}}async function dbSetConfig(_0x4cdcc9,_0x8748d3){const _0x2f02cd=_0x44db7f;try{return await db['run'](_0x2f02cd(0x236)+'O\x20addition'+_0x2f02cd(0x21e)+_0x2f02cd(0x1a6)+_0x2f02cd(0x2aa)+_0x2f02cd(0x1f4)+_0x2f02cd(0x1d9)+_0x2f02cd(0x24e)+_0x2f02cd(0x215)+_0x2f02cd(0x234)+_0x2f02cd(0x1fc),[_0x4cdcc9,String(_0x8748d3)]),!![];}catch(_0x4940c7){return warn('['+name+(_0x2f02cd(0x232)+'fig\x20failed'+':\x20')+(_0x4940c7?.['message']||_0x4940c7)),![];}}async function dbGetConfig(_0x10c502){const _0x470f58=_0x44db7f;try{const _0x1c3205=await db[_0x470f58(0x283)]('SELECT\x20val'+_0x470f58(0x19f)+_0x470f58(0x26a)+_0x470f58(0x223)+_0x470f58(0x207)+_0x470f58(0x2a2),[_0x10c502]);return _0x1c3205?_0x1c3205['value']:null;}catch(_0x1b46fa){return warn('['+name+(']\x20dbGetCon'+_0x470f58(0x2c9)+':\x20')+(_0x1b46fa?.[_0x470f58(0x2c3)]||_0x1b46fa)),null;}}async function dbDeleteConfig(_0x195a20){const _0xbc078=_0x44db7f;try{return await db['run'](_0xbc078(0x1a1)+_0xbc078(0x279)+_0xbc078(0x1fd)+_0xbc078(0x2a7)+'\x20?',[_0x195a20]),!![];}catch(_0x148aa7){return warn('['+name+(_0xbc078(0x1be)+_0xbc078(0x227)+_0xbc078(0x27d))+(_0x148aa7?.[_0xbc078(0x2c3)]||_0x148aa7)),![];}}async function dbAddGroup(_0x5e83c5){const _0x450f51=_0x44db7f;try{return await db[_0x450f51(0x1d8)](_0x450f51(0x236)+'O\x20addition'+'s_groups\x20('+_0x450f51(0x1b4)+_0x450f51(0x243)+_0x450f51(0x295)+_0x450f51(0x27e)+_0x450f51(0x22d)+_0x450f51(0x1e9),[_0x5e83c5]),!![];}catch(_0x44f1cf){return warn('['+name+(_0x450f51(0x200)+_0x450f51(0x1cf)+'\x20')+(_0x44f1cf?.[_0x450f51(0x2c3)]||_0x44f1cf)),![];}}async function dbRemoveGroup(_0x1be622){const _0x260950=_0x44db7f;try{const _0x3112de=await db['run'](_0x260950(0x1a1)+_0x260950(0x279)+'s_groups\x20W'+'HERE\x20group'+_0x260950(0x1ad),[_0x1be622]);return!!_0x3112de?.[_0x260950(0x224)];}catch(_0x3c20b8){return warn('['+name+(_0x260950(0x221)+'Group\x20fail'+_0x260950(0x1d2))+(_0x3c20b8?.['message']||_0x3c20b8)),![];}}async function dbListGroups(){const _0x30d5f9=_0x44db7f;try{const _0x9c3574=await db[_0x30d5f9(0x226)](_0x30d5f9(0x2c8)+_0x30d5f9(0x267)+'M\x20addition'+'s_groups\x20O'+_0x30d5f9(0x1c3)+'oup_jid');return(_0x9c3574||[])[_0x30d5f9(0x1c7)](_0x17aff9=>_0x17aff9['group_jid']);}catch(_0x259f37){return warn('['+name+(_0x30d5f9(0x209)+_0x30d5f9(0x1b0)+_0x30d5f9(0x292))+(_0x259f37?.['message']||_0x259f37)),[];}}async function dbIsGroupMonitored(_0x1e136b){const _0xe315e9=_0x44db7f;try{const _0x22db66=await db['get'](_0xe315e9(0x2c8)+'up_jid\x20FRO'+'M\x20addition'+'s_groups\x20W'+'HERE\x20group'+'_jid\x20=\x20?\x20L'+_0xe315e9(0x2a2),[_0x1e136b]);return!!_0x22db66;}catch(_0x2eeedc){return warn('['+name+(_0xe315e9(0x20c)+_0xe315e9(0x2bb)+_0xe315e9(0x296))+(_0x2eeedc?.[_0xe315e9(0x2c3)]||_0x2eeedc)),![];}}async function refreshRuntimeConfig(){const _0x44dba6=_0x44db7f;try{const _0x3d654d=getConfig()||{},_0xf0826=_0x3d654d['ADDITIONS']&&typeof _0x3d654d['ADDITIONS']===_0x44dba6(0x219)?_0x3d654d[_0x44dba6(0x263)]:{};CFG['DEBOUNCE_M'+'S']=Number[_0x44dba6(0x26e)](_0xf0826['DEBOUNCE_M'+'S'])?_0xf0826[_0x44dba6(0x1d4)+'S']:-0x14b7*0x1+-0x1092+0x3101;const _0x1f7807=await dbGetConfig('enabled');CFG[_0x44dba6(0x238)]=_0x1f7807==='1'||_0x1f7807===_0x44dba6(0x29c);const _0x1a61a3=await dbGetConfig(_0x44dba6(0x1c2)+'s');if(_0x1a61a3!==null&&!Number[_0x44dba6(0x271)](Number(_0x1a61a3)))CFG[_0x44dba6(0x1d4)+'S']=Number(_0x1a61a3);const _0x453fd0=await dbGetConfig('notify_gro'+'up');CFG[_0x44dba6(0x298)+'up']=_0x453fd0||null,info('['+name+(_0x44dba6(0x22b)+_0x44dba6(0x23c)+_0x44dba6(0x1e8)+_0x44dba6(0x246))+CFG[_0x44dba6(0x238)]+(_0x44dba6(0x20a)+_0x44dba6(0x222))+CFG[_0x44dba6(0x1d4)+'S']+(',\x20notify_g'+'roup=')+CFG['notify_gro'+'up']+')');}catch(_0x2b7722){warn('['+name+(']\x20refreshR'+_0x44dba6(0x23a)+'ig\x20failed:'+'\x20')+(_0x2b7722?.[_0x44dba6(0x2c3)]||_0x2b7722));}}try{hotReloadConfig&&hotReloadConfig(_0x47df91=>{const _0x371177=_0x44db7f;try{refreshRuntimeConfig(),info('['+name+(_0x371177(0x1e7)+_0x371177(0x22f)+'plied\x20(cha'+'nged\x20keys:'+'\x20')+(_0x47df91||[])[_0x371177(0x1f7)](',')+')');}catch(_0x49980c){warn('['+name+(_0x371177(0x1e7)+'dConfig\x20ha'+_0x371177(0x25b)+'r:\x20')+(_0x49980c?.['message']||_0x49980c));}});}catch(_0xf3d28c){warn('['+name+(_0x44db7f(0x1e7)+'dConfig\x20re'+'gistration'+_0x44db7f(0x296))+(_0xf3d28c?.[_0x44db7f(0x2c3)]||_0xf3d28c));}async function resolveDisplayName(_0x1f9104){const _0x260fd2=_0x44db7f;try{const _0x1165b9=typeof _0x1f9104===_0x260fd2(0x27c)?_0x1f9104:_0x1f9104?.['id']||_0x1f9104?.[_0x260fd2(0x262)]||null;if(!botRef||!_0x1165b9){const _0x5a9cd2=_0x1165b9||(typeof _0x1f9104===_0x260fd2(0x219)?_0x1f9104?.['id']:_0x1f9104)||_0x260fd2(0x23d);return _0x5a9cd2[_0x260fd2(0x254)]?.('@')?.[-0x1cc+0x1222+0x22*-0x7b]??_0x5a9cd2;}try{if(typeof botRef[_0x260fd2(0x2a5)]===_0x260fd2(0x27f)){const _0x5d37ca=await botRef[_0x260fd2(0x2a5)](_0x1165b9);if(Array[_0x260fd2(0x1a3)](_0x5d37ca)&&_0x5d37ca[_0x260fd2(0x266)]>-0x1d1b+-0x2*0xfa3+0x29*0x179){const _0x54f7eb=_0x5d37ca[0xef1+0x425+0x7*-0x2ba];if(_0x54f7eb&&(_0x54f7eb[_0x260fd2(0x1f8)]||_0x54f7eb[_0x260fd2(0x202)]||_0x54f7eb[_0x260fd2(0x2ad)]))return _0x54f7eb[_0x260fd2(0x1f8)]||_0x54f7eb[_0x260fd2(0x202)]||_0x54f7eb[_0x260fd2(0x2ad)];}}if(botRef[_0x260fd2(0x21c)]&&typeof botRef[_0x260fd2(0x21c)][_0x260fd2(0x2a5)]==='function'){const _0x4c417d=await botRef[_0x260fd2(0x21c)]['onWhatsApp'](_0x1165b9);if(Array[_0x260fd2(0x1a3)](_0x4c417d)&&_0x4c417d['length']>0x6e+-0x1dd*0x1+0x16f){const _0x2d925d=_0x4c417d[-0x1*0xf4d+0x196*-0xf+-0x1*-0x2717];if(_0x2d925d&&(_0x2d925d[_0x260fd2(0x1f8)]||_0x2d925d['vname']||_0x2d925d[_0x260fd2(0x2ad)]))return _0x2d925d['notify']||_0x2d925d[_0x260fd2(0x202)]||_0x2d925d[_0x260fd2(0x2ad)];}}}catch(_0x40bec0){}const _0x2294b1=String(_0x1165b9)[_0x260fd2(0x254)](':')['pop']()['split']('@')[-0x1c4c+0x8ed+0x135f];return _0x2294b1||_0x1165b9;}catch(_0x3763c8){const _0x1b1070=typeof _0x1f9104===_0x260fd2(0x27c)?_0x1f9104:_0x1f9104?.['id']||'unknown';return _0x1b1070?.[_0x260fd2(0x254)]?.('@')?.[-0x1*0xf64+-0x1648+0x4*0x96b]??_0x1b1070;}}async function getGroupTitle(_0x3ca402){const _0x3a55e1=_0x44db7f;try{if(!botRef)return _0x3ca402;if(botRef['sock']&&typeof botRef[_0x3a55e1(0x21c)]['groupMetad'+_0x3a55e1(0x260)]===_0x3a55e1(0x27f)){const _0x1a3c10=await botRef[_0x3a55e1(0x21c)]['groupMetad'+_0x3a55e1(0x260)](_0x3ca402)['catch'](()=>null);if(_0x1a3c10&&_0x1a3c10[_0x3a55e1(0x2c0)])return _0x1a3c10[_0x3a55e1(0x2c0)];}if(typeof botRef[_0x3a55e1(0x208)+_0x3a55e1(0x1aa)]===_0x3a55e1(0x27f)){const _0x12a6d8=await botRef[_0x3a55e1(0x208)+_0x3a55e1(0x1aa)](_0x3ca402)[_0x3a55e1(0x203)](()=>null);if(_0x12a6d8&&_0x12a6d8['subject'])return _0x12a6d8[_0x3a55e1(0x2c0)];}return _0x3ca402;}catch(_0x5c0ad6){return _0x3ca402;}}async function sendSummary(_0xe9176,_0x3f3e14,_0x54af2d){const _0xd87e07=_0x44db7f;try{if(!botRef)return;if(!CFG[_0xd87e07(0x298)+'up']){warn('['+name+(_0xd87e07(0x245)+_0xd87e07(0x1a7)+'rget\x20is\x20se'+_0xd87e07(0x288)+_0xd87e07(0x2a3)+_0xd87e07(0x2cb))+_0xe9176+'.');return;}const _0xf8d8fa=await resolveDisplayName(_0x3f3e14)||_0x3f3e14||_0xd87e07(0x2a9),_0x4f7372=[],_0x3f6d0d=[];for(const _0x5320ec of _0x54af2d){if(!_0x5320ec)continue;const _0x2d3e35=await resolveDisplayName(_0x5320ec)||_0x5320ec||_0xd87e07(0x2a9);_0x4f7372[_0xd87e07(0x1b5)](String(_0x5320ec)),_0x3f6d0d['push'](_0xd87e07(0x239)+String(_0x2d3e35)[_0xd87e07(0x26d)](/\n/g,'\x20'));}_0x3f3e14&&!_0x4f7372[_0xd87e07(0x1e3)](String(_0x3f3e14))&&_0x4f7372[_0xd87e07(0x1d7)](String(_0x3f3e14));const _0x282822=await getGroupTitle(_0xe9176)||_0xe9176||'Unknown\x20Gr'+_0xd87e07(0x1df),_0xd8461a=_0xd87e07(0x2b2)+String(_0xf8d8fa)[_0xd87e07(0x26d)](/\n/g,'\x20')+'\x20added:\x0a',_0x34929b=_0x3f6d0d[_0xd87e07(0x1f7)]('\x0a'),_0x56e594='\x0a\x0aüìõ\x20Group:'+'\x20'+String(_0x282822)+'\x20('+String(_0xe9176??_0xd87e07(0x285)+'D')+')',_0x53ee99=_0xd8461a+_0x34929b+_0x56e594,_0x1fdf23=CFG['notify_gro'+'up'];if(botRef&&typeof botRef['sendMessag'+'e']===_0xd87e07(0x27f))await botRef[_0xd87e07(0x27a)+'e'](_0x1fdf23,{'text':_0x53ee99,'mentions':_0x4f7372});else botRef&&botRef[_0xd87e07(0x21c)]&&typeof botRef[_0xd87e07(0x21c)][_0xd87e07(0x27a)+'e']==='function'?await botRef[_0xd87e07(0x21c)][_0xd87e07(0x27a)+'e'](_0x1fdf23,{'text':_0x53ee99,'mentions':_0x4f7372}):warn('['+name+(_0xd87e07(0x24c)+_0xd87e07(0x289)+_0xd87e07(0x2cc)+_0xd87e07(0x26f)+'ummary'));info('['+name+(_0xd87e07(0x25c)+_0xd87e07(0x2c7)+_0xd87e07(0x1c1)+_0xd87e07(0x276))+_0xe9176+('\x20->\x20target'+'\x20')+_0x1fdf23);}catch(_0x81f83f){warn('['+name+(_0xd87e07(0x1b3)+'ary\x20failed'+':\x20')+(_0x81f83f?.[_0xd87e07(0x2c3)]||_0x81f83f));}}function _0x28ad(_0x55173f,_0x27e4aa){const _0x36ad04=_0x11df();return _0x28ad=function(_0x56ef89,_0x14903e){_0x56ef89=_0x56ef89-(-0x1872+-0x12d6+0x2ce6);let _0x5197cf=_0x36ad04[_0x56ef89];return _0x5197cf;},_0x28ad(_0x55173f,_0x27e4aa);}async function flushAdderForGroup(_0x360e21,_0xb1b477){const _0xf62d2b=_0x44db7f;try{if(!botRef)return;const _0x1fe672=groupQueues[_0xf62d2b(0x283)](_0x360e21);if(!_0x1fe672)return;const _0x16ee8d=_0x1fe672['get'](_0xb1b477);if(!_0x16ee8d||_0x16ee8d[_0xf62d2b(0x2c1)]===-0x126e+-0x2b*-0x2b+0xb35){_0x1fe672[_0xf62d2b(0x1cd)](_0xb1b477);if(_0x1fe672[_0xf62d2b(0x2c1)]===0xeb*-0x27+-0x703+-0x1568*-0x2)groupQueues[_0xf62d2b(0x1cd)](_0x360e21);return;}const _0x326d42=Array[_0xf62d2b(0x220)](_0x16ee8d);await sendSummary(_0x360e21,_0xb1b477,_0x326d42);}catch(_0x2184f5){error(_0x2184f5,'['+name+(_0xf62d2b(0x2ba)+_0xf62d2b(0x1f9)+_0xf62d2b(0x2a8)));}finally{const _0x27f557=groupQueues[_0xf62d2b(0x283)](_0x360e21);if(_0x27f557){_0x27f557[_0xf62d2b(0x1cd)](_0xb1b477);if(_0x27f557[_0xf62d2b(0x2c1)]===-0x218a+-0x1*0x2273+-0x43fd*-0x1)groupQueues[_0xf62d2b(0x1cd)](_0x360e21);}}}async function flushGroup(_0x41db72){const _0x186320=_0x44db7f;try{const _0x17dc25=groupQueues[_0x186320(0x283)](_0x41db72);if(!_0x17dc25)return;const _0x3c2bbe=Array[_0x186320(0x220)](_0x17dc25[_0x186320(0x26b)]());for(const _0x34cf24 of _0x3c2bbe){await flushAdderForGroup(_0x41db72,_0x34cf24);}}catch(_0x756f8d){error(_0x756f8d,'['+name+(_0x186320(0x2bd)+_0x186320(0x29d))+(_0x756f8d?.[_0x186320(0x2c3)]||_0x756f8d));}finally{if(groupTimers[_0x186320(0x225)](_0x41db72)){try{clearTimeout(groupTimers[_0x186320(0x283)](_0x41db72));}catch(_0x1e7f8c){}groupTimers[_0x186320(0x1cd)](_0x41db72);}if(groupQueues[_0x186320(0x283)](_0x41db72)&&groupQueues[_0x186320(0x283)](_0x41db72)[_0x186320(0x2c1)]===-0x1177+-0x2*0x8ef+0x2355)groupQueues[_0x186320(0x1cd)](_0x41db72);}}async function gpUpdateHandler(_0x1ef407){const _0x2a3596=_0x44db7f;try{if(!_0x1ef407)return;if(!CFG['ENABLED'])return;const _0x2d1a23=_0x1ef407['action']||_0x1ef407[_0x2a3596(0x255)]||null;if(!_0x2d1a23)return;if(String(_0x2d1a23)[_0x2a3596(0x2c4)+'e']()!=='add')return;const _0x150e5b=_0x1ef407['id']||_0x1ef407[_0x2a3596(0x204)]||_0x1ef407[_0x2a3596(0x262)]||_0x1ef407[_0x2a3596(0x1c6)];if(!_0x150e5b)return;const _0x6b06f9=await dbIsGroupMonitored(_0x150e5b);if(!_0x6b06f9)return;const _0x231a24=Array['isArray'](_0x1ef407['participan'+'ts'])?_0x1ef407[_0x2a3596(0x275)+'ts']:Array[_0x2a3596(0x1a3)](_0x1ef407['participan'+_0x2a3596(0x1fa)])?_0x1ef407[_0x2a3596(0x275)+_0x2a3596(0x1fa)]:[];if(!_0x231a24||_0x231a24['length']===-0xad*-0x3+-0x1*-0xcd6+-0xedd)return;const _0x195bd2=_0x1ef407[_0x2a3596(0x210)]||_0x1ef407[_0x2a3596(0x1eb)]||_0x1ef407['by']||_0x1ef407[_0x2a3596(0x2c5)]||_0x1ef407['admin']||_0x1ef407['invoker']||_0x2a3596(0x230)+_0x2a3596(0x250);if(!groupQueues['has'](_0x150e5b))groupQueues['set'](_0x150e5b,new Map());const _0x485c21=groupQueues['get'](_0x150e5b);if(!_0x485c21[_0x2a3596(0x225)](_0x195bd2))_0x485c21[_0x2a3596(0x2af)](_0x195bd2,new Set());const _0x47b69d=_0x485c21[_0x2a3596(0x283)](_0x195bd2);for(const _0x123041 of _0x231a24){const _0x25e440=typeof _0x123041===_0x2a3596(0x27c)?_0x123041:_0x123041?.['id']||_0x123041?.['jid']||null;_0x25e440&&_0x47b69d[_0x2a3596(0x235)](_0x25e440);}if(groupTimers[_0x2a3596(0x225)](_0x150e5b))try{clearTimeout(groupTimers[_0x2a3596(0x283)](_0x150e5b));}catch(_0x2e446e){}const _0x17ca1a=Math['max'](0x250b+-0xb7a+-0x5*0x509,Number(CFG['DEBOUNCE_M'+'S']||-0x1514+0x1118*0x2+0x164*-0x1)),_0x43c37d=setTimeout(()=>{const _0x44a771=_0x2a3596;flushGroup(_0x150e5b)[_0x44a771(0x203)](_0x54d775=>warn('['+name+(_0x44a771(0x2bd)+_0x44a771(0x1cf)+'\x20')+(_0x54d775?.[_0x44a771(0x2c3)]||_0x54d775)));},_0x17ca1a);groupTimers[_0x2a3596(0x2af)](_0x150e5b,_0x43c37d);}catch(_0x4319e0){warn('['+name+(']\x20gpUpdate'+'Handler\x20er'+'ror:\x20')+(_0x4319e0?.[_0x2a3596(0x2c3)]||_0x4319e0));}}function extractTextFromMessage(_0x337e21){const _0x480ce6=_0x44db7f;if(!_0x337e21||!_0x337e21[_0x480ce6(0x2c3)])return'';const _0x507855=_0x337e21[_0x480ce6(0x2c3)];if(_0x507855[_0x480ce6(0x23e)+'on'])return _0x507855[_0x480ce6(0x23e)+'on'];if(_0x507855['extendedTe'+_0x480ce6(0x1de)]?.[_0x480ce6(0x2ae)])return _0x507855[_0x480ce6(0x1bf)+_0x480ce6(0x1de)][_0x480ce6(0x2ae)];if(_0x507855[_0x480ce6(0x257)+'ge']?.[_0x480ce6(0x20f)])return _0x507855[_0x480ce6(0x257)+'ge']['caption'];if(_0x507855[_0x480ce6(0x1c9)+'ge']?.[_0x480ce6(0x20f)])return _0x507855['videoMessa'+'ge'][_0x480ce6(0x20f)];if(_0x507855[_0x480ce6(0x1bd)+_0x480ce6(0x1d6)+'ge']?.[_0x480ce6(0x1d0)+_0x480ce6(0x28d)])return _0x507855[_0x480ce6(0x1bd)+_0x480ce6(0x1d6)+'ge'][_0x480ce6(0x1d0)+_0x480ce6(0x28d)];if(_0x507855[_0x480ce6(0x28c)+_0x480ce6(0x1f6)]?.[_0x480ce6(0x1f2)+_0x480ce6(0x218)]?.[_0x480ce6(0x1cc)+'wId'])return _0x507855[_0x480ce6(0x28c)+_0x480ce6(0x1f6)][_0x480ce6(0x1f2)+'ctReply'][_0x480ce6(0x1cc)+'wId'];return'';}function detectCommandName(_0x21b087){const _0x585a7b=_0x44db7f;if(!_0x21b087)return null;const _0x206bdd=_0x21b087[_0x585a7b(0x29f)]();if(!_0x206bdd)return null;return _0x206bdd[_0x585a7b(0x254)](/\s+/)[0x184*-0xd+0x1b55*0x1+-0x7*0x117][_0x585a7b(0x2c4)+'e']();}function parseJidsFromText(_0x4ded40){const _0x5ad4f2=_0x44db7f;if(!_0x4ded40)return[];const _0x11a9f1=_0x4ded40['split'](/[\s,]+/)[_0x5ad4f2(0x1c7)](_0x52986d=>_0x52986d[_0x5ad4f2(0x29f)]())[_0x5ad4f2(0x265)](Boolean),_0x26ea63=_0x11a9f1[_0x5ad4f2(0x265)](_0x4eb48a=>_0x4eb48a[_0x5ad4f2(0x1e3)]('@'))[_0x5ad4f2(0x1c7)](_0x1e8980=>_0x1e8980);return _0x26ea63;}function parseDeleteItems(_0x274b27){const _0x393d3b=_0x44db7f;if(!_0x274b27)return[];const _0x1a8530=_0x274b27['split'](/[\s,]+/)['map'](_0x430594=>_0x430594[_0x393d3b(0x29f)]())[_0x393d3b(0x265)](Boolean),_0x3ec1f7=_0x1a8530[_0x393d3b(0x1c7)](_0xdc5021=>{const _0x112147=_0x393d3b;if(/^\d+$/[_0x112147(0x293)](_0xdc5021))return{'type':'index','value':Number(_0xdc5021)};return{'type':_0x112147(0x262),'value':_0xdc5021};});return _0x3ec1f7;}async function sendApiOrFallback(_0x2196de,_0x2988b4,_0x475938=[]){const _0x464ac7=_0x44db7f;try{if(!_0x2196de||!_0x2988b4)return;if(botRef&&typeof botRef[_0x464ac7(0x27a)+'e']===_0x464ac7(0x27f))await botRef[_0x464ac7(0x27a)+'e'](_0x2196de,{'text':String(_0x2988b4),'mentions':_0x475938});else botRef&&botRef[_0x464ac7(0x21c)]&&typeof botRef[_0x464ac7(0x21c)]['sendMessag'+'e']===_0x464ac7(0x27f)?await botRef[_0x464ac7(0x21c)]['sendMessag'+'e'](_0x2196de,{'text':String(_0x2988b4),'mentions':_0x475938}):warn('['+name+(_0x464ac7(0x24c)+_0x464ac7(0x278)+_0x464ac7(0x258)+_0x464ac7(0x1dd)+_0x464ac7(0x205))+_0x2196de);}catch(_0x5afdf8){warn('['+name+(_0x464ac7(0x274)+'rFallback\x20'+_0x464ac7(0x268))+(_0x5afdf8?.[_0x464ac7(0x2c3)]||_0x5afdf8));}}function chunkLines(_0x2c1a1a,_0x4c3444=-0x2d5+-0x1*-0x1280+-0x9cf){const _0xc8fd55=_0x44db7f,_0x1421b9=[];let _0x36c797='';for(const _0x2efd5e of _0x2c1a1a){(_0x36c797+'\x0a'+_0x2efd5e)[_0xc8fd55(0x266)]>_0x4c3444&&(_0x1421b9[_0xc8fd55(0x1b5)](_0x36c797[_0xc8fd55(0x29f)]()),_0x36c797=''),_0x36c797+=(_0x36c797?'\x0a':'')+_0x2efd5e;}if(_0x36c797)_0x1421b9[_0xc8fd55(0x1b5)](_0x36c797[_0xc8fd55(0x29f)]());return _0x1421b9;}export async function initialize(_0x1df618){const _0x52435a=_0x44db7f;try{if(!_0x1df618)throw new Error('additions.'+'initialize'+'\x20requires\x20'+_0x52435a(0x2b7)+'ce');botRef=_0x1df618,await ensureSchema(),await refreshRuntimeConfig();try{_0x1df618['on'](_0x52435a(0x1f3)+_0x52435a(0x23f)+'pdate',gpUpdateHandler),info('['+name+(_0x52435a(0x23b)+_0x52435a(0x1c0)+_0x52435a(0x1ee)+_0x52435a(0x1a9)+'articipant'+_0x52435a(0x1ef)));}catch(_0x4d9390){warn('['+name+(_0x52435a(0x24b)+_0x52435a(0x1b8)+_0x52435a(0x28a)+_0x52435a(0x2b5))+(_0x4d9390?.['message']||_0x4d9390));}info('['+name+(_0x52435a(0x24a)+_0x52435a(0x241)));}catch(_0x3b2bc5){error(_0x3b2bc5,'['+name+(_0x52435a(0x24a)+_0x52435a(0x206))+(_0x3b2bc5?.[_0x52435a(0x2c3)]||_0x3b2bc5));throw _0x3b2bc5;}}export async function onMessage(_0x32558e,_0x3125bb){const _0x221012=_0x44db7f;try{if(!_0x32558e||!_0x32558e[_0x221012(0x284)]||!_0x3125bb)return;const _0x50de73=String(_0x32558e['key'][_0x221012(0x1e1)]||'')+'::'+String(_0x32558e['key']['id']||_0x32558e[_0x221012(0x284)]['participan'+'t']||'');if(isProcessed(_0x50de73))return;markProcessed(_0x50de73);const _0x2803d8=_0x32558e[_0x221012(0x2ae)]&&typeof _0x32558e[_0x221012(0x2ae)]==='string'?_0x32558e[_0x221012(0x2ae)]:extractTextFromMessage(_0x32558e)||'';if(!_0x2803d8)return;const _0x20fb79=_0x32558e['key'][_0x221012(0x1e1)],_0x9a230e=String(_0x20fb79||'')[_0x221012(0x21b)](_0x221012(0x1dc));if(!_0x32558e[_0x221012(0x28b)])return;if(!_0x9a230e)return;if(!_0x3125bb[_0x221012(0x1ec)])return;const _0x50c86a=typeof _0x32558e[_0x221012(0x2ae)]===_0x221012(0x27c)&&_0x32558e[_0x221012(0x2ae)][_0x221012(0x29f)]()[_0x221012(0x266)]?_0x32558e[_0x221012(0x2ae)]['trim']():_0x2803d8['trim'](),_0x4809d4=detectCommandName(_0x50c86a);if(!_0x4809d4||!commands['includes'](_0x4809d4))return;const _0x3b6955=_0x20fb79;if(_0x4809d4==='additiongr'+_0x221012(0x1df)){const _0x3b2ca1=_0x50c86a[_0x221012(0x26d)](/^additiongroup\b/i,'')[_0x221012(0x29f)]();let _0x4213ec=[];if(_0x3b2ca1&&_0x3b2ca1[_0x221012(0x266)])_0x4213ec=parseJidsFromText(_0x3b2ca1);else{const _0x1196e2=_0x50c86a[_0x221012(0x254)](/\r?\n/)[_0x221012(0x237)](-0x12f8+-0x5f*0x2c+0x234d)[_0x221012(0x1c7)](_0x3e738e=>_0x3e738e['trim']())[_0x221012(0x265)](Boolean),_0x44f532=_0x1196e2['join']('\x20');_0x4213ec=parseJidsFromText(_0x44f532);}if(!_0x4213ec[_0x221012(0x266)]){await sendApiOrFallback(_0x3b6955,'Usage:\x20add'+_0x221012(0x282)+_0x221012(0x1f1)+_0x221012(0x1db)+'_jid>...]\x0a'+_0x221012(0x1d3)+_0x221012(0x2a6)+'id1>\x0a<jid2'+'>\x0a');return;}const _0x327760=[],_0x1cac61=[];for(const _0x1267e8 of _0x4213ec){if(!_0x1267e8[_0x221012(0x1e3)]('@')){_0x1cac61[_0x221012(0x1b5)](_0x1267e8);continue;}try{const _0x3a9a53=await dbAddGroup(_0x1267e8);if(_0x3a9a53)_0x327760[_0x221012(0x1b5)](_0x1267e8);else _0x1cac61['push'](_0x1267e8);}catch(_0x4c7b89){warn('['+name+(_0x221012(0x200)+_0x221012(0x1ed)+_0x221012(0x20d))+_0x1267e8+':\x20'+(_0x4c7b89?.[_0x221012(0x2c3)]||_0x4c7b89)),_0x1cac61[_0x221012(0x1b5)](_0x1267e8);}}const _0x40af27=[];if(_0x327760[_0x221012(0x266)])_0x40af27[_0x221012(0x1b5)]('‚úÖ\x20Added:\x0a'+_0x327760['map'](_0x3ffd3f=>'‚Ä¢\x20'+_0x3ffd3f)[_0x221012(0x1f7)]('\x0a'));if(_0x1cac61[_0x221012(0x266)])_0x40af27[_0x221012(0x1b5)](_0x221012(0x248)+'failed:\x0a'+_0x1cac61[_0x221012(0x1c7)](_0x12b6bf=>'‚Ä¢\x20'+_0x12b6bf)[_0x221012(0x1f7)]('\x0a'));await sendApiOrFallback(_0x3b6955,_0x40af27[_0x221012(0x1f7)]('\x0a\x0a')||'No\x20valid\x20g'+_0x221012(0x1b7)+_0x221012(0x228));return;}if(_0x4809d4==='deladditio'+'ngroup'||_0x4809d4===_0x221012(0x244)+_0x221012(0x2bf)){const _0x386403=_0x50c86a['replace'](/^(deladditiongroup|removeadditiongroup)\b/i,'')[_0x221012(0x29f)]();if(!_0x386403){await sendApiOrFallback(_0x3b6955,'Usage:\x20del'+_0x221012(0x247)+'oup\x20<group'+_0x221012(0x261)+_0x221012(0x2ac)+'.]>\x0aUse\x20li'+_0x221012(0x25a)+'groups\x20to\x20'+_0x221012(0x1e2)+'s.');return;}const _0xa7618b=parseDeleteItems(_0x386403);if(!_0xa7618b['length']){await sendApiOrFallback(_0x3b6955,_0x221012(0x201)+'tems\x20to\x20de'+_0x221012(0x1d1)+_0x221012(0x1e5)+_0x221012(0x1c4)+_0x221012(0x251)+_0x221012(0x29b)+_0x221012(0x1f5));return;}const _0xe99a02=await dbListGroups(),_0x2b92de=new Set(),_0x5d4a23=[];for(const _0x4f96e1 of _0xa7618b){if(_0x4f96e1['type']===_0x221012(0x262)){const _0x3b265b=_0x4f96e1[_0x221012(0x1e6)];if(_0xe99a02[_0x221012(0x1e3)](_0x3b265b))_0x2b92de[_0x221012(0x235)](_0x3b265b);else _0x5d4a23[_0x221012(0x1b5)](_0x3b265b);}else{if(_0x4f96e1[_0x221012(0x255)]==='index'){const _0x1af143=_0x4f96e1['value'];if(_0x1af143<=-0x116d+0x3*-0x4df+0x200a||_0x1af143>_0xe99a02[_0x221012(0x266)]){_0x5d4a23[_0x221012(0x1b5)](String(_0x1af143));continue;}const _0x3e1bca=_0xe99a02[_0x1af143-(0x976*0x1+0xc1*0x1+0x2*-0x51b)];if(_0x3e1bca)_0x2b92de[_0x221012(0x235)](_0x3e1bca);}}}const _0x52351e=[],_0xd3c840=[];for(const _0x3df303 of Array['from'](_0x2b92de)){try{const _0x400e1c=await dbRemoveGroup(_0x3df303);if(_0x400e1c)_0x52351e[_0x221012(0x1b5)](_0x3df303);else _0xd3c840[_0x221012(0x1b5)](_0x3df303);}catch(_0x369f51){warn('['+name+(']\x20dbRemove'+_0x221012(0x1ca)+_0x221012(0x297))+_0x3df303+':\x20'+(_0x369f51?.['message']||_0x369f51)),_0xd3c840[_0x221012(0x1b5)](_0x3df303);}}const _0x270735=[];if(_0x52351e[_0x221012(0x266)])_0x270735[_0x221012(0x1b5)]('‚úÖ\x20Removed:'+'\x0a'+_0x52351e[_0x221012(0x1c7)](_0x55c0b0=>'‚Ä¢\x20'+_0x55c0b0)[_0x221012(0x1f7)]('\x0a'));if(_0xd3c840[_0x221012(0x266)])_0x270735['push'](_0x221012(0x214)+'o\x20remove:\x0a'+_0xd3c840['map'](_0x579c9e=>'‚Ä¢\x20'+_0x579c9e)[_0x221012(0x1f7)]('\x0a'));if(_0x5d4a23[_0x221012(0x266)])_0x270735[_0x221012(0x1b5)]('‚ö†Ô∏è\x20Not\x20foun'+_0x221012(0x1f0)+_0x221012(0x292)+_0x5d4a23[_0x221012(0x1c7)](_0x3c0587=>'\x20'+_0x3c0587)[_0x221012(0x1f7)](','));await sendApiOrFallback(_0x3b6955,_0x270735['join']('\x0a\x0a')||_0x221012(0x22e)+_0x221012(0x1ab));return;}if(_0x4809d4===_0x221012(0x1c8)+_0x221012(0x1b9)||_0x4809d4===_0x221012(0x247)+_0x221012(0x1cb)){const _0x482d7e=await dbListGroups();if(!_0x482d7e||_0x482d7e['length']===0x159a+-0x1*0xced+-0x8ad){await sendApiOrFallback(_0x3b6955,'No\x20additio'+_0x221012(0x1fe)+'onfigured.');return;}const _0x315be0=_0x482d7e[_0x221012(0x1c7)]((_0x4a6f8d,_0x23f7b1)=>_0x23f7b1+(0xb7*-0x2e+0x9a5*-0x3+0xc1*0x52)+'.\x20'+_0x4a6f8d),_0x2e94a4=chunkLines(_0x315be0,-0x238c+-0x147b+-0x6bf*-0x9);for(const _0x3f5162 of _0x2e94a4)await sendApiOrFallback(_0x3b6955,_0x3f5162);return;}if(_0x4809d4==='additions'){const _0x87996=_0x50c86a[_0x221012(0x254)](/\s+/)['slice'](0xcd5+0x2*-0x137a+0x1a20);if(!_0x87996||!_0x87996[-0x117*0x1b+-0x281+0x2*0xff7]){await sendApiOrFallback(_0x3b6955,_0x221012(0x24f)+_0x221012(0x25f)+_0x221012(0x22a)+'t:\x20'+(CFG['ENABLED']?'on':_0x221012(0x1da)));return;}const _0x2f4ee0=_0x87996[-0x20*0x20+-0xe52*0x1+-0x1*-0x1252][_0x221012(0x2c4)+'e']();if(_0x2f4ee0!=='on'&&_0x2f4ee0!==_0x221012(0x1da)){await sendApiOrFallback(_0x3b6955,'Usage:\x20add'+_0x221012(0x25f)+'off');return;}const _0x2179e1=_0x2f4ee0==='on';if(_0x2179e1){const _0x5e4147=await dbListGroups(),_0x5c6c83=await dbGetConfig('notify_gro'+'up');if(_0x5e4147[_0x221012(0x266)]===-0x5a1+-0x22bd+-0x1*-0x285e){await sendApiOrFallback(_0x3b6955,_0x221012(0x2b9)+_0x221012(0x29e)+_0x221012(0x256)+'\x20least\x20one'+_0x221012(0x20b)+_0x221012(0x1bb)+_0x221012(0x19e)+_0x221012(0x28f)+_0x221012(0x1a2));return;}if(!_0x5c6c83){await sendApiOrFallback(_0x3b6955,'‚ùå\x20Cannot\x20e'+_0x221012(0x29e)+_0x221012(0x2c6)+_0x221012(0x287)+'on\x20target\x20'+_0x221012(0x24d)+'`additiont'+_0x221012(0x1e0)+_0x221012(0x290));return;}}const _0x9a02e6=await dbSetConfig('enabled',_0x2179e1?'1':'0');if(!_0x9a02e6){await sendApiOrFallback(_0x3b6955,_0x221012(0x269)+'update\x20add'+_0x221012(0x1ff)+_0x221012(0x1e4)+'.');return;}CFG[_0x221012(0x238)]=_0x2179e1,await sendApiOrFallback(_0x3b6955,'‚úÖ\x20addition'+'s\x20'+(_0x2179e1?'enabled':_0x221012(0x1ce)));return;}if(_0x4809d4===_0x221012(0x29a)+_0x221012(0x2b3)){const _0x41f8c7=_0x50c86a[_0x221012(0x254)](/\s+/)['slice'](-0x15d*0x17+0x11*-0x43+0x23cf);if(!_0x41f8c7||!_0x41f8c7[0xb*-0x53+0x12f8*0x2+0x15*-0x1a3]){await sendApiOrFallback(_0x3b6955,_0x221012(0x24f)+_0x221012(0x25e)+'t\x20<target_'+_0x221012(0x2ca)+'\x0aCurrent:\x20'+(CFG['notify_gro'+'up']||'(none\x20-\x20RE'+_0x221012(0x2b4)));return;}const _0x319753=_0x41f8c7[-0x2*-0x2d9+-0x132b+-0xd79*-0x1][_0x221012(0x29f)]();if(_0x319753[_0x221012(0x2c4)+'e']()===_0x221012(0x1ba)){await dbDeleteConfig(_0x221012(0x298)+'up'),CFG[_0x221012(0x298)+'up']=null,await sendApiOrFallback(_0x3b6955,'‚úÖ\x20addition'+_0x221012(0x1a8)+_0x221012(0x212)+_0x221012(0x291)+_0x221012(0x259)+_0x221012(0x272)+_0x221012(0x231)+_0x221012(0x281));return;}if(!_0x319753[_0x221012(0x1e3)]('@')){await sendApiOrFallback(_0x3b6955,'Target\x20JID'+_0x221012(0x2be)+'ude\x20an\x20@\x20('+_0x221012(0x21f)+_0x221012(0x26c));return;}const _0x3a6e27=await dbSetConfig('notify_gro'+'up',_0x319753);if(!_0x3a6e27){await sendApiOrFallback(_0x3b6955,'‚ùå\x20addition'+_0x221012(0x213)+'led\x20for\x20'+_0x319753);return;}CFG[_0x221012(0x298)+'up']=_0x319753,await sendApiOrFallback(_0x3b6955,_0x221012(0x1a4)+_0x221012(0x252)+_0x221012(0x2a0)+_0x319753);return;}if(_0x4809d4==='additionst'+_0x221012(0x233)){const _0x50d955=CFG['ENABLED']?'on':_0x221012(0x1da),_0x113652=CFG[_0x221012(0x298)+'up']||'(none\x20-\x20RE'+_0x221012(0x299)+_0x221012(0x22c),_0x473821=await dbListGroups(),_0x3024d2=[_0x221012(0x1b1)+_0x221012(0x277)+_0x221012(0x25d),_0x221012(0x28e)+_0x50d955+'*',_0x221012(0x1ae)+_0x221012(0x21a)+_0x113652+'*',_0x221012(0x253)+_0x221012(0x294)+(_0x473821[_0x221012(0x266)]||-0x12e3+0x6a8+-0x65*-0x1f)+'*'];await sendApiOrFallback(_0x3b6955,_0x3024d2['join']('\x0a'));if(_0x473821['length']){const _0x28da85=_0x473821[_0x221012(0x1c7)]((_0x25400f,_0x6c52ec)=>_0x6c52ec+(-0x530+-0x1fd7+-0x18*-0x18b)+'.\x20'+_0x25400f),_0xc35dfd=chunkLines(_0x28da85,-0x1*-0x1aab+-0x727+-0xed4);for(const _0x2bcc65 of _0xc35dfd)await sendApiOrFallback(_0x3b6955,_0x2bcc65);}return;}}catch(_0x3607aa){error(_0x3607aa,'['+name+(_0x221012(0x1ac)+_0x221012(0x264))+(_0x3607aa?.[_0x221012(0x2c3)]||_0x3607aa));}}export async function cleanup(){const _0x11ad08=_0x44db7f;try{for(const _0x2478f8 of groupTimers[_0x11ad08(0x270)]())try{clearTimeout(_0x2478f8);}catch(_0x250f6c){}groupTimers[_0x11ad08(0x1ba)](),groupQueues[_0x11ad08(0x1ba)]();try{botRef&&typeof botRef[_0x11ad08(0x1da)]===_0x11ad08(0x27f)&&botRef[_0x11ad08(0x1da)]('group-part'+_0x11ad08(0x23f)+_0x11ad08(0x2b6),gpUpdateHandler);}catch(_0x1ea9a7){}}catch(_0xddd311){warn('['+name+(']\x20cleanup\x20'+_0x11ad08(0x216))+(_0xddd311?.[_0x11ad08(0x2c3)]||_0xddd311));}finally{botRef=null,info('['+name+(_0x11ad08(0x20e)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};