const _0x8e0f7d=_0x1a2a;(function(_0x21a851,_0x573886){const _0x49addc=_0x1a2a,_0x553d9=_0x21a851();while(!![]){try{const _0x12553a=-parseInt(_0x49addc(0x184))/(-0x661+-0x1b2e+0x2190)+-parseInt(_0x49addc(0x194))/(-0x399*0x3+-0x1aad*-0x1+0x1fc*-0x8)+-parseInt(_0x49addc(0x1e0))/(0xe82+0x5*-0xd1+0xa6a*-0x1)*(parseInt(_0x49addc(0x1c1))/(-0x18dd+0x24f1+-0xc10))+-parseInt(_0x49addc(0x15c))/(0x2*0xb48+0x7fa+-0xd*0x259)+parseInt(_0x49addc(0x15e))/(0x1b05+-0x142+-0x19bd)+-parseInt(_0x49addc(0x1dc))/(0x1e1f+0x2370+-0x4188)+-parseInt(_0x49addc(0x1c2))/(-0x23ca+0x1ca9+0x729)*(-parseInt(_0x49addc(0x1c0))/(0x69e+-0x2567+-0xa*-0x315));if(_0x12553a===_0x573886)break;else _0x553d9['push'](_0x553d9['shift']());}catch(_0x3edbc4){_0x553d9['push'](_0x553d9['shift']());}}}(_0x2e69,-0x7*0x1491b+0xaf9c1*0x1+0x47708));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getBotJid}from'../utils/bot-state.js';import{userjid}from'../utils/sudo.js';import{getSenderForMsg}from'./sudonumber.js';export const name=_0x8e0f7d(0x195)+'r';export const version=_0x8e0f7d(0x1a0);function _0x2e69(){const _0x192151=['W_MINUTES','old_text','msgId','\x20created_f','remoteJidA','\x20old\x20edit\x20','fe\x20error:\x20','id\x27','t_jid,\x20tex','[Original\x20','message','t_pn','CLEANUP_IN','\x20Edited*\x0a\x0a','s\x20bot\x20arg','ESC\x20LIMIT\x20','[EditLogge','ge.edit','selectedRo','M\x20edits\x20WH','slice','T,\x0a\x20\x20\x20\x20tex','ted\x20handle','126hmQqRN','4qcHNKl','814536klTPZU','find','seMessage','times','SELECT\x20id\x20','wId','it:\x20','new_text','msg_id','ized','r]\x20DB\x20init','get','ze\x20require','replace','t\x20in\x20cache','\x20TEXT,\x0a\x20\x20\x20','\x20ID:*\x20','to\x20attach\x20','push','TERVAL_MS','jid','\x20failed:\x20','r]\x20cleaned','conversati','field','new_messag','4581248sMPIJU','son,\x20creat','botInstanc','\x20ORDER\x20BY\x20','1057011rqQEaV','run',')\x0a\x20\x20\x20\x20\x20VAL','indexOf','ts\x20(\x0a\x20\x20\x20\x20i','CKOFF_MS','exec','ND\x20created','AULT\x200,\x0a\x20\x20','sender_jid','caption','rom_edit\x20I','rate','n,\x20created','participan','t\x20TEXT,\x0a\x20\x20','FROM\x20edits','\x20msg_id,\x20c','time','newText','hat_jid,\x20t','stringify','_from_edit','sock','ber','its\x20WHERE\x20','\x20FROM\x20edit','r]\x20send\x20at','\x20\x20raw_json','remoteJid','map','now','chat','sender_num','extendedTe','sendMessag','\x0a```','*\x0a```\x0a','r]\x20failed\x20','chatId','originalMe','msg_id\x20=\x20?','join','ener','\x20WHERE\x20key','O\x20edits\x20(m','OT\x20NULL\x20AN','\x20INTEGER\x0a\x20','r]\x20unexpec','trim','findings','D\x20saved_at','\x20msg_id\x20TE','\x20\x20saved_at','s\x20WHERE\x20ms','from','1094990IFBbqY','d\x20INTEGER\x20','3608244vYkuAE','sg_id,\x20cha','filter','XT,\x0a\x20\x20\x20\x20ch','INITIAL_BA','d\x20to\x20messa','value','=\x27target_j','key','groupMetad','lete_prefs','@g.us','‚úèÔ∏è\x20*Edited\x20','tAlt','at\x20FROM\x20ed','ctReply','listRespon','isArray','subject','oldText','r]\x20cleanup','imageMessa','ata','r\x20initiali','LE\x20IF\x20NOT\x20','buttonsRes','tempt\x20','ttonId','string','DELETE\x20FRO','Y\x20AUTOINCR','videoMessa','\x20(edited\x20','\x20WHERE\x20sav','\x20target\x20av','üí¨\x20*Chat:*\x20','ext,\x20raw_j','üë§\x20*User:*\x20','104426TTmIqk','rows','NT(*)\x20AS\x20c','text','newMessage','nd.','ssageId','length','UES\x20(?,\x20?,','selectedBu','\x20?,\x20?,\x20?,\x20','EDIT_WINDO','floor','l\x20Message:','EMENT,\x0a\x20\x20\x20','catch','548862OUbJJI','edit-logge','number','it,\x20saved_','r]\x20no\x20send','OldEditsSa','message\x20no','t,\x20raw_jso','r]\x20initial','object','removeList','oldMessage','1.7.0','SELECT\x20COU','ailable;\x20d','\x20<\x20?','function','e.sendMess','(unknown)','age\x20missin','ETRIES'];_0x2e69=function(){return _0x192151;};return _0x2e69();}export const priority=-0x3*-0xb5a+-0x14cb*-0x1+-0x11*0x337;let botInstance=null,cleanupInterval=null;const FALLBACKS={'EDIT_WINDOW_MINUTES':0xf,'CLEANUP_INTERVAL_MS':(0x12c7+0xb*0x10f+-0x1e30)*(0x2573+-0x1d84+-0x407),'MAX_SEND_RETRIES':0x3,'INITIAL_BACKOFF_MS':0x1f4};let EDIT_WINDOW_MINUTES=FALLBACKS[_0x8e0f7d(0x18f)+_0x8e0f7d(0x1a9)],CLEANUP_INTERVAL_MS=FALLBACKS[_0x8e0f7d(0x1b5)+_0x8e0f7d(0x1d5)],MAX_SEND_RETRIES=FALLBACKS['MAX_SEND_R'+_0x8e0f7d(0x1a8)],INITIAL_BACKOFF_MS=FALLBACKS[_0x8e0f7d(0x162)+'CKOFF_MS'];async function ensureTable(){const _0x5a3f82=_0x8e0f7d;await db[_0x5a3f82(0x1e6)]('CREATE\x20TAB'+_0x5a3f82(0x176)+'EXISTS\x20edi'+_0x5a3f82(0x1e4)+_0x5a3f82(0x15d)+'PRIMARY\x20KE'+_0x5a3f82(0x17c)+_0x5a3f82(0x192)+_0x5a3f82(0x158)+_0x5a3f82(0x161)+'at_jid\x20TEX'+_0x5a3f82(0x1be)+_0x5a3f82(0x1ef)+_0x5a3f82(0x140)+_0x5a3f82(0x1d1)+_0x5a3f82(0x1ac)+_0x5a3f82(0x1eb)+'NTEGER\x20DEF'+_0x5a3f82(0x1e8)+_0x5a3f82(0x159)+_0x5a3f82(0x153)+'\x20);');}function nowSeconds(){const _0x480e97=_0x8e0f7d;return Math[_0x480e97(0x190)](Date[_0x480e97(0x143)]()/(-0x21c2*-0x1+0xc57+-0x2a31));}async function insertEditVersion(_0x28ebfb,_0x21f4cf,_0x270c82,_0x314b60,_0x50828a=-0x5fb+-0x59a+-0x2*-0x5cb){const _0x2c05d2=_0x8e0f7d,_0xb71c88=nowSeconds();await db['run']('INSERT\x20INT'+_0x2c05d2(0x151)+_0x2c05d2(0x15f)+_0x2c05d2(0x1b1)+_0x2c05d2(0x19b)+_0x2c05d2(0x1ed)+_0x2c05d2(0x1f6)+',\x20saved_at'+_0x2c05d2(0x1e2)+_0x2c05d2(0x18c)+_0x2c05d2(0x18e)+'?)',[_0x28ebfb||null,_0x21f4cf||null,_0x270c82||'',_0x314b60||null,_0x50828a?-0x4d4+-0x1d23*-0x1+0xb7*-0x22:-0xd7c+0xd*-0x1f3+0x26d3*0x1,_0xb71c88]);}async function fetchLatestEditForMsg(_0x97ab65){const _0x46bd16=_0x8e0f7d;if(!_0x97ab65)return null;const _0x1ebb35=await db[_0x46bd16(0x1cd)]('SELECT\x20id,'+_0x46bd16(0x1f1)+_0x46bd16(0x1f4)+_0x46bd16(0x182)+_0x46bd16(0x1dd)+'ed_from_ed'+_0x46bd16(0x197)+_0x46bd16(0x16c)+_0x46bd16(0x13d)+_0x46bd16(0x14d)+_0x46bd16(0x1df)+'saved_at\x20D'+_0x46bd16(0x1b8)+'1',[_0x97ab65]);return _0x1ebb35||null;}async function countEditsForMsg(_0x4830c6){const _0xd8fce2=_0x8e0f7d;if(!_0x4830c6)return-0x1*0x16cd+0xf36+0x797;const _0x422a60=await db[_0xd8fce2(0x1cd)](_0xd8fce2(0x1a1)+_0xd8fce2(0x186)+_0xd8fce2(0x13e)+_0xd8fce2(0x15a)+'g_id\x20=\x20?\x20A'+_0xd8fce2(0x1e7)+_0xd8fce2(0x1f6)+'\x20=\x201',[_0x4830c6]);return _0x422a60&&typeof _0x422a60['c']===_0xd8fce2(0x196)?_0x422a60['c']:0x21f8*-0x1+-0x2692+0x488a;}async function cleanupOldEdits(){const _0x3ed1b5=_0x8e0f7d,_0x231e5f=nowSeconds()-Number(EDIT_WINDOW_MINUTES||FALLBACKS[_0x3ed1b5(0x18f)+_0x3ed1b5(0x1a9)])*(-0x516+0x1*-0x16cf+-0x1c21*-0x1),_0xd70703=await db['all'](_0x3ed1b5(0x1c6)+_0x3ed1b5(0x1f0)+_0x3ed1b5(0x17f)+'ed_at\x20IS\x20N'+_0x3ed1b5(0x152)+_0x3ed1b5(0x157)+_0x3ed1b5(0x1a3),[_0x231e5f]);if(!_0xd70703||_0xd70703[_0x3ed1b5(0x18b)]===-0x1b68+0xd*-0x295+0x3cf9)return;const _0x4d504a=_0xd70703['map'](_0xb69fab=>_0xb69fab['id']),_0x83594a=0x238*-0x9+0xbb3*0x3+-0xe59;for(let _0x365cdf=0x2373+0x5dd+-0x14a8*0x2;_0x365cdf<_0x4d504a[_0x3ed1b5(0x18b)];_0x365cdf+=_0x83594a){const _0x3f9ae3=_0x4d504a[_0x3ed1b5(0x1bd)](_0x365cdf,_0x365cdf+_0x83594a),_0x37e732=_0x3f9ae3[_0x3ed1b5(0x142)](()=>'?')['join'](',');await db[_0x3ed1b5(0x1e1)](_0x3ed1b5(0x17b)+_0x3ed1b5(0x1bc)+'ERE\x20id\x20IN\x20'+'('+_0x37e732+')',_0x3f9ae3);}info(_0x3ed1b5(0x1b9)+_0x3ed1b5(0x1d8)+'\x20'+_0xd70703['length']+(_0x3ed1b5(0x1ae)+_0x3ed1b5(0x185)));}async function cleanupOldEditsSafe(){const _0x3cf826=_0x8e0f7d;try{await cleanupOldEdits();}catch(_0xd9213d){warn(_0x3cf826(0x1b9)+_0x3cf826(0x172)+_0x3cf826(0x199)+_0x3cf826(0x1af)+(_0xd9213d?.['message']||_0xd9213d));}}function extractText(_0x90a49b,_0x16eec1=!![]){const _0x57e60f=_0x8e0f7d;if(!_0x90a49b)return'';if(_0x16eec1){if(typeof _0x90a49b[_0x57e60f(0x1f3)]===_0x57e60f(0x17a))return _0x90a49b[_0x57e60f(0x1f3)];if(typeof _0x90a49b[_0x57e60f(0x1c9)]===_0x57e60f(0x17a))return _0x90a49b['new_text'];}else{if(typeof _0x90a49b['oldText']===_0x57e60f(0x17a))return _0x90a49b[_0x57e60f(0x171)];if(typeof _0x90a49b[_0x57e60f(0x1aa)]===_0x57e60f(0x17a))return _0x90a49b['old_text'];}const _0x49425a=_0x16eec1?_0x90a49b[_0x57e60f(0x188)]||_0x90a49b['message']||_0x90a49b[_0x57e60f(0x1db)+'e']:_0x90a49b[_0x57e60f(0x19f)]||_0x90a49b[_0x57e60f(0x1b3)]||_0x90a49b['old_messag'+'e'];if(_0x49425a&&typeof _0x49425a===_0x57e60f(0x19d)){if(_0x49425a['conversati'+'on'])return _0x49425a[_0x57e60f(0x1d9)+'on'];if(_0x49425a[_0x57e60f(0x146)+'xtMessage']?.['text'])return _0x49425a[_0x57e60f(0x146)+'xtMessage'][_0x57e60f(0x187)];if(_0x49425a[_0x57e60f(0x173)+'ge']?.[_0x57e60f(0x1ea)])return _0x49425a[_0x57e60f(0x173)+'ge'][_0x57e60f(0x1ea)];if(_0x49425a[_0x57e60f(0x17d)+'ge']?.[_0x57e60f(0x1ea)])return _0x49425a[_0x57e60f(0x17d)+'ge'][_0x57e60f(0x1ea)];if(_0x49425a[_0x57e60f(0x177)+'ponseMessa'+'ge']?.['selectedBu'+'ttonId'])return _0x49425a['buttonsRes'+'ponseMessa'+'ge'][_0x57e60f(0x18d)+_0x57e60f(0x179)];if(_0x49425a[_0x57e60f(0x16e)+_0x57e60f(0x1c4)]?.['singleSele'+'ctReply']?.[_0x57e60f(0x1bb)+_0x57e60f(0x1c7)])return _0x49425a['listRespon'+'seMessage']['singleSele'+_0x57e60f(0x16d)]['selectedRo'+_0x57e60f(0x1c7)];}if(typeof _0x90a49b[_0x57e60f(0x187)]===_0x57e60f(0x17a))return _0x90a49b[_0x57e60f(0x187)];return'';}function numberFromRawJid(_0x7daf55){const _0x3e7f42=_0x8e0f7d;if(!_0x7daf55)return'';try{const _0x9c6302=String(_0x7daf55),_0x27e17f=_0x9c6302[_0x3e7f42(0x1e3)]('@'),_0x1f2a7d=_0x27e17f===-(-0x1611+-0x16*-0xb+-0x548*-0x4)?_0x9c6302:_0x9c6302['slice'](0x1*0x1a46+0xd77*0x1+-0x27bd,_0x27e17f),_0x507107=_0x1f2a7d['indexOf'](':'),_0x1df47a=_0x507107===-(-0x1be6+-0x1*0x1906+-0x31d*-0x11)?_0x1f2a7d:_0x1f2a7d['slice'](0x27e+-0x65*0x18+0x6fa,_0x507107);return _0x1df47a[_0x3e7f42(0x1cf)](/^\+/,'');}catch{return'';}}function isGroupJid(_0x3452b5){const _0x29fede=_0x8e0f7d;return typeof _0x3452b5==='string'&&_0x3452b5['endsWith'](_0x29fede(0x169));}async function sendWithRetry(_0x4bd921,_0x5c7461){const _0x4ee7a2=_0x8e0f7d,_0x23bea9=Number(MAX_SEND_RETRIES||FALLBACKS['MAX_SEND_R'+_0x4ee7a2(0x1a8)]);let _0x5197ad=-0x1*0xe7d+0x1*-0x2196+0x3013,_0x2f982f=Number(INITIAL_BACKOFF_MS||FALLBACKS[_0x4ee7a2(0x162)+_0x4ee7a2(0x1e5)]);const _0x587294=[];if(_0x5c7461)_0x587294[_0x4ee7a2(0x1d4)](_0x5c7461);try{const _0x565b44=await db[_0x4ee7a2(0x1cd)]('SELECT\x20val'+'ue\x20FROM\x20de'+_0x4ee7a2(0x168)+_0x4ee7a2(0x150)+_0x4ee7a2(0x165)+_0x4ee7a2(0x1b0));if(_0x565b44&&_0x565b44[_0x4ee7a2(0x164)])_0x587294[_0x4ee7a2(0x1d4)](String(_0x565b44[_0x4ee7a2(0x164)]));}catch{}const _0x5e4d36=getBotJid();if(_0x5e4d36)_0x587294[_0x4ee7a2(0x1d4)](_0x5e4d36);const _0x4fe5f7=Array[_0x4ee7a2(0x15b)](new Set(_0x587294[_0x4ee7a2(0x160)](Boolean)));if(_0x4fe5f7['length']===-0x74b*-0x3+-0x53a*-0x1+-0x1b1b)return warn('[EditLogge'+_0x4ee7a2(0x198)+_0x4ee7a2(0x180)+_0x4ee7a2(0x1a2)+'ropping\x20se'+_0x4ee7a2(0x189)),![];const _0x12d0c9=_0x4fe5f7[0x1*-0x21f1+0x1f*0x8+0x20f9];while(_0x5197ad<_0x23bea9){_0x5197ad++;try{if(!botInstance||typeof botInstance[_0x4ee7a2(0x147)+'e']!==_0x4ee7a2(0x1a4))throw new Error(_0x4ee7a2(0x1de)+_0x4ee7a2(0x1a5)+_0x4ee7a2(0x1a7)+'g');return await botInstance[_0x4ee7a2(0x147)+'e'](_0x12d0c9,_0x4bd921),!![];}catch(_0x3c2fff){warn(_0x4ee7a2(0x1b9)+_0x4ee7a2(0x13f)+_0x4ee7a2(0x178)+_0x5197ad+'\x20failed:\x20'+(_0x3c2fff?.[_0x4ee7a2(0x1b3)]||_0x3c2fff));const _0x2285c0=String(_0x3c2fff?.[_0x4ee7a2(0x1b3)]||'')['toLowerCas'+'e']()['includes'](_0x4ee7a2(0x1ec))||_0x3c2fff?.['status']===-0x1dc2+0x1f62+0xd;if(_0x5197ad>=_0x23bea9||!_0x2285c0)return![];await new Promise(_0x1f0da7=>setTimeout(_0x1f0da7,_0x2f982f)),_0x2f982f*=0x1f12+0x1d7e+-0x2*0x1e47;}}return![];}async function buildAndSendLog({chatJid:_0x1294a9,msgId:_0x7a09c0,originalText:_0x32e2fc,newText:_0xaec50c,senderNumber:_0x173e2e,editCount:_0x2e50d8}){const _0x5d9fdd=_0x8e0f7d;let _0x34c9a0=null;if(isGroupJid(_0x1294a9)&&botInstance?.[_0x5d9fdd(0x1f7)]?.[_0x5d9fdd(0x167)+'ata'])try{const _0x29fc17=await botInstance[_0x5d9fdd(0x1f7)][_0x5d9fdd(0x167)+_0x5d9fdd(0x174)](_0x1294a9);if(_0x29fc17?.[_0x5d9fdd(0x170)])_0x34c9a0=_0x29fc17[_0x5d9fdd(0x170)];}catch{}const _0xbc2133='‚úèÔ∏è\x20*Message'+_0x5d9fdd(0x1b6),_0x8fb7c6=_0x5d9fdd(0x183)+'@'+(_0x173e2e||''),_0x18b8de=_0x5d9fdd(0x181)+(_0x34c9a0?_0x34c9a0+'\x20('+_0x1294a9+')':_0x1294a9||_0x5d9fdd(0x1a6)),_0x365bc9='üÜî\x20*Message'+_0x5d9fdd(0x1d2)+(_0x7a09c0||_0x5d9fdd(0x1a6)),_0x5e1fa1=typeof _0x2e50d8===_0x5d9fdd(0x196)&&_0x2e50d8>-0x1*-0x1f0d+0x1*-0x1321+-0x6d*0x1c?_0x5d9fdd(0x17e)+_0x2e50d8+'\x20'+(_0x2e50d8===-0x2*0x91+-0x14c4+0x15e7?_0x5d9fdd(0x1f2):_0x5d9fdd(0x1c5))+')':'',_0x4e9125='üîÅ\x20*Origina'+_0x5d9fdd(0x191)+_0x5e1fa1+_0x5d9fdd(0x149)+(_0x32e2fc||_0x5d9fdd(0x1b2)+_0x5d9fdd(0x19a)+'t\x20in\x20cache'+']')+_0x5d9fdd(0x148),_0x5611c6=_0x5d9fdd(0x16a)+'To:*\x0a```\x0a'+(_0xaec50c||'')+_0x5d9fdd(0x148),_0x2d9a51=[_0xbc2133,_0x8fb7c6,_0x18b8de,_0x365bc9,'',_0x4e9125,'',_0x5611c6][_0x5d9fdd(0x14e)]('\x0a');return await sendWithRetry({'text':_0x2d9a51},null);}async function handleMessageEdit(_0x173511){const _0x167d35=_0x8e0f7d;try{if(!_0x173511)return;let _0x32f943=[],_0x594ce8=null;try{const _0x30f416=userjid(_0x173511);_0x32f943=_0x30f416?.[_0x167d35(0x156)]||[],_0x594ce8=_0x30f416?.['id']||null;}catch(_0x11c2fa){}let _0x17276f=_0x594ce8||_0x173511[_0x167d35(0x14c)+_0x167d35(0x18a)]||_0x173511[_0x167d35(0x1ab)]||_0x173511[_0x167d35(0x1ca)]||_0x173511['id']||_0x173511['message']?.[_0x167d35(0x166)]?.['id']||null,_0x1433eb=_0x173511[_0x167d35(0x14b)]||_0x173511[_0x167d35(0x144)]||_0x173511[_0x167d35(0x1b3)]?.[_0x167d35(0x166)]?.[_0x167d35(0x141)]||null,_0x5bad5c='';try{if(_0x17276f){const _0x209f2a=await getSenderForMsg(_0x17276f);_0x209f2a&&(_0x5bad5c=_0x209f2a[_0x167d35(0x145)+_0x167d35(0x13c)]&&String(_0x209f2a[_0x167d35(0x145)+'ber'])[_0x167d35(0x155)]()?String(_0x209f2a[_0x167d35(0x145)+_0x167d35(0x13c)])[_0x167d35(0x155)]():numberFromRawJid(_0x209f2a[_0x167d35(0x1e9)]));}}catch(_0x285eb7){}if(!_0x5bad5c&&Array[_0x167d35(0x16f)](_0x32f943)&&_0x32f943[_0x167d35(0x18b)]){const _0xd661e=[_0x167d35(0x1ad)+'lt','sender_pn',_0x167d35(0x1ee)+_0x167d35(0x16b),_0x167d35(0x1ee)+_0x167d35(0x1b4)];let _0x2151a2=null;for(const _0x4e36f5 of _0xd661e){_0x2151a2=_0x32f943[_0x167d35(0x1c3)](_0x3775dd=>_0x3775dd[_0x167d35(0x1da)]===_0x4e36f5&&typeof _0x3775dd[_0x167d35(0x1d6)]===_0x167d35(0x17a));if(_0x2151a2)break;}if(!_0x2151a2)_0x2151a2=_0x32f943[-0x2650+-0x31*0x79+-0x3d79*-0x1];_0x2151a2&&_0x2151a2['jid']&&(_0x5bad5c=numberFromRawJid(_0x2151a2['jid']));}const _0x33c87c=extractText(_0x173511,!![])||'',_0x1c1b4c=_0x17276f?await fetchLatestEditForMsg(_0x17276f):null,_0x1297f2=_0x1c1b4c&&typeof _0x1c1b4c[_0x167d35(0x187)]==='string'&&_0x1c1b4c['text'][_0x167d35(0x18b)]?_0x1c1b4c['text']:extractText(_0x173511,![])||_0x167d35(0x1b2)+_0x167d35(0x19a)+_0x167d35(0x1d0)+']',_0x27e61b=_0x17276f?await countEditsForMsg(_0x17276f):-0xec0+-0x21b5+0x3075,_0x5b5f69=await buildAndSendLog({'chatJid':_0x1433eb,'msgId':_0x17276f,'originalText':_0x1297f2,'newText':_0x33c87c,'senderNumber':_0x5bad5c,'editCount':_0x27e61b}),_0x304802=((()=>{const _0x1b9581=_0x167d35;try{return JSON[_0x1b9581(0x1f5)](_0x173511)[_0x1b9581(0x1bd)](-0x10cc+-0x7*0x56d+0x36c7,0x2*-0x10192+0x24cc0+0xc*0x1a6b);}catch{return null;}})());return await insertEditVersion(_0x17276f,_0x1433eb,_0x33c87c,_0x304802,-0x947+-0x118a+0xd69*0x2),_0x5b5f69;}catch(_0x96b74b){warn(_0x167d35(0x1b9)+_0x167d35(0x154)+_0x167d35(0x1bf)+'r\x20error:\x20'+(_0x96b74b?.[_0x167d35(0x1b3)]||_0x96b74b));}}export function initialize(_0x13f4f6){const _0x567af7=_0x8e0f7d;if(!_0x13f4f6)throw new Error(_0x567af7(0x195)+_0x567af7(0x175)+_0x567af7(0x1ce)+_0x567af7(0x1b7));botInstance=_0x13f4f6,ensureTable()[_0x567af7(0x193)](_0x33be9f=>{const _0x4b0a71=_0x567af7;error(_0x33be9f,_0x4b0a71(0x1b9)+_0x4b0a71(0x1cc)+_0x4b0a71(0x1d7)+(_0x33be9f?.[_0x4b0a71(0x1b3)]||_0x33be9f));throw _0x33be9f;});try{botInstance['on']('message.ed'+'it',handleMessageEdit),info(_0x567af7(0x1b9)+'r]\x20attache'+_0x567af7(0x163)+_0x567af7(0x1ba));}catch(_0x2422b7){warn(_0x567af7(0x1b9)+_0x567af7(0x14a)+_0x567af7(0x1d3)+'message.ed'+_0x567af7(0x1c8)+(_0x2422b7?.['message']||_0x2422b7));}if(cleanupInterval)clearInterval(cleanupInterval);cleanupInterval=setInterval(cleanupOldEditsSafe,Number(CLEANUP_INTERVAL_MS||FALLBACKS[_0x567af7(0x1b5)+_0x567af7(0x1d5)])),info(_0x567af7(0x1b9)+_0x567af7(0x19c)+_0x567af7(0x1cb));}export function cleanup(){const _0xf0ee9b=_0x8e0f7d;try{if(botInstance&&typeof botInstance['removeList'+_0xf0ee9b(0x14f)]===_0xf0ee9b(0x1a4))botInstance[_0xf0ee9b(0x19e)+_0xf0ee9b(0x14f)]('message.ed'+'it',handleMessageEdit);if(cleanupInterval)clearInterval(cleanupInterval);cleanupInterval=null;}catch(_0x1c002b){warn('[EditLogge'+'r]\x20cleanup'+'\x20error:\x20'+(_0x1c002b?.[_0xf0ee9b(0x1b3)]||_0x1c002b));}finally{botInstance=null;}}function _0x1a2a(_0x1ad0c1,_0x578251){const _0x3807e7=_0x2e69();return _0x1a2a=function(_0x3ceb1c,_0x32f2d6){_0x3ceb1c=_0x3ceb1c-(-0x12a1+0x517+0xec6);let _0x59405d=_0x3807e7[_0x3ceb1c];return _0x59405d;},_0x1a2a(_0x1ad0c1,_0x578251);}export default{'name':name,'version':version,'priority':priority,'initialize':initialize,'cleanup':cleanup};