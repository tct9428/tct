const _0x2c268c=_0x5797;(function(_0x5d830c,_0x109ac7){const _0x5398b5=_0x5797,_0x5d9db1=_0x5d830c();while(!![]){try{const _0x3bca3e=-parseInt(_0x5398b5(0x1cb))/(0xdd6+0x209f+0x3*-0xf7c)*(-parseInt(_0x5398b5(0x175))/(-0x4*-0x51a+0xaf*-0x2f+0x8f*0x15))+-parseInt(_0x5398b5(0x203))/(0x257a+-0x3*-0x137+0x148e*-0x2)*(-parseInt(_0x5398b5(0x1a3))/(-0x173e+-0x1*-0x1543+-0x1ff*-0x1))+-parseInt(_0x5398b5(0x18c))/(-0x1a66+0x2406+-0x1*0x99b)+parseInt(_0x5398b5(0x158))/(-0x3*0x47f+0x549*-0x5+0x27f*0x10)+parseInt(_0x5398b5(0x150))/(-0x1aae+0xe06+0x1*0xcaf)*(-parseInt(_0x5398b5(0x16f))/(-0x1195*-0x1+0x2405+-0x3592*0x1))+parseInt(_0x5398b5(0x1ed))/(0x2002+0xd5a*-0x2+-0x545)*(-parseInt(_0x5398b5(0x1f3))/(-0x85e+0x1abe+0x1*-0x1256))+parseInt(_0x5398b5(0x13b))/(-0xf76+-0x2398+-0x67*-0x7f)*(parseInt(_0x5398b5(0x199))/(-0x1671+-0xb4f+0x2*0x10e6));if(_0x3bca3e===_0x109ac7)break;else _0x5d9db1['push'](_0x5d9db1['shift']());}catch(_0x5bc3d5){_0x5d9db1['push'](_0x5d9db1['shift']());}}}(_0x5913,-0x8a215+-0x185*0xd2d+0x2a129c));export const name='tag';export const version='2.0.4';function _0x5913(){const _0x2ccc0b=['function','ection\x20','ed:\x20','vname','toString','ssage\x20fata','KEY\x20AUTOIN','p.net','map','Saved\x20mapp','index','jid','failed','ed_at\x20INTE','\x20(part\x20','split','reated_by\x20','\x20default\x20c','s).','7SeAVIg','catch','[tag]\x20dele','w\x20text\x20->\x20','by,\x20create','tag_cmds','key','\x20failed:','5174436KIKuml','pping,\x20cre','sock','=\x20excluded','e\x20all','rUser\x20fail','g...>','xtMessage','n(s).','\x0a\x20\x20\x20\x20\x20\x20\x20\x20c','caption','t_jid\x20=\x20?\x20','all','<n>\x0a•\x20cmd\x20','\x20NOT\x20NULL,','\x20error','moji>\x20|\x20cm','isFinite','created_at','AND\x20id\x20=\x20?','rs\x20to\x20tag.','indexOf','ata','9531592XuKeOA','groupMetad','ailed','ng\x20for\x20','Deleted\x20','\x20\x20\x20);\x0a\x20\x20\x20\x20','6ntBrwn','ention\x20eve','ndex\x20<n>\x20|','ALUES\x20(?,\x20','add','[tag]\x20fetc','our\x20defaul','i>\x20<mappin','[tag]\x20onMe','ChatJidsFo','length','mention','teCmdById\x20','from',')\x20across\x20y','[tag]\x20reso','ned\x20up','ur\x20default','\x22hi\x22\x20and\x20m','\x20connectio','rror','store','ialized','3374490lpdUJa','hat\x20ON\x20','[tag]\x20sche','participan','d\x20delete\x20i','\x0a\x20\x20\x20\x20\x20\x20\x20\x20e','R\x20PRIMARY\x20','conversati','INSERT\x20INT','LT\x20\x27\x27,\x0a\x20\x20\x20','push','match','Cmds\x20faile','4692zvoVWl',')\x0a\x20\x20\x20\x20\x20\x20\x20O','\x20\x20\x20\x20\x20\x20\x20\x20ma','lving\x20conn','eated_by,\x20','created_by','@s.whatsap','(chat_jid,','\x20delete\x20<e','startsWith','385368DexvPo','d:\x20','Usage:\x20cmd','short','[tag]\x20send','\x20mapping(s','raw','pushName','ORDER\x20BY\x20i','mapping>\x0a•','@g.us','=\x20?','name','TEXT\x20DEFAU','DELETE\x20FRO','[tag]\x20disp','\x20\x20\x20\x20\x20creat','help','trim','string','\x0a\x20\x20\x20\x20\x20\x20CRE','t\x20connecti','T\x20mapping\x20',':\x20(no\x20mapp','ryone\x0a\x20\x20ra','user','lveDefault','ault\x20conne','extendedTe','Invalid\x20in','remoteJid','sort','replace','teAllCmds\x20','\x0aMapping\x20e','text','gForChat\x20e','onnection(','[tag]\x20upse','->\x20mention','560631lLZtEl','\x20<emoji>\x20<','t\x20@Display','bare\x20@/@@)','FROM\x20','\x20to\x20','icipants\x20f','[tag]\x20init','.mapping,\x20','isCommand','[tag]\x20isad','has','\x20\x20\x20\x20\x20\x20\x20cha','•\x20cmd\x20dele','teCmdByEmo','join','\x20id\x20INTEGE','endsWith','\x20->\x20','\x20@\x20hello\x20\x20','\x20WHERE\x20cha','getContact','ted_at;','sendMessag','emoji)\x0a\x20\x20\x20','atchMappin','\x20cmd\x20list\x0a','ing\x20for\x20','videoMessa','test','⚠️\x20No\x20membe','cmd\x20usage:','\x20across\x20yo','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','4041891zltUhW','message','notify','mode','IF\x20NOT\x20EXI',')\x0a\x20\x20\x20\x20\x20\x20\x20V','10GbVkNa','slice','\x20\x20\x20\x20->\x20lis','\x20UPDATE\x20SE','pping\x20TEXT','delete','AND\x20emoji\x20','imageMessa','CREATE\x20IND','\x20emoji,\x20ma','luded.crea','xamples:\x0a\x20','filter','Failed\x20to\x20','changes','emoji','6xcjNEE','SELECT\x20id,','toLowerCas','no\x20send\x20ap','run','send\x20raw\x20t','get','contacts','[tag]\x20clea','list','\x20add\x20<emoj','gForChat\x20(','SIZE','[tag]\x20list','_tagcmds_c','includes','save\x20mappi','rtCmd\x20fail','T\x200,\x0a\x20\x20\x20\x20\x20','ete\x20index\x20','delete\x20all','ma\x20ensured','failed:\x20','12881oJxYJa','isArray'];_0x5913=function(){return _0x2ccc0b;};return _0x5913();}export const priority=-0x1*-0x39f+-0x496*-0x1+-0x7db;export const commands=['cmd'];import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';const TABLE=_0x2c268c(0x155),BATCH_SIZE=Number(process['env']['TAG_BATCH_'+_0x2c268c(0x130)]||-0x12c3+-0x2326+0x361b)||0xf7+0x116e*-0x2+0x2217;let botRef=null,sendApi=null;function _0x5797(_0x2481c4,_0x29b39d){const _0x341b4b=_0x5913();return _0x5797=function(_0x3549ad,_0x4ca490){_0x3549ad=_0x3549ad-(-0xd17*0x1+-0x481*0x5+0x24c3*0x1);let _0x2bed64=_0x341b4b[_0x3549ad];return _0x2bed64;},_0x5797(_0x2481c4,_0x29b39d);}async function ensureSchema(){const _0x1071af=_0x2c268c;try{await db['exec'](_0x1071af(0x1b7)+'ATE\x20TABLE\x20'+_0x1071af(0x1f1)+'STS\x20'+TABLE+(_0x1071af(0x1ec)+_0x1071af(0x1db)+_0x1071af(0x192)+_0x1071af(0x143)+'CREMENT,\x0a\x20'+_0x1071af(0x1d7)+'t_jid\x20TEXT'+_0x1071af(0x166)+_0x1071af(0x191)+'moji\x20TEXT\x20'+'NOT\x20NULL,\x0a'+_0x1071af(0x19b)+_0x1071af(0x1f7)+_0x1071af(0x166)+_0x1071af(0x161)+_0x1071af(0x14d)+_0x1071af(0x1b0)+_0x1071af(0x195)+_0x1071af(0x1b3)+_0x1071af(0x14a)+'GER\x20DEFAUL'+_0x1071af(0x136)+'\x20\x20\x20UNIQUE('+'chat_jid,\x20'+_0x1071af(0x1e3)+_0x1071af(0x174))),await db['exec'](_0x1071af(0x1fb)+'EX\x20IF\x20NOT\x20'+'EXISTS\x20idx'+_0x1071af(0x132)+_0x1071af(0x18d)+TABLE+('(chat_jid)'+';')),info(_0x1071af(0x18e)+_0x1071af(0x139));}catch(_0x1ad29e){error(_0x1ad29e,'[tag]\x20ensu'+'reSchema\x20f'+'ailed');throw _0x1ad29e;}}async function upsertCmd(_0x5236be,_0xee214b,_0x3e0b9a,_0x52cd31){const _0x1451b5=_0x2c268c;try{const _0x2cbaf1=Math['floor'](Date['now']()/(0x1295+0x1023+0x22*-0xe8));return await db[_0x1451b5(0x128)](_0x1451b5(0x194)+'O\x20'+TABLE+('\x20(chat_jid'+',\x20emoji,\x20m'+'apping,\x20cr'+_0x1451b5(0x19d)+_0x1451b5(0x16a)+_0x1451b5(0x1f2)+_0x1451b5(0x178)+'?,\x20?,\x20?,\x20?'+_0x1451b5(0x19a)+'N\x20CONFLICT'+_0x1451b5(0x1a0)+'\x20emoji)\x20DO'+_0x1451b5(0x1f6)+_0x1451b5(0x1b9)+_0x1451b5(0x15b)+_0x1451b5(0x1d3)+_0x1451b5(0x19e)+'\x20=\x20exclude'+'d.created_'+_0x1451b5(0x154)+'d_at\x20=\x20exc'+_0x1451b5(0x1fd)+_0x1451b5(0x1e1)),[_0x5236be,_0xee214b,_0x3e0b9a,_0x52cd31||'',_0x2cbaf1]),!![];}catch(_0x316630){return warn(_0x1451b5(0x1c9)+_0x1451b5(0x135)+_0x1451b5(0x13f)+(_0x316630?.[_0x1451b5(0x1ee)]||_0x316630)),![];}}async function listCmds(_0x51c935){const _0x19588e=_0x2c268c;try{const _0x3723f7=await db[_0x19588e(0x164)](_0x19588e(0x204)+_0x19588e(0x1fc)+_0x19588e(0x159)+'ated_by,\x20c'+'reated_at\x20'+_0x19588e(0x1cf)+TABLE+(_0x19588e(0x1df)+_0x19588e(0x163)+_0x19588e(0x1ab)+'d'),[_0x51c935]);return _0x3723f7||[];}catch(_0x28b062){return warn(_0x19588e(0x131)+_0x19588e(0x198)+_0x19588e(0x1a4)+(_0x28b062?.['message']||_0x28b062)),[];}}async function deleteCmdByEmoji(_0x381da2,_0x407efc){const _0x5916d7=_0x2c268c;try{const _0x144b35=await db[_0x5916d7(0x128)](_0x5916d7(0x1b1)+'M\x20'+TABLE+(_0x5916d7(0x1df)+_0x5916d7(0x163)+_0x5916d7(0x1f9)+_0x5916d7(0x1ae)),[_0x381da2,_0x407efc]);return _0x144b35?.['changes']||0x1*-0x85b+-0x372+0x13*0x9f;}catch(_0x2542a7){return warn(_0x5916d7(0x152)+_0x5916d7(0x1d9)+'ji\x20failed:'+'\x20'+(_0x2542a7?.[_0x5916d7(0x1ee)]||_0x2542a7)),0x8*0x3e+-0x2*-0x5a6+0x69e*-0x2;}}async function deleteCmdById(_0x148ce1,_0x1ac199){const _0x544ca3=_0x2c268c;try{const _0x49558c=await db['run']('DELETE\x20FRO'+'M\x20'+TABLE+(_0x544ca3(0x1df)+_0x544ca3(0x163)+_0x544ca3(0x16b)),[_0x148ce1,_0x1ac199]);return _0x49558c?.[_0x544ca3(0x201)]||-0x39a*-0x6+0xb23+-0x53*0x65;}catch(_0x24ed09){return warn('[tag]\x20dele'+_0x544ca3(0x181)+'failed:\x20'+(_0x24ed09?.['message']||_0x24ed09)),-0xd6b+-0x23e5+-0xc*-0x41c;}}async function deleteAllCmds(_0x4743b1){const _0xc89b6f=_0x2c268c;try{const _0x57c3c4=await db['run']('DELETE\x20FRO'+'M\x20'+TABLE+(_0xc89b6f(0x1df)+'t_jid\x20=\x20?'),[_0x4743b1]);return _0x57c3c4?.[_0xc89b6f(0x201)]||-0x78a+0x1792+-0x26*0x6c;}catch(_0x14fea5){return warn('[tag]\x20dele'+_0xc89b6f(0x1c4)+_0xc89b6f(0x13a)+(_0x14fea5?.[_0xc89b6f(0x1ee)]||_0x14fea5)),-0x6*0x184+-0x1*0x1f0b+-0x4b*-0x89;}}function getMessageText(_0x657d90){const _0x19e9c8=_0x2c268c;if(!_0x657d90||!_0x657d90['message'])return'';const _0x559a51=_0x657d90[_0x19e9c8(0x1ee)];if(_0x559a51[_0x19e9c8(0x193)+'on'])return _0x559a51[_0x19e9c8(0x193)+'on'];if(_0x559a51[_0x19e9c8(0x1bf)+'xtMessage']?.[_0x19e9c8(0x1c6)])return _0x559a51['extendedTe'+_0x19e9c8(0x15f)][_0x19e9c8(0x1c6)];if(_0x559a51['imageMessa'+'ge']?.[_0x19e9c8(0x162)])return _0x559a51[_0x19e9c8(0x1fa)+'ge'][_0x19e9c8(0x162)];if(_0x559a51[_0x19e9c8(0x1e7)+'ge']?.[_0x19e9c8(0x162)])return _0x559a51['videoMessa'+'ge'][_0x19e9c8(0x162)];return'';}async function safeSend(_0x198ef8,_0xe3ebad){const _0x258a0f=_0x2c268c;try{if(!sendApi)throw new Error(_0x258a0f(0x127)+'i');return await sendApi(_0x198ef8,_0xe3ebad);}catch(_0x29a08c){warn(_0x258a0f(0x1a7)+_0x258a0f(0x157),_0x29a08c?.[_0x258a0f(0x1ee)]||_0x29a08c);throw _0x29a08c;}}async function resolveDisplayName(_0xa7a6df){const _0x46af0b=_0x2c268c;try{if(!_0xa7a6df)return'';const _0x2db92c=(_0xa7a6df+'')['split']?.('@')?.[-0x1d85+-0x1*-0x1f41+-0x1bc]||_0xa7a6df;if(botRef?.[_0x46af0b(0x18a)]){const _0x451c7f=botRef['store']['contacts']?.[_0xa7a6df]||botRef[_0x46af0b(0x18a)][_0x46af0b(0x12b)]&&botRef[_0x46af0b(0x18a)][_0x46af0b(0x12b)]['get']&&botRef[_0x46af0b(0x18a)][_0x46af0b(0x12b)][_0x46af0b(0x12a)](_0xa7a6df);if(_0x451c7f){const _0x1858cf=_0x451c7f[_0x46af0b(0x1af)]||_0x451c7f['verifiedNa'+'me']||_0x451c7f['notify']||_0x451c7f[_0x46af0b(0x1aa)]||_0x451c7f[_0x46af0b(0x140)]||_0x451c7f[_0x46af0b(0x1a6)]||_0x451c7f['displayNam'+'e'];if(_0x1858cf)return String(_0x1858cf);}}try{if(typeof botRef[_0x46af0b(0x1e0)]==='function'){const _0x1a5eb7=await botRef[_0x46af0b(0x1e0)](_0xa7a6df);if(_0x1a5eb7&&(_0x1a5eb7['name']||_0x1a5eb7['notify']||_0x1a5eb7[_0x46af0b(0x1aa)]||_0x1a5eb7[_0x46af0b(0x140)]))return String(_0x1a5eb7[_0x46af0b(0x1af)]||_0x1a5eb7[_0x46af0b(0x1ef)]||_0x1a5eb7[_0x46af0b(0x1aa)]||_0x1a5eb7[_0x46af0b(0x140)]);}}catch(_0x5c3d8e){}return String(_0x2db92c);}catch(_0x265947){return String(_0xa7a6df)[_0x46af0b(0x14c)]('@')[0xffe*0x2+0x2*-0xf7f+-0xfe];}}async function fetchGroupParticipants(_0x1f6944){const _0x43249f=_0x2c268c;try{let _0x4c7b50=null;if(typeof botRef[_0x43249f(0x170)+_0x43249f(0x16e)]===_0x43249f(0x13d))try{_0x4c7b50=await botRef[_0x43249f(0x170)+_0x43249f(0x16e)](_0x1f6944);}catch(_0x44ced3){_0x4c7b50=null;}if((!_0x4c7b50||!Array[_0x43249f(0x13c)](_0x4c7b50[_0x43249f(0x18f)+'ts']))&&botRef?.[_0x43249f(0x15a)])try{if(typeof botRef[_0x43249f(0x15a)][_0x43249f(0x170)+_0x43249f(0x16e)]===_0x43249f(0x13d))_0x4c7b50=await botRef['sock'][_0x43249f(0x170)+_0x43249f(0x16e)](_0x1f6944);}catch(_0x4295eb){_0x4c7b50=_0x4c7b50||null;}const _0x33bb38=Array['isArray'](_0x4c7b50?.[_0x43249f(0x18f)+'ts'])?_0x4c7b50['participan'+'ts']:[],_0x329585=[];for(const _0xa882e6 of _0x33bb38){const _0x191d9b=_0xa882e6&&typeof _0xa882e6===_0x43249f(0x1b6)?_0xa882e6:_0xa882e6?.['id']||_0xa882e6?.[_0x43249f(0x148)]||(_0xa882e6?.[_0x43249f(0x1bc)]?_0xa882e6['user']+(_0x43249f(0x19f)+_0x43249f(0x144)):null);if(!_0x191d9b)continue;const _0x59f9d3=_0xa882e6?.[_0x43249f(0x1af)]||_0xa882e6?.[_0x43249f(0x1ef)]||_0xa882e6?.[_0x43249f(0x1aa)]||await resolveDisplayName(_0x191d9b);_0x329585[_0x43249f(0x196)]({'id':_0x191d9b,'name':_0x59f9d3,'raw':_0xa882e6});}return _0x329585;}catch(_0x51b547){return warn(_0x43249f(0x17a)+'hGroupPart'+_0x43249f(0x1d1)+_0x43249f(0x171),_0x51b547?.[_0x43249f(0x1ee)]||_0x51b547),[];}}function chunkArray(_0x5f5741,_0x17819c){const _0x3f1c5e=_0x2c268c,_0x343256=[];for(let _0x425411=-0x3e8+0x25*-0x2b+0xa1f;_0x425411<_0x5f5741[_0x3f1c5e(0x17f)];_0x425411+=_0x17819c)_0x343256['push'](_0x5f5741[_0x3f1c5e(0x1f4)](_0x425411,_0x425411+_0x17819c));return _0x343256;}function parseMapping(_0x5129e5){const _0x18156b=_0x2c268c,_0x45c5ea=(_0x5129e5??'')[_0x18156b(0x141)]()['trim']();if(!_0x45c5ea)return{'mode':'raw','text':''};if(_0x45c5ea[_0x18156b(0x1a2)]('@@'))return{'mode':_0x18156b(0x12d),'text':_0x45c5ea[_0x18156b(0x17f)]>0xa24+0x20fa+-0x2b1c?_0x45c5ea[_0x18156b(0x1f4)](-0x9*-0x132+0x172c+-0x87b*0x4)[_0x18156b(0x1b5)]():''};if(_0x45c5ea[_0x18156b(0x1a2)]('@'))return{'mode':_0x18156b(0x180),'text':_0x45c5ea[_0x18156b(0x17f)]>-0x30*-0x52+0x2*-0x706+0x3*-0x71?_0x45c5ea[_0x18156b(0x1f4)](-0x13d*0x9+0xdee*-0x2+0x2702)['trim']():''};return{'mode':_0x18156b(0x1a9),'text':_0x45c5ea};}async function dispatchMappingForChat(_0x5afec9,_0x39e8b3,_0x480b61=''){const _0x599065=_0x2c268c,_0x38d22b=parseMapping(_0x39e8b3),_0x739cc9=_0x480b61?_0x480b61[_0x599065(0x1b5)]():'';if(_0x38d22b[_0x599065(0x1f0)]==='mention'){const _0x16a569=_0x38d22b[_0x599065(0x1c6)]?_0x739cc9?_0x38d22b['text']+'\x20'+_0x739cc9:_0x38d22b[_0x599065(0x1c6)]:_0x739cc9||'👋',_0x58d9d6=await fetchGroupParticipants(_0x5afec9);if(!_0x58d9d6['length']){await safeSend(_0x5afec9,{'text':_0x599065(0x1e9)+_0x599065(0x16c)});return;}const _0x3de857=_0x58d9d6['map'](_0x3022a1=>_0x3022a1['id'])[_0x599065(0x1ff)](Boolean);if(_0x3de857[_0x599065(0x17f)]<=BATCH_SIZE){await safeSend(_0x5afec9,{'text':_0x16a569,'mentions':_0x3de857});return;}const _0x444d3c=chunkArray(_0x58d9d6,BATCH_SIZE);for(const _0x1925f1 of _0x444d3c){const _0x5da911=_0x1925f1[_0x599065(0x145)](_0x333285=>_0x333285['id']),_0x5ca79e=_0x16a569;await safeSend(_0x5afec9,{'text':_0x5ca79e,'mentions':_0x5da911}),await new Promise(_0x6781f8=>setTimeout(_0x6781f8,-0x8eb+-0x804+0x11e9));}return;}if(_0x38d22b[_0x599065(0x1f0)]===_0x599065(0x12d)){const _0x51641b=_0x38d22b[_0x599065(0x1c6)]?_0x38d22b['text']:'',_0x324c9=await fetchGroupParticipants(_0x5afec9);if(!_0x324c9[_0x599065(0x17f)]){await safeSend(_0x5afec9,{'text':'⚠️\x20No\x20membe'+_0x599065(0x16c)});return;}const _0x2d6ab1=new Set(),_0x4fb802=[];for(const _0x205bc0 of _0x324c9)!_0x2d6ab1[_0x599065(0x1d6)](_0x205bc0['id'])&&(_0x2d6ab1[_0x599065(0x179)](_0x205bc0['id']),_0x4fb802['push'](_0x205bc0));if(_0x4fb802[_0x599065(0x17f)]<=BATCH_SIZE){const _0xac0637=_0x4fb802[_0x599065(0x145)](_0x5cc902=>'@'+String(_0x5cc902[_0x599065(0x1af)]||_0x5cc902['id'][_0x599065(0x14c)]('@')[-0x1b62+-0x23c6+0x3f28])[_0x599065(0x1c3)](/\r?\n/g,'\x20')[_0x599065(0x1b5)]())['join'](',\x20'),_0x5cb8ca=_0x51641b?_0xac0637+'\x0a\x0a'+_0x51641b:_0xac0637;await safeSend(_0x5afec9,{'text':_0x5cb8ca,'mentions':_0x4fb802[_0x599065(0x145)](_0x408d7c=>_0x408d7c['id'])});return;}const _0x59dc4b=chunkArray(_0x4fb802,BATCH_SIZE);let _0xf03d22=-0x3*0xa16+-0x1f1f+-0x3d61*-0x1;for(const _0x2bfed0 of _0x59dc4b){_0xf03d22++;const _0x353a89=_0x2bfed0[_0x599065(0x145)](_0x3f28f5=>'@'+String(_0x3f28f5['name']||_0x3f28f5['id']['split']('@')[0x160*0x1c+0x249d+-0x4b1d])[_0x599065(0x1c3)](/\r?\n/g,'\x20')[_0x599065(0x1b5)]())[_0x599065(0x1da)](',\x20'),_0x40c257=_0x51641b?_0x353a89+'\x0a\x0a'+_0x51641b+_0x599065(0x14b)+_0xf03d22+'/'+_0x59dc4b[_0x599065(0x17f)]+')':_0x353a89+_0x599065(0x14b)+_0xf03d22+'/'+_0x59dc4b[_0x599065(0x17f)]+')';await safeSend(_0x5afec9,{'text':_0x40c257,'mentions':_0x2bfed0[_0x599065(0x145)](_0xffc48c=>_0xffc48c['id'])}),await new Promise(_0x42c147=>setTimeout(_0x42c147,-0x443*0x3+-0x916*0x1+0x16d9));}return;}const _0x2d16a2=_0x38d22b[_0x599065(0x1c6)]?_0x739cc9?_0x38d22b[_0x599065(0x1c6)]+'\x20'+_0x739cc9:_0x38d22b[_0x599065(0x1c6)]:_0x739cc9||'';await safeSend(_0x5afec9,{'text':_0x2d16a2});}export async function initialize(_0x3ee260){const _0x43b037=_0x2c268c;botRef=_0x3ee260;if(botRef){if(typeof botRef[_0x43b037(0x1e2)+'e']==='function')sendApi=async(_0x43b297,_0x44c000)=>await botRef[_0x43b037(0x1e2)+'e'](_0x43b297,_0x44c000);else botRef[_0x43b037(0x15a)]&&typeof botRef[_0x43b037(0x15a)][_0x43b037(0x1e2)+'e']===_0x43b037(0x13d)?sendApi=async(_0x574020,_0x277ce8)=>await botRef[_0x43b037(0x15a)][_0x43b037(0x1e2)+'e'](_0x574020,_0x277ce8):sendApi=null;}await ensureSchema(),info(_0x43b037(0x1d2)+_0x43b037(0x18b));}function detectCommandNameFromText(_0x3879d6){if(!_0x3879d6)return null;const _0xcb60e6=_0x3879d6['trim']();if(!_0xcb60e6)return null;const _0x212a6f=_0xcb60e6['split'](/\s+/);return _0x212a6f[-0x5*0x52a+-0x133e+0x10*0x2d1]['toLowerCas'+'e']();}async function resolveDefaultChatJidsForUser(_0x42dbd6){const _0x378096=_0x2c268c;try{const _0x530f17=await getDefault(_0x42dbd6)['catch'](()=>null);if(!_0x530f17||Array[_0x378096(0x13c)](_0x530f17)&&_0x530f17[_0x378096(0x17f)]===0x1f0+-0x1767+-0x311*-0x7)return[];const _0x2396a8=Array[_0x378096(0x13c)](_0x530f17)?_0x530f17:[_0x530f17];let _0x44cd0d=[];for(const _0x478648 of _0x2396a8){try{const _0x25f067=await getConnection(_0x478648)[_0x378096(0x151)](()=>null);if(Array['isArray'](_0x25f067))_0x44cd0d[_0x378096(0x196)](..._0x25f067);else{if(_0x25f067)_0x44cd0d['push'](String(_0x25f067));}}catch(_0x417739){warn(_0x378096(0x184)+_0x378096(0x19c)+_0x378096(0x13e)+_0x478648+'\x20failed:\x20'+(_0x417739?.[_0x378096(0x1ee)]||_0x417739));}}return Array[_0x378096(0x182)](new Set(_0x44cd0d['map'](_0x34ddf1=>String(_0x34ddf1)[_0x378096(0x1b5)]())[_0x378096(0x1ff)](Boolean)));}catch(_0x24e859){return warn(_0x378096(0x184)+_0x378096(0x1bd)+_0x378096(0x17e)+_0x378096(0x15d)+'ed:\x20'+(_0x24e859?.[_0x378096(0x1ee)]||_0x24e859)),[];}}function isBoundaryAt(_0x10e2a1,_0x260800,_0xfc572c){const _0x44886b=_0x2c268c,_0x126283=_0x260800-(-0x9*-0xef+-0x1*0xf4d+0x6e7)>=0x22*-0x86+0x5*-0x712+0x3526?_0x10e2a1[_0x260800-(-0x12d2+0x5cb+0xd08)]:null,_0x31aeff=_0x260800+_0xfc572c<_0x10e2a1['length']?_0x10e2a1[_0x260800+_0xfc572c]:null,_0x487e50=_0xb008be=>_0xb008be!=null&&/[0-9A-Za-z_]/[_0x44886b(0x1e8)](_0xb008be);return!_0x487e50(_0x126283)&&!_0x487e50(_0x31aeff);}export async function onMessage(_0x1da077){const _0x58a9cc=_0x2c268c;try{if(!_0x1da077||!_0x1da077[_0x58a9cc(0x156)]||!_0x1da077[_0x58a9cc(0x1ee)])return;const _0x5c009c=_0x1da077[_0x58a9cc(0x156)][_0x58a9cc(0x1c1)],_0x58b72a=typeof _0x5c009c===_0x58a9cc(0x1b6)&&_0x5c009c[_0x58a9cc(0x1dc)](_0x58a9cc(0x1ad)),_0xb6a277=_0x1da077['key']&&(_0x1da077[_0x58a9cc(0x156)]['participan'+'t']||_0x1da077['key'][_0x58a9cc(0x182)]||_0x1da077['key']['remoteJid'])||'',_0x211476=(_0xb6a277||'')[_0x58a9cc(0x14c)]('@')[-0x1f9b+0x1*0xa6d+0xa97*0x2];let _0x12f526=![];try{if(_0x58b72a)_0x12f526=await isadmin(botRef,_0x1da077);}catch(_0x56e08a){warn(_0x58a9cc(0x1d5)+'min\x20check\x20'+_0x58a9cc(0x149),_0x56e08a?.[_0x58a9cc(0x1ee)]||_0x56e08a),_0x12f526=![];}if(!_0x12f526)return;const _0x379180=await resolveDefaultChatJidsForUser(_0x211476);if(!_0x379180||_0x379180['length']===-0x1*0x1265+-0xd*-0x1a5+0x17e*-0x2)return;if(_0x1da077[_0x58a9cc(0x1d4)]){const _0x2d6f2d=_0x1da077[_0x58a9cc(0x1c6)]&&_0x1da077[_0x58a9cc(0x1c6)][_0x58a9cc(0x1b5)]()?_0x1da077[_0x58a9cc(0x1c6)]['trim']():getMessageText(_0x1da077)[_0x58a9cc(0x1b5)](),_0x338979=detectCommandNameFromText(_0x2d6f2d);if(!_0x338979)return;const _0x5130ca=Array['isArray'](commands)?commands['map'](_0x16cbb4=>String(_0x16cbb4)['toLowerCas'+'e']()):[];if(!_0x5130ca[_0x58a9cc(0x133)](_0x338979))return;const _0xb97931=_0x2d6f2d[_0x58a9cc(0x14c)](/\s+/)[_0x58a9cc(0x1f4)](-0x1d15+0x1478+-0x1*-0x89e)['join']('\x20')[_0x58a9cc(0x1b5)](),_0x578730=_0xb97931[_0x58a9cc(0x14c)](/\s+/)[_0x58a9cc(0x1ff)](Boolean),_0x3b8d42=_0x578730[0x91*-0xa+-0x23+0x5cd]?_0x578730[0x1*0x24d5+0x231b*-0x1+-0x2*0xdd][_0x58a9cc(0x205)+'e']():null;if(!_0x3b8d42||_0x3b8d42===_0x58a9cc(0x1b4)){await safeSend(_0x5c009c,{'text':_0x58a9cc(0x1ea)+'\x0a•\x20cmd\x20add'+_0x58a9cc(0x1cc)+_0x58a9cc(0x1ac)+_0x58a9cc(0x1e5)+_0x58a9cc(0x1d8)+'te\x20<emoji>'+'\x0a•\x20cmd\x20del'+_0x58a9cc(0x137)+_0x58a9cc(0x165)+_0x58a9cc(0x138)+_0x58a9cc(0x1c5)+_0x58a9cc(0x1fe)+_0x58a9cc(0x1de)+_0x58a9cc(0x1ca)+'\x20everyone\x20'+'with\x20\x22hell'+'o\x22\x0a\x20\x20@@\x20hi'+_0x58a9cc(0x1f5)+_0x58a9cc(0x1cd)+'Name\x20then\x20'+_0x58a9cc(0x187)+_0x58a9cc(0x176)+_0x58a9cc(0x1bb)+_0x58a9cc(0x153)+_0x58a9cc(0x129)+'ext\x20to\x20def'+_0x58a9cc(0x1be)+'ction'});return;}if(_0x3b8d42==='add'){if(_0x578730[_0x58a9cc(0x17f)]<0xadc+-0x1a56+0x5*0x319){await safeSend(_0x5c009c,{'text':_0x58a9cc(0x1a5)+_0x58a9cc(0x12e)+_0x58a9cc(0x17c)+_0x58a9cc(0x15e)});return;}const _0x1105da=_0x578730[-0x222+0x1855*-0x1+0x1a78],_0x30694f=_0x578730[_0x58a9cc(0x1f4)](0x97b*-0x2+0x4*-0x94d+0x382c)[_0x58a9cc(0x1da)]('\x20');let _0x55a7f4=0x251*-0x3+0x721+-0x2e;for(const _0x4fed6e of _0x379180){const _0x1ebd5b=await upsertCmd(_0x4fed6e,_0x1105da,_0x30694f,_0xb6a277||'');if(_0x1ebd5b)_0x55a7f4++;}if(_0x55a7f4>0xb*0x166+0x8f+-0xff1)await safeSend(_0x5c009c,{'text':_0x58a9cc(0x146)+_0x58a9cc(0x1e6)+_0x1105da+_0x58a9cc(0x1dd)+_0x30694f+_0x58a9cc(0x1d0)+_0x55a7f4+(_0x58a9cc(0x14e)+_0x58a9cc(0x1c8)+_0x58a9cc(0x14f))});else await safeSend(_0x5c009c,{'text':_0x58a9cc(0x200)+_0x58a9cc(0x134)+_0x58a9cc(0x172)+_0x1105da});return;}if(_0x3b8d42==='list'){let _0x375231=[];for(const _0x361aa1 of _0x379180){const _0x3ff144=await listCmds(_0x361aa1);if(!_0x3ff144[_0x58a9cc(0x17f)]){_0x375231[_0x58a9cc(0x196)]('—\x20'+_0x361aa1+(_0x58a9cc(0x1ba)+'ings)'));continue;}const _0xe443c8=_0x3ff144['map']((_0xd43222,_0x1a2375)=>_0x1a2375+(0xc36+-0x1*-0x1041+-0x1c76)+'.\x20'+_0xd43222[_0x58a9cc(0x202)]+'\x20->\x20'+_0xd43222['mapping']);_0x375231[_0x58a9cc(0x196)]('—\x20'+_0x361aa1+'\x20('+_0x3ff144[_0x58a9cc(0x17f)]+'):\x0a'+_0xe443c8[_0x58a9cc(0x1da)]('\x0a'));}let _0x3b7581='';for(const _0x35d44c of _0x375231){const _0x598dc6=_0x35d44c+'\x0a\x0a';(_0x3b7581+_0x598dc6)[_0x58a9cc(0x17f)]>-0xf3b*0x2+0x126f+0x11e3&&(await safeSend(_0x5c009c,{'text':_0x3b7581[_0x58a9cc(0x1b5)]()}),_0x3b7581=''),_0x3b7581+=_0x598dc6;}if(_0x3b7581[_0x58a9cc(0x1b5)]())await safeSend(_0x5c009c,{'text':_0x3b7581[_0x58a9cc(0x1b5)]()});return;}if(_0x3b8d42===_0x58a9cc(0x1f8)){if(_0x578730[_0x58a9cc(0x17f)]<0x1*-0x15b3+-0x13d0+0x2985){await safeSend(_0x5c009c,{'text':_0x58a9cc(0x1a5)+_0x58a9cc(0x1a1)+_0x58a9cc(0x168)+_0x58a9cc(0x190)+_0x58a9cc(0x177)+'\x20cmd\x20delet'+_0x58a9cc(0x15c)});return;}if(_0x578730[0x2411+-0x21ca*-0x1+-0x45da]===_0x58a9cc(0x164)){let _0x49d99d=0x3*0x8b+0x2*0x4ee+-0x1*0xb7d;for(const _0x346a4b of _0x379180){const _0x2508be=await deleteAllCmds(_0x346a4b);_0x49d99d+=_0x2508be;}await safeSend(_0x5c009c,{'text':_0x58a9cc(0x173)+_0x49d99d+(_0x58a9cc(0x1a8)+')\x20across\x20')+_0x379180[_0x58a9cc(0x17f)]+(_0x58a9cc(0x14e)+_0x58a9cc(0x1c8)+_0x58a9cc(0x14f))});return;}if(_0x578730[-0x1aef+0x1e5d+-0x36d]===_0x58a9cc(0x147)&&_0x578730[_0x58a9cc(0x17f)]>=-0x1e15+0x7*0x4bb+-0x305){const _0x17ec80=parseInt(_0x578730[-0x53*-0x53+-0x49c+-0x1b7*0xd],-0x1472+-0xc03+0x207f);if(!Number[_0x58a9cc(0x169)](_0x17ec80)||_0x17ec80<=-0x2*0xeed+-0x1*0x1aa7+0x5*0xb4d){await safeSend(_0x5c009c,{'text':_0x58a9cc(0x1c0)+'dex'});return;}let _0x3224b6=0x8aa+-0x5ae+-0x17e*0x2;for(const _0xaaba22 of _0x379180){const _0x1cd893=await listCmds(_0xaaba22);if(_0x17ec80>_0x1cd893[_0x58a9cc(0x17f)])continue;const _0x31c000=_0x1cd893[_0x17ec80-(0x923*-0x3+0x1*0x155f+0x60b)]['id'],_0x2f6091=await deleteCmdById(_0xaaba22,_0x31c000);_0x3224b6+=_0x2f6091;}await safeSend(_0x5c009c,{'text':_0x58a9cc(0x173)+_0x3224b6+(_0x58a9cc(0x1a8)+')\x20(index\x20')+_0x17ec80+(_0x58a9cc(0x183)+_0x58a9cc(0x17b)+_0x58a9cc(0x1b8)+'on(s).')});return;}const _0x2d34e1=_0x578730[0x2b*-0x3a+-0x1d5e+0x271d];let _0x2ab204=-0x767*-0x5+0x993+-0x59*0x86;for(const _0x5bd1d0 of _0x379180){const _0x5207a8=await deleteCmdByEmoji(_0x5bd1d0,_0x2d34e1);_0x2ab204+=_0x5207a8;}await safeSend(_0x5c009c,{'text':'Deleted\x20'+_0x2ab204+('\x20mapping(s'+')\x20for\x20emoj'+'i\x20')+_0x2d34e1+(_0x58a9cc(0x1eb)+_0x58a9cc(0x186)+_0x58a9cc(0x188)+_0x58a9cc(0x160))});return;}return;}const _0x7a7a91=getMessageText(_0x1da077);if(!_0x7a7a91||!_0x7a7a91['trim']())return;const _0x2b8623=_0x7a7a91[_0x58a9cc(0x1b5)](),_0x3e8ad8=/(?:^|\s)(@@?)\s+([^\n]+)/,_0x1951f8=_0x2b8623[_0x58a9cc(0x197)](_0x3e8ad8);if(_0x1951f8){const _0x106c84=_0x1951f8[0x5b*0x7+0x1dc4+-0x2040],_0x3907d9=(_0x1951f8[-0xf8e+-0x1981+0x2911]||'')[_0x58a9cc(0x1b5)](),_0x54f4b6=(_0x106c84+'\x20'+_0x3907d9)[_0x58a9cc(0x1b5)]();for(const _0x4097b6 of _0x379180){try{await dispatchMappingForChat(_0x4097b6,_0x54f4b6,'');}catch(_0x587b51){warn(_0x58a9cc(0x1b2)+'atchMappin'+_0x58a9cc(0x12f)+_0x58a9cc(0x1ce)+_0x58a9cc(0x167),_0x587b51?.[_0x58a9cc(0x1ee)]||_0x587b51);}}return;}for(const _0x247086 of _0x379180){const _0x334405=await listCmds(_0x247086);if(!_0x334405[_0x58a9cc(0x17f)])continue;const _0x344907=_0x334405['map'](_0x42e0c0=>_0x42e0c0['emoji'])[_0x58a9cc(0x1ff)](Boolean)[_0x58a9cc(0x1c2)]((_0x4b518b,_0x5972f2)=>_0x5972f2['length']-_0x4b518b['length']);let _0xa72f7f=null,_0x27c3fe=null;for(const _0x304860 of _0x344907){if(!_0x304860)continue;let _0x1a8799=_0x2b8623[_0x58a9cc(0x16d)](_0x304860);while(_0x1a8799!==-(-0x37b+0x66*0x56+-0x1ec8)){if(isBoundaryAt(_0x2b8623,_0x1a8799,_0x304860['length'])){_0xa72f7f=_0x304860,_0x27c3fe=_0x334405['find'](_0x565d83=>_0x565d83[_0x58a9cc(0x202)]===_0x304860);break;}_0x1a8799=_0x2b8623[_0x58a9cc(0x16d)](_0x304860,_0x1a8799+(-0x1971+0x279*0xb+0x1c1*-0x1));}if(_0xa72f7f)break;}if(!_0xa72f7f||!_0x27c3fe)continue;let _0x204022='';const _0x63ed74=_0x2b8623[_0x58a9cc(0x16d)](_0xa72f7f);if(_0x63ed74!==-(-0x678*-0x4+0xf5a*0x2+-0x3893*0x1)){const _0x56fbf7=_0x2b8623[_0x58a9cc(0x1f4)](_0x63ed74+_0xa72f7f[_0x58a9cc(0x17f)])[_0x58a9cc(0x1b5)]();if(_0x56fbf7)_0x204022=_0x56fbf7;}try{await dispatchMappingForChat(_0x247086,_0x27c3fe['mapping']||'',_0x204022);}catch(_0x2c6aaa){warn('[tag]\x20disp'+_0x58a9cc(0x1e4)+_0x58a9cc(0x1c7)+_0x58a9cc(0x189),_0x2c6aaa?.[_0x58a9cc(0x1ee)]||_0x2c6aaa);}}}catch(_0x1e246b){error(_0x1e246b,_0x58a9cc(0x17d)+_0x58a9cc(0x142)+'l');}}export async function cleanup(){const _0x3ce911=_0x2c268c;botRef=null,sendApi=null,info(_0x3ce911(0x12c)+_0x3ce911(0x185));}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};