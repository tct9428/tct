const _0x2ad503=_0x517a;(function(_0x4e6811,_0x13f759){const _0x33c4e8=_0x517a,_0x5ec18e=_0x4e6811();while(!![]){try{const _0x5ec928=parseInt(_0x33c4e8(0x1b8))/(-0x7*-0x38e+-0x11b*-0x1+0x4*-0x67f)*(-parseInt(_0x33c4e8(0x247))/(-0x1*-0x1cc3+0x1*-0x1c8d+0x1*-0x34))+-parseInt(_0x33c4e8(0x249))/(0x24ee*-0x1+0x1770+-0x1*-0xd81)+parseInt(_0x33c4e8(0x20f))/(0x1e41+0x1d1e+0x3f5*-0xf)*(parseInt(_0x33c4e8(0x27f))/(-0x1*0x212b+-0x2631+0x4761*0x1))+parseInt(_0x33c4e8(0x1eb))/(-0x20bd*-0x1+-0x1*-0x235+-0x22ec)*(-parseInt(_0x33c4e8(0x27d))/(0x1100+0x147c+-0xdf*0x2b))+parseInt(_0x33c4e8(0x208))/(-0x1*0x233b+0x100d+0x2*0x99b)*(-parseInt(_0x33c4e8(0x20b))/(0x339+0x1de9*0x1+-0x2119))+-parseInt(_0x33c4e8(0x1be))/(0x2*-0x1328+-0x181a+0x3e74)+-parseInt(_0x33c4e8(0x19f))/(0x1c3a+-0x2df*-0x3+-0x24cc)*(-parseInt(_0x33c4e8(0x204))/(-0x83c+0x1ab4+-0x12*0x106));if(_0x5ec928===_0x13f759)break;else _0x5ec18e['push'](_0x5ec18e['shift']());}catch(_0x92cbca){_0x5ec18e['push'](_0x5ec18e['shift']());}}}(_0x4ac5,-0x4a833+-0x25*0x1d63+0xbcffb*0x1));export const name='tag';export const version=_0x2ad503(0x1a5);export const priority=0x65*0x2+0x3*0x41a+-0xcbe;export const commands=[_0x2ad503(0x261)];import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{getDefault,getConnection}from'../utils/connection.js';import{isadmin}from'../utils/isadmin.js';const TABLE=_0x2ad503(0x258),BATCH_SIZE=Number(process[_0x2ad503(0x1ed)][_0x2ad503(0x1f7)+_0x2ad503(0x259)]||-0x163c+0xfd*-0x25+0x3aff)||-0x16b2+0x270e+-0x102a;let botRef=null,sendApi=null;async function ensureSchema(){const _0x3e929c=_0x2ad503;try{await db[_0x3e929c(0x252)](_0x3e929c(0x1ae)+_0x3e929c(0x1bf)+_0x3e929c(0x1a1)+_0x3e929c(0x26d)+TABLE+(_0x3e929c(0x1d2)+_0x3e929c(0x1fe)+_0x3e929c(0x1af)+_0x3e929c(0x205)+'CREMENT,\x0a\x20'+_0x3e929c(0x213)+_0x3e929c(0x1b9)+_0x3e929c(0x264)+_0x3e929c(0x275)+_0x3e929c(0x1dc)+'NOT\x20NULL,\x0a'+_0x3e929c(0x273)+_0x3e929c(0x21d)+_0x3e929c(0x264)+_0x3e929c(0x1b2)+_0x3e929c(0x262)+_0x3e929c(0x1de)+_0x3e929c(0x255)+_0x3e929c(0x235)+_0x3e929c(0x1d4)+_0x3e929c(0x1c1)+_0x3e929c(0x24b)+_0x3e929c(0x27c)+'chat_jid,\x20'+_0x3e929c(0x222)+'\x20\x20\x20);\x0a\x20\x20\x20\x20')),await db[_0x3e929c(0x252)](_0x3e929c(0x1ba)+_0x3e929c(0x1da)+_0x3e929c(0x1fc)+'_tagcmds_c'+_0x3e929c(0x1e0)+TABLE+(_0x3e929c(0x280)+';')),info(_0x3e929c(0x244)+_0x3e929c(0x216));}catch(_0x5796d9){error(_0x5796d9,'[tag]\x20ensu'+'reSchema\x20f'+_0x3e929c(0x1d7));throw _0x5796d9;}}async function upsertCmd(_0x257da9,_0x16b934,_0x51344a,_0x470bfd){const _0x276554=_0x2ad503;try{const _0x16fc82=Math[_0x276554(0x1f3)](Date[_0x276554(0x246)]()/(0x15af+0x4cf+0x7*-0x33a));return await db['run'](_0x276554(0x234)+'O\x20'+TABLE+(_0x276554(0x25c)+_0x276554(0x23a)+'apping,\x20cr'+_0x276554(0x1c4)+_0x276554(0x1f9)+')\x0a\x20\x20\x20\x20\x20\x20\x20V'+_0x276554(0x245)+_0x276554(0x1e2)+_0x276554(0x1f0)+_0x276554(0x23e)+'(chat_jid,'+_0x276554(0x26e)+_0x276554(0x1a9)+_0x276554(0x237)+_0x276554(0x20d)+'.mapping,\x20'+'created_by'+_0x276554(0x1bc)+_0x276554(0x1d1)+_0x276554(0x25b)+'d_at\x20=\x20exc'+_0x276554(0x214)+_0x276554(0x1c9)),[_0x257da9,_0x16b934,_0x51344a,_0x470bfd||'',_0x16fc82]),!![];}catch(_0x3954f6){return warn(_0x276554(0x1a0)+_0x276554(0x1dd)+'ed:\x20'+(_0x3954f6?.[_0x276554(0x257)]||_0x3954f6)),![];}}async function listCmds(_0x3bc817){const _0x50e8cb=_0x2ad503;try{const _0x4c6740=await db[_0x50e8cb(0x20a)](_0x50e8cb(0x267)+_0x50e8cb(0x270)+_0x50e8cb(0x1d5)+_0x50e8cb(0x251)+_0x50e8cb(0x1b5)+_0x50e8cb(0x224)+TABLE+('\x20WHERE\x20cha'+_0x50e8cb(0x1e4)+_0x50e8cb(0x24e)+'d'),[_0x3bc817]);return _0x4c6740||[];}catch(_0x2799c){return warn(_0x50e8cb(0x209)+_0x50e8cb(0x1b0)+'d:\x20'+(_0x2799c?.['message']||_0x2799c)),[];}}async function deleteCmdByEmoji(_0x434741,_0x4fb935){const _0x17869f=_0x2ad503;try{const _0x347624=await db[_0x17869f(0x274)](_0x17869f(0x26c)+'M\x20'+TABLE+(_0x17869f(0x271)+_0x17869f(0x1e4)+_0x17869f(0x1d8)+_0x17869f(0x217)),[_0x434741,_0x4fb935]);return _0x347624?.[_0x17869f(0x266)]||-0x1bdb+0x1883+0x358;}catch(_0x1b6959){return warn(_0x17869f(0x240)+'teCmdByEmo'+'ji\x20failed:'+'\x20'+(_0x1b6959?.[_0x17869f(0x257)]||_0x1b6959)),-0x1*0x1249+-0x348+-0x1*-0x1591;}}async function deleteCmdById(_0x4080ab,_0x4d5743){const _0xec1475=_0x2ad503;try{const _0x3a7d24=await db[_0xec1475(0x274)](_0xec1475(0x26c)+'M\x20'+TABLE+('\x20WHERE\x20cha'+_0xec1475(0x1e4)+_0xec1475(0x236)),[_0x4080ab,_0x4d5743]);return _0x3a7d24?.[_0xec1475(0x266)]||0x603*-0x2+-0x14d*-0x13+-0xcb1;}catch(_0x22010b){return warn('[tag]\x20dele'+_0xec1475(0x20c)+'failed:\x20'+(_0x22010b?.[_0xec1475(0x257)]||_0x22010b)),-0x312*-0x6+0x237*-0xc+0x828;}}async function deleteAllCmds(_0x3a735d){const _0x1ccd5a=_0x2ad503;try{const _0x36c5d9=await db[_0x1ccd5a(0x274)](_0x1ccd5a(0x26c)+'M\x20'+TABLE+('\x20WHERE\x20cha'+_0x1ccd5a(0x24c)),[_0x3a735d]);return _0x36c5d9?.[_0x1ccd5a(0x266)]||-0x1b40+-0x49d*-0x1+-0x131*-0x13;}catch(_0x4d9073){return warn(_0x1ccd5a(0x240)+'teAllCmds\x20'+'failed:\x20'+(_0x4d9073?.[_0x1ccd5a(0x257)]||_0x4d9073)),-0xfb*-0x1f+-0xa15+-0x14*0x104;}}function getMessageText(_0x1b50d8){const _0x11600c=_0x2ad503;if(!_0x1b50d8||!_0x1b50d8[_0x11600c(0x257)])return'';const _0x13862e=_0x1b50d8[_0x11600c(0x257)];if(_0x13862e[_0x11600c(0x203)+'on'])return _0x13862e['conversati'+'on'];if(_0x13862e[_0x11600c(0x218)+_0x11600c(0x1f6)]?.[_0x11600c(0x1e7)])return _0x13862e[_0x11600c(0x218)+'xtMessage']['text'];if(_0x13862e[_0x11600c(0x23d)+'ge']?.[_0x11600c(0x23f)])return _0x13862e[_0x11600c(0x23d)+'ge']['caption'];if(_0x13862e[_0x11600c(0x24a)+'ge']?.[_0x11600c(0x23f)])return _0x13862e[_0x11600c(0x24a)+'ge'][_0x11600c(0x23f)];return'';}async function safeSend(_0x3cc2c2,_0xc32fa9){const _0x333a65=_0x2ad503;try{if(!sendApi)throw new Error('no\x20send\x20ap'+'i');return await sendApi(_0x3cc2c2,_0xc32fa9);}catch(_0x1ca978){warn(_0x333a65(0x1c7)+_0x333a65(0x27e),_0x1ca978?.[_0x333a65(0x257)]||_0x1ca978);throw _0x1ca978;}}function _0x4ac5(){const _0x4bee8a=['\x20default\x20c',')\x0a\x20\x20\x20\x20\x20\x20\x20O','groupMetad','participan','floor','o\x22\x0a\x20\x20@@\x20hi','join','xtMessage','TAG_BATCH_','atchMappin','created_at','catch','has','EXISTS\x20idx','\x20->\x20','\x20id\x20INTEGE','mapping>\x0a•','list','\x20(part\x20','string','conversati','4055592gsnQdb','KEY\x20AUTOIN','ata','sendMessag','440zhYQOY','[tag]\x20list','all','60435hGbFgQ','teCmdById\x20','=\x20excluded','save\x20mappi','6408wizcIr','ete\x20index\x20','\x20delete\x20<e','ialized','\x20\x20\x20\x20\x20\x20\x20cha','luded.crea','\x0aMapping\x20e','ma\x20ensured','=\x20?','extendedTe','t\x20connecti','our\x20defaul','onnection(','gForChat\x20(','pping\x20TEXT','Deleted\x20','push',')\x20(index\x20','rUser\x20fail','emoji)\x0a\x20\x20\x20','n(s).','FROM\x20','pushName','):\x0a','add','[tag]\x20reso','te\x20<emoji>','isArray',')\x20across\x20y','\x20\x20\x20\x20->\x20lis','hGroupPart','@s.whatsap','[tag]\x20disp','\x20across\x20yo','delete\x20all','filter','get','INSERT\x20INT','\x20\x20\x20\x20\x20creat','AND\x20id\x20=\x20?','T\x20mapping\x20','ChatJidsFo','send\x20raw\x20t',',\x20emoji,\x20m','icipants\x20f','⚠️\x20No\x20membe','imageMessa','N\x20CONFLICT','caption','[tag]\x20dele','name','Invalid\x20in','\x20cmd\x20delet','[tag]\x20sche','ALUES\x20(?,\x20','now','2zhpPZN','isFinite','410157NhlYIR','videoMessa','T\x200,\x0a\x20\x20\x20\x20\x20','t_jid\x20=\x20?','\x20cmd\x20list\x0a','ORDER\x20BY\x20i','rror','ext\x20to\x20def','ated_by,\x20c','exec','rs\x20to\x20tag.','split','LT\x20\x27\x27,\x0a\x20\x20\x20','trim','message','tag_cmds','SIZE','ssage\x20fata','by,\x20create','\x20(chat_jid','ndex\x20<n>\x20|','map','s).','min\x20check\x20','cmd','reated_by\x20','\x20mapping(s','\x20NOT\x20NULL,','gForChat\x20e','changes','SELECT\x20id,','[tag]\x20fetc','mention','replace','\x20everyone\x20','DELETE\x20FRO','STS\x20','\x20emoji)\x20DO','[tag]\x20isad','\x20emoji,\x20ma','\x20WHERE\x20cha','startsWith','\x20\x20\x20\x20\x20\x20\x20\x20ma','run','\x0a\x20\x20\x20\x20\x20\x20\x20\x20e','\x20error','<n>\x0a•\x20cmd\x20','@g.us','bare\x20@/@@)','store','t\x20@Display','\x20\x20\x20UNIQUE(','1073821tZYqCR','\x20failed:','575KTUtKE','(chat_jid)','contacts','ned\x20up','emoji','sort','w\x20text\x20->\x20','44IVAyrb','[tag]\x20upse','IF\x20NOT\x20EXI','remoteJid','length','find','2.0.4','ed:\x20','index','verifiedNa','\x20UPDATE\x20SE','Usage:\x20cmd','slice','\x0a•\x20cmd\x20add','sock','\x0a\x20\x20\x20\x20\x20\x20CRE','R\x20PRIMARY\x20','Cmds\x20faile','vname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20c','toLowerCas','[tag]\x20onMe','reated_at\x20','getContact','ction','181423kuRYnL','t_jid\x20TEXT','CREATE\x20IND','toString','\x20=\x20exclude','\x20@\x20hello\x20\x20','3512360DBOAAo','ATE\x20TABLE\x20','\x20add\x20<emoj','GER\x20DEFAUL','i>\x20<mappin','e\x20all','eated_by,\x20','notify','ention\x20eve','[tag]\x20send','mapping','ted_at;','user','\x20to\x20','delete','isCommand','short','[tag]\x20clea','->\x20mention','d.created_','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','mode','ed_at\x20INTE','pping,\x20cre','raw','ailed','AND\x20emoji\x20','on(s).','EX\x20IF\x20NOT\x20','\x22hi\x22\x20and\x20m','moji\x20TEXT\x20','rtCmd\x20fail','TEXT\x20DEFAU',')\x20across\x20','hat\x20ON\x20','key','?,\x20?,\x20?,\x20?','displayNam','t_jid\x20=\x20?\x20','help','indexOf','text','Name\x20then\x20','lveDefault',':\x20(no\x20mapp','12QkHMjw','moji>\x20|\x20cm','env','from'];_0x4ac5=function(){return _0x4bee8a;};return _0x4ac5();}async function resolveDisplayName(_0x399e63){const _0x592f98=_0x2ad503;try{if(!_0x399e63)return'';const _0x54cf62=(_0x399e63+'')[_0x592f98(0x254)]?.('@')?.[-0xef4+-0x7*0xa1+0x135b]||_0x399e63;if(botRef?.['store']){const _0x323b96=botRef[_0x592f98(0x27a)][_0x592f98(0x281)]?.[_0x399e63]||botRef[_0x592f98(0x27a)][_0x592f98(0x281)]&&botRef[_0x592f98(0x27a)][_0x592f98(0x281)][_0x592f98(0x233)]&&botRef[_0x592f98(0x27a)][_0x592f98(0x281)]['get'](_0x399e63);if(_0x323b96){const _0x46d969=_0x323b96[_0x592f98(0x241)]||_0x323b96[_0x592f98(0x1a8)+'me']||_0x323b96[_0x592f98(0x1c5)]||_0x323b96[_0x592f98(0x225)]||_0x323b96[_0x592f98(0x1b1)]||_0x323b96[_0x592f98(0x1ce)]||_0x323b96[_0x592f98(0x1e3)+'e'];if(_0x46d969)return String(_0x46d969);}}try{if(typeof botRef['getContact']==='function'){const _0x5e0000=await botRef[_0x592f98(0x1b6)](_0x399e63);if(_0x5e0000&&(_0x5e0000[_0x592f98(0x241)]||_0x5e0000['notify']||_0x5e0000[_0x592f98(0x225)]||_0x5e0000[_0x592f98(0x1b1)]))return String(_0x5e0000[_0x592f98(0x241)]||_0x5e0000[_0x592f98(0x1c5)]||_0x5e0000['pushName']||_0x5e0000[_0x592f98(0x1b1)]);}}catch(_0x1eca92){}return String(_0x54cf62);}catch(_0x577fe2){return String(_0x399e63)['split']('@')[0xd52+-0x45*-0x2+-0xddc];}}async function fetchGroupParticipants(_0x227e4d){const _0x255465=_0x2ad503;try{let _0x2f9402=null;if(typeof botRef['groupMetad'+'ata']==='function')try{_0x2f9402=await botRef['groupMetad'+_0x255465(0x206)](_0x227e4d);}catch(_0x52f7de){_0x2f9402=null;}if((!_0x2f9402||!Array[_0x255465(0x22a)](_0x2f9402[_0x255465(0x1f2)+'ts']))&&botRef?.[_0x255465(0x1ad)])try{if(typeof botRef[_0x255465(0x1ad)][_0x255465(0x1f1)+'ata']==='function')_0x2f9402=await botRef[_0x255465(0x1ad)][_0x255465(0x1f1)+'ata'](_0x227e4d);}catch(_0x2ba93d){_0x2f9402=_0x2f9402||null;}const _0x219cdd=Array['isArray'](_0x2f9402?.['participan'+'ts'])?_0x2f9402[_0x255465(0x1f2)+'ts']:[],_0x9e462f=[];for(const _0x128c39 of _0x219cdd){const _0xa9a59e=_0x128c39&&typeof _0x128c39===_0x255465(0x202)?_0x128c39:_0x128c39?.['id']||_0x128c39?.['jid']||(_0x128c39?.[_0x255465(0x1ca)]?_0x128c39[_0x255465(0x1ca)]+(_0x255465(0x22e)+'p.net'):null);if(!_0xa9a59e)continue;const _0x567a04=_0x128c39?.[_0x255465(0x241)]||_0x128c39?.[_0x255465(0x1c5)]||_0x128c39?.['pushName']||await resolveDisplayName(_0xa9a59e);_0x9e462f[_0x255465(0x21f)]({'id':_0xa9a59e,'name':_0x567a04,'raw':_0x128c39});}return _0x9e462f;}catch(_0x2e114b){return warn(_0x255465(0x268)+_0x255465(0x22d)+_0x255465(0x23b)+_0x255465(0x1d7),_0x2e114b?.[_0x255465(0x257)]||_0x2e114b),[];}}function chunkArray(_0x471448,_0x4e20a1){const _0x3fb530=[];for(let _0x3b09a1=-0x3a1*-0x3+0x4c7*-0x5+0xd00;_0x3b09a1<_0x471448['length'];_0x3b09a1+=_0x4e20a1)_0x3fb530['push'](_0x471448['slice'](_0x3b09a1,_0x3b09a1+_0x4e20a1));return _0x3fb530;}function parseMapping(_0x4b9aba){const _0x41774a=_0x2ad503,_0x1acaf5=(_0x4b9aba??'')[_0x41774a(0x1bb)]()[_0x41774a(0x256)]();if(!_0x1acaf5)return{'mode':_0x41774a(0x1d6),'text':''};if(_0x1acaf5[_0x41774a(0x272)]('@@'))return{'mode':'list','text':_0x1acaf5[_0x41774a(0x1a3)]>0x47*-0x83+0x572+0x1ee5?_0x1acaf5['slice'](-0x11*0x1df+0x1ce2+0x2ef)[_0x41774a(0x256)]():''};if(_0x1acaf5[_0x41774a(0x272)]('@'))return{'mode':_0x41774a(0x269),'text':_0x1acaf5[_0x41774a(0x1a3)]>0xc7d*0x1+-0x1471*0x1+0x7*0x123?_0x1acaf5[_0x41774a(0x1ab)](0x1a3e+0x8ca+0x3d*-0x93)[_0x41774a(0x256)]():''};return{'mode':_0x41774a(0x1d6),'text':_0x1acaf5};}async function dispatchMappingForChat(_0x22f6fc,_0x32bf2c,_0x36f9ad=''){const _0x4741e3=_0x2ad503,_0xc97fa2=parseMapping(_0x32bf2c),_0x312630=_0x36f9ad?_0x36f9ad['trim']():'';if(_0xc97fa2[_0x4741e3(0x1d3)]===_0x4741e3(0x269)){const _0x52064a=_0xc97fa2[_0x4741e3(0x1e7)]?_0x312630?_0xc97fa2['text']+'\x20'+_0x312630:_0xc97fa2[_0x4741e3(0x1e7)]:_0x312630||'👋',_0x6977f5=await fetchGroupParticipants(_0x22f6fc);if(!_0x6977f5[_0x4741e3(0x1a3)]){await safeSend(_0x22f6fc,{'text':_0x4741e3(0x23c)+'rs\x20to\x20tag.'});return;}const _0x1be8f8=_0x6977f5[_0x4741e3(0x25e)](_0x50f068=>_0x50f068['id'])[_0x4741e3(0x232)](Boolean);if(_0x1be8f8['length']<=BATCH_SIZE){await safeSend(_0x22f6fc,{'text':_0x52064a,'mentions':_0x1be8f8});return;}const _0x5e5ee4=chunkArray(_0x6977f5,BATCH_SIZE);for(const _0x472565 of _0x5e5ee4){const _0x7eb02=_0x472565[_0x4741e3(0x25e)](_0x3236f5=>_0x3236f5['id']),_0x43678a=_0x52064a;await safeSend(_0x22f6fc,{'text':_0x43678a,'mentions':_0x7eb02}),await new Promise(_0x30d112=>setTimeout(_0x30d112,0x25fe+-0x1*0x1990+0x1*-0xb74));}return;}if(_0xc97fa2[_0x4741e3(0x1d3)]===_0x4741e3(0x200)){const _0x32b9a9=_0xc97fa2[_0x4741e3(0x1e7)]?_0xc97fa2[_0x4741e3(0x1e7)]:'',_0x106e33=await fetchGroupParticipants(_0x22f6fc);if(!_0x106e33['length']){await safeSend(_0x22f6fc,{'text':_0x4741e3(0x23c)+_0x4741e3(0x253)});return;}const _0x3b8706=new Set(),_0x5f528c=[];for(const _0x424ffe of _0x106e33)!_0x3b8706[_0x4741e3(0x1fb)](_0x424ffe['id'])&&(_0x3b8706[_0x4741e3(0x227)](_0x424ffe['id']),_0x5f528c[_0x4741e3(0x21f)](_0x424ffe));if(_0x5f528c['length']<=BATCH_SIZE){const _0x5ae3a9=_0x5f528c[_0x4741e3(0x25e)](_0x5543b7=>'@'+String(_0x5543b7['name']||_0x5543b7['id'][_0x4741e3(0x254)]('@')[0x2507+0x45c+-0x2963])[_0x4741e3(0x26a)](/\r?\n/g,'\x20')[_0x4741e3(0x256)]())[_0x4741e3(0x1f5)](',\x20'),_0x4858ef=_0x32b9a9?_0x5ae3a9+'\x0a\x0a'+_0x32b9a9:_0x5ae3a9;await safeSend(_0x22f6fc,{'text':_0x4858ef,'mentions':_0x5f528c[_0x4741e3(0x25e)](_0x195fa8=>_0x195fa8['id'])});return;}const _0x2ac12b=chunkArray(_0x5f528c,BATCH_SIZE);let _0x2817e7=-0x11*-0xd9+0x7*0x463+0x1ce*-0x19;for(const _0x842b91 of _0x2ac12b){_0x2817e7++;const _0x215b22=_0x842b91[_0x4741e3(0x25e)](_0x3dc9b3=>'@'+String(_0x3dc9b3['name']||_0x3dc9b3['id'][_0x4741e3(0x254)]('@')[0x449*-0x1+-0x4b*-0x49+-0x111a])[_0x4741e3(0x26a)](/\r?\n/g,'\x20')['trim']())[_0x4741e3(0x1f5)](',\x20'),_0x1aec60=_0x32b9a9?_0x215b22+'\x0a\x0a'+_0x32b9a9+_0x4741e3(0x201)+_0x2817e7+'/'+_0x2ac12b[_0x4741e3(0x1a3)]+')':_0x215b22+'\x20(part\x20'+_0x2817e7+'/'+_0x2ac12b[_0x4741e3(0x1a3)]+')';await safeSend(_0x22f6fc,{'text':_0x1aec60,'mentions':_0x842b91[_0x4741e3(0x25e)](_0x204a98=>_0x204a98['id'])}),await new Promise(_0x3d15f9=>setTimeout(_0x3d15f9,-0x195e+0x1*-0x258d+0x3fe5));}return;}const _0x4844e6=_0xc97fa2[_0x4741e3(0x1e7)]?_0x312630?_0xc97fa2[_0x4741e3(0x1e7)]+'\x20'+_0x312630:_0xc97fa2[_0x4741e3(0x1e7)]:_0x312630||'';await safeSend(_0x22f6fc,{'text':_0x4844e6});}export async function initialize(_0x40f5fc){const _0x4608d6=_0x2ad503;botRef=_0x40f5fc;if(botRef){if(typeof botRef[_0x4608d6(0x207)+'e']==='function')sendApi=async(_0x4fb0d7,_0x11d011)=>await botRef[_0x4608d6(0x207)+'e'](_0x4fb0d7,_0x11d011);else botRef[_0x4608d6(0x1ad)]&&typeof botRef[_0x4608d6(0x1ad)][_0x4608d6(0x207)+'e']==='function'?sendApi=async(_0x48328a,_0x34c142)=>await botRef[_0x4608d6(0x1ad)][_0x4608d6(0x207)+'e'](_0x48328a,_0x34c142):sendApi=null;}await ensureSchema(),info('[tag]\x20init'+_0x4608d6(0x212));}function detectCommandNameFromText(_0x4d12a8){const _0xb92181=_0x2ad503;if(!_0x4d12a8)return null;const _0x6fec=_0x4d12a8[_0xb92181(0x256)]();if(!_0x6fec)return null;const _0x48d050=_0x6fec[_0xb92181(0x254)](/\s+/);return _0x48d050[0x2392+0x19a3*0x1+-0x3d35][_0xb92181(0x1b3)+'e']();}async function resolveDefaultChatJidsForUser(_0x1f845d){const _0x22b937=_0x2ad503;try{const _0x2dcb9b=await getDefault(_0x1f845d)['catch'](()=>null);if(!_0x2dcb9b||Array[_0x22b937(0x22a)](_0x2dcb9b)&&_0x2dcb9b['length']===0xbf2*-0x1+0x86*-0x38+-0x1*-0x2942)return[];const _0x5c15b0=Array[_0x22b937(0x22a)](_0x2dcb9b)?_0x2dcb9b:[_0x2dcb9b];let _0x4a4c47=[];for(const _0x4aab9a of _0x5c15b0){try{const _0x16e41a=await getConnection(_0x4aab9a)[_0x22b937(0x1fa)](()=>null);if(Array[_0x22b937(0x22a)](_0x16e41a))_0x4a4c47[_0x22b937(0x21f)](..._0x16e41a);else{if(_0x16e41a)_0x4a4c47[_0x22b937(0x21f)](String(_0x16e41a));}}catch(_0x3ac457){warn('[tag]\x20reso'+'lving\x20conn'+'ection\x20'+_0x4aab9a+'\x20failed:\x20'+(_0x3ac457?.['message']||_0x3ac457));}}return Array[_0x22b937(0x1ee)](new Set(_0x4a4c47[_0x22b937(0x25e)](_0x5a72cd=>String(_0x5a72cd)[_0x22b937(0x256)]())['filter'](Boolean)));}catch(_0x447026){return warn(_0x22b937(0x228)+_0x22b937(0x1e9)+_0x22b937(0x238)+_0x22b937(0x221)+_0x22b937(0x1a6)+(_0x447026?.['message']||_0x447026)),[];}}function isBoundaryAt(_0x221552,_0x4e0908,_0x1cd8db){const _0x142c49=_0x2ad503,_0x33fe33=_0x4e0908-(-0x232b+0x17*-0x6b+-0x2cc9*-0x1)>=0xb07*-0x3+0x2*-0x12be+0x4691*0x1?_0x221552[_0x4e0908-(0x1fd+-0x1831+0x1635)]:null,_0x179df0=_0x4e0908+_0x1cd8db<_0x221552[_0x142c49(0x1a3)]?_0x221552[_0x4e0908+_0x1cd8db]:null,_0x48e475=_0x23d12c=>_0x23d12c!=null&&/[0-9A-Za-z_]/['test'](_0x23d12c);return!_0x48e475(_0x33fe33)&&!_0x48e475(_0x179df0);}export async function onMessage(_0x19e805){const _0x31f837=_0x2ad503;try{if(!_0x19e805||!_0x19e805[_0x31f837(0x1e1)]||!_0x19e805['message'])return;const _0x1b551f=_0x19e805[_0x31f837(0x1e1)][_0x31f837(0x1a2)],_0x1ecb42=typeof _0x1b551f===_0x31f837(0x202)&&_0x1b551f['endsWith'](_0x31f837(0x278)),_0x332099=_0x19e805['key']&&(_0x19e805['key'][_0x31f837(0x1f2)+'t']||_0x19e805[_0x31f837(0x1e1)][_0x31f837(0x1ee)]||_0x19e805['key']['remoteJid'])||'',_0x118870=(_0x332099||'')[_0x31f837(0x254)]('@')[-0x5b8+-0x1bce*-0x1+-0x1616];let _0x4a5efa=![];try{if(_0x1ecb42)_0x4a5efa=await isadmin(botRef,_0x19e805);}catch(_0x59da80){warn(_0x31f837(0x26f)+_0x31f837(0x260)+'failed',_0x59da80?.[_0x31f837(0x257)]||_0x59da80),_0x4a5efa=![];}if(!_0x4a5efa)return;const _0x9c9ba=await resolveDefaultChatJidsForUser(_0x118870);if(!_0x9c9ba||_0x9c9ba[_0x31f837(0x1a3)]===0x202+0x1cbe+0x10*-0x1ec)return;if(_0x19e805[_0x31f837(0x1cd)]){const _0x516601=_0x19e805['text']&&_0x19e805[_0x31f837(0x1e7)][_0x31f837(0x256)]()?_0x19e805['text'][_0x31f837(0x256)]():getMessageText(_0x19e805)[_0x31f837(0x256)](),_0x2cc4db=detectCommandNameFromText(_0x516601);if(!_0x2cc4db)return;const _0xdabd47=Array[_0x31f837(0x22a)](commands)?commands[_0x31f837(0x25e)](_0x21a600=>String(_0x21a600)[_0x31f837(0x1b3)+'e']()):[];if(!_0xdabd47['includes'](_0x2cc4db))return;const _0x52bec9=_0x516601[_0x31f837(0x254)](/\s+/)[_0x31f837(0x1ab)](-0x12d*-0xd+0x222a*-0x1+0x2*0x971)[_0x31f837(0x1f5)]('\x20')[_0x31f837(0x256)](),_0x5ced33=_0x52bec9[_0x31f837(0x254)](/\s+/)[_0x31f837(0x232)](Boolean),_0x4e9688=_0x5ced33[0x204d*-0x1+0x39e+0x1caf]?_0x5ced33[0x1fb5+0x1225+-0x31da*0x1][_0x31f837(0x1b3)+'e']():null;if(!_0x4e9688||_0x4e9688===_0x31f837(0x1e5)){await safeSend(_0x1b551f,{'text':'cmd\x20usage:'+_0x31f837(0x1ac)+'\x20<emoji>\x20<'+_0x31f837(0x1ff)+_0x31f837(0x24d)+'•\x20cmd\x20dele'+_0x31f837(0x229)+'\x0a•\x20cmd\x20del'+_0x31f837(0x210)+_0x31f837(0x277)+_0x31f837(0x231)+_0x31f837(0x215)+'xamples:\x0a\x20'+_0x31f837(0x1bd)+_0x31f837(0x1d0)+_0x31f837(0x26b)+'with\x20\x22hell'+_0x31f837(0x1f4)+_0x31f837(0x22c)+_0x31f837(0x27b)+_0x31f837(0x1e8)+_0x31f837(0x1db)+_0x31f837(0x1c6)+'ryone\x0a\x20\x20ra'+_0x31f837(0x19e)+_0x31f837(0x239)+_0x31f837(0x250)+'ault\x20conne'+_0x31f837(0x1b7)});return;}if(_0x4e9688==='add'){if(_0x5ced33[_0x31f837(0x1a3)]<-0xb9*-0x8+-0x1293+-0x95*-0x16){await safeSend(_0x1b551f,{'text':_0x31f837(0x1aa)+_0x31f837(0x1c0)+_0x31f837(0x1c2)+'g...>'});return;}const _0x1a567b=_0x5ced33[0x3ba+-0x15ee+0x1*0x1235],_0x19394d=_0x5ced33['slice'](-0x214f*-0x1+0x1*-0xa3f+-0x1c6*0xd)[_0x31f837(0x1f5)]('\x20');let _0x46ef09=-0x157+-0x2267*0x1+0x23be;for(const _0x581bfa of _0x9c9ba){const _0x3ee520=await upsertCmd(_0x581bfa,_0x1a567b,_0x19394d,_0x332099||'');if(_0x3ee520)_0x46ef09++;}if(_0x46ef09>-0x24b*-0x2+-0xc9*0x2a+-0x13c*-0x17)await safeSend(_0x1b551f,{'text':'Saved\x20mapp'+'ing\x20for\x20'+_0x1a567b+_0x31f837(0x1fd)+_0x19394d+_0x31f837(0x1cb)+_0x46ef09+(_0x31f837(0x1ef)+_0x31f837(0x21b)+_0x31f837(0x25f))});else await safeSend(_0x1b551f,{'text':'Failed\x20to\x20'+_0x31f837(0x20e)+'ng\x20for\x20'+_0x1a567b});return;}if(_0x4e9688===_0x31f837(0x200)){let _0x1d5607=[];for(const _0x5a4d60 of _0x9c9ba){const _0x22029a=await listCmds(_0x5a4d60);if(!_0x22029a[_0x31f837(0x1a3)]){_0x1d5607[_0x31f837(0x21f)]('—\x20'+_0x5a4d60+(_0x31f837(0x1ea)+'ings)'));continue;}const _0x2f2dc7=_0x22029a[_0x31f837(0x25e)]((_0x5d292c,_0x1b523a)=>_0x1b523a+(-0x5*0x593+-0x1d*-0x137+0x1*-0x75b)+'.\x20'+_0x5d292c[_0x31f837(0x19c)]+'\x20->\x20'+_0x5d292c[_0x31f837(0x1c8)]);_0x1d5607[_0x31f837(0x21f)]('—\x20'+_0x5a4d60+'\x20('+_0x22029a[_0x31f837(0x1a3)]+_0x31f837(0x226)+_0x2f2dc7[_0x31f837(0x1f5)]('\x0a'));}let _0x19e8bd='';for(const _0x201aaa of _0x1d5607){const _0x3821de=_0x201aaa+'\x0a\x0a';(_0x19e8bd+_0x3821de)[_0x31f837(0x1a3)]>-0x1a4*0xe+0x1*-0x18fe+-0xa6*-0x53&&(await safeSend(_0x1b551f,{'text':_0x19e8bd['trim']()}),_0x19e8bd=''),_0x19e8bd+=_0x3821de;}if(_0x19e8bd[_0x31f837(0x256)]())await safeSend(_0x1b551f,{'text':_0x19e8bd[_0x31f837(0x256)]()});return;}if(_0x4e9688===_0x31f837(0x1cc)){if(_0x5ced33['length']<0x3b*-0x9b+-0x53*0x62+0xb*0x623){await safeSend(_0x1b551f,{'text':_0x31f837(0x1aa)+_0x31f837(0x211)+_0x31f837(0x1ec)+'d\x20delete\x20i'+_0x31f837(0x25d)+_0x31f837(0x243)+_0x31f837(0x1c3)});return;}if(_0x5ced33[-0x1575*-0x1+0x236c+-0x68*0x8c]===_0x31f837(0x20a)){let _0x836c40=0x24ce+0x3*-0x483+0x1*-0x1745;for(const _0x55be93 of _0x9c9ba){const _0x341a9d=await deleteAllCmds(_0x55be93);_0x836c40+=_0x341a9d;}await safeSend(_0x1b551f,{'text':'Deleted\x20'+_0x836c40+(_0x31f837(0x263)+_0x31f837(0x1df))+_0x9c9ba['length']+(_0x31f837(0x1ef)+'onnection('+_0x31f837(0x25f))});return;}if(_0x5ced33[0x115c+0x198d+-0x55d*0x8]===_0x31f837(0x1a7)&&_0x5ced33['length']>=-0xdfc+-0x67f+0x56*0x3d){const _0x5c8554=parseInt(_0x5ced33[0x248f*-0x1+0x14cb+0xfc6],-0x267a+0x16e+0x2516);if(!Number[_0x31f837(0x248)](_0x5c8554)||_0x5c8554<=0xcfd*0x3+-0x1*-0x50b+-0x2c02){await safeSend(_0x1b551f,{'text':_0x31f837(0x242)+'dex'});return;}let _0x4ed976=-0x1d9c+0x69*0x28+0xd34;for(const _0x5b50be of _0x9c9ba){const _0x3dd344=await listCmds(_0x5b50be);if(_0x5c8554>_0x3dd344['length'])continue;const _0x14c09c=_0x3dd344[_0x5c8554-(-0x1884+0x2*0x8a8+0x735)]['id'],_0x12d340=await deleteCmdById(_0x5b50be,_0x14c09c);_0x4ed976+=_0x12d340;}await safeSend(_0x1b551f,{'text':_0x31f837(0x21e)+_0x4ed976+(_0x31f837(0x263)+_0x31f837(0x220))+_0x5c8554+(_0x31f837(0x22b)+_0x31f837(0x21a)+_0x31f837(0x219)+_0x31f837(0x1d9))});return;}const _0x347b59=_0x5ced33[-0x6e9*0x1+0x1188+-0x12e*0x9];let _0x2b3268=0xc5d+0x127+-0x1*0xd84;for(const _0x1deacd of _0x9c9ba){const _0x54b219=await deleteCmdByEmoji(_0x1deacd,_0x347b59);_0x2b3268+=_0x54b219;}await safeSend(_0x1b551f,{'text':'Deleted\x20'+_0x2b3268+('\x20mapping(s'+')\x20for\x20emoj'+'i\x20')+_0x347b59+(_0x31f837(0x230)+'ur\x20default'+'\x20connectio'+_0x31f837(0x223))});return;}return;}const _0x4c6638=getMessageText(_0x19e805);if(!_0x4c6638||!_0x4c6638['trim']())return;const _0x4dc00c=_0x4c6638[_0x31f837(0x256)](),_0x2e14e2=/(?:^|\s)(@@?)\s+([^\n]+)/,_0x4be5c2=_0x4dc00c['match'](_0x2e14e2);if(_0x4be5c2){const _0x4b933a=_0x4be5c2[0x60a*0x1+0x4a9+-0x4a*0x25],_0x3ed5e0=(_0x4be5c2[-0x1cc0+-0x3ef+0x20b1]||'')[_0x31f837(0x256)](),_0x8cde10=(_0x4b933a+'\x20'+_0x3ed5e0)['trim']();for(const _0x1f9d14 of _0x9c9ba){try{await dispatchMappingForChat(_0x1f9d14,_0x8cde10,'');}catch(_0x2b92e3){warn(_0x31f837(0x22f)+'atchMappin'+_0x31f837(0x21c)+_0x31f837(0x279)+_0x31f837(0x276),_0x2b92e3?.['message']||_0x2b92e3);}}return;}for(const _0x4c3221 of _0x9c9ba){const _0x1c10c5=await listCmds(_0x4c3221);if(!_0x1c10c5['length'])continue;const _0x3223de=_0x1c10c5[_0x31f837(0x25e)](_0x4e9f95=>_0x4e9f95[_0x31f837(0x19c)])['filter'](Boolean)[_0x31f837(0x19d)]((_0x1792ee,_0x3ff9a1)=>_0x3ff9a1[_0x31f837(0x1a3)]-_0x1792ee['length']);let _0x3095a1=null,_0xc4b372=null;for(const _0x30162c of _0x3223de){if(!_0x30162c)continue;let _0x41d71b=_0x4dc00c['indexOf'](_0x30162c);while(_0x41d71b!==-(0x26*-0xc7+-0x1*0xc3+0x1e4e)){if(isBoundaryAt(_0x4dc00c,_0x41d71b,_0x30162c['length'])){_0x3095a1=_0x30162c,_0xc4b372=_0x1c10c5[_0x31f837(0x1a4)](_0x131333=>_0x131333[_0x31f837(0x19c)]===_0x30162c);break;}_0x41d71b=_0x4dc00c['indexOf'](_0x30162c,_0x41d71b+(0x572+-0x1*0x1ead+0x193c));}if(_0x3095a1)break;}if(!_0x3095a1||!_0xc4b372)continue;let _0x1b8b4e='';const _0x19b9f8=_0x4dc00c[_0x31f837(0x1e6)](_0x3095a1);if(_0x19b9f8!==-(0xac3+0x904*-0x4+0x9e*0x29)){const _0x38fbed=_0x4dc00c[_0x31f837(0x1ab)](_0x19b9f8+_0x3095a1['length'])[_0x31f837(0x256)]();if(_0x38fbed)_0x1b8b4e=_0x38fbed;}try{await dispatchMappingForChat(_0x4c3221,_0xc4b372['mapping']||'',_0x1b8b4e);}catch(_0x369381){warn(_0x31f837(0x22f)+_0x31f837(0x1f8)+_0x31f837(0x265)+_0x31f837(0x24f),_0x369381?.[_0x31f837(0x257)]||_0x369381);}}}catch(_0x238a2a){error(_0x238a2a,_0x31f837(0x1b4)+_0x31f837(0x25a)+'l');}}export async function cleanup(){const _0x3d2666=_0x2ad503;botRef=null,sendApi=null,info(_0x3d2666(0x1cf)+_0x3d2666(0x282));}function _0x517a(_0x3b37e2,_0x3f0096){const _0x2c1f6a=_0x4ac5();return _0x517a=function(_0x30a65c,_0x3eb4c5){_0x30a65c=_0x30a65c-(0x283*-0x5+0x4*0x805+-0x11e9);let _0x52c030=_0x2c1f6a[_0x30a65c];return _0x52c030;},_0x517a(_0x3b37e2,_0x3f0096);}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};