const _0x48150b=_0x3e64;(function(_0x471f74,_0x7da184){const _0x2895bf=_0x3e64,_0x4a94d4=_0x471f74();while(!![]){try{const _0x8531d7=-parseInt(_0x2895bf(0x23d))/(-0xdf6*0x1+-0x11d1*0x2+0x1*0x3199)*(parseInt(_0x2895bf(0x203))/(-0x37*0x25+-0xdd5*-0x1+0x1*-0x5e0))+-parseInt(_0x2895bf(0x1a7))/(-0x1*0xf19+-0x2543+0x147*0x29)+parseInt(_0x2895bf(0x24b))/(0x47*0x11+-0x1*0x2032+0x1b7f*0x1)+-parseInt(_0x2895bf(0x1e4))/(0x14d*0xf+0x9c4+-0x1d42)+-parseInt(_0x2895bf(0x21d))/(0xadd+-0x1c1b*-0x1+0x1379*-0x2)+-parseInt(_0x2895bf(0x1a3))/(-0x2225+0x1*0xfd7+0x1255)+-parseInt(_0x2895bf(0x243))/(-0xd9f+-0x1*-0x15fb+-0x854)*(-parseInt(_0x2895bf(0x1cc))/(0x1d*-0x4+0x1435+0x2*-0x9dc));if(_0x8531d7===_0x7da184)break;else _0x4a94d4['push'](_0x4a94d4['shift']());}catch(_0x464abd){_0x4a94d4['push'](_0x4a94d4['shift']());}}}(_0x2ab1,0x28b8*-0x34+0x4*0x142ea+0xa55d7));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x3e64(_0x2ac7db,_0x583960){const _0x48cbd2=_0x2ab1();return _0x3e64=function(_0x484c56,_0x378792){_0x484c56=_0x484c56-(-0x167c+-0xcd*-0x1f+-0x4*0x38);let _0x52498e=_0x48cbd2[_0x484c56];return _0x52498e;},_0x3e64(_0x2ac7db,_0x583960);}import*as _0x3acf4b from'../utils/groups.js';import{getDefault,getConnection}from'../utils/connection.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getConfig}from'../utils/config.js';export const name=_0x48150b(0x201)+_0x48150b(0x263)+'k';export const version=_0x48150b(0x204)+_0x48150b(0x214);export const priority=0x1*-0x235f+0x66d+0x5e3*0x5;export const commands=[_0x48150b(0x199)];export const configKeys=[_0x48150b(0x1da)+_0x48150b(0x17d)+_0x48150b(0x195),_0x48150b(0x1da)+_0x48150b(0x17d)+_0x48150b(0x19d)+_0x48150b(0x24d),_0x48150b(0x1da)+'ADCAST_DEF'+'AULT_REASO'+'N',_0x48150b(0x1da)+_0x48150b(0x187)];const FALLBACK_DEFAULTS={'DEDUPE_TTL_MS':(0x17f*0x15+-0xe89+-0x10c4)*(0x2d2*-0xc+-0x1cb1+-0x4271*-0x1),'DEFAULT_WARN_MESSAGE':_0x48150b(0x277)+_0x48150b(0x230)+_0x48150b(0x1b4)+'r}\x0a*MAX\x20WA'+_0x48150b(0x236)+_0x48150b(0x1c8)+_0x48150b(0x1fb)+_0x48150b(0x255)+_0x48150b(0x182)+_0x48150b(0x250)+_0x48150b(0x244)+_0x48150b(0x266),'DEFAULT_MAX_WARN':0x3,'DEFAULT_REASON':_0x48150b(0x1b3)+_0x48150b(0x275)+'casts.'};let CONFIG={};try{CONFIG=typeof getConfig===_0x48150b(0x1fe)?getConfig()||{}:{};}catch(_0x890b43){warn(_0x48150b(0x210)+'onfig()\x20th'+'rew\x20an\x20err'+_0x48150b(0x1ba)+'ding\x20with\x20'+_0x48150b(0x248)+_0x48150b(0x185)),CONFIG={};}const DEFAULTS={'DEDUPE_TTL_MS':Number(CONFIG?.[_0x48150b(0x1da)+_0x48150b(0x187)]?.[_0x48150b(0x1a5)+_0x48150b(0x25c)]??CONFIG[_0x48150b(0x1da)+_0x48150b(0x1ab)+_0x48150b(0x184)]??FALLBACK_DEFAULTS[_0x48150b(0x1a5)+'_MS'])||FALLBACK_DEFAULTS['DEDUPE_TTL'+_0x48150b(0x25c)],'DEFAULT_WARN_MESSAGE':typeof CONFIG['STATUS_BRO'+_0x48150b(0x17d)+_0x48150b(0x195)]===_0x48150b(0x225)&&CONFIG[_0x48150b(0x1da)+_0x48150b(0x17d)+_0x48150b(0x195)][_0x48150b(0x190)]?CONFIG['STATUS_BRO'+_0x48150b(0x17d)+_0x48150b(0x195)]:typeof CONFIG?.[_0x48150b(0x1da)+'ADCAST']?.[_0x48150b(0x1ed)+'RN']===_0x48150b(0x225)&&CONFIG[_0x48150b(0x1da)+_0x48150b(0x187)][_0x48150b(0x1ed)+'RN'][_0x48150b(0x190)]?CONFIG['STATUS_BRO'+_0x48150b(0x187)]['DEFAULT_WA'+'RN']:FALLBACK_DEFAULTS[_0x48150b(0x1ed)+_0x48150b(0x189)],'DEFAULT_MAX_WARN':Number(CONFIG[_0x48150b(0x1da)+_0x48150b(0x17d)+'AULT_MAX_W'+_0x48150b(0x24d)]??CONFIG?.['STATUS_BRO'+_0x48150b(0x187)]?.[_0x48150b(0x23b)]??FALLBACK_DEFAULTS[_0x48150b(0x1f8)+_0x48150b(0x245)])||FALLBACK_DEFAULTS[_0x48150b(0x1f8)+_0x48150b(0x245)],'DEFAULT_REASON':typeof CONFIG[_0x48150b(0x1da)+'ADCAST_DEF'+_0x48150b(0x278)+'N']===_0x48150b(0x225)&&CONFIG[_0x48150b(0x1da)+'ADCAST_DEF'+_0x48150b(0x278)+'N']['length']?CONFIG[_0x48150b(0x1da)+_0x48150b(0x17d)+_0x48150b(0x278)+'N']:typeof CONFIG?.[_0x48150b(0x1da)+_0x48150b(0x187)]?.[_0x48150b(0x1ee)+'ASON']===_0x48150b(0x225)&&CONFIG[_0x48150b(0x1da)+_0x48150b(0x187)][_0x48150b(0x1ee)+_0x48150b(0x1f3)][_0x48150b(0x190)]?CONFIG[_0x48150b(0x1da)+_0x48150b(0x187)]['DEFAULT_RE'+_0x48150b(0x1f3)]:FALLBACK_DEFAULTS[_0x48150b(0x1ee)+'ASON']};let botRef=null;const processedMessageKeys=new Map(),sleep=_0x4b529b=>new Promise(_0xd8ed3=>setTimeout(_0xd8ed3,_0x4b529b));function isStatusBroadcastMention(_0x238137){const _0x456cb1=_0x48150b;if(!_0x238137||!_0x238137[_0x456cb1(0x23a)])return![];const _0x5625b2=_0x238137[_0x456cb1(0x23a)];return _0x5625b2[_0x456cb1(0x26c)+_0x456cb1(0x18e)+_0x456cb1(0x19e)]||_0x5625b2[_0x456cb1(0x22b)+_0x456cb1(0x19e)]?.[_0x456cb1(0x272)]?.[_0x456cb1(0x25f)]?.[_0x456cb1(0x241)+'e']()==='status@bro'+'adcast'||_0x5625b2[_0x456cb1(0x200)+_0x456cb1(0x1f6)]?.[_0x456cb1(0x1bb)+_0x456cb1(0x1e3)]?.['protocolMe'+_0x456cb1(0x19e)]?.['key']?.[_0x456cb1(0x25f)]?.[_0x456cb1(0x241)+'e']()===_0x456cb1(0x1eb)+_0x456cb1(0x26d);}const TABLE_SETTINGS=_0x48150b(0x201)+'adcast_set'+_0x48150b(0x1a2),TABLE_WARN_USERS=_0x48150b(0x201)+_0x48150b(0x215)+'ns',TABLE_WARN_SETTINGS=_0x48150b(0x201)+_0x48150b(0x215)+_0x48150b(0x1e7);async function ensureTables(){const _0xb84007=_0x48150b;try{await db[_0xb84007(0x17b)]('CREATE\x20TAB'+'LE\x20IF\x20NOT\x20'+_0xb84007(0x1b1)+TABLE_SETTINGS+('\x20(chat_jid'+'\x20TEXT\x20PRIM'+_0xb84007(0x1b5)+_0xb84007(0x1ce)+_0xb84007(0x1f7)+'ted_at\x20INT'+_0xb84007(0x258))),await db[_0xb84007(0x17b)](_0xb84007(0x20b)+_0xb84007(0x205)+'EXISTS\x20'+TABLE_WARN_USERS+(_0xb84007(0x212)+_0xb84007(0x1d3)+_0xb84007(0x1be)+_0xb84007(0x21b)+_0xb84007(0x20a)+_0xb84007(0x1c2)+'\x20INTEGER\x20D'+_0xb84007(0x22e)+_0xb84007(0x276)+_0xb84007(0x1a9)+'d,\x20user_ji'+_0xb84007(0x17c))),await db[_0xb84007(0x17b)](_0xb84007(0x20b)+'LE\x20IF\x20NOT\x20'+'EXISTS\x20'+TABLE_WARN_SETTINGS+(_0xb84007(0x212)+'\x20TEXT\x20PRIM'+_0xb84007(0x1e5)+'arn_messag'+'e\x20TEXT,\x20ma'+_0xb84007(0x197)+_0xb84007(0x235)+'ated_at\x20IN'+_0xb84007(0x1c7)));}catch(_0x146561){error(_0x146561,_0xb84007(0x1f2)+_0xb84007(0x1f5)+_0xb84007(0x274));throw _0x146561;}}async function getChatEnabled(_0x39161a){const _0x1b89d8=_0x48150b,_0x14c5d8=await db[_0x1b89d8(0x253)](_0x1b89d8(0x1dc)+_0x1b89d8(0x27a)+TABLE_SETTINGS+(_0x1b89d8(0x1d9)+'t_jid\x20=\x20?'),[_0x39161a]);return _0x14c5d8?Number(_0x14c5d8['enabled'])===-0x1c0a+-0x1*-0x2405+-0x2*0x3fd:![];}async function setChatEnabled(_0x31b490,_0x30c065){const _0x268de3=_0x48150b;await db['run'](_0x268de3(0x1e0)+'O\x20'+TABLE_SETTINGS+('\x20(chat_jid'+_0x268de3(0x21c)+_0x268de3(0x22d)+_0x268de3(0x19c)+_0x268de3(0x198)+'ON\x20CONFLIC'+_0x268de3(0x1a1)+_0x268de3(0x20f)+_0x268de3(0x1e6)+'led\x20=\x20excl'+'uded.enabl'+_0x268de3(0x232)+_0x268de3(0x267)+_0x268de3(0x178)+_0x268de3(0x1db)),[_0x31b490,_0x30c065?0xb4f+0xdde+-0x192c:0x3ba+0x15*-0x6b+0x1*0x50d,Math['floor'](Date[_0x268de3(0x25a)]()/(0x1572+-0x216a+-0xfe*-0x10))]);}async function getWarnSettings(_0x4c6a04){const _0x2f5994=_0x48150b,_0x1808ad=await db['get'](_0x2f5994(0x1bf)+_0x2f5994(0x1d0)+_0x2f5994(0x23f)+_0x2f5994(0x191)+TABLE_WARN_SETTINGS+(_0x2f5994(0x1d9)+_0x2f5994(0x1ac)),[_0x4c6a04]),_0xd2b54c=DEFAULTS[_0x2f5994(0x1ed)+_0x2f5994(0x189)],_0x531b99=DEFAULTS[_0x2f5994(0x1f8)+_0x2f5994(0x245)];if(!_0x1808ad)return{'warn_message':_0xd2b54c,'max_warns':_0x531b99};return{'warn_message':_0x1808ad[_0x2f5994(0x231)+'ge']&&_0x1808ad[_0x2f5994(0x231)+'ge']['length']?_0x1808ad[_0x2f5994(0x231)+'ge']:_0xd2b54c,'max_warns':Number['isFinite'](Number(_0x1808ad[_0x2f5994(0x268)]))&&Number(_0x1808ad[_0x2f5994(0x268)])>0x117c*-0x1+-0x7d*0xa+0x2*0xb2f?Number(_0x1808ad[_0x2f5994(0x268)]):_0x531b99};}async function setWarnSettings(_0x363d2c,_0x511b1c){const _0x47ee4f=_0x48150b,_0x40e954=await getWarnSettings(_0x363d2c),_0x43fcce=_0x47ee4f(0x231)+'ge'in _0x511b1c?_0x511b1c[_0x47ee4f(0x231)+'ge']:_0x40e954[_0x47ee4f(0x231)+'ge'],_0x324ffb=_0x47ee4f(0x268)in _0x511b1c?_0x511b1c['max_warns']:_0x40e954[_0x47ee4f(0x268)];await db[_0x47ee4f(0x1e8)]('INSERT\x20INT'+'O\x20'+TABLE_WARN_SETTINGS+(_0x47ee4f(0x212)+_0x47ee4f(0x1c0)+_0x47ee4f(0x1f1)+_0x47ee4f(0x177)+'ated_at)\x20V'+_0x47ee4f(0x27c)+_0x47ee4f(0x279)+_0x47ee4f(0x18c)+_0x47ee4f(0x1fa)+_0x47ee4f(0x26b)+_0x47ee4f(0x261)+_0x47ee4f(0x227)+_0x47ee4f(0x1a8)+_0x47ee4f(0x1d0)+_0x47ee4f(0x23f)+'=excluded.'+_0x47ee4f(0x1d7)+_0x47ee4f(0x22d)+_0x47ee4f(0x233)+_0x47ee4f(0x18f)+'t;'),[_0x363d2c,_0x43fcce,_0x324ffb,Math[_0x47ee4f(0x213)](Date[_0x47ee4f(0x25a)]()/(0x5*-0x78e+0x51e+0x78*0x4e))]);}async function getWarnCount(_0x1557e1,_0x16ae4f){const _0x5a3a09=_0x48150b,_0x47b22f=await db['get'](_0x5a3a09(0x1bf)+_0x5a3a09(0x1c1)+_0x5a3a09(0x259)+TABLE_WARN_USERS+(_0x5a3a09(0x1d9)+_0x5a3a09(0x27f)+_0x5a3a09(0x262)+_0x5a3a09(0x1fc)),[_0x1557e1,_0x16ae4f]);return _0x47b22f?Number(_0x47b22f[_0x5a3a09(0x1c2)]||0x62*-0x5c+-0xbdf*-0x1+-0x2b*-0x8b):0x3*0x277+0x1c4b+-0x23b0;}async function setWarnCount(_0x322218,_0x25fe55,_0x137b68){const _0x141da0=_0x48150b;await db['run'](_0x141da0(0x1e0)+'O\x20'+TABLE_WARN_USERS+(_0x141da0(0x212)+_0x141da0(0x246)+',\x20warn_cou'+'nt)\x20VALUES'+_0x141da0(0x206)+_0x141da0(0x1c9)+_0x141da0(0x1b2)+_0x141da0(0x1d2)+'d)\x20DO\x20UPDA'+_0x141da0(0x228)+_0x141da0(0x1c6)+_0x141da0(0x229)+_0x141da0(0x17e)),[_0x322218,_0x25fe55,Number(_0x137b68||0x29*0x47+-0xb13+-0x4c)]);}async function sendNotice(_0x26e7c7,_0x47632d,_0x1325af=[]){const _0x28185c=_0x48150b;if(!_0x26e7c7||!botRef)return;try{const _0x460989=botRef['sock']?.[_0x28185c(0x24c)+'e']||botRef[_0x28185c(0x24c)+'e'];await _0x460989(_0x26e7c7,{'text':_0x47632d,'mentions':Array[_0x28185c(0x1d8)](_0x1325af)?_0x1325af:[]});}catch(_0x33fbb9){warn('[sbl]\x20fail'+'ed\x20to\x20send'+'\x20notice\x20to'+'\x20'+_0x26e7c7+':\x20'+(_0x33fbb9?.[_0x28185c(0x23a)]||_0x33fbb9));}}async function kickUser(_0x335f2f,_0x5419b8){const _0x32b6c3=_0x48150b;try{const _0x52375c=botRef?.[_0x32b6c3(0x242)]||botRef;if(_0x52375c?.['groupParti'+_0x32b6c3(0x19b)+_0x32b6c3(0x27b)])return await _0x52375c['groupParti'+_0x32b6c3(0x19b)+_0x32b6c3(0x27b)](_0x335f2f,[_0x5419b8],_0x32b6c3(0x24a)),info(_0x32b6c3(0x264)+_0x32b6c3(0x22f)+_0x5419b8+_0x32b6c3(0x226)+_0x335f2f),!![];return![];}catch(_0x27355b){return error(_0x27355b,_0x32b6c3(0x181)+'ed\x20to\x20kick'+'\x20'+_0x5419b8),![];}}async function issueAutoWarningFor(_0x98b44c){const _0x3a9202=_0x48150b,_0x54b9f3=_0x98b44c['key'][_0x3a9202(0x25f)],_0x3402bd=_0x98b44c[_0x3a9202(0x272)]['participan'+'t']||_0x98b44c[_0x3a9202(0x272)]['remoteJid'];if(await isadmin(botRef,{'key':_0x98b44c['key'],'message':_0x98b44c[_0x3a9202(0x23a)]}))return;const {warn_message:_0x57f190,max_warns:_0x6b9ac3}=await getWarnSettings(_0x54b9f3),_0x401e73=await getWarnCount(_0x54b9f3,_0x3402bd),_0x33e80a=_0x401e73+(0x2107+0x7b*0x7+-0x2463);await setWarnCount(_0x54b9f3,_0x3402bd,_0x33e80a);if(_0x33e80a>=_0x6b9ac3){await sendNotice(_0x54b9f3,_0x3a9202(0x257)+_0x3a9202(0x251)+'@'+_0x3402bd[_0x3a9202(0x21a)]('@')[-0x13*0x1d+0x1*0x1b0+0x11*0x7]+(_0x3a9202(0x1c4)+_0x3a9202(0x22f))+_0x6b9ac3+(_0x3a9202(0x25e)+_0x3a9202(0x270)+_0x3a9202(0x21f)),[_0x3402bd]),await kickUser(_0x54b9f3,_0x3402bd),await setWarnCount(_0x54b9f3,_0x3402bd,0x82*0x2+-0x17*0x83+-0xac1*-0x1);return;}const _0x21bd68=_0x6b9ac3-_0x33e80a;let _0x5d7f58=String(_0x57f190)[_0x3a9202(0x234)](_0x3a9202(0x26e),'@'+_0x3402bd['split']('@')[-0x2385+-0x53*-0x57+-0x4e*-0x18])[_0x3a9202(0x234)](_0x3a9202(0x27d)+'}',String(_0x6b9ac3))[_0x3a9202(0x234)](_0x3a9202(0x273)+_0x3a9202(0x1c5),String(_0x21bd68))[_0x3a9202(0x234)](_0x3a9202(0x22c),DEFAULTS[_0x3a9202(0x1ee)+'ASON']);await sendNotice(_0x54b9f3,_0x5d7f58,[_0x3402bd]),info('[sbl]\x20warn'+_0x3a9202(0x22f)+_0x3402bd+_0x3a9202(0x21e)+_0x54b9f3+'\x20('+_0x33e80a+'/'+_0x6b9ac3+')');}async function deleteWithRetryMsg(_0x3e72a6){const _0x1e2403=_0x48150b;for(let _0x1c94ee=0x2362*-0x1+0x1e03+0x55f;_0x1c94ee<0x2*-0xdab+0x25d6+0x22*-0x4f;_0x1c94ee++){try{const _0x45b4c7=botRef[_0x1e2403(0x242)]?.[_0x1e2403(0x24c)+'e']||botRef['sendMessag'+'e'];return await _0x45b4c7(_0x3e72a6[_0x1e2403(0x272)][_0x1e2403(0x25f)],{'delete':_0x3e72a6[_0x1e2403(0x272)]}),!![];}catch(_0x2a8f48){if(_0x1c94ee===0x97*-0x1a+-0x550*-0x1+0xa06)await sleep(-0x1*0x1cd9+-0xa*0x59+0x214d);else warn(_0x1e2403(0x1ef)+_0x1e2403(0x180)+'\x20'+(_0x2a8f48?.[_0x1e2403(0x23a)]||_0x2a8f48));}}return![];}async function rawMessagesUpsertHandler({messages:_0x340dca}){const _0x3bb5ef=_0x48150b;for(const _0x364010 of _0x340dca){const _0x1779a0=_0x364010[_0x3bb5ef(0x272)]?.[_0x3bb5ef(0x25f)];if(!_0x364010[_0x3bb5ef(0x23a)]||_0x364010[_0x3bb5ef(0x272)][_0x3bb5ef(0x1d6)]||!_0x1779a0||!_0x1779a0[_0x3bb5ef(0x256)](_0x3bb5ef(0x24f)))continue;const _0x5a3f88=_0x1779a0+'::'+_0x364010['key']['id'];if(processedMessageKeys['has'](_0x5a3f88))continue;processedMessageKeys[_0x3bb5ef(0x1b8)](_0x5a3f88,setTimeout(()=>processedMessageKeys['delete'](_0x5a3f88),DEFAULTS[_0x3bb5ef(0x1a5)+_0x3bb5ef(0x25c)]));const _0x195c02=await getChatEnabled(_0x1779a0);if(!_0x195c02||await isadmin(botRef,{'key':_0x364010[_0x3bb5ef(0x272)],'message':_0x364010[_0x3bb5ef(0x23a)]}))continue;isStatusBroadcastMention(_0x364010)&&(await deleteWithRetryMsg(_0x364010)&&await issueAutoWarningFor(_0x364010));}}async function findSudoerJid(_0x571990){const _0x4190c3=_0x48150b,{findings:_0x3a0fcc}=userJidFromCtx(_0x571990),_0x583c6d=await listSudo(),_0x299db1=new Set(_0x583c6d['map'](String));for(const _0x3e2c82 of _0x3a0fcc){if(_0x3e2c82?.[_0x4190c3(0x23e)]){const _0x30bb06=normalizeToJid(_0x3e2c82[_0x4190c3(0x23e)]);if(_0x30bb06&&_0x299db1['has'](_0x30bb06))return _0x30bb06;if(_0x299db1[_0x4190c3(0x207)](_0x3e2c82[_0x4190c3(0x23e)]))return _0x3e2c82[_0x4190c3(0x23e)];}}return null;}async function getMessageText(_0x31a93e){const _0x389cc6=_0x48150b;if(!_0x31a93e||!_0x31a93e[_0x389cc6(0x23a)])return'';const _0x59ee60=_0x31a93e[_0x389cc6(0x23a)];return _0x59ee60[_0x389cc6(0x219)+'on']||_0x59ee60[_0x389cc6(0x18a)+_0x389cc6(0x1e2)]?.['text']||_0x59ee60[_0x389cc6(0x211)+'ge']?.['caption']||_0x59ee60[_0x389cc6(0x1dd)+'ge']?.[_0x389cc6(0x1b9)]||'';}function parseGpFromArgs(_0x3d7f5d){const _0x5f2c22=_0x48150b,_0x4b7886=_0x3d7f5d[_0x5f2c22(0x188)](_0x410a7e=>_0x410a7e[_0x5f2c22(0x241)+'e']()==='gp:'||_0x410a7e[_0x5f2c22(0x241)+'e']()==='gp');if(_0x4b7886!==-(0x8*-0x382+0x1*0xb51+-0x4*-0x430)&&_0x3d7f5d[_0x4b7886+(-0x2299+0x1f35+-0x4f*-0xb)])return _0x3d7f5d[_0x4b7886+(-0x894+-0x20b+0xaa0)];const _0x3848d8=_0x3d7f5d[_0x5f2c22(0x1e9)](_0x6246ab=>_0x6246ab[_0x5f2c22(0x1f9)](_0x5f2c22(0x24f)));if(_0x3848d8)return _0x3848d8;if(_0x3d7f5d[_0x5f2c22(0x190)]>-0x8cf+0x1032+-0x1f*0x3d){const _0x551ec0=_0x3d7f5d[_0x3d7f5d[_0x5f2c22(0x190)]-(0x1169+0x2271+0x3fd*-0xd)];if(!['on',_0x5f2c22(0x239),_0x5f2c22(0x22a),_0x5f2c22(0x1b8),_0x5f2c22(0x1c3),'warnmsg',_0x5f2c22(0x1bc)][_0x5f2c22(0x1f9)](_0x551ec0[_0x5f2c22(0x241)+'e']()))return _0x551ec0;}return null;}function _0x2ab1(){const _0x2d0b63=['SELECT\x20ena','videoMessa','psert','Unknown\x20gr','INSERT\x20INT','\x20mentioned','xtMessage','age','4485165LmWpuI','ARY\x20KEY,\x20w','E\x20SET\x20enab','n_settings','run','find','ld\x20not\x20be\x20','status@bro','ock\x20**DISA','DEFAULT_WA','DEFAULT_RE','[sbl]\x20dele','\x20is\x20','sage,\x20max_','[sbl]\x20ensu','ASON','[sbl]\x20init','reTables\x20f','textInfo','EGER,\x20upda','DEFAULT_MA','includes','(chat_jid)','\x0a*REMAININ','id\x20=\x20?','t\x20warnings','function','text','messageCon','status_bro','contextInf','334oisCWK','3.1.0-grou','LE\x20IF\x20NOT\x20','\x20(?,\x20?,\x20?)','has','er\x20to\x20rese','n\x20found.\x20A','NOT\x20NULL,\x20','CREATE\x20TAB','Dedupe\x20TTL',':*\x0a','ax\x20warning',')\x20DO\x20UPDAT','[sbl]\x20getC','imageMessa','\x20(chat_jid','floor','p-only','adcast_war','mmand\x20to\x20t','alias>`\x20or','oup\x20alias\x20','conversati','split','_jid\x20TEXT\x20',',\x20enabled,','1724124mbLzMi','\x20in\x20','e\x20removed.','Please\x20pro','or\x20JID:\x20`','slice','mentionedJ','✅\x20Max\x20warn','string','\x20from\x20','message=ex','TE\x20SET\x20war','excluded.w','show','protocolMe','{reason}','\x20updated_a','EFAULT\x200,\x20','ed\x20','SAGE⚠️*\x0a\x0a*U','warn_messa','ed,\x20update','t=excluded','replace','TEGER,\x20upd','RNINGS:*\x20{','❌\x20DISABLED','LED**\x20for\x20','off','message','MAX_WARN','indexOf','1783BqbQug','jid','\x20max_warns','Your\x20defau','toLowerCas','sock','26772392TveTsK','\x0a*REASON:*','X_WARN',',\x20user_jid','pplying\x20co','file\x20defau','sage\x20for\x20','remove','30860MLGnhq','sendMessag','ARN','ck\x20for\x20','@g.us','ing_warns}','T🚨*\x0a\x0aUser\x20','\x20connectio','get','ℹ️\x20Max\x20warn','G\x20WARNINGS','endsWith','*🚨BAN\x20ALER','EGER);','OM\x20','now','forEach','_MS','\x5cs*','\x20warnings\x20','remoteJid','\x20group\x20onl','\x20SET\x20warn_','AND\x20user_j','adcast_loc','[sbl]\x20kick','\x20by\x20adding','\x20{reason}','d_at\x20=\x20exc','max_warns','✅\x20ENABLED','ge\x20for\x20','\x20DO\x20UPDATE','groupStatu','adcast','{user}','ps.','and\x20will\x20b','s\x20for\x20','key','{remaining','ailed','atus\x20broad','PRIMARY\x20KE','*⚠️WARN\x20MES','AULT_REASO','?,\x20?,\x20?)\x20O','bled\x20FROM\x20','ate','ALUES\x20(?,\x20','{max_warns','ock\x20**ENAB','t_jid\x20=\x20?\x20','\x20end.','-Specific\x20','warns,\x20upd','luded.upda','\x20updated.\x0a','warnmsg','exec','d));','ADCAST_DEF','arn_count;','ms.','te\x20failed:','[sbl]\x20Fail',':*\x20{remain','he\x20current','UPE_TTL_MS','lts.','l`\x20command','ADCAST','findIndex','RN_MESSAGE','extendedTe','age\x20for\x20','N\x20CONFLICT','mber\x20for\x20m','sMentionMe','.updated_a','length','\x20FROM\x20','messages.u','Please\x20@me','ntion\x20a\x20us','AULT_WARN','ias\x20or\x20JID','x_warns\x20IN','(?,\x20?,\x20?)\x20','sbl','*Status\x20lo','cipantsUpd','t)\x20VALUES\x20','AULT_MAX_W','ssage','Invalid\x20nu','resolved\x20t','T(chat_jid','tings','5086144ZkJHEN','(gp:|gp)?\x5c','DEDUPE_TTL','(Opt-In).\x20','2038719ZizmOF','cluded.war','Y\x20(chat_ji','❌\x20Status\x20l','ADCAST_DED','t_jid\x20=\x20?','a\x20group\x20al','ning\x20messa','from','*Warn\x20Mess','EXISTS\x20','CT(chat_ji','Posting\x20st','SER:*\x20{use','ARY\x20KEY,\x20e','✅\x20Status\x20l','clear','set','caption','or,\x20procee','quotedMess','maxwarns','participan','NULL,\x20user','SELECT\x20war',',\x20warn_mes','n_count\x20FR','warn_count','resetwarns','\x20has\x20reach','_warns}','n_count\x20=\x20','TEGER);','max_warns}','\x20ON\x20CONFLI','vide\x20a\x20war','push','9mazhkR','s\x20require\x20','nabled\x20INT','trim','n_message,','No\x20default','d,\x20user_ji','\x20TEXT\x20NOT\x20','\x20it\x20to\x20the','\x20user(s)\x20i','fromMe','max_warns,','isArray','\x20WHERE\x20cha','STATUS_BRO','ted_at;'];_0x2ab1=function(){return _0x2d0b63;};return _0x2ab1();}export async function onMessage(_0xe6bdf3){const _0x3c5bc6=_0x48150b,_0x2a1d42=(_0xe6bdf3[_0x3c5bc6(0x1ff)]||await getMessageText(_0xe6bdf3))['trim']();if(!_0xe6bdf3['isCommand']||!_0x2a1d42)return;const [_0x1424e8,..._0x6f1043]=_0x2a1d42[_0x3c5bc6(0x21a)](/\s+/),_0x4df1c5=_0x1424e8[_0x3c5bc6(0x241)+'e']()['replace']('/','');if(!commands[_0x3c5bc6(0x1f9)](_0x4df1c5))return;const _0x4a8c8d=_0xe6bdf3[_0x3c5bc6(0x272)][_0x3c5bc6(0x25f)][_0x3c5bc6(0x256)](_0x3c5bc6(0x24f)),_0x2358b9=_0xe6bdf3[_0x3c5bc6(0x272)][_0x3c5bc6(0x1d6)],_0x3b18f9=_0x2358b9?!![]:await isSudo(botRef,_0xe6bdf3),_0x4a1edf=_0x4a8c8d?await isadmin(botRef,_0xe6bdf3):![];if(!_0x4a8c8d&&!_0x3b18f9)return;if(_0x4a8c8d&&!_0x4a1edf)return;let _0x1e3d7d,_0x318859=[];if(_0x4a8c8d){_0x1e3d7d=_0xe6bdf3[_0x3c5bc6(0x272)][_0x3c5bc6(0x25f)];const _0x2cb5ba=(_0xe6bdf3[_0x3c5bc6(0x272)][_0x3c5bc6(0x1bd)+'t']||_0xe6bdf3[_0x3c5bc6(0x272)][_0x3c5bc6(0x1af)])['split']('@')[-0x22f*0xd+-0x2319+0x3f7c],_0x1f955a=await getDefault(_0x2cb5ba);if(!_0x1f955a||_0x1f955a['length']===-0x128b*0x2+-0x5*0x66f+0x4541*0x1)_0x318859=[_0xe6bdf3[_0x3c5bc6(0x272)][_0x3c5bc6(0x25f)]],await sendNotice(_0x1e3d7d,_0x3c5bc6(0x1d1)+_0x3c5bc6(0x252)+_0x3c5bc6(0x209)+_0x3c5bc6(0x247)+_0x3c5bc6(0x216)+_0x3c5bc6(0x183)+_0x3c5bc6(0x260)+'y.');else{for(const _0x19d100 of Array[_0x3c5bc6(0x1d8)](_0x1f955a)?_0x1f955a:[_0x1f955a]){const _0x22487d=await getConnection(_0x19d100);if(_0x22487d)_0x318859[_0x3c5bc6(0x1cb)](...Array[_0x3c5bc6(0x1d8)](_0x22487d)?_0x22487d:[_0x22487d]);}_0x318859=[...new Set(_0x318859)];if(_0x318859[_0x3c5bc6(0x190)]===0x2471+0x1a6+0x2617*-0x1)return sendNotice(_0x1e3d7d,_0x3c5bc6(0x240)+'lt\x20connect'+'ion(s)\x20cou'+_0x3c5bc6(0x1ea)+_0x3c5bc6(0x1a0)+'o\x20any\x20grou'+_0x3c5bc6(0x26f));}}else{_0x1e3d7d=_0x2358b9?getBotJid():await findSudoerJid(_0xe6bdf3);if(!_0x1e3d7d)return;const _0x2bab36=parseGpFromArgs(_0x6f1043);if(!_0x2bab36)return sendNotice(_0x1e3d7d,'In\x20PM,\x20`sb'+_0x3c5bc6(0x186)+_0x3c5bc6(0x1cd)+_0x3c5bc6(0x1ad)+_0x3c5bc6(0x196)+'\x20via\x20`gp\x20<'+_0x3c5bc6(0x217)+_0x3c5bc6(0x265)+_0x3c5bc6(0x1d4)+_0x3c5bc6(0x280));const _0x23266e=await _0x3acf4b['resolveNam'+'e'](_0x2bab36)||(_0x2bab36['includes'](_0x3c5bc6(0x24f))?_0x2bab36:null);if(!_0x23266e)return sendNotice(_0x1e3d7d,_0x3c5bc6(0x1df)+_0x3c5bc6(0x218)+_0x3c5bc6(0x221)+_0x2bab36+'`');_0x318859=[_0x23266e];}const _0x29b92b=(_0x6f1043[_0x3c5bc6(0x1e9)](_0x23092a=>['on',_0x3c5bc6(0x239),'show'][_0x3c5bc6(0x1f9)](_0x23092a[_0x3c5bc6(0x241)+'e']()))||_0x3c5bc6(0x22a))[_0x3c5bc6(0x241)+'e'](),_0x57c59f=_0x6f1043[_0x3c5bc6(0x1e9)](_0x49f17a=>[_0x3c5bc6(0x17a),_0x3c5bc6(0x1bc),_0x3c5bc6(0x1c3)][_0x3c5bc6(0x1f9)](_0x49f17a[_0x3c5bc6(0x241)+'e']()));let _0x5c5283='';for(const _0x36631d of _0x318859){if(_0x57c59f){if(_0x57c59f===_0x3c5bc6(0x17a)){if(_0x6f1043[_0x3c5bc6(0x1f9)](_0x3c5bc6(0x1b8))){const _0x4c04bb=_0x2a1d42[_0x3c5bc6(0x241)+'e']()[_0x3c5bc6(0x23c)]('set')+(-0x24f3+0x1eac+0x64b);let _0x2f4f84=_0x2a1d42[_0x3c5bc6(0x222)](_0x4c04bb)[_0x3c5bc6(0x1cf)]();const _0x499daf=parseGpFromArgs(_0x6f1043);if(_0x499daf)_0x2f4f84=_0x2f4f84[_0x3c5bc6(0x234)](new RegExp(_0x3c5bc6(0x1a4)+'s*'+_0x499daf+_0x3c5bc6(0x25d),'i'),'')['trim']();if(!_0x2f4f84){_0x5c5283+=_0x3c5bc6(0x220)+_0x3c5bc6(0x1ca)+_0x3c5bc6(0x1ae)+_0x3c5bc6(0x26a)+_0x36631d+'.\x0a';continue;}await setWarnSettings(_0x36631d,{'warn_message':_0x2f4f84}),_0x5c5283+='✅\x20Warn\x20mes'+_0x3c5bc6(0x249)+_0x36631d+_0x3c5bc6(0x179);}else{const {warn_message:_0x43e4fd}=await getWarnSettings(_0x36631d);_0x5c5283+=_0x3c5bc6(0x1b0)+_0x3c5bc6(0x18b)+_0x36631d+_0x3c5bc6(0x20d)+_0x43e4fd+'\x0a\x0a';}}else{if(_0x57c59f==='maxwarns'){if(_0x6f1043[_0x3c5bc6(0x1f9)](_0x3c5bc6(0x1b8))){const _0x4cebcf=parseInt(_0x6f1043[_0x6f1043[_0x3c5bc6(0x23c)](_0x3c5bc6(0x1b8))+(0xd*-0x2a3+-0x1e42+0x408a)],-0x1a3*0x17+0x167e+0xf31);if(isNaN(_0x4cebcf)||_0x4cebcf<-0x2209+0xf27+-0x3c7*-0x5){_0x5c5283+=_0x3c5bc6(0x19f)+_0x3c5bc6(0x18d)+_0x3c5bc6(0x20e)+'s\x20in\x20'+_0x36631d+'.\x0a';continue;}await setWarnSettings(_0x36631d,{'max_warns':_0x4cebcf}),_0x5c5283+=_0x3c5bc6(0x224)+'s\x20for\x20'+_0x36631d+'\x20set\x20to\x20'+_0x4cebcf+'.\x0a';}else{const {max_warns:_0x2809c9}=await getWarnSettings(_0x36631d);_0x5c5283+=_0x3c5bc6(0x254)+_0x3c5bc6(0x271)+_0x36631d+_0x3c5bc6(0x1f0)+_0x2809c9+'.\x0a';}}else{if(_0x57c59f===_0x3c5bc6(0x1c3)){const _0x28e431=_0xe6bdf3[_0x3c5bc6(0x23a)]?.[_0x3c5bc6(0x18a)+_0x3c5bc6(0x1e2)]?.[_0x3c5bc6(0x202)+'o']?.[_0x3c5bc6(0x223)+'id']||[];if(!_0x28e431['length']){_0x5c5283+=_0x3c5bc6(0x193)+_0x3c5bc6(0x194)+_0x3c5bc6(0x208)+_0x3c5bc6(0x1fd)+'\x20for\x20in\x20'+_0x36631d+'.\x0a';continue;}for(const _0x3f470e of _0x28e431)await setWarnCount(_0x36631d,_0x3f470e,-0x5*-0x649+0x396+-0x2303);_0x5c5283+='✅\x20Warnings'+'\x20reset\x20for'+_0x3c5bc6(0x1e1)+_0x3c5bc6(0x1d5)+'n\x20'+_0x36631d+'.\x0a';}}}}else{if(_0x29b92b==='on')await setChatEnabled(_0x36631d,!![]),_0x5c5283+=_0x3c5bc6(0x1b6)+_0x3c5bc6(0x27e)+_0x3c5bc6(0x238)+_0x36631d+'\x0a';else{if(_0x29b92b===_0x3c5bc6(0x239))await setChatEnabled(_0x36631d,![]),_0x5c5283+=_0x3c5bc6(0x1aa)+_0x3c5bc6(0x1ec)+'BLED**\x20for'+'\x20'+_0x36631d+'\x0a';else{const _0x28ac18=await getChatEnabled(_0x36631d);let _0x183a82=_0x28ac18?_0x3c5bc6(0x269):_0x3c5bc6(0x237);_0x5c5283+=_0x3c5bc6(0x19a)+_0x3c5bc6(0x24e)+_0x36631d+_0x3c5bc6(0x20d)+_0x183a82+'\x0a\x0a';}}}}await sendNotice(_0x1e3d7d,_0x5c5283[_0x3c5bc6(0x1cf)]());}export async function initialize(_0x5ddd83){const _0x3b87eb=_0x48150b;botRef=_0x5ddd83,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x3b87eb(0x192)+_0x3b87eb(0x1de),'handler':rawMessagesUpsertHandler,'moduleName':name}),info(_0x3b87eb(0x1f4)+'ialized.\x20M'+'ode:\x20Group'+_0x3b87eb(0x281)+_0x3b87eb(0x1a6)+_0x3b87eb(0x20c)+':\x20'+DEFAULTS[_0x3b87eb(0x1a5)+_0x3b87eb(0x25c)]+_0x3b87eb(0x17f));}export async function cleanup(){const _0x496964=_0x48150b;stopManagedListener(name,_0x496964(0x192)+_0x496964(0x1de)),processedMessageKeys[_0x496964(0x25b)](_0x5047ce=>clearTimeout(_0x5047ce)),processedMessageKeys[_0x496964(0x1b7)](),botRef=null,info('[sbl]\x20clea'+'ned\x20up');}