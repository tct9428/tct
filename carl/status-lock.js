const _0x22a7a9=_0xc5ab;(function(_0x1e0ac1,_0x590ee2){const _0x2f91e3=_0xc5ab,_0xe3b9c2=_0x1e0ac1();while(!![]){try{const _0x558621=parseInt(_0x2f91e3(0x16c))/(0x2537+-0x1*-0x204d+-0x4583)+-parseInt(_0x2f91e3(0x20e))/(0x204d*-0x1+-0x103+0x2152)+parseInt(_0x2f91e3(0x210))/(0x2150+0x54b*0x3+-0x312e)+-parseInt(_0x2f91e3(0x175))/(0x2421+0x2*0x971+0xd*-0x43b)+parseInt(_0x2f91e3(0x1f8))/(-0x66+0x464+-0x9*0x71)*(parseInt(_0x2f91e3(0x15f))/(0x215b+0x89d+-0x29f2))+parseInt(_0x2f91e3(0x151))/(-0x24c1+-0x146*-0x13+-0x219*-0x6)+-parseInt(_0x2f91e3(0x16e))/(-0x3*0x302+0x24ea+-0x1bdc);if(_0x558621===_0x590ee2)break;else _0xe3b9c2['push'](_0xe3b9c2['shift']());}catch(_0x10481b){_0xe3b9c2['push'](_0xe3b9c2['shift']());}}}(_0xaf5a,-0xf4df+0x1175d+-0x1*-0x1d1a8));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0xc5ab(_0x34e26f,_0x5dcd15){const _0x1079ae=_0xaf5a();return _0xc5ab=function(_0x18a875,_0x3bd670){_0x18a875=_0x18a875-(-0x183b+-0x15a1+0x1*0x2f0c);let _0x2b2327=_0x1079ae[_0x18a875];return _0x2b2327;},_0xc5ab(_0x34e26f,_0x5dcd15);}import*as _0x4824c8 from'../utils/groups.js';import{getDefault,getConnection}from'../utils/connection.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getConfig}from'../utils/config.js';export const name='status_bro'+_0x22a7a9(0x1a0)+'k';export const version='3.1.0-grou'+_0x22a7a9(0x1b0);export const priority=0x4*0x27d+-0x3bb+0x5bc*-0x1;export const commands=[_0x22a7a9(0x219)];function _0xaf5a(){const _0x4ff88b=['d)\x20DO\x20UPDA','has','AULT_WARN','N\x20CONFLICT',':*\x20{remain','lts.','NULL,\x20user','sage\x20for\x20','ARY\x20KEY,\x20e','ed,\x20update','d,\x20user_ji','DEFAULT_MA','floor','caption','Dedupe\x20TTL','\x20set\x20to\x20','run','luded.upda','ARY\x20KEY,\x20w','[sbl]\x20dele','\x20end.','ms.','warn_messa','RNINGS:*\x20{','OM\x20','imageMessa','ated_at)\x20V',',\x20warn_mes','RN_MESSAGE','t_jid\x20=\x20?\x20','\x20(chat_jid','max_warns}','maxwarns','ge\x20for\x20','now','adcast_set','sock','max_warns,','=excluded.','gp:','and\x20will\x20b','\x20warnings\x20','ding\x20with\x20',',\x20warn_cou','ADCAST','‚ùå\x20DISABLED','DEDUPE_TTL','ialized.\x20M','indexOf','STATUS_BRO','ted_at;','xtMessage','er\x20to\x20rese','ning\x20messa','ck\x20for\x20','d_at\x20=\x20exc','352345yYAFcF','CT(chat_ji','(?,\x20?,\x20?)\x20','extendedTe','clear','exec','isCommand','MAX_WARN','string','reTables\x20f','bled\x20FROM\x20','rew\x20an\x20err','[sbl]\x20fail','AULT_MAX_W','x_warns\x20IN','_MS','Tüö®*\x0a\x0aUser\x20','CREATE\x20TAB','{max_warns',',\x20enabled,','includes','\x5cs*','3608JhYBnQ','‚ÑπÔ∏è\x20Max\x20warn','327537zZWcWe','[sbl]\x20kick','remove','Posting\x20st','file\x20defau','s\x20for\x20','endsWith','status_bro','ssage','sbl','or\x20JID:\x20`','remoteJid','PRIMARY\x20KE','t)\x20VALUES\x20','isArray','slice','\x20{reason}','\x20reset\x20for','ON\x20CONFLIC','onfig()\x20th','ailed','r}\x0a*MAX\x20WA','\x20is\x20','EGER);','\x20SET\x20warn_','Y\x20(chat_ji','ate','map','‚úÖ\x20Status\x20l','l`\x20command','age','NOT\x20NULL,\x20','\x20connectio','{reason}','lt\x20connect','age\x20for\x20','resetwarns','fromMe','arn_count;','‚úÖ\x20Max\x20warn','adcast','warn_count','.updated_a','text','e\x20TEXT,\x20ma','AND\x20user_j','ARN','-Specific\x20','\x20TEXT\x20PRIM','nabled\x20INT','\x20from\x20','warnmsg','jid','message','SELECT\x20ena','casts.','get','?,\x20?,\x20?)\x20O','o\x20any\x20grou','EXISTS\x20','(gp:|gp)?\x5c','\x20via\x20`gp\x20<','1268120mTcciz','ock\x20**ENAB','groupParti','trim','atus\x20broad','_jid\x20TEXT\x20','function','warns,\x20upd','psert','\x20FROM\x20','excluded.w','tings','findIndex','[sbl]\x20warn','6eyerUg','n_count\x20FR','@g.us','*‚ö†Ô∏èWARN\x20MES','ed\x20','\x20DO\x20UPDATE','sendMessag','vide\x20a\x20war','e\x20removed.','UPE_TTL_MS','alias>`\x20or','\x0a*REASON:*','AULT_REASO','57082wavfce','(Opt-In).\x20','787704fzrIVf','or,\x20procee','participan','ax\x20warning','status@bro','Please\x20pro','cipantsUpd','758340InOzRb','LED**\x20for\x20','\x20INTEGER\x20D','ode:\x20Group','groupStatu','\x0a*REMAININ','‚úÖ\x20ENABLED','t_jid\x20=\x20?','TE\x20SET\x20war','[sbl]\x20Fail','‚úÖ\x20Warn\x20mes','ing_warns}','\x20has\x20reach','toLowerCas',':*\x0a','\x20ON\x20CONFLI','‚úÖ\x20Warnings','set','quotedMess','In\x20PM,\x20`sb','SER:*\x20{use','split','\x20in\x20','s\x20require\x20','d));','Unknown\x20gr','X_WARN','ntion\x20a\x20us','replace','mentionedJ','SELECT\x20war','max_warns','from','\x20WHERE\x20cha','DEFAULT_RE','ion(s)\x20cou','find','EFAULT\x200,\x20','length','ADCAST_DEF','messages.u','n_count\x20=\x20','LE\x20IF\x20NOT\x20','adcast_loc','t\x20warnings','{remaining','[sbl]\x20ensu','show','\x20updated.\x0a','off','led\x20=\x20excl','mmand\x20to\x20t','Your\x20defau','\x20mentioned','Invalid\x20nu','n_settings','‚ùå\x20Status\x20l','mber\x20for\x20m','No\x20default','p-only','s\x20in\x20','DEFAULT_WA','enabled','protocolMe','resolved\x20t','INSERT\x20INT','ASON','uded.enabl','ps.','key','contextInf','n_message,','_warns}','\x20notice\x20to','\x20TEXT\x20NOT\x20'];_0xaf5a=function(){return _0x4ff88b;};return _0xaf5a();}export const configKeys=[_0x22a7a9(0x1f1)+_0x22a7a9(0x19c)+_0x22a7a9(0x1c2),_0x22a7a9(0x1f1)+_0x22a7a9(0x19c)+_0x22a7a9(0x205)+_0x22a7a9(0x141),_0x22a7a9(0x1f1)+_0x22a7a9(0x19c)+_0x22a7a9(0x16b)+'N',_0x22a7a9(0x1f1)+_0x22a7a9(0x1ec)];const FALLBACK_DEFAULTS={'DEDUPE_TTL_MS':(0x449+-0xc8b+0x860*0x1)*(-0x1a82+-0x20a6+0x3f10),'DEFAULT_WARN_MESSAGE':_0x22a7a9(0x162)+'SAGE‚ö†Ô∏è*\x0a\x0a*U'+_0x22a7a9(0x189)+_0x22a7a9(0x225)+_0x22a7a9(0x1d7)+_0x22a7a9(0x1df)+_0x22a7a9(0x17a)+'G\x20WARNINGS'+_0x22a7a9(0x1c4)+_0x22a7a9(0x180)+_0x22a7a9(0x16a)+_0x22a7a9(0x220),'DEFAULT_MAX_WARN':0x3,'DEFAULT_REASON':_0x22a7a9(0x213)+_0x22a7a9(0x155)+_0x22a7a9(0x14a)};let CONFIG={};try{CONFIG=typeof getConfig===_0x22a7a9(0x157)?getConfig()||{}:{};}catch(_0x326029){warn('[sbl]\x20getC'+_0x22a7a9(0x223)+_0x22a7a9(0x203)+_0x22a7a9(0x16f)+_0x22a7a9(0x1ea)+_0x22a7a9(0x214)+_0x22a7a9(0x1c5)),CONFIG={};}const DEFAULTS={'DEDUPE_TTL_MS':Number(CONFIG?.[_0x22a7a9(0x1f1)+'ADCAST']?.['DEDUPE_TTL'+_0x22a7a9(0x207)]??CONFIG['STATUS_BRO'+'ADCAST_DED'+_0x22a7a9(0x168)]??FALLBACK_DEFAULTS[_0x22a7a9(0x1ee)+_0x22a7a9(0x207)])||FALLBACK_DEFAULTS[_0x22a7a9(0x1ee)+'_MS'],'DEFAULT_WARN_MESSAGE':typeof CONFIG['STATUS_BRO'+'ADCAST_DEF'+'AULT_WARN']===_0x22a7a9(0x200)&&CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x19c)+_0x22a7a9(0x1c2)]['length']?CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x19c)+_0x22a7a9(0x1c2)]:typeof CONFIG?.[_0x22a7a9(0x1f1)+_0x22a7a9(0x1ec)]?.[_0x22a7a9(0x1b2)+'RN']===_0x22a7a9(0x200)&&CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x1ec)][_0x22a7a9(0x1b2)+'RN'][_0x22a7a9(0x19b)]?CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x1ec)]['DEFAULT_WA'+'RN']:FALLBACK_DEFAULTS[_0x22a7a9(0x1b2)+_0x22a7a9(0x1dc)],'DEFAULT_MAX_WARN':Number(CONFIG[_0x22a7a9(0x1f1)+'ADCAST_DEF'+_0x22a7a9(0x205)+_0x22a7a9(0x141)]??CONFIG?.[_0x22a7a9(0x1f1)+'ADCAST']?.[_0x22a7a9(0x1ff)]??FALLBACK_DEFAULTS[_0x22a7a9(0x1cb)+_0x22a7a9(0x18f)])||FALLBACK_DEFAULTS['DEFAULT_MA'+_0x22a7a9(0x18f)],'DEFAULT_REASON':typeof CONFIG['STATUS_BRO'+_0x22a7a9(0x19c)+_0x22a7a9(0x16b)+'N']===_0x22a7a9(0x200)&&CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x19c)+_0x22a7a9(0x16b)+'N'][_0x22a7a9(0x19b)]?CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x19c)+_0x22a7a9(0x16b)+'N']:typeof CONFIG?.[_0x22a7a9(0x1f1)+_0x22a7a9(0x1ec)]?.[_0x22a7a9(0x197)+'ASON']==='string'&&CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x1ec)][_0x22a7a9(0x197)+_0x22a7a9(0x1b7)][_0x22a7a9(0x19b)]?CONFIG[_0x22a7a9(0x1f1)+_0x22a7a9(0x1ec)][_0x22a7a9(0x197)+_0x22a7a9(0x1b7)]:FALLBACK_DEFAULTS[_0x22a7a9(0x197)+_0x22a7a9(0x1b7)]};let botRef=null;const processedMessageKeys=new Map(),sleep=_0x290ee6=>new Promise(_0x92c3ef=>setTimeout(_0x92c3ef,_0x290ee6));function isStatusBroadcastMention(_0x5ab99f){const _0x35c739=_0x22a7a9;if(!_0x5ab99f||!_0x5ab99f[_0x35c739(0x148)])return![];const _0xcf3263=_0x5ab99f[_0x35c739(0x148)];return _0xcf3263[_0x35c739(0x179)+'sMentionMe'+_0x35c739(0x218)]||_0xcf3263['protocolMe'+_0x35c739(0x218)]?.['key']?.['remoteJid']?.[_0x35c739(0x182)+'e']()==='status@bro'+_0x35c739(0x13b)||_0xcf3263['messageCon'+'textInfo']?.[_0x35c739(0x187)+_0x35c739(0x131)]?.[_0x35c739(0x1b4)+_0x35c739(0x218)]?.[_0x35c739(0x1ba)]?.[_0x35c739(0x21b)]?.[_0x35c739(0x182)+'e']()===_0x35c739(0x172)+'adcast';}const TABLE_SETTINGS=_0x22a7a9(0x217)+_0x22a7a9(0x1e3)+_0x22a7a9(0x15c),TABLE_WARN_USERS=_0x22a7a9(0x217)+'adcast_war'+'ns',TABLE_WARN_SETTINGS=_0x22a7a9(0x217)+'adcast_war'+_0x22a7a9(0x1ac);async function ensureTables(){const _0x68a6e3=_0x22a7a9;try{await db[_0x68a6e3(0x1fd)](_0x68a6e3(0x209)+_0x68a6e3(0x19f)+_0x68a6e3(0x14e)+TABLE_SETTINGS+('\x20(chat_jid'+_0x68a6e3(0x143)+_0x68a6e3(0x1c8)+_0x68a6e3(0x144)+'EGER,\x20upda'+'ted_at\x20INT'+_0x68a6e3(0x227))),await db[_0x68a6e3(0x1fd)](_0x68a6e3(0x209)+'LE\x20IF\x20NOT\x20'+_0x68a6e3(0x14e)+TABLE_WARN_USERS+('\x20(chat_jid'+_0x68a6e3(0x1bf)+_0x68a6e3(0x1c6)+_0x68a6e3(0x156)+_0x68a6e3(0x132)+'warn_count'+_0x68a6e3(0x177)+_0x68a6e3(0x19a)+_0x68a6e3(0x21c)+_0x68a6e3(0x229)+'d,\x20user_ji'+_0x68a6e3(0x18d))),await db['exec']('CREATE\x20TAB'+_0x68a6e3(0x19f)+'EXISTS\x20'+TABLE_WARN_SETTINGS+(_0x68a6e3(0x1de)+'\x20TEXT\x20PRIM'+_0x68a6e3(0x1d2)+'arn_messag'+_0x68a6e3(0x13f)+_0x68a6e3(0x206)+'TEGER,\x20upd'+'ated_at\x20IN'+'TEGER);'));}catch(_0x199b2a){error(_0x199b2a,_0x68a6e3(0x1a3)+_0x68a6e3(0x201)+_0x68a6e3(0x224));throw _0x199b2a;}}async function getChatEnabled(_0x21816a){const _0xf75f5f=_0x22a7a9,_0x246cf1=await db[_0xf75f5f(0x14b)](_0xf75f5f(0x149)+_0xf75f5f(0x202)+TABLE_SETTINGS+(_0xf75f5f(0x196)+_0xf75f5f(0x17c)),[_0x21816a]);return _0x246cf1?Number(_0x246cf1[_0xf75f5f(0x1b3)])===-0x246e+0x995+0x1ada:![];}async function setChatEnabled(_0x4442bb,_0x38e9aa){const _0x430d2e=_0x22a7a9;await db[_0x430d2e(0x1d0)](_0x430d2e(0x1b6)+'O\x20'+TABLE_SETTINGS+(_0x430d2e(0x1de)+_0x430d2e(0x20b)+'\x20updated_a'+_0x430d2e(0x21d)+_0x430d2e(0x1fa)+_0x430d2e(0x222)+'T(chat_jid'+')\x20DO\x20UPDAT'+'E\x20SET\x20enab'+_0x430d2e(0x1a7)+_0x430d2e(0x1b8)+_0x430d2e(0x1c9)+_0x430d2e(0x1f7)+_0x430d2e(0x1d1)+_0x430d2e(0x1f2)),[_0x4442bb,_0x38e9aa?0xc7*-0x1d+-0x387*0x9+0x364b:-0x1d9a+-0x6*0x2e1+0x5dc*0x8,Math[_0x430d2e(0x1cc)](Date[_0x430d2e(0x1e2)]()/(0x8fe+-0xf91+0xa7b))]);}async function getWarnSettings(_0x59262a){const _0x61c349=_0x22a7a9,_0xee7e93=await db[_0x61c349(0x14b)](_0x61c349(0x193)+_0x61c349(0x1bc)+'\x20max_warns'+_0x61c349(0x15a)+TABLE_WARN_SETTINGS+(_0x61c349(0x196)+'t_jid\x20=\x20?'),[_0x59262a]),_0x33c622=DEFAULTS[_0x61c349(0x1b2)+_0x61c349(0x1dc)],_0x418c17=DEFAULTS[_0x61c349(0x1cb)+'X_WARN'];if(!_0xee7e93)return{'warn_message':_0x33c622,'max_warns':_0x418c17};return{'warn_message':_0xee7e93['warn_messa'+'ge']&&_0xee7e93['warn_messa'+'ge'][_0x61c349(0x19b)]?_0xee7e93['warn_messa'+'ge']:_0x33c622,'max_warns':Number['isFinite'](Number(_0xee7e93[_0x61c349(0x194)]))&&Number(_0xee7e93[_0x61c349(0x194)])>-0xf56*-0x2+-0x955*0x1+-0x71d*0x3?Number(_0xee7e93['max_warns']):_0x418c17};}async function setWarnSettings(_0x8d1e59,_0x1d0caf){const _0x1babdc=_0x22a7a9,_0x4b4375=await getWarnSettings(_0x8d1e59),_0x38b0b1=_0x1babdc(0x1d6)+'ge'in _0x1d0caf?_0x1d0caf[_0x1babdc(0x1d6)+'ge']:_0x4b4375['warn_messa'+'ge'],_0x34ed76=_0x1babdc(0x194)in _0x1d0caf?_0x1d0caf['max_warns']:_0x4b4375['max_warns'];await db['run']('INSERT\x20INT'+'O\x20'+TABLE_WARN_SETTINGS+(_0x1babdc(0x1de)+_0x1babdc(0x1db)+'sage,\x20max_'+_0x1babdc(0x158)+_0x1babdc(0x1da)+'ALUES\x20(?,\x20'+_0x1babdc(0x14c)+_0x1babdc(0x1c3)+'(chat_jid)'+_0x1babdc(0x164)+_0x1babdc(0x228)+'message=ex'+'cluded.war'+_0x1babdc(0x1bc)+'\x20max_warns'+_0x1babdc(0x1e6)+_0x1babdc(0x1e5)+'\x20updated_a'+'t=excluded'+_0x1babdc(0x13d)+'t;'),[_0x8d1e59,_0x38b0b1,_0x34ed76,Math[_0x1babdc(0x1cc)](Date[_0x1babdc(0x1e2)]()/(0x14e9*0x1+-0x1744+0x643*0x1))]);}async function getWarnCount(_0x1cdbd0,_0x4fc8b7){const _0x4b31bf=_0x22a7a9,_0xd4b75=await db['get']('SELECT\x20war'+_0x4b31bf(0x160)+_0x4b31bf(0x1d8)+TABLE_WARN_USERS+(_0x4b31bf(0x196)+_0x4b31bf(0x1dd)+_0x4b31bf(0x140)+'id\x20=\x20?'),[_0x1cdbd0,_0x4fc8b7]);return _0xd4b75?Number(_0xd4b75[_0x4b31bf(0x13c)]||0x1c82*-0x1+0x15*-0x14f+0x1*0x37fd):-0x161*0x2+-0x1daf*-0x1+0x71*-0x3d;}async function setWarnCount(_0x3f3277,_0x421732,_0x34e911){const _0x459d27=_0x22a7a9;await db[_0x459d27(0x1d0)](_0x459d27(0x1b6)+'O\x20'+TABLE_WARN_USERS+(_0x459d27(0x1de)+',\x20user_jid'+_0x459d27(0x1eb)+'nt)\x20VALUES'+'\x20(?,\x20?,\x20?)'+_0x459d27(0x184)+_0x459d27(0x1f9)+_0x459d27(0x1ca)+_0x459d27(0x1c0)+_0x459d27(0x17d)+_0x459d27(0x19e)+_0x459d27(0x15b)+_0x459d27(0x139)),[_0x3f3277,_0x421732,Number(_0x34e911||-0xb29+0xf*-0x52+0x3d*0x43)]);}async function sendNotice(_0x35fe32,_0x244b70,_0x510b11=[]){const _0x25eaa9=_0x22a7a9;if(!_0x35fe32||!botRef)return;try{const _0x3151ff=botRef[_0x25eaa9(0x1e4)]?.['sendMessag'+'e']||botRef[_0x25eaa9(0x165)+'e'];await _0x3151ff(_0x35fe32,{'text':_0x244b70,'mentions':Array[_0x25eaa9(0x21e)](_0x510b11)?_0x510b11:[]});}catch(_0x244e2b){warn(_0x25eaa9(0x204)+'ed\x20to\x20send'+_0x25eaa9(0x1be)+'\x20'+_0x35fe32+':\x20'+(_0x244e2b?.[_0x25eaa9(0x148)]||_0x244e2b));}}async function kickUser(_0x4378d9,_0x1f5b13){const _0xe6820f=_0x22a7a9;try{const _0x44d1f8=botRef?.[_0xe6820f(0x1e4)]||botRef;if(_0x44d1f8?.[_0xe6820f(0x153)+_0xe6820f(0x174)+'ate'])return await _0x44d1f8[_0xe6820f(0x153)+_0xe6820f(0x174)+_0xe6820f(0x22a)](_0x4378d9,[_0x1f5b13],_0xe6820f(0x212)),info(_0xe6820f(0x211)+'ed\x20'+_0x1f5b13+_0xe6820f(0x145)+_0x4378d9),!![];return![];}catch(_0x3fb8c8){return error(_0x3fb8c8,_0xe6820f(0x17e)+'ed\x20to\x20kick'+'\x20'+_0x1f5b13),![];}}async function issueAutoWarningFor(_0x564728){const _0x42f4cb=_0x22a7a9,_0x174f0c=_0x564728[_0x42f4cb(0x1ba)][_0x42f4cb(0x21b)],_0x213e35=_0x564728[_0x42f4cb(0x1ba)]['participan'+'t']||_0x564728['key'][_0x42f4cb(0x21b)];if(await isadmin(botRef,{'key':_0x564728['key'],'message':_0x564728[_0x42f4cb(0x148)]}))return;const {warn_message:_0x3dbeac,max_warns:_0x3f698f}=await getWarnSettings(_0x174f0c),_0x399726=await getWarnCount(_0x174f0c,_0x213e35),_0x475330=_0x399726+(0x1b8d+-0xad3+-0x10b9*0x1);await setWarnCount(_0x174f0c,_0x213e35,_0x475330);if(_0x475330>=_0x3f698f){await sendNotice(_0x174f0c,'*üö®BAN\x20ALER'+_0x42f4cb(0x208)+'@'+_0x213e35[_0x42f4cb(0x18a)]('@')[-0x347*0x4+0x2*-0x28+0xd6c]+(_0x42f4cb(0x181)+_0x42f4cb(0x163))+_0x3f698f+(_0x42f4cb(0x1e9)+_0x42f4cb(0x1e8)+_0x42f4cb(0x167)),[_0x213e35]),await kickUser(_0x174f0c,_0x213e35),await setWarnCount(_0x174f0c,_0x213e35,0x1994+0x1a3c+0xcf4*-0x4);return;}const _0x1ab64a=_0x3f698f-_0x475330;let _0x319bd8=String(_0x3dbeac)['replace']('{user}','@'+_0x213e35[_0x42f4cb(0x18a)]('@')[0x1aea+0x4*-0x2a+0xd21*-0x2])[_0x42f4cb(0x191)](_0x42f4cb(0x20a)+'}',String(_0x3f698f))[_0x42f4cb(0x191)](_0x42f4cb(0x1a2)+_0x42f4cb(0x1bd),String(_0x1ab64a))[_0x42f4cb(0x191)](_0x42f4cb(0x134),DEFAULTS[_0x42f4cb(0x197)+_0x42f4cb(0x1b7)]);await sendNotice(_0x174f0c,_0x319bd8,[_0x213e35]),info(_0x42f4cb(0x15e)+_0x42f4cb(0x163)+_0x213e35+_0x42f4cb(0x18b)+_0x174f0c+'\x20('+_0x475330+'/'+_0x3f698f+')');}async function deleteWithRetryMsg(_0x38fc76){const _0x2a9077=_0x22a7a9;for(let _0x2b3522=0xfb+0x244d*0x1+-0x8*0x4a9;_0x2b3522<-0x283*-0x9+-0x1f99+0x8*0x120;_0x2b3522++){try{const _0x28ad34=botRef[_0x2a9077(0x1e4)]?.[_0x2a9077(0x165)+'e']||botRef[_0x2a9077(0x165)+'e'];return await _0x28ad34(_0x38fc76[_0x2a9077(0x1ba)][_0x2a9077(0x21b)],{'delete':_0x38fc76[_0x2a9077(0x1ba)]}),!![];}catch(_0x35f650){if(_0x2b3522===-0x14ab+0x1*0x245d+0xfb2*-0x1)await sleep(0x6fd*-0x1+0x19c6+-0x11cf);else warn(_0x2a9077(0x1d3)+'te\x20failed:'+'\x20'+(_0x35f650?.['message']||_0x35f650));}}return![];}async function rawMessagesUpsertHandler({messages:_0x6c9661}){const _0x897f16=_0x22a7a9;for(const _0x15f369 of _0x6c9661){const _0x3baa99=_0x15f369[_0x897f16(0x1ba)]?.['remoteJid'];if(!_0x15f369[_0x897f16(0x148)]||_0x15f369['key'][_0x897f16(0x138)]||!_0x3baa99||!_0x3baa99[_0x897f16(0x216)](_0x897f16(0x161)))continue;const _0x5f3727=_0x3baa99+'::'+_0x15f369['key']['id'];if(processedMessageKeys['has'](_0x5f3727))continue;processedMessageKeys[_0x897f16(0x186)](_0x5f3727,setTimeout(()=>processedMessageKeys['delete'](_0x5f3727),DEFAULTS[_0x897f16(0x1ee)+_0x897f16(0x207)]));const _0x309e41=await getChatEnabled(_0x3baa99);if(!_0x309e41||await isadmin(botRef,{'key':_0x15f369['key'],'message':_0x15f369[_0x897f16(0x148)]}))continue;isStatusBroadcastMention(_0x15f369)&&(await deleteWithRetryMsg(_0x15f369)&&await issueAutoWarningFor(_0x15f369));}}async function findSudoerJid(_0x5c9856){const _0x5227c9=_0x22a7a9,{findings:_0x913471}=userJidFromCtx(_0x5c9856),_0x31558b=await listSudo(),_0xdbb264=new Set(_0x31558b[_0x5227c9(0x22b)](String));for(const _0x15042c of _0x913471){if(_0x15042c?.[_0x5227c9(0x147)]){const _0x1e8a50=normalizeToJid(_0x15042c[_0x5227c9(0x147)]);if(_0x1e8a50&&_0xdbb264[_0x5227c9(0x1c1)](_0x1e8a50))return _0x1e8a50;if(_0xdbb264[_0x5227c9(0x1c1)](_0x15042c[_0x5227c9(0x147)]))return _0x15042c['jid'];}}return null;}async function getMessageText(_0x2a6166){const _0xb79ee1=_0x22a7a9;if(!_0x2a6166||!_0x2a6166[_0xb79ee1(0x148)])return'';const _0x57f218=_0x2a6166[_0xb79ee1(0x148)];return _0x57f218['conversati'+'on']||_0x57f218[_0xb79ee1(0x1fb)+'xtMessage']?.[_0xb79ee1(0x13e)]||_0x57f218[_0xb79ee1(0x1d9)+'ge']?.[_0xb79ee1(0x1cd)]||_0x57f218['videoMessa'+'ge']?.[_0xb79ee1(0x1cd)]||'';}function parseGpFromArgs(_0x53d8f9){const _0x33c3d8=_0x22a7a9,_0x1fde0f=_0x53d8f9[_0x33c3d8(0x15d)](_0x5c9704=>_0x5c9704[_0x33c3d8(0x182)+'e']()===_0x33c3d8(0x1e7)||_0x5c9704[_0x33c3d8(0x182)+'e']()==='gp');if(_0x1fde0f!==-(0x3*-0x5b5+-0x1a97+0x2bb7)&&_0x53d8f9[_0x1fde0f+(-0x54b+-0x1dc2+0x2*0x1187)])return _0x53d8f9[_0x1fde0f+(0x6a*-0x2b+-0x1d6*0x2+0x157b)];const _0x23236b=_0x53d8f9['find'](_0x5cc9f8=>_0x5cc9f8[_0x33c3d8(0x20c)]('@g.us'));if(_0x23236b)return _0x23236b;if(_0x53d8f9[_0x33c3d8(0x19b)]>-0x5*0x761+-0x6*-0x219+0x184f){const _0x56771f=_0x53d8f9[_0x53d8f9[_0x33c3d8(0x19b)]-(-0x83f*-0x1+-0xd*-0x41+0x24f*-0x5)];if(!['on',_0x33c3d8(0x1a6),_0x33c3d8(0x1a4),_0x33c3d8(0x186),_0x33c3d8(0x137),_0x33c3d8(0x146),'maxwarns'][_0x33c3d8(0x20c)](_0x56771f['toLowerCas'+'e']()))return _0x56771f;}return null;}export async function onMessage(_0x5c9424){const _0x5542de=_0x22a7a9,_0x1b03c7=(_0x5c9424[_0x5542de(0x13e)]||await getMessageText(_0x5c9424))['trim']();if(!_0x5c9424[_0x5542de(0x1fe)]||!_0x1b03c7)return;const [_0x3590d7,..._0x489d75]=_0x1b03c7[_0x5542de(0x18a)](/\s+/),_0x1b947a=_0x3590d7[_0x5542de(0x182)+'e']()['replace']('/','');if(!commands[_0x5542de(0x20c)](_0x1b947a))return;const _0x2c6539=_0x5c9424[_0x5542de(0x1ba)][_0x5542de(0x21b)][_0x5542de(0x216)]('@g.us'),_0x2892da=_0x5c9424[_0x5542de(0x1ba)][_0x5542de(0x138)],_0x8697dc=_0x2892da?!![]:await isSudo(botRef,_0x5c9424),_0x1ae442=_0x2c6539?await isadmin(botRef,_0x5c9424):![];if(!_0x2c6539&&!_0x8697dc)return;if(_0x2c6539&&!_0x1ae442)return;let _0x2605ba,_0x27100b=[];if(_0x2c6539){_0x2605ba=_0x5c9424[_0x5542de(0x1ba)][_0x5542de(0x21b)];const _0x416fda=(_0x5c9424['key'][_0x5542de(0x170)+'t']||_0x5c9424['key'][_0x5542de(0x195)])[_0x5542de(0x18a)]('@')[0x14c7+-0x1*0x1d2f+-0x8*-0x10d],_0x15259f=await getDefault(_0x416fda);if(!_0x15259f||_0x15259f[_0x5542de(0x19b)]===0x55b+0x885*0x2+0x777*-0x3)_0x27100b=[_0x5c9424[_0x5542de(0x1ba)][_0x5542de(0x21b)]],await sendNotice(_0x2605ba,_0x5542de(0x1af)+_0x5542de(0x133)+'n\x20found.\x20A'+'pplying\x20co'+_0x5542de(0x1a8)+'he\x20current'+'\x20group\x20onl'+'y.');else{for(const _0x21138f of Array['isArray'](_0x15259f)?_0x15259f:[_0x15259f]){const _0x4aafef=await getConnection(_0x21138f);if(_0x4aafef)_0x27100b['push'](...Array['isArray'](_0x4aafef)?_0x4aafef:[_0x4aafef]);}_0x27100b=[...new Set(_0x27100b)];if(_0x27100b[_0x5542de(0x19b)]===0xd31+0x23ba+-0x30eb)return sendNotice(_0x2605ba,_0x5542de(0x1a9)+_0x5542de(0x135)+_0x5542de(0x198)+'ld\x20not\x20be\x20'+_0x5542de(0x1b5)+_0x5542de(0x14d)+_0x5542de(0x1b9));}}else{_0x2605ba=_0x2892da?getBotJid():await findSudoerJid(_0x5c9424);if(!_0x2605ba)return;const _0x18b89c=parseGpFromArgs(_0x489d75);if(!_0x18b89c)return sendNotice(_0x2605ba,_0x5542de(0x188)+_0x5542de(0x130)+_0x5542de(0x18c)+'a\x20group\x20al'+'ias\x20or\x20JID'+_0x5542de(0x150)+_0x5542de(0x169)+'\x20by\x20adding'+'\x20it\x20to\x20the'+_0x5542de(0x1d4));const _0x524c98=await _0x4824c8['resolveNam'+'e'](_0x18b89c)||(_0x18b89c[_0x5542de(0x20c)](_0x5542de(0x161))?_0x18b89c:null);if(!_0x524c98)return sendNotice(_0x2605ba,_0x5542de(0x18e)+'oup\x20alias\x20'+_0x5542de(0x21a)+_0x18b89c+'`');_0x27100b=[_0x524c98];}const _0x2a3321=(_0x489d75[_0x5542de(0x199)](_0x3d165b=>['on',_0x5542de(0x1a6),'show'][_0x5542de(0x20c)](_0x3d165b['toLowerCas'+'e']()))||_0x5542de(0x1a4))['toLowerCas'+'e'](),_0x4cb597=_0x489d75[_0x5542de(0x199)](_0x3d5eef=>[_0x5542de(0x146),_0x5542de(0x1e0),'resetwarns'][_0x5542de(0x20c)](_0x3d5eef[_0x5542de(0x182)+'e']()));let _0x12da96='';for(const _0x3ce61c of _0x27100b){if(_0x4cb597){if(_0x4cb597==='warnmsg'){if(_0x489d75['includes'](_0x5542de(0x186))){const _0x4ee0dd=_0x1b03c7[_0x5542de(0x182)+'e']()[_0x5542de(0x1f0)](_0x5542de(0x186))+(0x6aa+0xeff*0x1+0x3*-0x737);let _0x4ace71=_0x1b03c7[_0x5542de(0x21f)](_0x4ee0dd)[_0x5542de(0x154)]();const _0x379b6b=parseGpFromArgs(_0x489d75);if(_0x379b6b)_0x4ace71=_0x4ace71['replace'](new RegExp(_0x5542de(0x14f)+'s*'+_0x379b6b+_0x5542de(0x20d),'i'),'')['trim']();if(!_0x4ace71){_0x12da96+=_0x5542de(0x173)+_0x5542de(0x166)+_0x5542de(0x1f5)+_0x5542de(0x1e1)+_0x3ce61c+'.\x0a';continue;}await setWarnSettings(_0x3ce61c,{'warn_message':_0x4ace71}),_0x12da96+=_0x5542de(0x17f)+_0x5542de(0x1c7)+_0x3ce61c+_0x5542de(0x1a5);}else{const {warn_message:_0x4e9845}=await getWarnSettings(_0x3ce61c);_0x12da96+='*Warn\x20Mess'+_0x5542de(0x136)+_0x3ce61c+_0x5542de(0x183)+_0x4e9845+'\x0a\x0a';}}else{if(_0x4cb597===_0x5542de(0x1e0)){if(_0x489d75[_0x5542de(0x20c)](_0x5542de(0x186))){const _0x1f5278=parseInt(_0x489d75[_0x489d75[_0x5542de(0x1f0)]('set')+(0xe88+-0xbdd*0x1+-0x2*0x155)],0x1de3+0x25dc+-0x1*0x43b5);if(isNaN(_0x1f5278)||_0x1f5278<-0x1068+0x1f0*-0x4+0x1829){_0x12da96+=_0x5542de(0x1ab)+_0x5542de(0x1ae)+_0x5542de(0x171)+_0x5542de(0x1b1)+_0x3ce61c+'.\x0a';continue;}await setWarnSettings(_0x3ce61c,{'max_warns':_0x1f5278}),_0x12da96+=_0x5542de(0x13a)+_0x5542de(0x215)+_0x3ce61c+_0x5542de(0x1cf)+_0x1f5278+'.\x0a';}else{const {max_warns:_0x3124a9}=await getWarnSettings(_0x3ce61c);_0x12da96+=_0x5542de(0x20f)+'s\x20for\x20'+_0x3ce61c+_0x5542de(0x226)+_0x3124a9+'.\x0a';}}else{if(_0x4cb597==='resetwarns'){const _0x4d19ad=_0x5c9424[_0x5542de(0x148)]?.[_0x5542de(0x1fb)+_0x5542de(0x1f3)]?.[_0x5542de(0x1bb)+'o']?.[_0x5542de(0x192)+'id']||[];if(!_0x4d19ad[_0x5542de(0x19b)]){_0x12da96+='Please\x20@me'+_0x5542de(0x190)+_0x5542de(0x1f4)+_0x5542de(0x1a1)+'\x20for\x20in\x20'+_0x3ce61c+'.\x0a';continue;}for(const _0x15a85d of _0x4d19ad)await setWarnCount(_0x3ce61c,_0x15a85d,-0x233+0x5b*0x22+-0x9e3);_0x12da96+=_0x5542de(0x185)+_0x5542de(0x221)+_0x5542de(0x1aa)+'\x20user(s)\x20i'+'n\x20'+_0x3ce61c+'.\x0a';}}}}else{if(_0x2a3321==='on')await setChatEnabled(_0x3ce61c,!![]),_0x12da96+=_0x5542de(0x22c)+_0x5542de(0x152)+_0x5542de(0x176)+_0x3ce61c+'\x0a';else{if(_0x2a3321===_0x5542de(0x1a6))await setChatEnabled(_0x3ce61c,![]),_0x12da96+=_0x5542de(0x1ad)+'ock\x20**DISA'+'BLED**\x20for'+'\x20'+_0x3ce61c+'\x0a';else{const _0x1a676d=await getChatEnabled(_0x3ce61c);let _0x37052b=_0x1a676d?_0x5542de(0x17b):_0x5542de(0x1ed);_0x12da96+='*Status\x20lo'+_0x5542de(0x1f6)+_0x3ce61c+_0x5542de(0x183)+_0x37052b+'\x0a\x0a';}}}}await sendNotice(_0x2605ba,_0x12da96[_0x5542de(0x154)]());}export async function initialize(_0x2f39ed){const _0x4ab0ac=_0x22a7a9;botRef=_0x2f39ed,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x4ab0ac(0x19d)+_0x4ab0ac(0x159),'handler':rawMessagesUpsertHandler,'moduleName':name}),info('[sbl]\x20init'+_0x4ab0ac(0x1ef)+_0x4ab0ac(0x178)+_0x4ab0ac(0x142)+_0x4ab0ac(0x16d)+_0x4ab0ac(0x1ce)+':\x20'+DEFAULTS[_0x4ab0ac(0x1ee)+_0x4ab0ac(0x207)]+_0x4ab0ac(0x1d5));}export async function cleanup(){const _0x47d192=_0x22a7a9;stopManagedListener(name,_0x47d192(0x19d)+_0x47d192(0x159)),processedMessageKeys['forEach'](_0x57d68a=>clearTimeout(_0x57d68a)),processedMessageKeys[_0x47d192(0x1fc)](),botRef=null,info('[sbl]\x20clea'+'ned\x20up');}