const _0x2f12d2=_0x1718;(function(_0x1f66a2,_0x14d496){const _0x41cc41=_0x1718,_0x2e8587=_0x1f66a2();while(!![]){try{const _0x5a7325=-parseInt(_0x41cc41(0x80))/(0x1749+0xb8d+-0x22d5)+-parseInt(_0x41cc41(0xfa))/(0xa67*0x2+-0x3*0xb3f+0xcf1)*(-parseInt(_0x41cc41(0x114))/(0x2*0x6a+-0x11*0x100+0x565*0x3))+-parseInt(_0x41cc41(0x87))/(0x2522+-0x4*-0x762+0x382*-0x13)+-parseInt(_0x41cc41(0xd7))/(-0x1*-0x1f2d+0x1f0d+0x3e35*-0x1)*(parseInt(_0x41cc41(0x120))/(0x5*0x137+0x167c+-0x1c89))+-parseInt(_0x41cc41(0x145))/(-0xd00+0x1*-0x1208+0x1f0f)+parseInt(_0x41cc41(0xec))/(0x383*-0x5+-0xe4d+-0x1a*-0x13a)+parseInt(_0x41cc41(0xdb))/(0x2*-0x303+-0x5*-0x654+0x25*-0xb1);if(_0x5a7325===_0x14d496)break;else _0x2e8587['push'](_0x2e8587['shift']());}catch(_0x5becab){_0x2e8587['push'](_0x2e8587['shift']());}}}(_0x4eaf,-0x9eb2*0x3+0x1*0xa1f1b+-0x2*-0xaee3));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x2f12d2(0x6a);export const version='1.2.0';export const priority=0x5d2+-0x23c8+0x1dfb;export const configKeys=['FILTERS'];export const commands=[_0x2f12d2(0xe9),'plistfilte'+'r','pdelfilter','pdelfilter'+'s',_0x2f12d2(0xf3)];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0xcff863){const _0x2f1555=_0x2f12d2,_0x4a73ba=Number(_0xcff863);if(!Number[_0x2f1555(0x74)](_0x4a73ba)||isNaN(_0x4a73ba))return 0x164e+-0x251a+0x1*0xecc;if(_0x4a73ba<=-0xd*-0x1aa+0x364+-0xc83*0x2)return 0x1*-0x95b+0xa6*0x3c+-0x1d8d;if(_0x4a73ba>-0x34dd+-0x16f*-0xb+0x5fb0)return-0x4fe*0xd+-0x6b55+-0x3*-0x4cf1;return Math['floor'](_0x4a73ba);}function sleep(_0x5d4426){return new Promise(_0x2fad1c=>setTimeout(_0x2fad1c,_0x5d4426));}async function simulateTypingAndWait(_0xb67b0f,_0x2ff78e,_0xbe216f){const _0x13e3e3=_0x2f12d2;if(!_0xbe216f||_0xbe216f<=-0x1a68+-0x2*-0x1083+-0x69e)return;try{if(_0xb67b0f&&typeof _0xb67b0f[_0x13e3e3(0x110)+_0x13e3e3(0x118)]===_0x13e3e3(0x71))try{await _0xb67b0f['sendPresen'+_0x13e3e3(0x118)](_0x13e3e3(0x13b),_0x2ff78e);}catch(_0x246e84){}}catch(_0x59171c){}try{await sleep(_0xbe216f);}catch(_0x5e70d4){}try{if(_0xb67b0f&&typeof _0xb67b0f[_0x13e3e3(0x110)+_0x13e3e3(0x118)]===_0x13e3e3(0x71))try{await _0xb67b0f['sendPresen'+_0x13e3e3(0x118)](_0x13e3e3(0xc8),_0x2ff78e);}catch(_0x5f2fc7){}}catch(_0x417503){}}function clampConfigTypingMs(){const _0x5d04c6=_0x2f12d2;try{const _0x5eaaa0=getConfig()||{},_0x4f5ad4=_0x5eaaa0[_0x5d04c6(0x15a)]&&typeof _0x5eaaa0['FILTERS']===_0x5d04c6(0xf8)?_0x5eaaa0['FILTERS']:{};return clampTypingMs(_0x4f5ad4['TYPING_SIM'+_0x5d04c6(0xce)]);}catch(_0xec7457){return-0x3bc+-0x79*0x29+0x171d;}}function escapeRegex(_0x328e14){const _0x3eb2bc=_0x2f12d2;return _0x328e14[_0x3eb2bc(0x143)](/[.*+?^${}()|[\]\\]/g,'\x5c$&');}function wildcardToRegexPattern(_0x386439){const _0x337b46=_0x2f12d2,_0x5eac55=_0x386439[_0x337b46(0x10e)]('*')[_0x337b46(0x91)](_0x56c63f=>escapeRegex(_0x56c63f));return'\x5cb'+_0x5eac55['join'](_0x337b46(0x100))+'\x5cb';}function ensureArray(_0x301182){const _0x5c2c67=_0x2f12d2;if(!_0x301182)return[];if(Array[_0x5c2c67(0xca)](_0x301182))return _0x301182;return[String(_0x301182)];}function uniqArray(_0x4541ca){const _0x40134c=_0x2f12d2,_0x27b00d=new Set(),_0x4ba502=[];for(const _0x35cee9 of _0x4541ca||[]){const _0x55082c=String(_0x35cee9||'')[_0x40134c(0x8b)]();if(!_0x55082c)continue;!_0x27b00d[_0x40134c(0xc3)](_0x55082c)&&(_0x27b00d[_0x40134c(0xbf)](_0x55082c),_0x4ba502[_0x40134c(0x10f)](_0x55082c));}return _0x4ba502;}function getMessageText(_0x2ad9e6){const _0x524936=_0x2f12d2;if(!_0x2ad9e6||!_0x2ad9e6['message'])return'';const _0x1e52a8=_0x2ad9e6[_0x524936(0x125)];if(_0x1e52a8['conversati'+'on'])return _0x1e52a8[_0x524936(0x6e)+'on'];if(_0x1e52a8[_0x524936(0xcd)+_0x524936(0xa7)]?.['text'])return _0x1e52a8[_0x524936(0xcd)+_0x524936(0xa7)]['text'];if(_0x1e52a8[_0x524936(0x10d)+'ge']?.[_0x524936(0x11a)])return _0x1e52a8[_0x524936(0x10d)+'ge']['caption'];if(_0x1e52a8[_0x524936(0x107)+'ge']?.[_0x524936(0x11a)])return _0x1e52a8[_0x524936(0x107)+'ge'][_0x524936(0x11a)];if(_0x1e52a8[_0x524936(0x73)+_0x524936(0x109)+'ge']?.['selectedBu'+_0x524936(0x14a)])return _0x1e52a8[_0x524936(0x73)+_0x524936(0x109)+'ge'][_0x524936(0x75)+_0x524936(0x14a)];if(_0x1e52a8['listRespon'+_0x524936(0x8c)]?.[_0x524936(0x6d)+_0x524936(0x113)]?.[_0x524936(0x108)+_0x524936(0xf5)])return _0x1e52a8[_0x524936(0xb2)+'seMessage'][_0x524936(0x6d)+_0x524936(0x113)][_0x524936(0x108)+_0x524936(0xf5)];return'';}async function ensureSchema(){const _0x5e9b17=_0x2f12d2;try{const _0x138e18=await db[_0x5e9b17(0xdd)]('SELECT\x20nam'+_0x5e9b17(0x14b)+_0x5e9b17(0x14e)+_0x5e9b17(0x8d)+_0x5e9b17(0x13d)+_0x5e9b17(0x135)+_0x5e9b17(0x105)+'\x27');if(!_0x138e18){await db[_0x5e9b17(0x81)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20C'+_0x5e9b17(0x9c)+_0x5e9b17(0x72)+'rs\x20(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20id\x20IN'+_0x5e9b17(0xa8)+_0x5e9b17(0x153)+_0x5e9b17(0x7c)+_0x5e9b17(0xd4)+_0x5e9b17(0x90)+_0x5e9b17(0x11b)+'NULL\x20UNIQU'+_0x5e9b17(0x131)+_0x5e9b17(0x101)+_0x5e9b17(0xb6)+_0x5e9b17(0xb8)+'AULT\x20\x27[]\x27,'+_0x5e9b17(0x93)+'\x20rr_index\x20'+_0x5e9b17(0x130)+_0x5e9b17(0xd9)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+_0x5e9b17(0xd8)+'TEXT\x20DEFAU'+_0x5e9b17(0x8e)+'\x20\x20\x20\x20\x20\x20\x20cre'+_0x5e9b17(0x13f)+_0x5e9b17(0xba)+_0x5e9b17(0xb4)+_0x5e9b17(0xbe)+'\x20\x20\x20');try{await db['exec'](_0x5e9b17(0xfd)+_0x5e9b17(0x85)+_0x5e9b17(0x13e)+'_pmfilters'+_0x5e9b17(0xb5)+_0x5e9b17(0x141)+'rs(trigger'+');');}catch(_0x4be937){}info('[pmfilter]'+'\x20created\x20p'+_0x5e9b17(0x7b)+_0x5e9b17(0x12b));}else info(_0x5e9b17(0x119)+'\x20pm_filter'+_0x5e9b17(0xac)+_0x5e9b17(0xa0));}catch(_0x1c9667){error(_0x1c9667,_0x5e9b17(0x119)+_0x5e9b17(0xae)+_0x5e9b17(0x138));throw _0x1c9667;}}async function upsertPmFilter(_0x5604ca,_0x526cc7,_0x4109b9){const _0xb64cbd=_0x2f12d2;try{const _0x4a55b6=Math[_0xb64cbd(0x89)](Date['now']()/(-0x1801*-0x1+0x5*0x783+0x334*-0x12)),_0x20d8ec=JSON[_0xb64cbd(0x94)](uniqArray(ensureArray(_0x526cc7)[_0xb64cbd(0x91)](_0x45f07e=>String(_0x45f07e)[_0xb64cbd(0x8b)]())[_0xb64cbd(0x7a)](Boolean)));await db['run']('INSERT\x20INT'+_0xb64cbd(0x154)+_0xb64cbd(0x95)+'r,\x20respons'+_0xb64cbd(0xee)+_0xb64cbd(0x159)+_0xb64cbd(0x12a)+_0xb64cbd(0x147)+_0xb64cbd(0xb0)+_0xb64cbd(0x76)+_0xb64cbd(0xcb)+_0xb64cbd(0x97)+_0xb64cbd(0xc0)+_0xb64cbd(0xe5)+_0xb64cbd(0x134)+_0xb64cbd(0xd2)+_0xb64cbd(0x13a)+_0xb64cbd(0x152)+_0xb64cbd(0x156)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'rr_index\x20='+_0xb64cbd(0xb1)+_0xb64cbd(0x148)+'_by\x20=\x20excl'+_0xb64cbd(0x158)+_0xb64cbd(0xa9)+_0xb64cbd(0x126)+_0xb64cbd(0x144)+'xcluded.cr'+_0xb64cbd(0x11f),[_0x5604ca,_0x20d8ec,_0x4109b9||'',_0x4a55b6]);try{automatonCache[_0xb64cbd(0x128)](_0xb64cbd(0x88));}catch(_0x2f64c8){}return info(_0xb64cbd(0x119)+_0xb64cbd(0xf1)+_0x5604ca),!![];}catch(_0x3253b6){return error(_0x3253b6,_0xb64cbd(0x119)+'\x20upsert\x20fa'+_0xb64cbd(0x8f)+_0x5604ca),![];}}async function deletePmFilters(_0x5700de){const _0x1bb00e=_0x2f12d2;if(!Array[_0x1bb00e(0xca)](_0x5700de)||_0x5700de[_0x1bb00e(0x150)]===0x2e3+0x375*-0x4+0xaf1)return-0x1ea+0xa45+-0x85b;try{let _0x4ddfe4=0x173b+0x2*0x4c1+-0x20bd;for(const _0x3ec6f3 of _0x5700de){const _0x5ce4dc=await db[_0x1bb00e(0x146)](_0x1bb00e(0x69)+_0x1bb00e(0x112)+_0x1bb00e(0x9e)+_0x1bb00e(0x9f),[_0x3ec6f3]);if(_0x5ce4dc?.[_0x1bb00e(0x82)])_0x4ddfe4+=_0x5ce4dc['changes'];info(_0x1bb00e(0x119)+_0x1bb00e(0xaf)+_0x3ec6f3);}try{automatonCache[_0x1bb00e(0x128)](_0x1bb00e(0x88));}catch(_0x42d1d4){}return _0x4ddfe4;}catch(_0x11e25c){return error(_0x11e25c,_0x1bb00e(0x119)+_0x1bb00e(0xf4)+_0x1bb00e(0x9a)+(_0x11e25c?.[_0x1bb00e(0x125)]||_0x11e25c)),-0x1f*0xe6+-0x399*-0x5+0x65*0x19;}}async function listPmTriggers(){const _0x421077=_0x2f12d2;try{const _0x818556=await db[_0x421077(0x157)]('SELECT\x20DIS'+_0x421077(0xb7)+_0x421077(0xad)+_0x421077(0x7b)+_0x421077(0x132)+_0x421077(0xeb));return(_0x818556||[])[_0x421077(0x91)](_0x5cbc4d=>_0x5cbc4d[_0x421077(0xfc)]);}catch(_0x2bc030){return warn(_0x2bc030,_0x421077(0x119)+_0x421077(0xe3)+_0x421077(0x9d)+':\x20'+(_0x2bc030?.[_0x421077(0x125)]||_0x2bc030)),[];}}async function pickPmResponseAndAdvance(_0x573e4a,_0x23368b=_0x2f12d2(0x96)){const _0x369756=_0x2f12d2;try{const _0x10d404=await db['get'](_0x369756(0x117)+_0x369756(0xea)+_0x369756(0xf6)+_0x369756(0x112)+_0x369756(0x9e)+_0x369756(0x9f)+_0x369756(0xd6),[_0x573e4a]);if(!_0x10d404)return null;let _0x347aa9=[];try{_0x347aa9=JSON[_0x369756(0xf0)](_0x10d404[_0x369756(0x6b)]||'[]');}catch{_0x347aa9=ensureArray(_0x10d404[_0x369756(0x6b)]);}_0x347aa9=ensureArray(_0x347aa9);if(!_0x347aa9[_0x369756(0x150)])return null;if((_0x23368b||'')['toLowerCas'+'e']()===_0x369756(0x139)){const _0x3b9b7c=Math[_0x369756(0x89)](Math['random']()*_0x347aa9['length']);return _0x347aa9[_0x3b9b7c];}const _0x4b4c94=Number(_0x10d404[_0x369756(0x12f)]||0x19ec+0x2112+-0x3afe),_0x5f296e=_0x347aa9[_0x4b4c94%_0x347aa9[_0x369756(0x150)]];try{await db[_0x369756(0x146)](_0x369756(0x123)+'filters\x20SE'+_0x369756(0xe4)+'\x20=\x20(rr_ind'+'ex\x20+\x201)\x20WH'+_0x369756(0x12e)+_0x369756(0x11c),[_0x573e4a]);}catch(_0x4305a0){warn(_0x369756(0x119)+'\x20rr_index+'+_0x369756(0x122)+(_0x4305a0?.[_0x369756(0x125)]||_0x4305a0));}return _0x5f296e;}catch(_0x1a612f){return warn(_0x369756(0x119)+_0x369756(0xab)+_0x369756(0xd0)+'\x20'+(_0x1a612f?.[_0x369756(0x125)]||_0x1a612f)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(0xc1*-0x2b+-0x7c*-0x3b+0x3f5)*(-0x234d+-0x5*-0x17e+0x1b*0x12d);function _0x1718(_0x5eb475,_0x12b817){const _0x142193=_0x4eaf();return _0x1718=function(_0x414c2b,_0x36cb4f){_0x414c2b=_0x414c2b-(-0xcb*0x25+0x25da+-0x81a);let _0x404df6=_0x142193[_0x414c2b];return _0x404df6;},_0x1718(_0x5eb475,_0x12b817);}function makeDedupeKey(_0x1283df){const _0x429c26=_0x2f12d2,_0x335fd9=_0x1283df?.[_0x429c26(0xc9)];if(!_0x335fd9)return null;const _0x2f033a=_0x335fd9['id']||_0x335fd9?.['participan'+'t']||'',_0x5e7662=_0x335fd9[_0x429c26(0xa1)]||'';return _0x5e7662+'::'+_0x2f033a;}function isProcessed(_0x2cc653){const _0x2cb8cc=_0x2f12d2;return _0x2cc653&&processedMessageKeys[_0x2cb8cc(0xc3)](_0x2cc653);}function _0x4eaf(){const _0x18bf2c=['\x20all\x20\x20\x20(er','iled:\x20','slice','REATE\x20TABL','ers\x20failed','rs\x20WHERE\x20t','rigger\x20=\x20?','ists','remoteJid','\x20filters:\x20','(s).','COMMAND_PR','loaded\x20','Deleted\x20','xtMessage','TEGER\x20PRIM','ed_by,\x0a\x20\x20\x20','Automaton\x20','\x20pickRespo','s\x20table\x20ex','ger\x20FROM\x20p','\x20ensureSch','\x20deleted\x20','\x20\x20\x20\x20\x20VALUE','\x200,\x0a\x20\x20\x20\x20\x20\x20','listRespon','[pfilter]\x20','ULT\x200\x0a\x20\x20\x20\x20','_trigger\x20O','es\x20TEXT\x20NO','TINCT\x20trig','T\x20NULL\x20DEF','ases\x20ALL\x20p','TEGER\x20DEFA','m_filters','@g.us','output','\x20\x20\x20\x20);\x0a\x20\x20\x20','add','NFLICT(tri','participan','ot\x20availab','has','\x20bot\x20JID\x20n','Deleted\x20AL','toLowerCas','shift','paused','key','isArray',',\x20?,\x20?)\x0a\x20\x20','values','extendedTe','_MS','l\x20be\x20used\x20','nse\x20error:','lfilter\x20tr','\x20\x20\x20\x20\x20\x20\x20\x20\x20r','al\x20and\x20wil','T,\x0a\x20\x20\x20\x20\x20\x20\x20','fail','\x20LIMIT\x201','80pTkrSa','reated_by\x20','FAULT\x200,\x0a\x20','\x22\x20-\x20','31499775Raqkbf','igger1,tri','get','nodes','SELECT\x20DIS','index','\x20quoted\x20re','includes','\x20listTrigg','T\x20rr_index','gger)\x20DO\x20U','startsWith','\x20invalid\x20s','find','pfilter','ponses,\x20rr','rigger','4308704LMNwtT','next','es,\x20rr_ind','\x20getGlobal','parse','\x20upsert:\x20','sendMessag','pdelf','\x20delete\x20fa','wId','_index\x20FRO','r\x20all\x20fail','object','L\x20pm\x20filte','482WmZCCi','clear','trigger','CREATE\x20IND','PREFIX','\x20cleanup\x20e','\x5cw*','\x20\x20\x20respons','ialize()','-only):\x0apf','rs.\x20Rows\x20r','pm_filters','Saved\x20','videoMessa','selectedRo','ponseMessa','x:\x20\x22','plistfilte','reply','imageMessa','split','push','sendPresen','pdelfilter','M\x20pm_filte','ctReply','8475YimqXw','test','d:\x20','SELECT\x20res','ceUpdate','[pmfilter]','caption','\x20TEXT\x20NOT\x20','r\x20=\x20?','ed\x20with\x20bo','fromMe','eated_at;','434022GgWDHL','string','+\x20failed:\x20','UPDATE\x20pm_','rror:\x20','message','\x20\x20\x20\x20\x20\x20crea','from','delete','\x20no\x20send\x20A','d_by,\x20crea','table','text','keyword','ERE\x20trigge','rr_index','INTEGER\x20DE','E,\x0a\x20\x20\x20\x20\x20\x20\x20','ORDER\x20BY\x20t','\x20filters.','PDATE\x20SET\x0a','AND\x20name=\x27','join','\x20pdelfilte','ema\x20fatal','random','esponses\x20=','composing','triggers','e=\x27table\x27\x20','EXISTS\x20idx','ated_at\x20IN','unknown','N\x20pm_filte','regex:','replace','ted_at\x20=\x20e','8362648hiThEE','run','ted_at)\x0a\x20\x20','\x20\x20\x20created','gger1,trig','ttonId','e\x20FROM\x20sql','sponse2\x0aNO','tiline,\x20PM','ite_master','le\x20at\x20init','length','ypingAndWa','\x20excluded.','ARY\x20KEY\x20AU','O\x20pm_filte','sock','responses,','all','uded.creat','ex,\x20create','FILTERS','DELETE\x20FRO','pmfilter','responses','Failed\x20to\x20','singleSele','conversati','set','\x20initializ','function','E\x20pm_filte','buttonsRes','isFinite','selectedBu','S\x20(?,\x20?,\x200','create','ponse1\x0a!re','ODE','filter','m_filters\x20','TOINCREMEN','Usage\x20(mul','build','it\x20error:\x20','804250wvLPSN','exec','changes','gger2\x0aOr:\x20','onTarget\x20e','EX\x20IF\x20NOT\x20','\x20determine','3728380gfCIRu','global','floor','ger2>\x0a!res','trim','seMessage','\x20WHERE\x20typ','LT\x20\x27\x27,\x0a\x20\x20\x20','iled\x20for\x20','\x20\x20\x20trigger','map','isCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','rs\x20(trigge','roundrobin','\x20\x20\x20\x20\x20ON\x20CO','s\x20are\x20glob'];_0x4eaf=function(){return _0x18bf2c;};return _0x4eaf();}function markProcessed(_0x3a71ef){const _0x99a8b1=_0x2f12d2;if(!_0x3a71ef)return;if(processedMessageKeys[_0x99a8b1(0xc3)](_0x3a71ef))clearTimeout(processedMessageKeys['get'](_0x3a71ef));const _0x35120a=setTimeout(()=>processedMessageKeys['delete'](_0x3a71ef),DEDUPE_TTL_MS);processedMessageKeys[_0x99a8b1(0x6f)](_0x3a71ef,_0x35120a);}class Aho{constructor(){const _0xdfa0c3=_0x2f12d2;this[_0xdfa0c3(0xde)]=[{'next':Object['create'](null),'fail':0x0,'output':[]}];}[_0x2f12d2(0x7e)](_0x334555){const _0x39d6be=_0x2f12d2;this[_0x39d6be(0xde)]=[{'next':Object[_0x39d6be(0x77)](null),'fail':0x0,'output':[]}];for(const _0xd05498 of _0x334555){let _0x15c4f9=-0x2173+0xa7+0x20cc;for(let _0x40233f=0x26f3+-0xb*0xff+-0x1bfe;_0x40233f<_0xd05498[_0x39d6be(0x150)];_0x40233f++){const _0xa6175b=_0xd05498[_0x40233f];!this[_0x39d6be(0xde)][_0x15c4f9][_0x39d6be(0xed)][_0xa6175b]&&(this[_0x39d6be(0xde)][_0x15c4f9]['next'][_0xa6175b]=this['nodes'][_0x39d6be(0x150)],this[_0x39d6be(0xde)][_0x39d6be(0x10f)]({'next':Object['create'](null),'fail':0x0,'output':[]})),_0x15c4f9=this[_0x39d6be(0xde)][_0x15c4f9]['next'][_0xa6175b];}this['nodes'][_0x15c4f9][_0x39d6be(0xbd)]['push'](_0xd05498);}const _0x304097=[];for(const _0x596c46 in this[_0x39d6be(0xde)][-0xb80+0x144a+-0x1*0x8ca][_0x39d6be(0xed)]){const _0x428df5=this[_0x39d6be(0xde)][0x1110*-0x1+-0x1*-0x1763+-0x653*0x1]['next'][_0x596c46];this[_0x39d6be(0xde)][_0x428df5]['fail']=0x74b*0x4+0x1b85+-0x38b1,_0x304097[_0x39d6be(0x10f)](_0x428df5);}while(_0x304097[_0x39d6be(0x150)]){const _0x4d4dec=_0x304097['shift']();for(const _0x1fe4a4 in this[_0x39d6be(0xde)][_0x4d4dec]['next']){const _0x34d57b=this[_0x39d6be(0xde)][_0x4d4dec][_0x39d6be(0xed)][_0x1fe4a4];let _0x465c5c=this[_0x39d6be(0xde)][_0x4d4dec][_0x39d6be(0xd5)];while(_0x465c5c&&!this[_0x39d6be(0xde)][_0x465c5c]['next'][_0x1fe4a4])_0x465c5c=this[_0x39d6be(0xde)][_0x465c5c]['fail'];if(this[_0x39d6be(0xde)][_0x465c5c][_0x39d6be(0xed)][_0x1fe4a4])this[_0x39d6be(0xde)][_0x34d57b][_0x39d6be(0xd5)]=this['nodes'][_0x465c5c][_0x39d6be(0xed)][_0x1fe4a4];else this[_0x39d6be(0xde)][_0x34d57b][_0x39d6be(0xd5)]=0xbe7+-0x4d*-0x19+0x1c4*-0xb;this['nodes'][_0x34d57b][_0x39d6be(0xbd)][_0x39d6be(0x10f)](...this[_0x39d6be(0xde)][this['nodes'][_0x34d57b][_0x39d6be(0xd5)]][_0x39d6be(0xbd)]),_0x304097['push'](_0x34d57b);}}}['search'](_0x5737a5){const _0x365d57=_0x2f12d2,_0x3634e3=[];let _0x57b2e5=0x26da+0x14*-0x19d+-0x696;for(let _0x320c28=-0xce9*-0x1+0x23dc+0xe3*-0x37;_0x320c28<_0x5737a5[_0x365d57(0x150)];_0x320c28++){const _0x4d51cf=_0x5737a5[_0x320c28];while(_0x57b2e5&&!this[_0x365d57(0xde)][_0x57b2e5][_0x365d57(0xed)][_0x4d51cf])_0x57b2e5=this[_0x365d57(0xde)][_0x57b2e5]['fail'];if(this[_0x365d57(0xde)][_0x57b2e5]['next'][_0x4d51cf])_0x57b2e5=this[_0x365d57(0xde)][_0x57b2e5][_0x365d57(0xed)][_0x4d51cf];else _0x57b2e5=0xf4f+0x22fc+-0x324b;if(this[_0x365d57(0xde)][_0x57b2e5][_0x365d57(0xbd)][_0x365d57(0x150)]){for(const _0x5e8afd of this['nodes'][_0x57b2e5][_0x365d57(0xbd)])_0x3634e3[_0x365d57(0x10f)]({'keyword':_0x5e8afd,'index':_0x320c28-_0x5e8afd[_0x365d57(0x150)]+(-0x2*-0xa4e+-0x15*0x13c+0x1*0x551)});}}return _0x3634e3;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x42f0c8=_0x2f12d2;if(automatonCache['has'](_0x42f0c8(0x88)))return automatonCache['get'](_0x42f0c8(0x88));try{const _0x131906=await db[_0x42f0c8(0x157)](_0x42f0c8(0xdf)+_0x42f0c8(0xb7)+_0x42f0c8(0xad)+_0x42f0c8(0xbb)),_0x32366c=(_0x131906||[])['map'](_0x3e6f10=>String(_0x3e6f10[_0x42f0c8(0xfc)]||'')['trim']())[_0x42f0c8(0x7a)](Boolean),_0x58bcdd=_0x32366c[_0x42f0c8(0x7a)](_0x2630cd=>{const _0x3c5e1a=_0x42f0c8,_0x463e82=String(_0x2630cd)['trim']()[_0x3c5e1a(0xc6)+'e']();if(_0x463e82[_0x3c5e1a(0xe6)](_0x3c5e1a(0x142)))return![];if(_0x2630cd['includes']('*'))return![];return!![];}),_0x5e56cd=_0x58bcdd[_0x42f0c8(0x91)](_0x45479a=>_0x45479a[_0x42f0c8(0xc6)+'e']()),_0x521257=new Aho();if(_0x5e56cd[_0x42f0c8(0x150)])_0x521257[_0x42f0c8(0x7e)](_0x5e56cd);const _0x16271a={'ac':_0x521257,'keywords':_0x5e56cd,'normalSet':new Set(_0x5e56cd),'triggers':_0x32366c};return automatonCache['set']('global',_0x16271a),_0x16271a;}catch(_0x479a5f){return warn('[pmfilter]'+_0x42f0c8(0xef)+_0x42f0c8(0xaa)+'failed:\x20'+(_0x479a5f?.['message']||_0x479a5f)),null;}}async function sendPmReply(_0x1565cf,_0x168096,_0x1098c4){const _0x37165c=_0x2f12d2;if(!_0x1098c4)return;let _0x14fe8c=_0x168096;try{if(!_0x14fe8c&&_0x1565cf&&_0x1565cf['key']&&_0x1565cf[_0x37165c(0xc9)]['remoteJid'])_0x14fe8c=_0x1565cf[_0x37165c(0xc9)]['remoteJid'];}catch(_0x201c1c){}if(!_0x14fe8c)return;const _0x2d8d12={'text':String(_0x1098c4)},_0x340ceb=clampConfigTypingMs();if(_0x340ceb>0xb9*0x2+0x721*0x2+-0x3ed*0x4)try{await simulateTypingAndWait(botInstance?.['sock'],_0x14fe8c,_0x340ceb);}catch(_0x2e7d07){warn(_0x37165c(0x119)+'\x20simulateT'+_0x37165c(0x151)+_0x37165c(0x7f)+(_0x2e7d07?.[_0x37165c(0x125)]||_0x2e7d07));}try{if(_0x1565cf&&typeof _0x1565cf['reply']===_0x37165c(0x71)&&_0x1565cf['key']&&_0x1565cf[_0x37165c(0xc9)][_0x37165c(0xa1)]===_0x14fe8c)try{await _0x1565cf[_0x37165c(0x10c)]({'text':String(_0x1098c4)});return;}catch(_0x15ec0b){warn(_0x37165c(0x119)+_0x37165c(0xe1)+'ply\x20failed'+':\x20'+(_0x15ec0b?.[_0x37165c(0x125)]||_0x15ec0b));}if(botInstance&&typeof botInstance[_0x37165c(0xf2)+'e']==='function')await botInstance[_0x37165c(0xf2)+'e'](_0x14fe8c,_0x2d8d12);else botInstance&&botInstance['sock']&&typeof botInstance[_0x37165c(0x155)][_0x37165c(0xf2)+'e']==='function'?await botInstance[_0x37165c(0x155)][_0x37165c(0xf2)+'e'](_0x14fe8c,_0x2d8d12):warn('[pmfilter]'+_0x37165c(0x129)+'PI\x20availab'+'le');}catch(_0x10cf1a){warn(_0x37165c(0x119)+'\x20sendPmRep'+'ly\x20failed:'+'\x20'+(_0x10cf1a?.[_0x37165c(0x125)]||_0x10cf1a));}}export async function initialize(_0xc27e61){const _0x599262=_0x2f12d2;try{botInstance=_0xc27e61,botJid=_0xc27e61?.[_0x599262(0x155)]?.['user']?.['id']||null;if(!botJid)warn(_0x599262(0x119)+_0x599262(0xc4)+_0x599262(0xc2)+_0x599262(0x14f)+_0x599262(0x102));if(botInstance){if(typeof botInstance[_0x599262(0xf2)+'e']===_0x599262(0x71))sendApi=async(_0x4bbc62,_0x2a4d09)=>await botInstance[_0x599262(0xf2)+'e'](_0x4bbc62,_0x2a4d09);else{if(botInstance['sock']&&typeof botInstance[_0x599262(0x155)][_0x599262(0xf2)+'e']==='function')sendApi=async(_0x32187b,_0x446d32)=>await botInstance['sock'][_0x599262(0xf2)+'e'](_0x32187b,_0x446d32);else sendApi=null;}}await ensureSchema(),info(_0x599262(0x119)+_0x599262(0x70)+_0x599262(0x11d)+'tJid='+(botJid||_0x599262(0x140)));}catch(_0x5c261f){error(_0x5c261f,'[pmfilter]'+_0x599262(0x70)+'e\x20error:\x20'+(_0x5c261f?.[_0x599262(0x125)]||_0x5c261f));throw _0x5c261f;}}function detectCommandNameFromCmdText(_0x39d8e4){const _0x2e3634=_0x2f12d2;if(!_0x39d8e4)return null;const _0x30ea9c=_0x39d8e4[_0x2e3634(0x8b)]();if(!_0x30ea9c)return null;return _0x30ea9c[_0x2e3634(0x10e)](/\s+/)[0x2*0x1361+-0x1d9a+-0x494*0x2]['toLowerCas'+'e']();}function parsePmFilterCommandText(_0x2f5d60,_0x50fcb0){const _0x2e672d=_0x2f12d2;if(!_0x2f5d60)return null;const _0x553b52=_0x2f5d60[_0x2e672d(0x10e)](/\r?\n/)[_0x2e672d(0x91)](_0x30897e=>_0x30897e[_0x2e672d(0x143)](/\r/g,''));if(!_0x553b52[_0x2e672d(0x150)])return null;let _0x3c9524=_0x553b52[0x11d0+0xbab*0x3+0x119b*-0x3][_0x2e672d(0x8b)]();if(_0x50fcb0){if(Array[_0x2e672d(0xca)](_0x50fcb0))for(const _0x1b63d8 of _0x50fcb0){if(_0x3c9524[_0x2e672d(0xe6)](_0x1b63d8)){_0x3c9524=_0x3c9524[_0x2e672d(0x9b)](_0x1b63d8[_0x2e672d(0x150)])[_0x2e672d(0x8b)]();break;}}else typeof _0x50fcb0===_0x2e672d(0x121)&&_0x3c9524[_0x2e672d(0xe6)](_0x50fcb0)&&(_0x3c9524=_0x3c9524[_0x2e672d(0x9b)](_0x50fcb0['length'])[_0x2e672d(0x8b)]());}const _0x185afa=_0x3c9524['split'](/\s+/);if(_0x185afa[0x18c*-0x7+-0x1b*-0x135+-0x15c3][_0x2e672d(0xc6)+'e']()==='pfilter')_0x185afa[_0x2e672d(0xc7)]();const _0x474863=_0x185afa[_0x2e672d(0x136)]('\x20')['trim'](),_0x4f118c=_0x474863?_0x474863[_0x2e672d(0x10e)](',')[_0x2e672d(0x91)](_0x214f91=>_0x214f91[_0x2e672d(0x8b)]())['filter'](Boolean):[],_0x3528e1=_0x553b52[_0x2e672d(0x9b)](0x7*-0x371+0x7f9+0x101f)['map'](_0xfacee9=>_0xfacee9[_0x2e672d(0x8b)]())[_0x2e672d(0x7a)](Boolean)[_0x2e672d(0x7a)](_0x390a96=>_0x390a96[_0x2e672d(0xe6)]('!'))[_0x2e672d(0x91)](_0x171ac4=>_0x171ac4['slice'](-0x8fe*-0x1+0x114a+-0x1a47)[_0x2e672d(0x8b)]())[_0x2e672d(0x7a)](Boolean);return{'triggers':_0x4f118c,'responses':_0x3528e1};}async function determineConfirmationTarget(_0x2c97e6){const _0x16be7f=_0x2f12d2;try{if(!_0x2c97e6||!_0x2c97e6[_0x16be7f(0xc9)])return null;if(_0x2c97e6[_0x16be7f(0xc9)]['fromMe']){const _0x20aba3=getBotJid();return _0x20aba3||_0x2c97e6['key'][_0x16be7f(0xa1)];}return _0x2c97e6['key'][_0x16be7f(0xa1)];}catch(_0x1c9550){warn(_0x16be7f(0x119)+_0x16be7f(0x86)+'Confirmati'+_0x16be7f(0x84)+'rror:\x20'+(_0x1c9550?.[_0x16be7f(0x125)]||_0x1c9550));try{return _0x2c97e6[_0x16be7f(0xc9)][_0x16be7f(0xa1)];}catch(_0x233c08){return null;}}}export async function onMessage(_0x4b025d){const _0x3498e9=_0x2f12d2;try{if(!_0x4b025d||!_0x4b025d[_0x3498e9(0xc9)]||!_0x4b025d[_0x3498e9(0x125)])return;const _0x429d60=makeDedupeKey(_0x4b025d);if(isProcessed(_0x429d60))return;markProcessed(_0x429d60);const _0x4b373f=_0x4b025d[_0x3498e9(0xc9)][_0x3498e9(0xa1)],_0x489b01=typeof _0x4b373f===_0x3498e9(0x121)&&_0x4b373f['endsWith'](_0x3498e9(0xbc)),_0x321454=!!_0x4b025d[_0x3498e9(0xc9)][_0x3498e9(0x11e)],_0x2d76d0=_0x4b025d[_0x3498e9(0xc9)]&&(_0x4b025d[_0x3498e9(0xc9)][_0x3498e9(0xc1)+'t']||_0x4b025d[_0x3498e9(0xc9)][_0x3498e9(0x127)]||_0x4b025d[_0x3498e9(0xc9)]['remoteJid'])||'';if(_0x4b025d[_0x3498e9(0x92)]){if(_0x489b01)return;const _0x19e97a=!!_0x4b025d[_0x3498e9(0xc9)][_0x3498e9(0x11e)];let _0x3b99f5=![];try{_0x3b99f5=await isSudo(botInstance,_0x4b025d);}catch(_0x20adfa){_0x3b99f5=![];}if(!_0x19e97a&&!_0x3b99f5)return;const _0x1a59fd=await determineConfirmationTarget(_0x4b025d),_0x1b61c4=typeof _0x4b025d[_0x3498e9(0x12c)]===_0x3498e9(0x121)&&_0x4b025d[_0x3498e9(0x12c)]['trim']()[_0x3498e9(0x150)]?_0x4b025d['text']['trim']():getMessageText(_0x4b025d)[_0x3498e9(0x8b)](),_0x469cd2=detectCommandNameFromCmdText(_0x1b61c4);if(!_0x469cd2)return;if(!_0x469cd2[_0x3498e9(0xe6)]('p'))return;if(_0x469cd2===_0x3498e9(0xe9)){const _0x1c91fd=getConfig()||{},_0xe8cbe8=parsePmFilterCommandText(_0x1b61c4||getMessageText(_0x4b025d),_0x1c91fd[_0x3498e9(0xa4)+'EFIX']??_0x1c91fd[_0x3498e9(0xfe)]??null);if(!_0xe8cbe8||!_0xe8cbe8[_0x3498e9(0x13c)][_0x3498e9(0x150)]||!_0xe8cbe8[_0x3498e9(0x6b)][_0x3498e9(0x150)]){await sendPmReply(_0x4b025d,_0x1a59fd,_0x3498e9(0x7d)+_0x3498e9(0x14d)+_0x3498e9(0x103)+'ilter\x20<tri'+_0x3498e9(0x149)+_0x3498e9(0x8a)+_0x3498e9(0x78)+_0x3498e9(0x14c)+'TE:\x20Filter'+_0x3498e9(0x98)+_0x3498e9(0xd3)+_0x3498e9(0xcf)+'when\x20users'+'\x20PM\x20the\x20bo'+'t.');return;}let _0xb713e5=-0x1*0x5c0+-0xc1a+0x11da;for(const _0x1b9385 of _0xe8cbe8['triggers']){const _0x163189=await upsertPmFilter(_0x1b9385,_0xe8cbe8[_0x3498e9(0x6b)],_0x2d76d0||'');if(_0x163189)_0xb713e5++;}await sendPmReply(_0x4b025d,_0x1a59fd,_0x3498e9(0x106)+_0xb713e5+('\x20pm\x20filter'+_0x3498e9(0xa3)));return;}if(_0x469cd2===_0x3498e9(0x10b)+'r'){const _0x4434a=await listPmTriggers();await sendPmReply(_0x4b025d,_0x1a59fd,_0x3498e9(0xb3)+_0x3498e9(0xa5)+_0x4434a[_0x3498e9(0x150)]+_0x3498e9(0x133));if(!_0x4434a[_0x3498e9(0x150)])return;let _0x1acf58='';for(const _0x5312d2 of _0x4434a){const _0x15d664='•\x20'+_0x5312d2+'\x0a';(_0x1acf58+_0x15d664)[_0x3498e9(0x150)]>0xd2b+-0x624*-0x2+-0x1397&&(await sendPmReply(_0x4b025d,_0x1a59fd,_0x1acf58[_0x3498e9(0x8b)]()),_0x1acf58=''),_0x1acf58+=_0x15d664;}if(_0x1acf58[_0x3498e9(0x8b)]())await sendPmReply(_0x4b025d,_0x1a59fd,_0x1acf58['trim']());return;}if(_0x469cd2===_0x3498e9(0x111)||_0x469cd2===_0x3498e9(0x111)+'s'||_0x469cd2===_0x3498e9(0xf3)){const _0x125ba2=getMessageText(_0x4b025d)||'',_0x7339e6=_0x125ba2['split'](/\r?\n/)[_0x3498e9(0x91)](_0x41a5be=>_0x41a5be[_0x3498e9(0x8b)]());let _0x4c1e50=null;if(_0x7339e6[_0x3498e9(0x150)]>0x259f+-0x1ede+-0x6c0)_0x4c1e50=_0x7339e6[-0x2*0x1381+0x2051+-0x359*-0x2];else{const _0x4823d5=(_0x1b61c4||_0x125ba2)[_0x3498e9(0x8b)]()[_0x3498e9(0x10e)](/\s+/);_0x4823d5['shift'](),_0x4c1e50=_0x4823d5['join']('\x20')[_0x3498e9(0x8b)]();}const _0x54a64d=(_0x4c1e50||'')[_0x3498e9(0x10e)](',')[_0x3498e9(0x91)](_0x2b2862=>_0x2b2862[_0x3498e9(0x8b)]())[_0x3498e9(0x7a)](Boolean);if(!_0x54a64d[_0x3498e9(0x150)]){await sendPmReply(_0x4b025d,_0x1a59fd,'Usage:\x20pde'+_0x3498e9(0xd1)+_0x3498e9(0xdc)+_0x3498e9(0x83)+'pdelfilter'+_0x3498e9(0x99)+_0x3498e9(0xb9)+'m\x20filters)');return;}if(_0x54a64d[_0x3498e9(0x150)]===-0x16e7+-0xc1b+-0x2303*-0x1&&_0x54a64d[0x20f3+0x605*0x1+0x3a*-0xac]['toLowerCas'+'e']()===_0x3498e9(0x157))try{const _0x30762b=await db[_0x3498e9(0x146)](_0x3498e9(0x69)+_0x3498e9(0x112)+'rs'),_0x4da873=_0x30762b?.['changes']||-0x105+0x940+-0x83b;try{automatonCache[_0x3498e9(0xfb)]();}catch(_0xd6363d){}await sendPmReply(_0x4b025d,_0x1a59fd,_0x3498e9(0xc5)+_0x3498e9(0xf9)+_0x3498e9(0x104)+'emoved:\x20'+_0x4da873);return;}catch(_0x229ae9){warn(_0x3498e9(0x119)+_0x3498e9(0x137)+_0x3498e9(0xf7)+'ed:\x20'+(_0x229ae9?.[_0x3498e9(0x125)]||_0x229ae9)),await sendPmReply(_0x4b025d,_0x1a59fd,_0x3498e9(0x6c)+'delete\x20all'+_0x3498e9(0xa2)+(_0x229ae9?.[_0x3498e9(0x125)]||_0x229ae9));return;}const _0x2352e7=await deletePmFilters(_0x54a64d);await sendPmReply(_0x4b025d,_0x1a59fd,_0x3498e9(0xa6)+_0x2352e7+('\x20pm\x20filter'+'(s).'));return;}return;}const _0x38290d=_0x4b373f;if(!_0x38290d)return;if(_0x489b01)return;if(_0x321454)return;if(_0x38290d===botJid)return;const _0x2c22fd=getMessageText(_0x4b025d);if(!_0x2c22fd)return;const _0xb64b95=String(_0x2c22fd||''),_0x295836=await db[_0x3498e9(0x157)]('SELECT\x20DIS'+'TINCT\x20trig'+_0x3498e9(0xad)+'m_filters');if(!_0x295836||_0x295836['length']===-0xa2e+0x1ba*-0x16+0x302a)return;const _0x518a9d=(_0x295836||[])[_0x3498e9(0x91)](_0x9decac=>String(_0x9decac['trigger']||'')[_0x3498e9(0x8b)]())[_0x3498e9(0x7a)](Boolean),_0x5b8fd1=[],_0x1b7c8e=[],_0x370f8f=[];for(const _0x36ba88 of _0x518a9d){const _0x5831e5=String(_0x36ba88)[_0x3498e9(0x8b)]()[_0x3498e9(0xc6)+'e']();if(_0x5831e5[_0x3498e9(0xe6)](_0x3498e9(0x142))){_0x370f8f[_0x3498e9(0x10f)](_0x36ba88['substring'](-0x187b+0x1*-0x249d+0x3d1e));continue;}if(_0x36ba88[_0x3498e9(0xe2)]('*')){_0x1b7c8e[_0x3498e9(0x10f)](_0x36ba88);continue;}_0x5b8fd1[_0x3498e9(0x10f)](_0x36ba88);}const _0x135cdc=getConfig()||{},_0x4e90bb=_0x135cdc[_0x3498e9(0x15a)]&&typeof _0x135cdc[_0x3498e9(0x15a)]==='object'?_0x135cdc[_0x3498e9(0x15a)]:{},_0x11b669=(_0x4e90bb['RESPONSE_M'+_0x3498e9(0x79)]||_0x3498e9(0x96))[_0x3498e9(0xc6)+'e']();let _0xda436c=null;if(_0x5b8fd1[_0x3498e9(0x150)]>-0x1*0x10bd+0xe*0x1bb+-0x77d)try{const _0x3a1d1b=await getGlobalAutomaton();if(_0x3a1d1b&&_0x3a1d1b['ac']&&_0x3a1d1b['keywords']&&_0x3a1d1b['keywords'][_0x3498e9(0x150)]){const _0x4f637e=_0xb64b95['toLowerCas'+'e'](),_0x58d4f1=_0x3a1d1b['ac']['search'](_0x4f637e);for(const _0x59a8cc of _0x58d4f1){const _0x5f5192=_0x59a8cc[_0x3498e9(0x12d)],_0x34a5af=_0x59a8cc[_0x3498e9(0xe0)],_0x1af2b4=_0x34a5af+_0x5f5192[_0x3498e9(0x150)],_0x4d4595=_0x34a5af===-0x9d*0x2d+0xc10+-0x61*-0x29||!/\w/['test'](_0x4f637e[_0x34a5af-(0xe79+-0x22c7*0x1+-0x1*-0x144f)]),_0x261e0c=_0x1af2b4===_0x4f637e['length']||!/\w/[_0x3498e9(0x115)](_0x4f637e[_0x1af2b4]);if(_0x4d4595&&_0x261e0c){const _0x299aa0=_0x5b8fd1[_0x3498e9(0xe8)](_0x2bd5dc=>_0x2bd5dc['toLowerCas'+'e']()===_0x5f5192);if(_0x299aa0){_0xda436c=_0x299aa0;break;}}}}else for(const _0x18a48a of _0x5b8fd1){const _0x567706=new RegExp('\x5cb'+escapeRegex(String(_0x18a48a))+'\x5cb','i');if(_0x567706[_0x3498e9(0x115)](_0xb64b95)){_0xda436c=_0x18a48a;break;}}}catch(_0x3fa658){warn(_0x3498e9(0x119)+'\x20Aho\x20faile'+_0x3498e9(0x116)+(_0x3fa658?.[_0x3498e9(0x125)]||_0x3fa658));for(const _0x59e250 of _0x5b8fd1){try{const _0x350ff1=new RegExp('\x5cb'+escapeRegex(String(_0x59e250))+'\x5cb','i');if(_0x350ff1[_0x3498e9(0x115)](_0xb64b95)){_0xda436c=_0x59e250;break;}}catch(_0x11424c){}}}if(!_0xda436c&&_0x1b7c8e[_0x3498e9(0x150)]>0x547*-0x3+0x1*0x76+0xf5f)for(const _0x7c45b7 of _0x1b7c8e){try{const _0x5d5a19=new RegExp(wildcardToRegexPattern(_0x7c45b7),'i');if(_0x5d5a19['test'](_0xb64b95)){_0xda436c=_0x7c45b7;break;}}catch(_0x356b26){if(_0xb64b95[_0x3498e9(0xc6)+'e']()[_0x3498e9(0xe2)](_0x7c45b7[_0x3498e9(0x143)](/\*/g,'')[_0x3498e9(0xc6)+'e']())){_0xda436c=_0x7c45b7;break;}}}if(!_0xda436c&&_0x370f8f[_0x3498e9(0x150)]>-0x1*0xbd2+0x5b*-0x65+0x2fb9*0x1)for(const _0x1fa9b6 of _0x370f8f){try{const _0x22b6e7=new RegExp(_0x1fa9b6,'i');if(_0x22b6e7['test'](_0xb64b95)){_0xda436c=_0x3498e9(0x142)+_0x1fa9b6;break;}}catch(_0x348749){warn(_0x3498e9(0x119)+_0x3498e9(0xe7)+'tored\x20rege'+_0x3498e9(0x10a)+_0x1fa9b6+_0x3498e9(0xda)+(_0x348749?.['message']||_0x348749));}}if(_0xda436c){const _0x1d44b4=await pickPmResponseAndAdvance(_0xda436c[_0x3498e9(0x143)](/\s+$/,''),_0x11b669);if(!_0x1d44b4)return;await sendPmReply(_0x4b025d,_0x38290d,_0x1d44b4);}}catch(_0x1d45e1){error(_0x1d45e1,_0x3498e9(0x119)+'\x20handler\x20e'+_0x3498e9(0x124)+(_0x1d45e1?.['message']||_0x1d45e1));}}export async function cleanup(){const _0xfb422c=_0x2f12d2;try{for(const _0x2e8e3d of processedMessageKeys[_0xfb422c(0xcc)]())try{clearTimeout(_0x2e8e3d);}catch(_0x57f5d5){}processedMessageKeys[_0xfb422c(0xfb)](),automatonCache[_0xfb422c(0xfb)](),botInstance=null,botJid=null,sendApi=null,info(_0xfb422c(0x119)+'\x20cleaned\x20u'+'p');}catch(_0x36ee5a){warn(_0xfb422c(0x119)+_0xfb422c(0xff)+_0xfb422c(0x124)+(_0x36ee5a?.[_0xfb422c(0x125)]||_0x36ee5a));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};