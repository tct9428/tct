const _0xdf9da9=_0x58ce;(function(_0x49a728,_0x2e2e2e){const _0x2706a1=_0x58ce,_0x27c0f4=_0x49a728();while(!![]){try{const _0x127df5=parseInt(_0x2706a1(0x1b9))/(-0x8*0x4cd+-0x21d3+0x483c)+parseInt(_0x2706a1(0x1c5))/(0x80*-0xb+-0x1148+0x16ca)+-parseInt(_0x2706a1(0x20d))/(0x13dc+0x109b+-0x2474)*(parseInt(_0x2706a1(0x1d9))/(-0x761+0x3b7+0x3ae))+parseInt(_0x2706a1(0x1d6))/(0x1ffd*0x1+0x67*-0x59+0x1*0x3d7)+-parseInt(_0x2706a1(0x1e2))/(-0x4c6*0x7+-0x619+0x2789)*(-parseInt(_0x2706a1(0x1cd))/(-0xb65+-0x1433+0x1f9f))+-parseInt(_0x2706a1(0x1b3))/(0x1de6+0x259+-0x2037*0x1)+-parseInt(_0x2706a1(0x1c1))/(0x22a9+0x15d*-0xe+-0x9*0x1ba)*(parseInt(_0x2706a1(0x18d))/(0xad6*-0x2+0x1*0x181b+-0x265*0x1));if(_0x127df5===_0x2e2e2e)break;else _0x27c0f4['push'](_0x27c0f4['shift']());}catch(_0x730a68){_0x27c0f4['push'](_0x27c0f4['shift']());}}}(_0x2d3f,0xf7a68+0xfc6bd+-0x15640d));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0xdf9da9(0x212);export const version=_0xdf9da9(0x1f3);export const priority=0x4b6+-0x3*0x86d+-0x2*-0xa4b;export const configKeys=[_0xdf9da9(0x1b4)];export const commands=[_0xdf9da9(0x1a3),_0xdf9da9(0x1fc)+'r',_0xdf9da9(0x20a),_0xdf9da9(0x20a)+'s',_0xdf9da9(0x1c8)];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0x325f60){const _0x114831=_0xdf9da9,_0x2a0a31=Number(_0x325f60);if(!Number[_0x114831(0x276)](_0x2a0a31)||isNaN(_0x2a0a31))return-0x811+0xd*-0x17f+0x1b84;if(_0x2a0a31<=-0x5d*-0x60+0x1c4c*-0x1+-0x694)return 0x94d*-0x1+0x1df2+0x421*-0x5;if(_0x2a0a31>-0x3*-0x4e7+-0x2e85*-0x1+0x2*-0x151)return-0x36e0*0x1+-0x1*-0x3c99+-0x1*-0x34df;return Math[_0x114831(0x254)](_0x2a0a31);}function sleep(_0x2a9425){return new Promise(_0x571d30=>setTimeout(_0x571d30,_0x2a9425));}async function simulateTypingAndWait(_0x4cf018,_0x3806b5,_0x20d71c){const _0x26c27c=_0xdf9da9;if(!_0x20d71c||_0x20d71c<=-0x10df*-0x1+-0x1a87+0x9a8)return;try{if(_0x4cf018&&typeof _0x4cf018[_0x26c27c(0x27f)+_0x26c27c(0x1e7)]===_0x26c27c(0x1c0))try{await _0x4cf018['sendPresen'+_0x26c27c(0x1e7)](_0x26c27c(0x1a4),_0x3806b5);}catch(_0x41e691){}}catch(_0x2fe138){}try{await sleep(_0x20d71c);}catch(_0x169cfa){}try{if(_0x4cf018&&typeof _0x4cf018[_0x26c27c(0x27f)+'ceUpdate']===_0x26c27c(0x1c0))try{await _0x4cf018['sendPresen'+_0x26c27c(0x1e7)]('paused',_0x3806b5);}catch(_0x363377){}}catch(_0x5185ea){}}function clampConfigTypingMs(){const _0x53e449=_0xdf9da9;try{const _0x5b9756=getConfig()||{},_0x282839=_0x5b9756[_0x53e449(0x1b4)]&&typeof _0x5b9756[_0x53e449(0x1b4)]===_0x53e449(0x279)?_0x5b9756[_0x53e449(0x1b4)]:{};return clampTypingMs(_0x282839['TYPING_SIM'+_0x53e449(0x1ba)]);}catch(_0x521898){return-0x43*-0x4c+0x1*-0x78d+-0xc57;}}function escapeRegex(_0x548244){const _0x3b1f81=_0xdf9da9;return _0x548244[_0x3b1f81(0x207)](/[.*+?^${}()|[\]\\]/g,'\x5c$&');}function wildcardToRegexPattern(_0x3fdfb0){const _0x26c599=_0xdf9da9,_0x28e25e=_0x3fdfb0[_0x26c599(0x1a7)]('*')['map'](_0x2b7fbd=>escapeRegex(_0x2b7fbd));return'\x5cb'+_0x28e25e[_0x26c599(0x19e)](_0x26c599(0x208))+'\x5cb';}function ensureArray(_0x42274a){const _0x4f38cd=_0xdf9da9;if(!_0x42274a)return[];if(Array[_0x4f38cd(0x199)](_0x42274a))return _0x42274a;return[String(_0x42274a)];}function _0x2d3f(){const _0x6872e5=['@g.us','gger)\x20DO\x20U','string','84AHBiEU','\x20created\x20p','TEGER\x20PRIM','\x20upsert:\x20','\x20filters:\x20','ceUpdate','conversati','Deleted\x20','\x20\x20\x20trigger','al\x20and\x20wil','\x20upsert\x20fa','\x20pickRespo','\x20rr_index+','xtMessage','when\x20users','create','r,\x20respons','1.2.0','push','SELECT\x20DIS','ilter\x20<tri','AULT\x20\x27[]\x27,','\x20pm\x20filter','stringify','rs\x20(\x0a\x20\x20\x20\x20\x20','m_filters\x20','plistfilte','\x20\x20\x20respons','ex\x20+\x201)\x20WH','index','exec','\x20no\x20send\x20A','map','ttonId','wId','sock','text','replace','\x5cw*','selectedBu','pdelfilter','e=\x27table\x27\x20','ted_at\x20=\x20e','3BvOSQt','O\x20pm_filte','\x20sendPmRep','uded.creat','NULL\x20UNIQU','pmfilter','rigger\x20=\x20?','\x20handler\x20e','roundrobin','PREFIX','ORDER\x20BY\x20t','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','SELECT\x20res','\x200,\x0a\x20\x20\x20\x20\x20\x20','clear','singleSele','d_by,\x20crea','\x20\x20\x20\x20\x20\x20\x20cre','sendMessag','isCommand','es\x20TEXT\x20NO','rs.\x20Rows\x20r','test','l\x20be\x20used\x20','seMessage','extendedTe','random','\x20delete\x20fa','table','output','\x20listTrigg','listRespon','ed\x20with\x20bo','next','key','triggers','tiline,\x20PM','delete','\x20filters.','values','REATE\x20TABL','fail','ply\x20failed','emoved:\x20','caption','\x20determine','trigger','ite_master','regex:','EXISTS\x20idx','onTarget\x20e','ger\x20FROM\x20p','from','x:\x20\x22','SELECT\x20nam','ponses,\x20rr','Failed\x20to\x20','xcluded.cr','responses','EX\x20IF\x20NOT\x20','global','INSERT\x20INT','\x20initializ','all','\x20Aho\x20faile','toLowerCas','tored\x20rege','M\x20pm_filte','sponse2\x0aNO','L\x20pm\x20filte','ed_by,\x0a\x20\x20\x20','floor','rigger','E\x20pm_filte','nodes','NFLICT(tri','ger2>\x0a!res','build','it\x20error:\x20','pm_filters','COMMAND_PR','search','TINCT\x20trig','le\x20at\x20init','changes','(s).','r\x20=\x20?','find','Saved\x20','ases\x20ALL\x20p','endsWith','rs\x20WHERE\x20t','d:\x20','slice','E,\x0a\x20\x20\x20\x20\x20\x20\x20','keyword','nse\x20error:',',\x20?,\x20?)\x0a\x20\x20','esponses\x20=','length','\x20rr_index\x20','\x20=\x20(rr_ind','CREATE\x20IND','\x20bot\x20JID\x20n','participan','isFinite','Usage:\x20pde','UPDATE\x20pm_','object','\x0a\x20\x20\x20\x20\x20\x20\x20\x20C','\x20\x20\x20\x20\x20\x20\x20\x20\x20r','\x20\x20\x20\x20\x20id\x20IN','_pmfilters','\x20\x20\x20\x20\x20\x20crea','sendPresen','\x20\x20\x20\x20\x20\x20\x20\x20\x20c','_by\x20=\x20excl','AND\x20name=\x27','_index\x20FRO','Usage\x20(mul','7225900SaSzMs','reply','S\x20(?,\x20?,\x200','lfilter\x20tr','m_filters','\x20\x20\x20\x20\x20VALUE','filter','\x20\x20\x20\x20);\x0a\x20\x20\x20','[pmfilter]','T,\x0a\x20\x20\x20\x20\x20\x20\x20','INTEGER\x20DE','loaded\x20','isArray','videoMessa','fromMe','gger1,trig','ERE\x20trigge','join','ponse1\x0a!re','ypingAndWa','_trigger\x20O','filters\x20SE','pfilter','composing','message','run','split','includes','has','gger2\x0aOr:\x20','DELETE\x20FRO','startsWith','ot\x20availab','ted_at)\x0a\x20\x20','-only):\x0apf','imageMessa','get','\x20TEXT\x20NOT\x20','7960352yEzZgW','FILTERS','buttonsRes','Automaton\x20','rror:\x20','T\x20NULL\x20DEF','905927EZqUTp','_MS','PDATE\x20SET\x0a','\x20simulateT','ctReply','remoteJid','FAULT\x200,\x0a\x20','function','9ddOyCq','shift','+\x20failed:\x20','\x20WHERE\x20typ','1227636DfwnoG','selectedRo','[pfilter]\x20','pdelf','parse','ponseMessa','set','\x20deleted\x20','185143owuGeK','TE:\x20Filter','\x20pm_filter','\x20\x20\x20\x20\x20ON\x20CO','\x20ensureSch','\x20PM\x20the\x20bo','iled:\x20','trim','Deleted\x20AL','6415920yjQbOd','RESPONSE_M','rs(trigger','3236628PTULJj','TEGER\x20DEFA','keywords','ex,\x20create','rr_index','\x20\x20\x20created'];_0x2d3f=function(){return _0x6872e5;};return _0x2d3f();}function uniqArray(_0x1eec65){const _0x1f068c=_0xdf9da9,_0x3f607e=new Set(),_0x4c49af=[];for(const _0x52905a of _0x1eec65||[]){const _0x3b5e6b=String(_0x52905a||'')['trim']();if(!_0x3b5e6b)continue;!_0x3f607e[_0x1f068c(0x1a9)](_0x3b5e6b)&&(_0x3f607e['add'](_0x3b5e6b),_0x4c49af[_0x1f068c(0x1f4)](_0x3b5e6b));}return _0x4c49af;}function getMessageText(_0x4c5699){const _0x52b04e=_0xdf9da9;if(!_0x4c5699||!_0x4c5699['message'])return'';const _0x5e3337=_0x4c5699[_0x52b04e(0x1a5)];if(_0x5e3337[_0x52b04e(0x1e8)+'on'])return _0x5e3337[_0x52b04e(0x1e8)+'on'];if(_0x5e3337[_0x52b04e(0x226)+_0x52b04e(0x1ef)]?.['text'])return _0x5e3337[_0x52b04e(0x226)+'xtMessage'][_0x52b04e(0x206)];if(_0x5e3337[_0x52b04e(0x1b0)+'ge']?.[_0x52b04e(0x239)])return _0x5e3337[_0x52b04e(0x1b0)+'ge'][_0x52b04e(0x239)];if(_0x5e3337[_0x52b04e(0x19a)+'ge']?.[_0x52b04e(0x239)])return _0x5e3337[_0x52b04e(0x19a)+'ge'][_0x52b04e(0x239)];if(_0x5e3337['buttonsRes'+_0x52b04e(0x1ca)+'ge']?.[_0x52b04e(0x209)+_0x52b04e(0x203)])return _0x5e3337[_0x52b04e(0x1b5)+_0x52b04e(0x1ca)+'ge'][_0x52b04e(0x209)+'ttonId'];if(_0x5e3337[_0x52b04e(0x22c)+_0x52b04e(0x225)]?.[_0x52b04e(0x21c)+_0x52b04e(0x1bd)]?.[_0x52b04e(0x1c6)+_0x52b04e(0x204)])return _0x5e3337['listRespon'+_0x52b04e(0x225)][_0x52b04e(0x21c)+_0x52b04e(0x1bd)][_0x52b04e(0x1c6)+_0x52b04e(0x204)];return'';}async function ensureSchema(){const _0x444e7a=_0xdf9da9;try{const _0x3265ed=await db[_0x444e7a(0x1b1)](_0x444e7a(0x243)+'e\x20FROM\x20sql'+_0x444e7a(0x23c)+_0x444e7a(0x1c4)+_0x444e7a(0x20b)+_0x444e7a(0x282)+_0x444e7a(0x25c)+'\x27');if(!_0x3265ed){await db[_0x444e7a(0x200)](_0x444e7a(0x27a)+_0x444e7a(0x235)+_0x444e7a(0x256)+_0x444e7a(0x1fa)+_0x444e7a(0x27c)+_0x444e7a(0x1e4)+'ARY\x20KEY\x20AU'+'TOINCREMEN'+_0x444e7a(0x196)+_0x444e7a(0x1ea)+_0x444e7a(0x1b2)+_0x444e7a(0x211)+_0x444e7a(0x26b)+_0x444e7a(0x1fd)+_0x444e7a(0x221)+_0x444e7a(0x1b8)+_0x444e7a(0x1f7)+_0x444e7a(0x218)+_0x444e7a(0x271)+_0x444e7a(0x197)+_0x444e7a(0x1bf)+_0x444e7a(0x280)+'reated_by\x20'+'TEXT\x20DEFAU'+'LT\x20\x27\x27,\x0a\x20\x20\x20'+_0x444e7a(0x21e)+'ated_at\x20IN'+_0x444e7a(0x1da)+'ULT\x200\x0a\x20\x20\x20\x20'+_0x444e7a(0x194)+'\x20\x20\x20');try{await db[_0x444e7a(0x200)](_0x444e7a(0x273)+_0x444e7a(0x248)+_0x444e7a(0x23e)+_0x444e7a(0x27d)+_0x444e7a(0x1a1)+'N\x20pm_filte'+_0x444e7a(0x1d8)+');');}catch(_0x530995){}info(_0x444e7a(0x195)+_0x444e7a(0x1e3)+_0x444e7a(0x1fb)+_0x444e7a(0x229));}else info(_0x444e7a(0x195)+_0x444e7a(0x1cf)+'s\x20table\x20ex'+'ists');}catch(_0x59a8e9){error(_0x59a8e9,_0x444e7a(0x195)+_0x444e7a(0x1d1)+'ema\x20fatal');throw _0x59a8e9;}}async function upsertPmFilter(_0x2b29b5,_0x2eefef,_0x4b1b68){const _0x4de656=_0xdf9da9;try{const _0x43ec91=Math[_0x4de656(0x254)](Date['now']()/(-0x1*-0x1f2b+-0x5d2+0xb*-0x1f3)),_0x163d9f=JSON[_0x4de656(0x1f9)](uniqArray(ensureArray(_0x2eefef)[_0x4de656(0x202)](_0x245a1f=>String(_0x245a1f)['trim']())['filter'](Boolean)));await db[_0x4de656(0x1a6)](_0x4de656(0x24a)+_0x4de656(0x20e)+'rs\x20(trigge'+_0x4de656(0x1f2)+'es,\x20rr_ind'+_0x4de656(0x1dc)+_0x4de656(0x21d)+_0x4de656(0x1ae)+_0x4de656(0x192)+_0x4de656(0x18f)+_0x4de656(0x26e)+_0x4de656(0x1d0)+_0x4de656(0x258)+_0x4de656(0x1e0)+_0x4de656(0x1bb)+_0x4de656(0x27b)+_0x4de656(0x26f)+'\x20excluded.'+'responses,'+_0x4de656(0x218)+'rr_index\x20='+_0x4de656(0x21a)+_0x4de656(0x1de)+_0x4de656(0x281)+_0x4de656(0x210)+_0x4de656(0x253)+_0x4de656(0x27e)+_0x4de656(0x20c)+_0x4de656(0x246)+'eated_at;',[_0x2b29b5,_0x163d9f,_0x4b1b68||'',_0x43ec91]);try{automatonCache[_0x4de656(0x232)](_0x4de656(0x249));}catch(_0x32f245){}return info('[pmfilter]'+_0x4de656(0x1e5)+_0x2b29b5),!![];}catch(_0xadca83){return error(_0xadca83,_0x4de656(0x195)+_0x4de656(0x1ec)+'iled\x20for\x20'+_0x2b29b5),![];}}async function deletePmFilters(_0x36c4f7){const _0x3528d1=_0xdf9da9;if(!Array[_0x3528d1(0x199)](_0x36c4f7)||_0x36c4f7[_0x3528d1(0x270)]===0x5*-0x32b+-0x4c*-0x10+-0x11*-0xa7)return 0x2*-0x469+0x10e0+-0x80e;try{let _0x5368e5=-0x26b0+0x823+0x1*0x1e8d;for(const _0x2c8d70 of _0x36c4f7){const _0x46c130=await db[_0x3528d1(0x1a6)](_0x3528d1(0x1ab)+_0x3528d1(0x250)+_0x3528d1(0x268)+_0x3528d1(0x213),[_0x2c8d70]);if(_0x46c130?.[_0x3528d1(0x261)])_0x5368e5+=_0x46c130[_0x3528d1(0x261)];info('[pmfilter]'+_0x3528d1(0x1cc)+_0x2c8d70);}try{automatonCache[_0x3528d1(0x232)](_0x3528d1(0x249));}catch(_0x2f6cdc){}return _0x5368e5;}catch(_0x2b6923){return error(_0x2b6923,_0x3528d1(0x195)+_0x3528d1(0x228)+_0x3528d1(0x1d3)+(_0x2b6923?.[_0x3528d1(0x1a5)]||_0x2b6923)),0x115e+0x286+-0x13e4;}}async function listPmTriggers(){const _0x270796=_0xdf9da9;try{const _0x3c150f=await db[_0x270796(0x24c)](_0x270796(0x1f5)+_0x270796(0x25f)+_0x270796(0x240)+_0x270796(0x1fb)+_0x270796(0x217)+_0x270796(0x255));return(_0x3c150f||[])[_0x270796(0x202)](_0x4c457e=>_0x4c457e['trigger']);}catch(_0x2e4169){return warn(_0x2e4169,_0x270796(0x195)+_0x270796(0x22b)+'ers\x20failed'+':\x20'+(_0x2e4169?.[_0x270796(0x1a5)]||_0x2e4169)),[];}}async function pickPmResponseAndAdvance(_0x2eb28a,_0x2f42a5=_0xdf9da9(0x215)){const _0x4783de=_0xdf9da9;try{const _0x3673e7=await db[_0x4783de(0x1b1)](_0x4783de(0x219)+_0x4783de(0x244)+_0x4783de(0x18b)+_0x4783de(0x250)+_0x4783de(0x268)+_0x4783de(0x213)+'\x20LIMIT\x201',[_0x2eb28a]);if(!_0x3673e7)return null;let _0x5c39c0=[];try{_0x5c39c0=JSON[_0x4783de(0x1c9)](_0x3673e7['responses']||'[]');}catch{_0x5c39c0=ensureArray(_0x3673e7['responses']);}_0x5c39c0=ensureArray(_0x5c39c0);if(!_0x5c39c0[_0x4783de(0x270)])return null;if((_0x2f42a5||'')[_0x4783de(0x24e)+'e']()===_0x4783de(0x227)){const _0x4fbc91=Math[_0x4783de(0x254)](Math[_0x4783de(0x227)]()*_0x5c39c0[_0x4783de(0x270)]);return _0x5c39c0[_0x4fbc91];}const _0x1da1d9=Number(_0x3673e7[_0x4783de(0x1dd)]||0x49e+-0x2660+0x12a*0x1d),_0x5977ca=_0x5c39c0[_0x1da1d9%_0x5c39c0['length']];try{await db[_0x4783de(0x1a6)](_0x4783de(0x278)+_0x4783de(0x1a2)+'T\x20rr_index'+_0x4783de(0x272)+_0x4783de(0x1fe)+_0x4783de(0x19d)+_0x4783de(0x263),[_0x2eb28a]);}catch(_0x215a13){warn(_0x4783de(0x195)+_0x4783de(0x1ee)+_0x4783de(0x1c3)+(_0x215a13?.[_0x4783de(0x1a5)]||_0x215a13));}return _0x5977ca;}catch(_0x3ab1c6){return warn(_0x4783de(0x195)+_0x4783de(0x1ed)+_0x4783de(0x26d)+'\x20'+(_0x3ab1c6?.[_0x4783de(0x1a5)]||_0x3ab1c6)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(-0x26c7+-0x26f6+0x4ddb)*(-0x230f+-0xc48*-0x2+0x4cd*0x3);function makeDedupeKey(_0x52336b){const _0x354d08=_0xdf9da9,_0x3c507e=_0x52336b?.[_0x354d08(0x22f)];if(!_0x3c507e)return null;const _0x53695f=_0x3c507e['id']||_0x3c507e?.[_0x354d08(0x275)+'t']||'',_0x7ba81f=_0x3c507e[_0x354d08(0x1be)]||'';return _0x7ba81f+'::'+_0x53695f;}function _0x58ce(_0x3df465,_0x43dba4){const _0x3f24d6=_0x2d3f();return _0x58ce=function(_0x243dd9,_0x35703d){_0x243dd9=_0x243dd9-(0xfa+-0x443*0x9+0x26ec);let _0x10d6c8=_0x3f24d6[_0x243dd9];return _0x10d6c8;},_0x58ce(_0x3df465,_0x43dba4);}function isProcessed(_0x58398e){const _0x2c3a24=_0xdf9da9;return _0x58398e&&processedMessageKeys[_0x2c3a24(0x1a9)](_0x58398e);}function markProcessed(_0x1d6175){const _0x319383=_0xdf9da9;if(!_0x1d6175)return;if(processedMessageKeys['has'](_0x1d6175))clearTimeout(processedMessageKeys[_0x319383(0x1b1)](_0x1d6175));const _0x6cbf1=setTimeout(()=>processedMessageKeys[_0x319383(0x232)](_0x1d6175),DEDUPE_TTL_MS);processedMessageKeys[_0x319383(0x1cb)](_0x1d6175,_0x6cbf1);}class Aho{constructor(){const _0x5d804f=_0xdf9da9;this[_0x5d804f(0x257)]=[{'next':Object[_0x5d804f(0x1f1)](null),'fail':0x0,'output':[]}];}[_0xdf9da9(0x25a)](_0x34bc27){const _0x2ab9f4=_0xdf9da9;this[_0x2ab9f4(0x257)]=[{'next':Object['create'](null),'fail':0x0,'output':[]}];for(const _0x55d065 of _0x34bc27){let _0x182161=-0x1954+-0x2245+0xd1*0x49;for(let _0x2e40e8=0x109f*0x1+-0x18b7+-0x1c*-0x4a;_0x2e40e8<_0x55d065['length'];_0x2e40e8++){const _0x94f6de=_0x55d065[_0x2e40e8];!this[_0x2ab9f4(0x257)][_0x182161][_0x2ab9f4(0x22e)][_0x94f6de]&&(this[_0x2ab9f4(0x257)][_0x182161]['next'][_0x94f6de]=this[_0x2ab9f4(0x257)][_0x2ab9f4(0x270)],this[_0x2ab9f4(0x257)]['push']({'next':Object[_0x2ab9f4(0x1f1)](null),'fail':0x0,'output':[]})),_0x182161=this['nodes'][_0x182161][_0x2ab9f4(0x22e)][_0x94f6de];}this[_0x2ab9f4(0x257)][_0x182161][_0x2ab9f4(0x22a)][_0x2ab9f4(0x1f4)](_0x55d065);}const _0x3ef655=[];for(const _0x233181 in this['nodes'][-0x24c3+-0x109f*-0x1+0x1424][_0x2ab9f4(0x22e)]){const _0x47164b=this[_0x2ab9f4(0x257)][0x141*0x12+-0x2bd+-0x13d5][_0x2ab9f4(0x22e)][_0x233181];this[_0x2ab9f4(0x257)][_0x47164b][_0x2ab9f4(0x236)]=-0x121d*-0x2+0x4*0x466+-0x35d2,_0x3ef655['push'](_0x47164b);}while(_0x3ef655['length']){const _0x88fb7f=_0x3ef655['shift']();for(const _0x22da73 in this['nodes'][_0x88fb7f][_0x2ab9f4(0x22e)]){const _0x327351=this[_0x2ab9f4(0x257)][_0x88fb7f][_0x2ab9f4(0x22e)][_0x22da73];let _0x2a13a5=this[_0x2ab9f4(0x257)][_0x88fb7f][_0x2ab9f4(0x236)];while(_0x2a13a5&&!this[_0x2ab9f4(0x257)][_0x2a13a5][_0x2ab9f4(0x22e)][_0x22da73])_0x2a13a5=this[_0x2ab9f4(0x257)][_0x2a13a5][_0x2ab9f4(0x236)];if(this[_0x2ab9f4(0x257)][_0x2a13a5][_0x2ab9f4(0x22e)][_0x22da73])this[_0x2ab9f4(0x257)][_0x327351][_0x2ab9f4(0x236)]=this['nodes'][_0x2a13a5][_0x2ab9f4(0x22e)][_0x22da73];else this['nodes'][_0x327351][_0x2ab9f4(0x236)]=0x10fd+0x2591+0x2*-0x1b47;this[_0x2ab9f4(0x257)][_0x327351][_0x2ab9f4(0x22a)][_0x2ab9f4(0x1f4)](...this[_0x2ab9f4(0x257)][this[_0x2ab9f4(0x257)][_0x327351][_0x2ab9f4(0x236)]]['output']),_0x3ef655[_0x2ab9f4(0x1f4)](_0x327351);}}}[_0xdf9da9(0x25e)](_0x2bc19d){const _0x32f7ab=_0xdf9da9,_0x3a911a=[];let _0xae9f19=-0xb8*0x1d+0x952+0x5*0x24e;for(let _0x15117e=0x5e3+-0x101*0x14+0xe31;_0x15117e<_0x2bc19d[_0x32f7ab(0x270)];_0x15117e++){const _0x4ef497=_0x2bc19d[_0x15117e];while(_0xae9f19&&!this['nodes'][_0xae9f19]['next'][_0x4ef497])_0xae9f19=this[_0x32f7ab(0x257)][_0xae9f19][_0x32f7ab(0x236)];if(this[_0x32f7ab(0x257)][_0xae9f19][_0x32f7ab(0x22e)][_0x4ef497])_0xae9f19=this[_0x32f7ab(0x257)][_0xae9f19][_0x32f7ab(0x22e)][_0x4ef497];else _0xae9f19=0x5*-0x1d1+0x73b+0x1da*0x1;if(this[_0x32f7ab(0x257)][_0xae9f19][_0x32f7ab(0x22a)]['length']){for(const _0x59e259 of this[_0x32f7ab(0x257)][_0xae9f19][_0x32f7ab(0x22a)])_0x3a911a[_0x32f7ab(0x1f4)]({'keyword':_0x59e259,'index':_0x15117e-_0x59e259[_0x32f7ab(0x270)]+(-0xc3*-0x25+-0x157f*0x1+0x6af*-0x1)});}}return _0x3a911a;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x4f2791=_0xdf9da9;if(automatonCache[_0x4f2791(0x1a9)](_0x4f2791(0x249)))return automatonCache[_0x4f2791(0x1b1)](_0x4f2791(0x249));try{const _0x1cd02b=await db['all'](_0x4f2791(0x1f5)+'TINCT\x20trig'+_0x4f2791(0x240)+_0x4f2791(0x191)),_0x2a4085=(_0x1cd02b||[])['map'](_0x536c91=>String(_0x536c91[_0x4f2791(0x23b)]||'')[_0x4f2791(0x1d4)]())['filter'](Boolean),_0x5a70bc=_0x2a4085['filter'](_0x70a45e=>{const _0x44efc8=_0x4f2791,_0x55e8c5=String(_0x70a45e)[_0x44efc8(0x1d4)]()[_0x44efc8(0x24e)+'e']();if(_0x55e8c5[_0x44efc8(0x1ac)]('regex:'))return![];if(_0x70a45e[_0x44efc8(0x1a8)]('*'))return![];return!![];}),_0x598833=_0x5a70bc[_0x4f2791(0x202)](_0x491794=>_0x491794[_0x4f2791(0x24e)+'e']()),_0x4274b3=new Aho();if(_0x598833[_0x4f2791(0x270)])_0x4274b3['build'](_0x598833);const _0x186969={'ac':_0x4274b3,'keywords':_0x598833,'normalSet':new Set(_0x598833),'triggers':_0x2a4085};return automatonCache[_0x4f2791(0x1cb)](_0x4f2791(0x249),_0x186969),_0x186969;}catch(_0x1fbb11){return warn('[pmfilter]'+'\x20getGlobal'+_0x4f2791(0x1b6)+'failed:\x20'+(_0x1fbb11?.[_0x4f2791(0x1a5)]||_0x1fbb11)),null;}}async function sendPmReply(_0x370639,_0x38d9a4,_0x2f860a){const _0xbbc880=_0xdf9da9;if(!_0x2f860a)return;let _0x1d4957=_0x38d9a4;try{if(!_0x1d4957&&_0x370639&&_0x370639[_0xbbc880(0x22f)]&&_0x370639['key'][_0xbbc880(0x1be)])_0x1d4957=_0x370639[_0xbbc880(0x22f)][_0xbbc880(0x1be)];}catch(_0x27734b){}if(!_0x1d4957)return;const _0x430088={'text':String(_0x2f860a)},_0x5009d0=clampConfigTypingMs();if(_0x5009d0>-0x1*-0x10b1+-0x2209+-0x6f*-0x28)try{await simulateTypingAndWait(botInstance?.['sock'],_0x1d4957,_0x5009d0);}catch(_0x48aad0){warn('[pmfilter]'+_0xbbc880(0x1bc)+_0xbbc880(0x1a0)+_0xbbc880(0x25b)+(_0x48aad0?.[_0xbbc880(0x1a5)]||_0x48aad0));}try{if(_0x370639&&typeof _0x370639[_0xbbc880(0x18e)]==='function'&&_0x370639[_0xbbc880(0x22f)]&&_0x370639[_0xbbc880(0x22f)][_0xbbc880(0x1be)]===_0x1d4957)try{await _0x370639[_0xbbc880(0x18e)]({'text':String(_0x2f860a)});return;}catch(_0x23062d){warn(_0xbbc880(0x195)+'\x20quoted\x20re'+_0xbbc880(0x237)+':\x20'+(_0x23062d?.[_0xbbc880(0x1a5)]||_0x23062d));}if(botInstance&&typeof botInstance['sendMessag'+'e']===_0xbbc880(0x1c0))await botInstance[_0xbbc880(0x21f)+'e'](_0x1d4957,_0x430088);else botInstance&&botInstance['sock']&&typeof botInstance['sock']['sendMessag'+'e']==='function'?await botInstance[_0xbbc880(0x205)]['sendMessag'+'e'](_0x1d4957,_0x430088):warn(_0xbbc880(0x195)+_0xbbc880(0x201)+'PI\x20availab'+'le');}catch(_0x16e282){warn(_0xbbc880(0x195)+_0xbbc880(0x20f)+'ly\x20failed:'+'\x20'+(_0x16e282?.[_0xbbc880(0x1a5)]||_0x16e282));}}export async function initialize(_0x1a432a){const _0xc554f8=_0xdf9da9;try{botInstance=_0x1a432a,botJid=_0x1a432a?.[_0xc554f8(0x205)]?.['user']?.['id']||null;if(!botJid)warn(_0xc554f8(0x195)+_0xc554f8(0x274)+_0xc554f8(0x1ad)+_0xc554f8(0x260)+'ialize()');if(botInstance){if(typeof botInstance[_0xc554f8(0x21f)+'e']===_0xc554f8(0x1c0))sendApi=async(_0x2fce98,_0x365cf9)=>await botInstance[_0xc554f8(0x21f)+'e'](_0x2fce98,_0x365cf9);else{if(botInstance[_0xc554f8(0x205)]&&typeof botInstance['sock'][_0xc554f8(0x21f)+'e']===_0xc554f8(0x1c0))sendApi=async(_0x2629e6,_0x529f56)=>await botInstance['sock'][_0xc554f8(0x21f)+'e'](_0x2629e6,_0x529f56);else sendApi=null;}}await ensureSchema(),info('[pmfilter]'+_0xc554f8(0x24b)+_0xc554f8(0x22d)+'tJid='+(botJid||'unknown'));}catch(_0x563d9c){error(_0x563d9c,_0xc554f8(0x195)+_0xc554f8(0x24b)+'e\x20error:\x20'+(_0x563d9c?.[_0xc554f8(0x1a5)]||_0x563d9c));throw _0x563d9c;}}function detectCommandNameFromCmdText(_0x110ec6){const _0x2a2b20=_0xdf9da9;if(!_0x110ec6)return null;const _0x32e7cc=_0x110ec6[_0x2a2b20(0x1d4)]();if(!_0x32e7cc)return null;return _0x32e7cc['split'](/\s+/)[0x8ef*-0x1+-0x1622+0x1f11][_0x2a2b20(0x24e)+'e']();}function parsePmFilterCommandText(_0x34e500,_0x165f73){const _0x2200b4=_0xdf9da9;if(!_0x34e500)return null;const _0x213b30=_0x34e500['split'](/\r?\n/)[_0x2200b4(0x202)](_0x882d58=>_0x882d58['replace'](/\r/g,''));if(!_0x213b30[_0x2200b4(0x270)])return null;let _0x3c8247=_0x213b30[-0x26*-0xe3+-0xea8+0x2*-0x985][_0x2200b4(0x1d4)]();if(_0x165f73){if(Array[_0x2200b4(0x199)](_0x165f73))for(const _0x1043b8 of _0x165f73){if(_0x3c8247[_0x2200b4(0x1ac)](_0x1043b8)){_0x3c8247=_0x3c8247[_0x2200b4(0x26a)](_0x1043b8['length'])[_0x2200b4(0x1d4)]();break;}}else typeof _0x165f73==='string'&&_0x3c8247[_0x2200b4(0x1ac)](_0x165f73)&&(_0x3c8247=_0x3c8247[_0x2200b4(0x26a)](_0x165f73[_0x2200b4(0x270)])[_0x2200b4(0x1d4)]());}const _0x51da61=_0x3c8247[_0x2200b4(0x1a7)](/\s+/);if(_0x51da61[-0x1c78*-0x1+-0x1*-0x1867+-0x34df]['toLowerCas'+'e']()===_0x2200b4(0x1a3))_0x51da61['shift']();const _0x4cbd12=_0x51da61[_0x2200b4(0x19e)]('\x20')[_0x2200b4(0x1d4)](),_0x3b0a09=_0x4cbd12?_0x4cbd12[_0x2200b4(0x1a7)](',')['map'](_0x298664=>_0x298664[_0x2200b4(0x1d4)]())['filter'](Boolean):[],_0x3e4a9f=_0x213b30[_0x2200b4(0x26a)](-0x229b*0x1+0x1851+0xa4b)[_0x2200b4(0x202)](_0x3da095=>_0x3da095[_0x2200b4(0x1d4)]())[_0x2200b4(0x193)](Boolean)[_0x2200b4(0x193)](_0x56b59f=>_0x56b59f[_0x2200b4(0x1ac)]('!'))[_0x2200b4(0x202)](_0x281617=>_0x281617['slice'](0x19d9+0x21f5+-0x3bcd)[_0x2200b4(0x1d4)]())[_0x2200b4(0x193)](Boolean);return{'triggers':_0x3b0a09,'responses':_0x3e4a9f};}async function determineConfirmationTarget(_0x58c7a6){const _0x20d4b7=_0xdf9da9;try{if(!_0x58c7a6||!_0x58c7a6[_0x20d4b7(0x22f)])return null;if(_0x58c7a6[_0x20d4b7(0x22f)][_0x20d4b7(0x19b)]){const _0x52b59d=getBotJid();return _0x52b59d||_0x58c7a6[_0x20d4b7(0x22f)][_0x20d4b7(0x1be)];}return _0x58c7a6[_0x20d4b7(0x22f)][_0x20d4b7(0x1be)];}catch(_0x2fa391){warn(_0x20d4b7(0x195)+_0x20d4b7(0x23a)+'Confirmati'+_0x20d4b7(0x23f)+_0x20d4b7(0x1b7)+(_0x2fa391?.['message']||_0x2fa391));try{return _0x58c7a6[_0x20d4b7(0x22f)][_0x20d4b7(0x1be)];}catch(_0x38a65a){return null;}}}export async function onMessage(_0x1d007c){const _0x2e2d71=_0xdf9da9;try{if(!_0x1d007c||!_0x1d007c['key']||!_0x1d007c[_0x2e2d71(0x1a5)])return;const _0x4befe1=makeDedupeKey(_0x1d007c);if(isProcessed(_0x4befe1))return;markProcessed(_0x4befe1);const _0x4c1461=_0x1d007c[_0x2e2d71(0x22f)][_0x2e2d71(0x1be)],_0x33f050=typeof _0x4c1461===_0x2e2d71(0x1e1)&&_0x4c1461[_0x2e2d71(0x267)](_0x2e2d71(0x1df)),_0x4736e7=!!_0x1d007c[_0x2e2d71(0x22f)][_0x2e2d71(0x19b)],_0x259eef=_0x1d007c['key']&&(_0x1d007c[_0x2e2d71(0x22f)][_0x2e2d71(0x275)+'t']||_0x1d007c[_0x2e2d71(0x22f)][_0x2e2d71(0x241)]||_0x1d007c[_0x2e2d71(0x22f)][_0x2e2d71(0x1be)])||'';if(_0x1d007c[_0x2e2d71(0x220)]){if(_0x33f050)return;const _0x502c66=!!_0x1d007c['key'][_0x2e2d71(0x19b)];let _0x5afbc4=![];try{_0x5afbc4=await isSudo(botInstance,_0x1d007c);}catch(_0x35838f){_0x5afbc4=![];}if(!_0x502c66&&!_0x5afbc4)return;const _0x5b21a8=await determineConfirmationTarget(_0x1d007c),_0x1b5060=typeof _0x1d007c['text']==='string'&&_0x1d007c[_0x2e2d71(0x206)]['trim']()[_0x2e2d71(0x270)]?_0x1d007c[_0x2e2d71(0x206)][_0x2e2d71(0x1d4)]():getMessageText(_0x1d007c)['trim'](),_0x3f308e=detectCommandNameFromCmdText(_0x1b5060);if(!_0x3f308e)return;if(!_0x3f308e[_0x2e2d71(0x1ac)]('p'))return;if(_0x3f308e==='pfilter'){const _0x5f4ab6=getConfig()||{},_0x52fb4f=parsePmFilterCommandText(_0x1b5060||getMessageText(_0x1d007c),_0x5f4ab6[_0x2e2d71(0x25d)+'EFIX']??_0x5f4ab6[_0x2e2d71(0x216)]??null);if(!_0x52fb4f||!_0x52fb4f['triggers'][_0x2e2d71(0x270)]||!_0x52fb4f[_0x2e2d71(0x247)][_0x2e2d71(0x270)]){await sendPmReply(_0x1d007c,_0x5b21a8,_0x2e2d71(0x18c)+_0x2e2d71(0x231)+_0x2e2d71(0x1af)+_0x2e2d71(0x1f6)+_0x2e2d71(0x19c)+_0x2e2d71(0x259)+_0x2e2d71(0x19f)+_0x2e2d71(0x251)+_0x2e2d71(0x1ce)+'s\x20are\x20glob'+_0x2e2d71(0x1eb)+_0x2e2d71(0x224)+_0x2e2d71(0x1f0)+_0x2e2d71(0x1d2)+'t.');return;}let _0xd43b51=-0x1*-0x1ad7+-0x381+0xbab*-0x2;for(const _0x3ed429 of _0x52fb4f[_0x2e2d71(0x230)]){const _0x59b8a5=await upsertPmFilter(_0x3ed429,_0x52fb4f[_0x2e2d71(0x247)],_0x259eef||'');if(_0x59b8a5)_0xd43b51++;}await sendPmReply(_0x1d007c,_0x5b21a8,_0x2e2d71(0x265)+_0xd43b51+(_0x2e2d71(0x1f8)+_0x2e2d71(0x262)));return;}if(_0x3f308e===_0x2e2d71(0x1fc)+'r'){const _0x43aeb8=await listPmTriggers();await sendPmReply(_0x1d007c,_0x5b21a8,_0x2e2d71(0x1c7)+_0x2e2d71(0x198)+_0x43aeb8[_0x2e2d71(0x270)]+_0x2e2d71(0x233));if(!_0x43aeb8['length'])return;let _0x22ab64='';for(const _0x37b256 of _0x43aeb8){const _0x39477e='â€¢\x20'+_0x37b256+'\x0a';(_0x22ab64+_0x39477e)['length']>0x11*0x210+0x14fb+-0x322f&&(await sendPmReply(_0x1d007c,_0x5b21a8,_0x22ab64[_0x2e2d71(0x1d4)]()),_0x22ab64=''),_0x22ab64+=_0x39477e;}if(_0x22ab64['trim']())await sendPmReply(_0x1d007c,_0x5b21a8,_0x22ab64['trim']());return;}if(_0x3f308e===_0x2e2d71(0x20a)||_0x3f308e===_0x2e2d71(0x20a)+'s'||_0x3f308e==='pdelf'){const _0x4969f2=getMessageText(_0x1d007c)||'',_0x5a4d6a=_0x4969f2[_0x2e2d71(0x1a7)](/\r?\n/)[_0x2e2d71(0x202)](_0x136bb2=>_0x136bb2[_0x2e2d71(0x1d4)]());let _0x4bdaff=null;if(_0x5a4d6a['length']>0xa84*0x2+-0xde1*0x2+0x6bb)_0x4bdaff=_0x5a4d6a[-0x1*-0x22dd+-0x6f*0x1d+-0x1*0x1649];else{const _0x345b98=(_0x1b5060||_0x4969f2)[_0x2e2d71(0x1d4)]()[_0x2e2d71(0x1a7)](/\s+/);_0x345b98[_0x2e2d71(0x1c2)](),_0x4bdaff=_0x345b98[_0x2e2d71(0x19e)]('\x20')[_0x2e2d71(0x1d4)]();}const _0x4a748f=(_0x4bdaff||'')[_0x2e2d71(0x1a7)](',')[_0x2e2d71(0x202)](_0xb4727d=>_0xb4727d['trim']())[_0x2e2d71(0x193)](Boolean);if(!_0x4a748f[_0x2e2d71(0x270)]){await sendPmReply(_0x1d007c,_0x5b21a8,_0x2e2d71(0x277)+_0x2e2d71(0x190)+'igger1,tri'+_0x2e2d71(0x1aa)+_0x2e2d71(0x20a)+'\x20all\x20\x20\x20(er'+_0x2e2d71(0x266)+'m\x20filters)');return;}if(_0x4a748f['length']===-0x2f*0x2+0x1b6d+-0x1*0x1b0e&&_0x4a748f[-0x1*0x248c+-0x2a4*0xb+0x4198][_0x2e2d71(0x24e)+'e']()==='all')try{const _0xed3880=await db[_0x2e2d71(0x1a6)](_0x2e2d71(0x1ab)+_0x2e2d71(0x250)+'rs'),_0x383989=_0xed3880?.[_0x2e2d71(0x261)]||-0x1192+-0x8bc*-0x3+-0x1*0x8a2;try{automatonCache['clear']();}catch(_0x471642){}await sendPmReply(_0x1d007c,_0x5b21a8,_0x2e2d71(0x1d5)+_0x2e2d71(0x252)+_0x2e2d71(0x222)+_0x2e2d71(0x238)+_0x383989);return;}catch(_0x3eee65){warn(_0x2e2d71(0x195)+'\x20pdelfilte'+'r\x20all\x20fail'+'ed:\x20'+(_0x3eee65?.[_0x2e2d71(0x1a5)]||_0x3eee65)),await sendPmReply(_0x1d007c,_0x5b21a8,_0x2e2d71(0x245)+'delete\x20all'+_0x2e2d71(0x1e6)+(_0x3eee65?.[_0x2e2d71(0x1a5)]||_0x3eee65));return;}const _0x285566=await deletePmFilters(_0x4a748f);await sendPmReply(_0x1d007c,_0x5b21a8,_0x2e2d71(0x1e9)+_0x285566+(_0x2e2d71(0x1f8)+_0x2e2d71(0x262)));return;}return;}const _0x1b32e8=_0x4c1461;if(!_0x1b32e8)return;if(_0x33f050)return;if(_0x4736e7)return;if(_0x1b32e8===botJid)return;const _0x55f356=getMessageText(_0x1d007c);if(!_0x55f356)return;const _0x449612=String(_0x55f356||''),_0x37e38e=await db[_0x2e2d71(0x24c)]('SELECT\x20DIS'+_0x2e2d71(0x25f)+_0x2e2d71(0x240)+_0x2e2d71(0x191));if(!_0x37e38e||_0x37e38e[_0x2e2d71(0x270)]===-0x95*-0x7+-0x2*-0x9b7+-0x223*0xb)return;const _0x2648e1=(_0x37e38e||[])['map'](_0xc3a84f=>String(_0xc3a84f[_0x2e2d71(0x23b)]||'')[_0x2e2d71(0x1d4)]())[_0x2e2d71(0x193)](Boolean),_0x28cbca=[],_0x421569=[],_0x296102=[];for(const _0xd61453 of _0x2648e1){const _0x2127c7=String(_0xd61453)[_0x2e2d71(0x1d4)]()['toLowerCas'+'e']();if(_0x2127c7[_0x2e2d71(0x1ac)](_0x2e2d71(0x23d))){_0x296102['push'](_0xd61453['substring'](-0x10b*-0x23+-0x53*-0x59+-0x4156));continue;}if(_0xd61453['includes']('*')){_0x421569[_0x2e2d71(0x1f4)](_0xd61453);continue;}_0x28cbca[_0x2e2d71(0x1f4)](_0xd61453);}const _0x3cac31=getConfig()||{},_0x455949=_0x3cac31['FILTERS']&&typeof _0x3cac31[_0x2e2d71(0x1b4)]===_0x2e2d71(0x279)?_0x3cac31[_0x2e2d71(0x1b4)]:{},_0x5a96ec=(_0x455949[_0x2e2d71(0x1d7)+'ODE']||'roundrobin')[_0x2e2d71(0x24e)+'e']();let _0x2c04ba=null;if(_0x28cbca[_0x2e2d71(0x270)]>0x19f*-0x18+0x187d+-0xe6b*-0x1)try{const _0x5eb3b4=await getGlobalAutomaton();if(_0x5eb3b4&&_0x5eb3b4['ac']&&_0x5eb3b4[_0x2e2d71(0x1db)]&&_0x5eb3b4[_0x2e2d71(0x1db)][_0x2e2d71(0x270)]){const _0x4f57c5=_0x449612[_0x2e2d71(0x24e)+'e'](),_0x12acc2=_0x5eb3b4['ac']['search'](_0x4f57c5);for(const _0x56108d of _0x12acc2){const _0x54fedf=_0x56108d[_0x2e2d71(0x26c)],_0x258837=_0x56108d[_0x2e2d71(0x1ff)],_0x36eca2=_0x258837+_0x54fedf[_0x2e2d71(0x270)],_0x541e95=_0x258837===0x291+0x1d55+-0x1fe6||!/\w/[_0x2e2d71(0x223)](_0x4f57c5[_0x258837-(-0x1a27*0x1+-0x86d*0x1+0x2295)]),_0x3148e7=_0x36eca2===_0x4f57c5[_0x2e2d71(0x270)]||!/\w/[_0x2e2d71(0x223)](_0x4f57c5[_0x36eca2]);if(_0x541e95&&_0x3148e7){const _0x2681ed=_0x28cbca[_0x2e2d71(0x264)](_0x54d67d=>_0x54d67d[_0x2e2d71(0x24e)+'e']()===_0x54fedf);if(_0x2681ed){_0x2c04ba=_0x2681ed;break;}}}}else for(const _0x26e8e0 of _0x28cbca){const _0xb66ca9=new RegExp('\x5cb'+escapeRegex(String(_0x26e8e0))+'\x5cb','i');if(_0xb66ca9['test'](_0x449612)){_0x2c04ba=_0x26e8e0;break;}}}catch(_0x31debf){warn(_0x2e2d71(0x195)+_0x2e2d71(0x24d)+_0x2e2d71(0x269)+(_0x31debf?.[_0x2e2d71(0x1a5)]||_0x31debf));for(const _0x500d28 of _0x28cbca){try{const _0xbc1d32=new RegExp('\x5cb'+escapeRegex(String(_0x500d28))+'\x5cb','i');if(_0xbc1d32['test'](_0x449612)){_0x2c04ba=_0x500d28;break;}}catch(_0x46d944){}}}if(!_0x2c04ba&&_0x421569[_0x2e2d71(0x270)]>-0x7db*0x1+-0x92e+-0x1109*-0x1)for(const _0x4fba8f of _0x421569){try{const _0x2906dc=new RegExp(wildcardToRegexPattern(_0x4fba8f),'i');if(_0x2906dc[_0x2e2d71(0x223)](_0x449612)){_0x2c04ba=_0x4fba8f;break;}}catch(_0x51a619){if(_0x449612['toLowerCas'+'e']()[_0x2e2d71(0x1a8)](_0x4fba8f['replace'](/\*/g,'')[_0x2e2d71(0x24e)+'e']())){_0x2c04ba=_0x4fba8f;break;}}}if(!_0x2c04ba&&_0x296102[_0x2e2d71(0x270)]>0x2*-0xf32+-0x14ae+-0x3312*-0x1)for(const _0x498197 of _0x296102){try{const _0x5520d4=new RegExp(_0x498197,'i');if(_0x5520d4[_0x2e2d71(0x223)](_0x449612)){_0x2c04ba='regex:'+_0x498197;break;}}catch(_0x36795a){warn(_0x2e2d71(0x195)+'\x20invalid\x20s'+_0x2e2d71(0x24f)+_0x2e2d71(0x242)+_0x498197+'\x22\x20-\x20'+(_0x36795a?.['message']||_0x36795a));}}if(_0x2c04ba){const _0x6c2e91=await pickPmResponseAndAdvance(_0x2c04ba['replace'](/\s+$/,''),_0x5a96ec);if(!_0x6c2e91)return;await sendPmReply(_0x1d007c,_0x1b32e8,_0x6c2e91);}}catch(_0x3d9e35){error(_0x3d9e35,_0x2e2d71(0x195)+_0x2e2d71(0x214)+_0x2e2d71(0x1b7)+(_0x3d9e35?.['message']||_0x3d9e35));}}export async function cleanup(){const _0x348f1d=_0xdf9da9;try{for(const _0x12d06c of processedMessageKeys[_0x348f1d(0x234)]())try{clearTimeout(_0x12d06c);}catch(_0x109eac){}processedMessageKeys[_0x348f1d(0x21b)](),automatonCache[_0x348f1d(0x21b)](),botInstance=null,botJid=null,sendApi=null,info(_0x348f1d(0x195)+'\x20cleaned\x20u'+'p');}catch(_0x20d7af){warn(_0x348f1d(0x195)+'\x20cleanup\x20e'+_0x348f1d(0x1b7)+(_0x20d7af?.[_0x348f1d(0x1a5)]||_0x20d7af));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};