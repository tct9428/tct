const _0x558db9=_0xba63;(function(_0x1170d4,_0x43381a){const _0x208caf=_0xba63,_0x809163=_0x1170d4();while(!![]){try{const _0x3a90df=-parseInt(_0x208caf(0x14a))/(0x13d9+0xd*-0x254+0xa6c)+parseInt(_0x208caf(0x154))/(0x1b*-0x16b+0x116d+0x2*0xa6f)*(parseInt(_0x208caf(0xc0))/(0x11c+0x4f*-0x5+0x39*0x2))+-parseInt(_0x208caf(0x18c))/(0x1e3a*0x1+0xb2+-0x1ee8)*(-parseInt(_0x208caf(0xda))/(-0x1524+0x125*-0x9+-0x2*-0xfbb))+parseInt(_0x208caf(0xf9))/(0x1*-0x20c9+0x251d+-0x44e)*(-parseInt(_0x208caf(0x15c))/(-0x62*-0x25+0xdb5+-0x1bd8))+-parseInt(_0x208caf(0x18b))/(-0xb*0x1dd+0x1534+-0xad)*(parseInt(_0x208caf(0x129))/(-0x21c6+0xf64+0x126b))+-parseInt(_0x208caf(0x178))/(0x7b5+-0x3*-0x44d+0x1492*-0x1)*(parseInt(_0x208caf(0x117))/(-0x116b+0x1109*-0x2+0x3388))+parseInt(_0x208caf(0x19a))/(0x24c7+-0xa9a+-0x1a21);if(_0x3a90df===_0x43381a)break;else _0x809163['push'](_0x809163['shift']());}catch(_0x24aed3){_0x809163['push'](_0x809163['shift']());}}}(_0x3fc1,-0x72400+0x42d7*0x5+0xb2238*0x1));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name='pmfilter';export const version='1.2.0';export const priority=-0x3b5+-0x23f5+0x27af;export const configKeys=['FILTERS'];export const commands=[_0x558db9(0xc6),_0x558db9(0x1af)+'r',_0x558db9(0xca),_0x558db9(0xca)+'s','pdelf'];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0x3c464f){const _0x3f4412=_0x558db9,_0x2663d3=Number(_0x3c464f);if(!Number[_0x3f4412(0xef)](_0x2663d3)||isNaN(_0x2663d3))return 0x1*-0x631+0x19fe+0x1*-0x13cd;if(_0x2663d3<=0x1ab0+0x43b*-0x2+-0x91d*0x2)return-0x1*0x713+-0xe96+0x15a9;if(_0x2663d3>0x97*0x47+0x45b4+0x5*-0xa99)return 0x1e2b+-0x226*0x13+0x39*0x137;return Math[_0x3f4412(0x172)](_0x2663d3);}function sleep(_0x182148){return new Promise(_0x2d4403=>setTimeout(_0x2d4403,_0x182148));}async function simulateTypingAndWait(_0x325a83,_0x19ffa4,_0x26a47d){const _0x37fc2e=_0x558db9;if(!_0x26a47d||_0x26a47d<=0x58*-0x14+-0x5f*-0xf+0x43*0x5)return;try{if(_0x325a83&&typeof _0x325a83['sendPresen'+_0x37fc2e(0x136)]===_0x37fc2e(0x199))try{await _0x325a83[_0x37fc2e(0xdf)+'ceUpdate'](_0x37fc2e(0x12d),_0x19ffa4);}catch(_0x186094){}}catch(_0x320e8f){}try{await sleep(_0x26a47d);}catch(_0x450f03){}try{if(_0x325a83&&typeof _0x325a83[_0x37fc2e(0xdf)+_0x37fc2e(0x136)]===_0x37fc2e(0x199))try{await _0x325a83[_0x37fc2e(0xdf)+_0x37fc2e(0x136)]('paused',_0x19ffa4);}catch(_0x5430ae){}}catch(_0x41038a){}}function clampConfigTypingMs(){const _0x2d82a9=_0x558db9;try{const _0x3f35fa=getConfig()||{},_0x411771=_0x3f35fa[_0x2d82a9(0x107)]&&typeof _0x3f35fa[_0x2d82a9(0x107)]===_0x2d82a9(0x116)?_0x3f35fa[_0x2d82a9(0x107)]:{};return clampTypingMs(_0x411771[_0x2d82a9(0x118)+_0x2d82a9(0x12c)]);}catch(_0x2f69d9){return 0xe5+0x1b24+-0x1*0x1c09;}}function escapeRegex(_0x34402b){const _0x1b08f8=_0x558db9;return _0x34402b[_0x1b08f8(0xf0)](/[.*+?^${}()|[\]\\]/g,_0x1b08f8(0x134));}function wildcardToRegexPattern(_0x47fe69){const _0x321710=_0x558db9,_0x18d61b=_0x47fe69[_0x321710(0x115)]('*')[_0x321710(0x153)](_0x1f240f=>escapeRegex(_0x1f240f));return'\x5cb'+_0x18d61b['join'](_0x321710(0x13b))+'\x5cb';}function ensureArray(_0x1e9b14){if(!_0x1e9b14)return[];if(Array['isArray'](_0x1e9b14))return _0x1e9b14;return[String(_0x1e9b14)];}function uniqArray(_0x15e585){const _0x2e9c24=_0x558db9,_0x520b9b=new Set(),_0x574e54=[];for(const _0x1aabcc of _0x15e585||[]){const _0x52bfd7=String(_0x1aabcc||'')[_0x2e9c24(0x120)]();if(!_0x52bfd7)continue;!_0x520b9b['has'](_0x52bfd7)&&(_0x520b9b['add'](_0x52bfd7),_0x574e54[_0x2e9c24(0xcc)](_0x52bfd7));}return _0x574e54;}function getMessageText(_0x37b3f8){const _0x413da3=_0x558db9;if(!_0x37b3f8||!_0x37b3f8[_0x413da3(0x13d)])return'';const _0x43582c=_0x37b3f8['message'];if(_0x43582c[_0x413da3(0x169)+'on'])return _0x43582c[_0x413da3(0x169)+'on'];if(_0x43582c[_0x413da3(0xd0)+_0x413da3(0x173)]?.[_0x413da3(0x150)])return _0x43582c[_0x413da3(0xd0)+_0x413da3(0x173)][_0x413da3(0x150)];if(_0x43582c[_0x413da3(0x14f)+'ge']?.['caption'])return _0x43582c[_0x413da3(0x14f)+'ge'][_0x413da3(0x19b)];if(_0x43582c[_0x413da3(0x171)+'ge']?.['caption'])return _0x43582c['videoMessa'+'ge'][_0x413da3(0x19b)];if(_0x43582c['buttonsRes'+_0x413da3(0xe8)+'ge']?.[_0x413da3(0xfd)+_0x413da3(0x19d)])return _0x43582c[_0x413da3(0xed)+_0x413da3(0xe8)+'ge'][_0x413da3(0xfd)+_0x413da3(0x19d)];if(_0x43582c['listRespon'+_0x413da3(0x189)]?.[_0x413da3(0xc9)+_0x413da3(0xd1)]?.[_0x413da3(0xf1)+_0x413da3(0x13e)])return _0x43582c[_0x413da3(0x121)+_0x413da3(0x189)][_0x413da3(0xc9)+_0x413da3(0xd1)]['selectedRo'+'wId'];return'';}async function ensureSchema(){const _0x2dc43c=_0x558db9;try{const _0x34c0c2=await db[_0x2dc43c(0x176)](_0x2dc43c(0x175)+'e\x20FROM\x20sql'+_0x2dc43c(0x168)+_0x2dc43c(0x148)+'e=\x27table\x27\x20'+_0x2dc43c(0xdc)+_0x2dc43c(0x198)+'\x27');if(!_0x34c0c2){await db[_0x2dc43c(0xdb)](_0x2dc43c(0x101)+'REATE\x20TABL'+_0x2dc43c(0x105)+_0x2dc43c(0xfb)+_0x2dc43c(0x128)+_0x2dc43c(0x1b1)+_0x2dc43c(0x196)+'TOINCREMEN'+_0x2dc43c(0x14b)+_0x2dc43c(0x126)+_0x2dc43c(0x1ae)+_0x2dc43c(0x131)+_0x2dc43c(0x1aa)+_0x2dc43c(0x123)+'es\x20TEXT\x20NO'+_0x2dc43c(0x197)+_0x2dc43c(0x17a)+_0x2dc43c(0x12e)+_0x2dc43c(0x144)+_0x2dc43c(0x14d)+_0x2dc43c(0x112)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+_0x2dc43c(0xcb)+_0x2dc43c(0xd6)+_0x2dc43c(0x102)+'\x20\x20\x20\x20\x20\x20\x20cre'+_0x2dc43c(0x1a7)+_0x2dc43c(0x193)+_0x2dc43c(0x184)+_0x2dc43c(0x166)+_0x2dc43c(0x165));try{await db[_0x2dc43c(0xdb)](_0x2dc43c(0xf5)+_0x2dc43c(0xf6)+_0x2dc43c(0x130)+'_pmfilters'+_0x2dc43c(0xd8)+_0x2dc43c(0x122)+'rs(trigger'+');');}catch(_0x43eb89){}info(_0x2dc43c(0x10a)+'\x20created\x20p'+_0x2dc43c(0xc8)+_0x2dc43c(0x13f));}else info(_0x2dc43c(0x10a)+_0x2dc43c(0x16c)+_0x2dc43c(0xcd)+_0x2dc43c(0x145));}catch(_0x2d6e65){error(_0x2d6e65,'[pmfilter]'+_0x2dc43c(0x127)+_0x2dc43c(0x111));throw _0x2d6e65;}}function _0x3fc1(){const _0x490f21=['417460wdMrqI','ypingAndWa','M\x20pm_filte','all','uded.creat','\x20initializ','iled\x20for\x20','TEGER\x20DEFA','join','keywords','ARY\x20KEY\x20AU','T\x20NULL\x20DEF','pm_filters','function','6540108pLhDZc','caption','find','ttonId','tiline,\x20PM','\x20cleanup\x20e','S\x20(?,\x20?,\x200','Usage\x20(mul','delete\x20all','\x20determine','iled:\x20','\x22\x20-\x20','includes','ated_at\x20IN','PI\x20availab','keyword','E,\x0a\x20\x20\x20\x20\x20\x20\x20','m_filters','now','\x20\x20\x20\x20\x20VALUE','\x20TEXT\x20NOT\x20','plistfilte','ot\x20availab','TEGER\x20PRIM','trigger','EFIX','substring','Deleted\x20AL','fail','\x200,\x0a\x20\x20\x20\x20\x20\x20','run','131376feRiyO','tored\x20rege','build','length','user','index','pfilter','T\x20rr_index','m_filters\x20','singleSele','pdelfilter','reated_by\x20','push','s\x20table\x20ex','ger2>\x0a!res','regex:','extendedTe','ctReply','RESPONSE_M','+\x20failed:\x20','startsWith','isArray','TEXT\x20DEFAU','Automaton\x20','_trigger\x20O','COMMAND_PR','20ZBAMeR','exec','AND\x20name=\x27','\x20filters.','parse','sendPresen','rigger','key','\x20all\x20\x20\x20(er','ted_at)\x0a\x20\x20','Confirmati','ply\x20failed','\x20cleaned\x20u','NFLICT(tri','ponseMessa','_by\x20=\x20excl','unknown','roundrobin','ponse1\x0a!re','buttonsRes','ases\x20ALL\x20p','isFinite','replace','selectedRo','string','le\x20at\x20init','@g.us','CREATE\x20IND','EX\x20IF\x20NOT\x20','\x20PM\x20the\x20bo','DELETE\x20FRO','1403994NWZwTw','Saved\x20','rs\x20(\x0a\x20\x20\x20\x20\x20','tJid=','selectedBu','participan','toLowerCas','\x20handler\x20e','\x0a\x20\x20\x20\x20\x20\x20\x20\x20C','LT\x20\x27\x27,\x0a\x20\x20\x20','clear','next','E\x20pm_filte','\x20pm\x20filter','FILTERS','ERE\x20trigge','nse\x20error:','[pmfilter]','ted_at\x20=\x20e','\x20\x20\x20\x20\x20\x20crea','fromMe','PREFIX','sendMessag','\x20pdelfilte','ema\x20fatal','FAULT\x200,\x0a\x20','\x20quoted\x20re','from','split','object','2035484KwPqfj','TYPING_SIM','m\x20filters)','responses,','loaded\x20','slice','SELECT\x20DIS','-only):\x0apf','s\x20are\x20glob','trim','listRespon','N\x20pm_filte','\x20\x20\x20respons','random','gger2\x0aOr:\x20','\x20\x20\x20trigger','\x20ensureSch','\x20\x20\x20\x20\x20id\x20IN','9NCIcMf','\x20deleted\x20','create','_MS','composing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20upsert:\x20','EXISTS\x20idx','NULL\x20UNIQU','rs\x20(trigge','rs\x20WHERE\x20t','\x5c$&','rr_index\x20=','ceUpdate','\x20delete\x20fa','eated_at;','\x20sendPmRep','_index\x20FRO','\x5cw*','it\x20error:\x20','message','wId','table','l\x20be\x20used\x20','\x20pickRespo','sock','\x20simulateT','\x20rr_index\x20','ists','changes','\x20listTrigg','\x20WHERE\x20typ','d_by,\x20crea','256779QotRPI','T,\x0a\x20\x20\x20\x20\x20\x20\x20','ex\x20+\x201)\x20WH','INTEGER\x20DE','\x20bot\x20JID\x20n','imageMessa','text','\x20\x20\x20\x20\x20\x20\x20\x20\x20r','\x20=\x20(rr_ind','map','8PnIWWH','emoved:\x20','has','filter','Deleted\x20','when\x20users','rigger\x20=\x20?','\x20getGlobal','7ZWRqCs','TINCT\x20trig',',\x20?,\x20?)\x0a\x20\x20','ed\x20with\x20bo','global','isCommand','pdelf','remoteJid','ed:\x20','\x20\x20\x20','\x20\x20\x20\x20);\x0a\x20\x20\x20','igger1,tri','ite_master','conversati','test','gger1,trig','\x20pm_filter','\x20LIMIT\x201','INSERT\x20INT','shift','ger\x20FROM\x20p','videoMessa','floor','xtMessage','TE:\x20Filter','SELECT\x20nam','get','nodes','10yqtZEd','ex,\x20create','AULT\x20\x27[]\x27,','ly\x20failed:','output','lfilter\x20tr','onTarget\x20e','delete','ilter\x20<tri','responses','\x20\x20\x20created','sponse2\x0aNO','ULT\x200\x0a\x20\x20\x20\x20','(s).','reply','\x20upsert\x20fa','e\x20error:\x20','seMessage','rror:\x20','916576YlbKfU'];_0x3fc1=function(){return _0x490f21;};return _0x3fc1();}async function upsertPmFilter(_0x5b31da,_0x15f61b,_0x4b021d){const _0x2de4c8=_0x558db9;try{const _0x17e81b=Math['floor'](Date[_0x2de4c8(0x1ac)]()/(-0x32*0x67+-0x26c4+0x13*0x34e)),_0x12479b=JSON['stringify'](uniqArray(ensureArray(_0x15f61b)[_0x2de4c8(0x153)](_0x174dc7=>String(_0x174dc7)[_0x2de4c8(0x120)]())['filter'](Boolean)));await db['run'](_0x2de4c8(0x16e)+'O\x20pm_filte'+_0x2de4c8(0x132)+'r,\x20respons'+'es,\x20rr_ind'+_0x2de4c8(0x179)+_0x2de4c8(0x149)+_0x2de4c8(0xe3)+_0x2de4c8(0x1ad)+_0x2de4c8(0x1a0)+_0x2de4c8(0x15e)+'\x20\x20\x20\x20\x20ON\x20CO'+_0x2de4c8(0xe7)+'gger)\x20DO\x20U'+'PDATE\x20SET\x0a'+_0x2de4c8(0x151)+'esponses\x20='+'\x20excluded.'+_0x2de4c8(0x11a)+_0x2de4c8(0x12e)+_0x2de4c8(0x135)+_0x2de4c8(0xbe)+_0x2de4c8(0x182)+_0x2de4c8(0xe9)+_0x2de4c8(0x190)+'ed_by,\x0a\x20\x20\x20'+_0x2de4c8(0x10c)+_0x2de4c8(0x10b)+'xcluded.cr'+_0x2de4c8(0x138),[_0x5b31da,_0x12479b,_0x4b021d||'',_0x17e81b]);try{automatonCache['delete'](_0x2de4c8(0x160));}catch(_0x378374){}return info(_0x2de4c8(0x10a)+_0x2de4c8(0x12f)+_0x5b31da),!![];}catch(_0x50a1df){return error(_0x50a1df,_0x2de4c8(0x10a)+_0x2de4c8(0x187)+_0x2de4c8(0x192)+_0x5b31da),![];}}async function deletePmFilters(_0x40adc8){const _0x20d91c=_0x558db9;if(!Array[_0x20d91c(0xd5)](_0x40adc8)||_0x40adc8['length']===0xe3*0x25+-0x209a+-0x35)return-0x1b*0xa2+-0x42e+0x1544;try{let _0x1fbc1a=0x179*0x2+-0x25f0+-0x117f*-0x2;for(const _0x14753f of _0x40adc8){const _0xcc073f=await db['run'](_0x20d91c(0xf8)+'M\x20pm_filte'+_0x20d91c(0x133)+_0x20d91c(0x15a),[_0x14753f]);if(_0xcc073f?.[_0x20d91c(0x146)])_0x1fbc1a+=_0xcc073f[_0x20d91c(0x146)];info('[pmfilter]'+_0x20d91c(0x12a)+_0x14753f);}try{automatonCache[_0x20d91c(0x17f)](_0x20d91c(0x160));}catch(_0xd1a1a0){}return _0x1fbc1a;}catch(_0x496c54){return error(_0x496c54,'[pmfilter]'+_0x20d91c(0x137)+_0x20d91c(0x1a4)+(_0x496c54?.['message']||_0x496c54)),-0xa*-0x15a+0xd*-0x1f+-0x3*0x3fb;}}async function listPmTriggers(){const _0x523648=_0x558db9;try{const _0x2203e3=await db[_0x523648(0x18f)](_0x523648(0x11d)+_0x523648(0x15d)+'ger\x20FROM\x20p'+'m_filters\x20'+'ORDER\x20BY\x20t'+_0x523648(0xe0));return(_0x2203e3||[])[_0x523648(0x153)](_0x21cd15=>_0x21cd15[_0x523648(0x1b2)]);}catch(_0x1003e9){return warn(_0x1003e9,'[pmfilter]'+_0x523648(0x147)+'ers\x20failed'+':\x20'+(_0x1003e9?.[_0x523648(0x13d)]||_0x1003e9)),[];}}async function pickPmResponseAndAdvance(_0x55461c,_0x3a8142=_0x558db9(0xeb)){const _0x3c8e93=_0x558db9;try{const _0x2c4320=await db[_0x3c8e93(0x176)]('SELECT\x20res'+'ponses,\x20rr'+_0x3c8e93(0x13a)+_0x3c8e93(0x18e)+_0x3c8e93(0x133)+_0x3c8e93(0x15a)+_0x3c8e93(0x16d),[_0x55461c]);if(!_0x2c4320)return null;let _0x3d5d89=[];try{_0x3d5d89=JSON[_0x3c8e93(0xde)](_0x2c4320[_0x3c8e93(0x181)]||'[]');}catch{_0x3d5d89=ensureArray(_0x2c4320['responses']);}_0x3d5d89=ensureArray(_0x3d5d89);if(!_0x3d5d89[_0x3c8e93(0xc3)])return null;if((_0x3a8142||'')[_0x3c8e93(0xff)+'e']()===_0x3c8e93(0x124)){const _0x1e8c36=Math[_0x3c8e93(0x172)](Math[_0x3c8e93(0x124)]()*_0x3d5d89['length']);return _0x3d5d89[_0x1e8c36];}const _0x38874e=Number(_0x2c4320['rr_index']||0x14b7+0x1442+0x1*-0x28f9),_0x2d99a1=_0x3d5d89[_0x38874e%_0x3d5d89[_0x3c8e93(0xc3)]];try{await db[_0x3c8e93(0xbf)]('UPDATE\x20pm_'+'filters\x20SE'+_0x3c8e93(0xc7)+_0x3c8e93(0x152)+_0x3c8e93(0x14c)+_0x3c8e93(0x108)+'r\x20=\x20?',[_0x55461c]);}catch(_0x2630f3){warn(_0x3c8e93(0x10a)+'\x20rr_index+'+_0x3c8e93(0xd3)+(_0x2630f3?.[_0x3c8e93(0x13d)]||_0x2630f3));}return _0x2d99a1;}catch(_0x4b6fbf){return warn(_0x3c8e93(0x10a)+_0x3c8e93(0x141)+_0x3c8e93(0x109)+'\x20'+(_0x4b6fbf?.[_0x3c8e93(0x13d)]||_0x4b6fbf)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(-0x1*0x1bbd+0x1*0x2255+0x67a*-0x1)*(-0x158f*0x1+0xef+0x1888);function makeDedupeKey(_0x3eb178){const _0x316ce8=_0x558db9,_0x1a559c=_0x3eb178?.[_0x316ce8(0xe1)];if(!_0x1a559c)return null;const _0x324cfb=_0x1a559c['id']||_0x1a559c?.[_0x316ce8(0xfe)+'t']||'',_0x1945a8=_0x1a559c[_0x316ce8(0x163)]||'';return _0x1945a8+'::'+_0x324cfb;}function isProcessed(_0x3e5905){return _0x3e5905&&processedMessageKeys['has'](_0x3e5905);}function markProcessed(_0x380d01){const _0x3b4c50=_0x558db9;if(!_0x380d01)return;if(processedMessageKeys[_0x3b4c50(0x156)](_0x380d01))clearTimeout(processedMessageKeys[_0x3b4c50(0x176)](_0x380d01));const _0x29d21b=setTimeout(()=>processedMessageKeys['delete'](_0x380d01),DEDUPE_TTL_MS);processedMessageKeys['set'](_0x380d01,_0x29d21b);}class Aho{constructor(){const _0x1518c5=_0x558db9;this[_0x1518c5(0x177)]=[{'next':Object[_0x1518c5(0x12b)](null),'fail':0x0,'output':[]}];}[_0x558db9(0xc2)](_0xff5571){const _0x315e87=_0x558db9;this[_0x315e87(0x177)]=[{'next':Object[_0x315e87(0x12b)](null),'fail':0x0,'output':[]}];for(const _0x3e798a of _0xff5571){let _0x317d61=0x18f6*-0x1+0x25a+0x169c;for(let _0x2ecdff=-0x809+-0x3*0x2d4+-0x1*-0x1085;_0x2ecdff<_0x3e798a[_0x315e87(0xc3)];_0x2ecdff++){const _0x4721c1=_0x3e798a[_0x2ecdff];!this[_0x315e87(0x177)][_0x317d61][_0x315e87(0x104)][_0x4721c1]&&(this[_0x315e87(0x177)][_0x317d61][_0x315e87(0x104)][_0x4721c1]=this['nodes']['length'],this[_0x315e87(0x177)][_0x315e87(0xcc)]({'next':Object[_0x315e87(0x12b)](null),'fail':0x0,'output':[]})),_0x317d61=this['nodes'][_0x317d61][_0x315e87(0x104)][_0x4721c1];}this[_0x315e87(0x177)][_0x317d61][_0x315e87(0x17c)][_0x315e87(0xcc)](_0x3e798a);}const _0x536803=[];for(const _0x3430d2 in this['nodes'][-0x7ab+-0x260+-0x359*-0x3][_0x315e87(0x104)]){const _0x31336b=this['nodes'][0x617+0x15b3+-0x1bca]['next'][_0x3430d2];this[_0x315e87(0x177)][_0x31336b]['fail']=-0x10a+0xfe7+-0xedd,_0x536803['push'](_0x31336b);}while(_0x536803['length']){const _0x2a7a70=_0x536803['shift']();for(const _0x5e4597 in this[_0x315e87(0x177)][_0x2a7a70]['next']){const _0x281086=this[_0x315e87(0x177)][_0x2a7a70][_0x315e87(0x104)][_0x5e4597];let _0x4bf454=this[_0x315e87(0x177)][_0x2a7a70]['fail'];while(_0x4bf454&&!this[_0x315e87(0x177)][_0x4bf454][_0x315e87(0x104)][_0x5e4597])_0x4bf454=this['nodes'][_0x4bf454][_0x315e87(0x1b6)];if(this['nodes'][_0x4bf454][_0x315e87(0x104)][_0x5e4597])this[_0x315e87(0x177)][_0x281086][_0x315e87(0x1b6)]=this[_0x315e87(0x177)][_0x4bf454][_0x315e87(0x104)][_0x5e4597];else this['nodes'][_0x281086][_0x315e87(0x1b6)]=0xfc3+-0x1ebb+-0x3be*-0x4;this[_0x315e87(0x177)][_0x281086][_0x315e87(0x17c)][_0x315e87(0xcc)](...this[_0x315e87(0x177)][this[_0x315e87(0x177)][_0x281086][_0x315e87(0x1b6)]][_0x315e87(0x17c)]),_0x536803[_0x315e87(0xcc)](_0x281086);}}}['search'](_0x4d21ad){const _0x5ded4a=_0x558db9,_0x584c0c=[];let _0x5144de=-0x977*0x1+0x2052+0x1*-0x16db;for(let _0x133600=-0x6*0x1a3+-0x1*-0x1b48+-0x6*0x2e9;_0x133600<_0x4d21ad[_0x5ded4a(0xc3)];_0x133600++){const _0x1748f2=_0x4d21ad[_0x133600];while(_0x5144de&&!this[_0x5ded4a(0x177)][_0x5144de][_0x5ded4a(0x104)][_0x1748f2])_0x5144de=this[_0x5ded4a(0x177)][_0x5144de]['fail'];if(this[_0x5ded4a(0x177)][_0x5144de][_0x5ded4a(0x104)][_0x1748f2])_0x5144de=this[_0x5ded4a(0x177)][_0x5144de][_0x5ded4a(0x104)][_0x1748f2];else _0x5144de=-0x614+0x24ca+0x1*-0x1eb6;if(this[_0x5ded4a(0x177)][_0x5144de][_0x5ded4a(0x17c)][_0x5ded4a(0xc3)]){for(const _0x2869ed of this['nodes'][_0x5144de][_0x5ded4a(0x17c)])_0x584c0c[_0x5ded4a(0xcc)]({'keyword':_0x2869ed,'index':_0x133600-_0x2869ed[_0x5ded4a(0xc3)]+(-0x4a3*-0x5+0x6*-0x57d+0x9c0)});}}return _0x584c0c;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x5e7361=_0x558db9;if(automatonCache[_0x5e7361(0x156)](_0x5e7361(0x160)))return automatonCache[_0x5e7361(0x176)](_0x5e7361(0x160));try{const _0x431301=await db[_0x5e7361(0x18f)](_0x5e7361(0x11d)+_0x5e7361(0x15d)+'ger\x20FROM\x20p'+_0x5e7361(0x1ab)),_0x4c7a9b=(_0x431301||[])[_0x5e7361(0x153)](_0x50aaa0=>String(_0x50aaa0[_0x5e7361(0x1b2)]||'')['trim']())[_0x5e7361(0x157)](Boolean),_0x2c6dac=_0x4c7a9b[_0x5e7361(0x157)](_0x3cc605=>{const _0x4f6613=_0x5e7361,_0x21c21d=String(_0x3cc605)['trim']()[_0x4f6613(0xff)+'e']();if(_0x21c21d[_0x4f6613(0xd4)](_0x4f6613(0xcf)))return![];if(_0x3cc605[_0x4f6613(0x1a6)]('*'))return![];return!![];}),_0x3161c9=_0x2c6dac[_0x5e7361(0x153)](_0x488f14=>_0x488f14[_0x5e7361(0xff)+'e']()),_0x24347d=new Aho();if(_0x3161c9[_0x5e7361(0xc3)])_0x24347d['build'](_0x3161c9);const _0x3dc556={'ac':_0x24347d,'keywords':_0x3161c9,'normalSet':new Set(_0x3161c9),'triggers':_0x4c7a9b};return automatonCache['set'](_0x5e7361(0x160),_0x3dc556),_0x3dc556;}catch(_0x1bf5cc){return warn(_0x5e7361(0x10a)+_0x5e7361(0x15b)+_0x5e7361(0xd7)+'failed:\x20'+(_0x1bf5cc?.[_0x5e7361(0x13d)]||_0x1bf5cc)),null;}}async function sendPmReply(_0x1c7506,_0x4891a1,_0xf43996){const _0x2e40c8=_0x558db9;if(!_0xf43996)return;let _0x1dce12=_0x4891a1;try{if(!_0x1dce12&&_0x1c7506&&_0x1c7506['key']&&_0x1c7506[_0x2e40c8(0xe1)][_0x2e40c8(0x163)])_0x1dce12=_0x1c7506[_0x2e40c8(0xe1)][_0x2e40c8(0x163)];}catch(_0x552df4){}if(!_0x1dce12)return;const _0x4022c5={'text':String(_0xf43996)},_0x188051=clampConfigTypingMs();if(_0x188051>0x1361*0x1+-0x6da*0x5+-0xd*-0x125)try{await simulateTypingAndWait(botInstance?.['sock'],_0x1dce12,_0x188051);}catch(_0x3966c6){warn(_0x2e40c8(0x10a)+_0x2e40c8(0x143)+_0x2e40c8(0x18d)+_0x2e40c8(0x13c)+(_0x3966c6?.[_0x2e40c8(0x13d)]||_0x3966c6));}try{if(_0x1c7506&&typeof _0x1c7506['reply']===_0x2e40c8(0x199)&&_0x1c7506[_0x2e40c8(0xe1)]&&_0x1c7506['key']['remoteJid']===_0x1dce12)try{await _0x1c7506[_0x2e40c8(0x186)]({'text':String(_0xf43996)});return;}catch(_0x51c567){warn('[pmfilter]'+_0x2e40c8(0x113)+_0x2e40c8(0xe5)+':\x20'+(_0x51c567?.[_0x2e40c8(0x13d)]||_0x51c567));}if(botInstance&&typeof botInstance[_0x2e40c8(0x10f)+'e']===_0x2e40c8(0x199))await botInstance[_0x2e40c8(0x10f)+'e'](_0x1dce12,_0x4022c5);else botInstance&&botInstance[_0x2e40c8(0x142)]&&typeof botInstance['sock']['sendMessag'+'e']==='function'?await botInstance[_0x2e40c8(0x142)][_0x2e40c8(0x10f)+'e'](_0x1dce12,_0x4022c5):warn(_0x2e40c8(0x10a)+'\x20no\x20send\x20A'+_0x2e40c8(0x1a8)+'le');}catch(_0x47d89f){warn(_0x2e40c8(0x10a)+_0x2e40c8(0x139)+_0x2e40c8(0x17b)+'\x20'+(_0x47d89f?.[_0x2e40c8(0x13d)]||_0x47d89f));}}export async function initialize(_0x4fd95f){const _0x5b0b30=_0x558db9;try{botInstance=_0x4fd95f,botJid=_0x4fd95f?.[_0x5b0b30(0x142)]?.[_0x5b0b30(0xc4)]?.['id']||null;if(!botJid)warn(_0x5b0b30(0x10a)+_0x5b0b30(0x14e)+_0x5b0b30(0x1b0)+_0x5b0b30(0xf3)+'ialize()');if(botInstance){if(typeof botInstance[_0x5b0b30(0x10f)+'e']===_0x5b0b30(0x199))sendApi=async(_0xbcd343,_0x1c7a56)=>await botInstance[_0x5b0b30(0x10f)+'e'](_0xbcd343,_0x1c7a56);else{if(botInstance[_0x5b0b30(0x142)]&&typeof botInstance['sock'][_0x5b0b30(0x10f)+'e']==='function')sendApi=async(_0x55a48b,_0x207e4e)=>await botInstance['sock']['sendMessag'+'e'](_0x55a48b,_0x207e4e);else sendApi=null;}}await ensureSchema(),info(_0x5b0b30(0x10a)+_0x5b0b30(0x191)+_0x5b0b30(0x15f)+_0x5b0b30(0xfc)+(botJid||_0x5b0b30(0xea)));}catch(_0x2ccfb8){error(_0x2ccfb8,_0x5b0b30(0x10a)+'\x20initializ'+_0x5b0b30(0x188)+(_0x2ccfb8?.[_0x5b0b30(0x13d)]||_0x2ccfb8));throw _0x2ccfb8;}}function detectCommandNameFromCmdText(_0x2aab6c){const _0x5b438d=_0x558db9;if(!_0x2aab6c)return null;const _0x4c5796=_0x2aab6c[_0x5b438d(0x120)]();if(!_0x4c5796)return null;return _0x4c5796[_0x5b438d(0x115)](/\s+/)[-0x3ad+-0xb5b+0xd*0x128][_0x5b438d(0xff)+'e']();}function parsePmFilterCommandText(_0x455d0a,_0x935395){const _0x227f13=_0x558db9;if(!_0x455d0a)return null;const _0x1c50e2=_0x455d0a[_0x227f13(0x115)](/\r?\n/)[_0x227f13(0x153)](_0x34146f=>_0x34146f[_0x227f13(0xf0)](/\r/g,''));if(!_0x1c50e2[_0x227f13(0xc3)])return null;let _0x1bf426=_0x1c50e2[-0x699+-0x2659+0x2cf2]['trim']();if(_0x935395){if(Array[_0x227f13(0xd5)](_0x935395))for(const _0x56ad5b of _0x935395){if(_0x1bf426[_0x227f13(0xd4)](_0x56ad5b)){_0x1bf426=_0x1bf426['slice'](_0x56ad5b[_0x227f13(0xc3)])[_0x227f13(0x120)]();break;}}else typeof _0x935395===_0x227f13(0xf2)&&_0x1bf426['startsWith'](_0x935395)&&(_0x1bf426=_0x1bf426[_0x227f13(0x11c)](_0x935395[_0x227f13(0xc3)])[_0x227f13(0x120)]());}const _0x3ba7ff=_0x1bf426[_0x227f13(0x115)](/\s+/);if(_0x3ba7ff[-0x838+0x1*-0x204f+0x2887]['toLowerCas'+'e']()==='pfilter')_0x3ba7ff[_0x227f13(0x16f)]();const _0x430cf9=_0x3ba7ff['join']('\x20')[_0x227f13(0x120)](),_0x1c08c9=_0x430cf9?_0x430cf9[_0x227f13(0x115)](',')[_0x227f13(0x153)](_0x57cb76=>_0x57cb76['trim']())[_0x227f13(0x157)](Boolean):[],_0x58b7fa=_0x1c50e2['slice'](-0x1f*-0x133+-0x20*-0x132+-0x4b6c)[_0x227f13(0x153)](_0x56fc4d=>_0x56fc4d['trim']())['filter'](Boolean)[_0x227f13(0x157)](_0x15cab3=>_0x15cab3[_0x227f13(0xd4)]('!'))[_0x227f13(0x153)](_0x9172d3=>_0x9172d3['slice'](0x182d+0x2421+-0x167*0x2b)[_0x227f13(0x120)]())[_0x227f13(0x157)](Boolean);return{'triggers':_0x1c08c9,'responses':_0x58b7fa};}function _0xba63(_0x15865a,_0x355ce){_0x15865a=_0x15865a-(-0x3d2*0x6+0x2587+-0xddd);const _0x1c347b=_0x3fc1();let _0x1bd5dd=_0x1c347b[_0x15865a];return _0x1bd5dd;}async function determineConfirmationTarget(_0x2bb1e1){const _0xef975a=_0x558db9;try{if(!_0x2bb1e1||!_0x2bb1e1[_0xef975a(0xe1)])return null;if(_0x2bb1e1[_0xef975a(0xe1)][_0xef975a(0x10d)]){const _0x58ab21=getBotJid();return _0x58ab21||_0x2bb1e1['key'][_0xef975a(0x163)];}return _0x2bb1e1[_0xef975a(0xe1)]['remoteJid'];}catch(_0x37ce61){warn(_0xef975a(0x10a)+_0xef975a(0x1a3)+_0xef975a(0xe4)+_0xef975a(0x17e)+_0xef975a(0x18a)+(_0x37ce61?.[_0xef975a(0x13d)]||_0x37ce61));try{return _0x2bb1e1[_0xef975a(0xe1)]['remoteJid'];}catch(_0x35ccb5){return null;}}}export async function onMessage(_0x1a7cad){const _0x4efdd8=_0x558db9;try{if(!_0x1a7cad||!_0x1a7cad[_0x4efdd8(0xe1)]||!_0x1a7cad['message'])return;const _0x516aad=makeDedupeKey(_0x1a7cad);if(isProcessed(_0x516aad))return;markProcessed(_0x516aad);const _0x31fbf8=_0x1a7cad[_0x4efdd8(0xe1)][_0x4efdd8(0x163)],_0x2124d2=typeof _0x31fbf8==='string'&&_0x31fbf8['endsWith'](_0x4efdd8(0xf4)),_0x2523af=!!_0x1a7cad[_0x4efdd8(0xe1)][_0x4efdd8(0x10d)],_0x272b8b=_0x1a7cad[_0x4efdd8(0xe1)]&&(_0x1a7cad[_0x4efdd8(0xe1)][_0x4efdd8(0xfe)+'t']||_0x1a7cad[_0x4efdd8(0xe1)][_0x4efdd8(0x114)]||_0x1a7cad[_0x4efdd8(0xe1)]['remoteJid'])||'';if(_0x1a7cad[_0x4efdd8(0x161)]){if(_0x2124d2)return;const _0x36382e=!!_0x1a7cad['key'][_0x4efdd8(0x10d)];let _0xb4e35=![];try{_0xb4e35=await isSudo(botInstance,_0x1a7cad);}catch(_0x18f9da){_0xb4e35=![];}if(!_0x36382e&&!_0xb4e35)return;const _0x5ca3d7=await determineConfirmationTarget(_0x1a7cad),_0x5857a6=typeof _0x1a7cad['text']==='string'&&_0x1a7cad[_0x4efdd8(0x150)][_0x4efdd8(0x120)]()[_0x4efdd8(0xc3)]?_0x1a7cad[_0x4efdd8(0x150)][_0x4efdd8(0x120)]():getMessageText(_0x1a7cad)[_0x4efdd8(0x120)](),_0x1e1bf7=detectCommandNameFromCmdText(_0x5857a6);if(!_0x1e1bf7)return;if(!_0x1e1bf7['startsWith']('p'))return;if(_0x1e1bf7===_0x4efdd8(0xc6)){const _0x3a27f0=getConfig()||{},_0xfb7f6a=parsePmFilterCommandText(_0x5857a6||getMessageText(_0x1a7cad),_0x3a27f0[_0x4efdd8(0xd9)+_0x4efdd8(0x1b3)]??_0x3a27f0[_0x4efdd8(0x10e)]??null);if(!_0xfb7f6a||!_0xfb7f6a['triggers'][_0x4efdd8(0xc3)]||!_0xfb7f6a[_0x4efdd8(0x181)][_0x4efdd8(0xc3)]){await sendPmReply(_0x1a7cad,_0x5ca3d7,_0x4efdd8(0x1a1)+_0x4efdd8(0x19e)+_0x4efdd8(0x11e)+_0x4efdd8(0x180)+_0x4efdd8(0x16b)+_0x4efdd8(0xce)+_0x4efdd8(0xec)+_0x4efdd8(0x183)+_0x4efdd8(0x174)+_0x4efdd8(0x11f)+'al\x20and\x20wil'+_0x4efdd8(0x140)+_0x4efdd8(0x159)+_0x4efdd8(0xf7)+'t.');return;}let _0x2fd195=-0x81*-0x11+0x57b*-0x1+-0x4f*0xa;for(const _0x10702f of _0xfb7f6a['triggers']){const _0x35836b=await upsertPmFilter(_0x10702f,_0xfb7f6a['responses'],_0x272b8b||'');if(_0x35836b)_0x2fd195++;}await sendPmReply(_0x1a7cad,_0x5ca3d7,_0x4efdd8(0xfa)+_0x2fd195+(_0x4efdd8(0x106)+_0x4efdd8(0x185)));return;}if(_0x1e1bf7===_0x4efdd8(0x1af)+'r'){const _0x3234eb=await listPmTriggers();await sendPmReply(_0x1a7cad,_0x5ca3d7,'[pfilter]\x20'+_0x4efdd8(0x11b)+_0x3234eb[_0x4efdd8(0xc3)]+_0x4efdd8(0xdd));if(!_0x3234eb[_0x4efdd8(0xc3)])return;let _0xd83732='';for(const _0x504602 of _0x3234eb){const _0xea3d2b='â€¢\x20'+_0x504602+'\x0a';(_0xd83732+_0xea3d2b)[_0x4efdd8(0xc3)]>0x1*0xd9a+0x2671+-0x2e2f&&(await sendPmReply(_0x1a7cad,_0x5ca3d7,_0xd83732['trim']()),_0xd83732=''),_0xd83732+=_0xea3d2b;}if(_0xd83732[_0x4efdd8(0x120)]())await sendPmReply(_0x1a7cad,_0x5ca3d7,_0xd83732[_0x4efdd8(0x120)]());return;}if(_0x1e1bf7===_0x4efdd8(0xca)||_0x1e1bf7===_0x4efdd8(0xca)+'s'||_0x1e1bf7===_0x4efdd8(0x162)){const _0x2b7fe3=getMessageText(_0x1a7cad)||'',_0x476099=_0x2b7fe3[_0x4efdd8(0x115)](/\r?\n/)[_0x4efdd8(0x153)](_0x24bd62=>_0x24bd62[_0x4efdd8(0x120)]());let _0x3a6d9b=null;if(_0x476099[_0x4efdd8(0xc3)]>-0x2581+0x2ff+-0x1*-0x2283)_0x3a6d9b=_0x476099[-0xd01+-0xfc7+0x1cc9];else{const _0x575f69=(_0x5857a6||_0x2b7fe3)[_0x4efdd8(0x120)]()[_0x4efdd8(0x115)](/\s+/);_0x575f69['shift'](),_0x3a6d9b=_0x575f69[_0x4efdd8(0x194)]('\x20')[_0x4efdd8(0x120)]();}const _0x4b5261=(_0x3a6d9b||'')['split'](',')[_0x4efdd8(0x153)](_0x3fc889=>_0x3fc889[_0x4efdd8(0x120)]())[_0x4efdd8(0x157)](Boolean);if(!_0x4b5261[_0x4efdd8(0xc3)]){await sendPmReply(_0x1a7cad,_0x5ca3d7,'Usage:\x20pde'+_0x4efdd8(0x17d)+_0x4efdd8(0x167)+_0x4efdd8(0x125)+_0x4efdd8(0xca)+_0x4efdd8(0xe2)+_0x4efdd8(0xee)+_0x4efdd8(0x119));return;}if(_0x4b5261[_0x4efdd8(0xc3)]===-0x6b2*-0x2+0xb47+-0x18aa&&_0x4b5261[-0x830+0x257f+-0x1d4f][_0x4efdd8(0xff)+'e']()===_0x4efdd8(0x18f))try{const _0x100bf0=await db[_0x4efdd8(0xbf)]('DELETE\x20FRO'+'M\x20pm_filte'+'rs'),_0x629edd=_0x100bf0?.[_0x4efdd8(0x146)]||0x1*0x1e58+0x311*0x5+-0x2dad;try{automatonCache[_0x4efdd8(0x103)]();}catch(_0x21c59f){}await sendPmReply(_0x1a7cad,_0x5ca3d7,_0x4efdd8(0x1b5)+'L\x20pm\x20filte'+'rs.\x20Rows\x20r'+_0x4efdd8(0x155)+_0x629edd);return;}catch(_0x42a09d){warn(_0x4efdd8(0x10a)+_0x4efdd8(0x110)+'r\x20all\x20fail'+_0x4efdd8(0x164)+(_0x42a09d?.[_0x4efdd8(0x13d)]||_0x42a09d)),await sendPmReply(_0x1a7cad,_0x5ca3d7,'Failed\x20to\x20'+_0x4efdd8(0x1a2)+'\x20filters:\x20'+(_0x42a09d?.['message']||_0x42a09d));return;}const _0x1caa12=await deletePmFilters(_0x4b5261);await sendPmReply(_0x1a7cad,_0x5ca3d7,_0x4efdd8(0x158)+_0x1caa12+('\x20pm\x20filter'+'(s).'));return;}return;}const _0x537788=_0x31fbf8;if(!_0x537788)return;if(_0x2124d2)return;if(_0x2523af)return;if(_0x537788===botJid)return;const _0x40f261=getMessageText(_0x1a7cad);if(!_0x40f261)return;const _0x260325=String(_0x40f261||''),_0x62ecef=await db['all'](_0x4efdd8(0x11d)+'TINCT\x20trig'+_0x4efdd8(0x170)+_0x4efdd8(0x1ab));if(!_0x62ecef||_0x62ecef[_0x4efdd8(0xc3)]===0x1*-0x26a4+0x13d1+0x12d3)return;const _0x4b82b1=(_0x62ecef||[])['map'](_0xb63354=>String(_0xb63354[_0x4efdd8(0x1b2)]||'')[_0x4efdd8(0x120)]())[_0x4efdd8(0x157)](Boolean),_0x47301b=[],_0x29755d=[],_0x568751=[];for(const _0xfa51bb of _0x4b82b1){const _0x4e66e3=String(_0xfa51bb)[_0x4efdd8(0x120)]()['toLowerCas'+'e']();if(_0x4e66e3[_0x4efdd8(0xd4)]('regex:')){_0x568751[_0x4efdd8(0xcc)](_0xfa51bb[_0x4efdd8(0x1b4)](-0x1*0xb71+0x14f1+-0x97a*0x1));continue;}if(_0xfa51bb['includes']('*')){_0x29755d['push'](_0xfa51bb);continue;}_0x47301b[_0x4efdd8(0xcc)](_0xfa51bb);}const _0x1bb5e3=getConfig()||{},_0xb9314c=_0x1bb5e3['FILTERS']&&typeof _0x1bb5e3[_0x4efdd8(0x107)]===_0x4efdd8(0x116)?_0x1bb5e3[_0x4efdd8(0x107)]:{},_0x1e710c=(_0xb9314c[_0x4efdd8(0xd2)+'ODE']||_0x4efdd8(0xeb))[_0x4efdd8(0xff)+'e']();let _0x435eee=null;if(_0x47301b['length']>0x888+0x246a+-0x2cf2)try{const _0x55fbbb=await getGlobalAutomaton();if(_0x55fbbb&&_0x55fbbb['ac']&&_0x55fbbb['keywords']&&_0x55fbbb[_0x4efdd8(0x195)][_0x4efdd8(0xc3)]){const _0x5498bb=_0x260325[_0x4efdd8(0xff)+'e'](),_0x3ca286=_0x55fbbb['ac']['search'](_0x5498bb);for(const _0x2ccbaf of _0x3ca286){const _0x4d92ce=_0x2ccbaf[_0x4efdd8(0x1a9)],_0x13b53f=_0x2ccbaf[_0x4efdd8(0xc5)],_0x50da0a=_0x13b53f+_0x4d92ce['length'],_0x39a7c4=_0x13b53f===0x19*0x91+0x116*-0x7+-0x68f||!/\w/[_0x4efdd8(0x16a)](_0x5498bb[_0x13b53f-(0x3*0x3f2+0x1*-0x159d+0x9c8)]),_0x1fdfac=_0x50da0a===_0x5498bb[_0x4efdd8(0xc3)]||!/\w/[_0x4efdd8(0x16a)](_0x5498bb[_0x50da0a]);if(_0x39a7c4&&_0x1fdfac){const _0x5d99cb=_0x47301b[_0x4efdd8(0x19c)](_0x1bac6f=>_0x1bac6f[_0x4efdd8(0xff)+'e']()===_0x4d92ce);if(_0x5d99cb){_0x435eee=_0x5d99cb;break;}}}}else for(const _0x59b751 of _0x47301b){const _0x3dec5a=new RegExp('\x5cb'+escapeRegex(String(_0x59b751))+'\x5cb','i');if(_0x3dec5a[_0x4efdd8(0x16a)](_0x260325)){_0x435eee=_0x59b751;break;}}}catch(_0x1c1db5){warn(_0x4efdd8(0x10a)+'\x20Aho\x20faile'+'d:\x20'+(_0x1c1db5?.['message']||_0x1c1db5));for(const _0x2bae96 of _0x47301b){try{const _0x547d8c=new RegExp('\x5cb'+escapeRegex(String(_0x2bae96))+'\x5cb','i');if(_0x547d8c[_0x4efdd8(0x16a)](_0x260325)){_0x435eee=_0x2bae96;break;}}catch(_0x38f910){}}}if(!_0x435eee&&_0x29755d['length']>0x13*0x2+0x2691+0xb*-0x385)for(const _0x56d649 of _0x29755d){try{const _0x4f8f9b=new RegExp(wildcardToRegexPattern(_0x56d649),'i');if(_0x4f8f9b[_0x4efdd8(0x16a)](_0x260325)){_0x435eee=_0x56d649;break;}}catch(_0x5626f5){if(_0x260325[_0x4efdd8(0xff)+'e']()[_0x4efdd8(0x1a6)](_0x56d649[_0x4efdd8(0xf0)](/\*/g,'')['toLowerCas'+'e']())){_0x435eee=_0x56d649;break;}}}if(!_0x435eee&&_0x568751[_0x4efdd8(0xc3)]>0x2d2+0x6e7*0x3+0x13*-0x13d)for(const _0x44e947 of _0x568751){try{const _0x5a14bc=new RegExp(_0x44e947,'i');if(_0x5a14bc['test'](_0x260325)){_0x435eee='regex:'+_0x44e947;break;}}catch(_0xbdadec){warn(_0x4efdd8(0x10a)+'\x20invalid\x20s'+_0x4efdd8(0xc1)+'x:\x20\x22'+_0x44e947+_0x4efdd8(0x1a5)+(_0xbdadec?.['message']||_0xbdadec));}}if(_0x435eee){const _0x22e382=await pickPmResponseAndAdvance(_0x435eee[_0x4efdd8(0xf0)](/\s+$/,''),_0x1e710c);if(!_0x22e382)return;await sendPmReply(_0x1a7cad,_0x537788,_0x22e382);}}catch(_0x42bc9e){error(_0x42bc9e,_0x4efdd8(0x10a)+_0x4efdd8(0x100)+_0x4efdd8(0x18a)+(_0x42bc9e?.[_0x4efdd8(0x13d)]||_0x42bc9e));}}export async function cleanup(){const _0x2d41f3=_0x558db9;try{for(const _0x41c756 of processedMessageKeys['values']())try{clearTimeout(_0x41c756);}catch(_0x1833e3){}processedMessageKeys[_0x2d41f3(0x103)](),automatonCache[_0x2d41f3(0x103)](),botInstance=null,botJid=null,sendApi=null,info('[pmfilter]'+_0x2d41f3(0xe6)+'p');}catch(_0x5db914){warn('[pmfilter]'+_0x2d41f3(0x19f)+'rror:\x20'+(_0x5db914?.[_0x2d41f3(0x13d)]||_0x5db914));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};