const _0x3d51bb=_0x55b1;(function(_0x1ac54f,_0x1c77d1){const _0x214916=_0x55b1,_0x102075=_0x1ac54f();while(!![]){try{const _0x41b8e3=-parseInt(_0x214916(0x1e2))/(-0x2e*-0xaa+0x102*0x17+0x35b9*-0x1)*(-parseInt(_0x214916(0x279))/(0x2f*0xa9+0x21*-0x6c+-0x1119))+parseInt(_0x214916(0x287))/(0x2016+0x215+0x2228*-0x1)+parseInt(_0x214916(0x236))/(0x1*0xdf3+-0x1c06*0x1+0xe17*0x1)*(parseInt(_0x214916(0x1e3))/(0x1c30+0x1*0x24f7+-0x4122))+parseInt(_0x214916(0x1cb))/(0x20a6*-0x1+-0xe*-0x20b+-0x1*-0x412)+parseInt(_0x214916(0x296))/(-0x58*-0x16+0x2686+-0x2e0f)+parseInt(_0x214916(0x1b6))/(0x316+-0x817+-0x509*-0x1)*(parseInt(_0x214916(0x257))/(-0xe59*-0x1+0x3d0*-0x5+0x4c0))+-parseInt(_0x214916(0x1f4))/(0x1*0x14de+-0x574*0x2+0x4*-0x27b);if(_0x41b8e3===_0x1c77d1)break;else _0x102075['push'](_0x102075['shift']());}catch(_0x5269b5){_0x102075['push'](_0x102075['shift']());}}}(_0x21c2,-0x620f+0xd*0x986+-0x647f2*-0x1));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x3d51bb(0x27f);export const version=_0x3d51bb(0x1e0);export const priority=0x1a46+-0x185*-0x13+-0x3720;export const configKeys=[_0x3d51bb(0x20a)];export const commands=['pfilter',_0x3d51bb(0x1bb)+'r',_0x3d51bb(0x226),'pdelfilter'+'s',_0x3d51bb(0x29c)];let botInstance=null,botJid=null,sendApi=null;function clampTypingMs(_0x1b17ec){const _0x4411c4=_0x3d51bb,_0x3fd83f=Number(_0x1b17ec);if(!Number[_0x4411c4(0x29b)](_0x3fd83f)||isNaN(_0x3fd83f))return 0x5b*0x26+-0x1*-0x12e5+-0x2067;if(_0x3fd83f<=0x19f+0x1cbf+-0x1e5e)return 0x1aa7+-0x2*0x301+-0x14a5;if(_0x3fd83f>-0x38*0x6+-0x62a1*0x1+0x9e89)return-0x93d+-0x231d+0x3379*0x2;return Math[_0x4411c4(0x1f5)](_0x3fd83f);}function sleep(_0x4d61a3){return new Promise(_0x183a64=>setTimeout(_0x183a64,_0x4d61a3));}async function simulateTypingAndWait(_0x832177,_0xbdcabe,_0x46e1be){const _0x3c5a2b=_0x3d51bb;if(!_0x46e1be||_0x46e1be<=-0x697*0x1+-0x20e2+0x5*0x7e5)return;try{if(_0x832177&&typeof _0x832177['sendPresen'+_0x3c5a2b(0x1fd)]==='function')try{await _0x832177['sendPresen'+'ceUpdate'](_0x3c5a2b(0x282),_0xbdcabe);}catch(_0x3f3ca6){}}catch(_0x5046be){}try{await sleep(_0x46e1be);}catch(_0x4e814e){}try{if(_0x832177&&typeof _0x832177[_0x3c5a2b(0x1e8)+_0x3c5a2b(0x1fd)]==='function')try{await _0x832177[_0x3c5a2b(0x1e8)+'ceUpdate'](_0x3c5a2b(0x26b),_0xbdcabe);}catch(_0x31540a){}}catch(_0x1e3f59){}}function clampConfigTypingMs(){const _0x4e8e5d=_0x3d51bb;try{const _0x5ccb64=getConfig()||{},_0x2e2e4f=_0x5ccb64[_0x4e8e5d(0x20a)]&&typeof _0x5ccb64[_0x4e8e5d(0x20a)]===_0x4e8e5d(0x207)?_0x5ccb64['FILTERS']:{};return clampTypingMs(_0x2e2e4f[_0x4e8e5d(0x23f)+'_MS']);}catch(_0x527d78){return 0x3*-0x875+-0x9*0x351+0xf8*0x39;}}function escapeRegex(_0xb48d5f){const _0x471f93=_0x3d51bb;return _0xb48d5f[_0x471f93(0x1b2)](/[.*+?^${}()|[\]\\]/g,_0x471f93(0x1b3));}function wildcardToRegexPattern(_0x34b4ac){const _0x910b4b=_0x3d51bb,_0x470325=_0x34b4ac['split']('*')[_0x910b4b(0x263)](_0x83b2fe=>escapeRegex(_0x83b2fe));return'\x5cb'+_0x470325[_0x910b4b(0x1eb)](_0x910b4b(0x1c9))+'\x5cb';}function ensureArray(_0x187c67){const _0x1695db=_0x3d51bb;if(!_0x187c67)return[];if(Array[_0x1695db(0x26e)](_0x187c67))return _0x187c67;return[String(_0x187c67)];}function uniqArray(_0x1c7f7a){const _0x4d89d9=_0x3d51bb,_0x57e867=new Set(),_0x5ba2b2=[];for(const _0x151be0 of _0x1c7f7a||[]){const _0x3e0801=String(_0x151be0||'')[_0x4d89d9(0x21d)]();if(!_0x3e0801)continue;!_0x57e867[_0x4d89d9(0x220)](_0x3e0801)&&(_0x57e867[_0x4d89d9(0x256)](_0x3e0801),_0x5ba2b2['push'](_0x3e0801));}return _0x5ba2b2;}function getMessageText(_0x31c305){const _0x5533e4=_0x3d51bb;if(!_0x31c305||!_0x31c305[_0x5533e4(0x22c)])return'';const _0xd1bfd3=_0x31c305[_0x5533e4(0x22c)];if(_0xd1bfd3[_0x5533e4(0x1d7)+'on'])return _0xd1bfd3['conversati'+'on'];if(_0xd1bfd3[_0x5533e4(0x283)+_0x5533e4(0x25b)]?.[_0x5533e4(0x265)])return _0xd1bfd3['extendedTe'+'xtMessage'][_0x5533e4(0x265)];if(_0xd1bfd3[_0x5533e4(0x278)+'ge']?.['caption'])return _0xd1bfd3[_0x5533e4(0x278)+'ge'][_0x5533e4(0x286)];if(_0xd1bfd3[_0x5533e4(0x20c)+'ge']?.[_0x5533e4(0x286)])return _0xd1bfd3['videoMessa'+'ge'][_0x5533e4(0x286)];if(_0xd1bfd3[_0x5533e4(0x1fc)+'ponseMessa'+'ge']?.[_0x5533e4(0x1aa)+_0x5533e4(0x218)])return _0xd1bfd3['buttonsRes'+_0x5533e4(0x273)+'ge']['selectedBu'+_0x5533e4(0x218)];if(_0xd1bfd3[_0x5533e4(0x2a4)+_0x5533e4(0x1fe)]?.[_0x5533e4(0x25e)+_0x5533e4(0x298)]?.[_0x5533e4(0x227)+_0x5533e4(0x1d6)])return _0xd1bfd3[_0x5533e4(0x2a4)+_0x5533e4(0x1fe)][_0x5533e4(0x25e)+_0x5533e4(0x298)]['selectedRo'+'wId'];return'';}async function ensureSchema(){const _0x597743=_0x3d51bb;try{const _0x12ffa8=await db[_0x597743(0x1b0)]('SELECT\x20nam'+_0x597743(0x206)+_0x597743(0x20f)+_0x597743(0x272)+_0x597743(0x1be)+'AND\x20name=\x27'+'pm_filters'+'\x27');if(!_0x12ffa8){await db[_0x597743(0x238)](_0x597743(0x27c)+_0x597743(0x295)+_0x597743(0x242)+'rs\x20(\x0a\x20\x20\x20\x20\x20'+_0x597743(0x225)+_0x597743(0x276)+_0x597743(0x1bf)+_0x597743(0x23a)+_0x597743(0x260)+_0x597743(0x27b)+_0x597743(0x21c)+_0x597743(0x235)+_0x597743(0x22f)+_0x597743(0x1b5)+_0x597743(0x23c)+'T\x20NULL\x20DEF'+_0x597743(0x264)+_0x597743(0x20d)+_0x597743(0x299)+_0x597743(0x224)+_0x597743(0x1d4)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'reated_by\x20'+_0x597743(0x1b9)+_0x597743(0x24b)+'\x20\x20\x20\x20\x20\x20\x20cre'+_0x597743(0x1f3)+'TEGER\x20DEFA'+_0x597743(0x22b)+_0x597743(0x25c)+_0x597743(0x204));try{await db['exec'](_0x597743(0x292)+'EX\x20IF\x20NOT\x20'+_0x597743(0x24d)+_0x597743(0x1c6)+_0x597743(0x29a)+_0x597743(0x1c1)+_0x597743(0x1ef)+');');}catch(_0x119c84){}info(_0x597743(0x1f8)+_0x597743(0x202)+_0x597743(0x1ce)+_0x597743(0x2a1));}else info(_0x597743(0x1f8)+_0x597743(0x1b1)+'s\x20table\x20ex'+_0x597743(0x216));}catch(_0x50f4d8){error(_0x50f4d8,_0x597743(0x1f8)+'\x20ensureSch'+_0x597743(0x252));throw _0x50f4d8;}}async function upsertPmFilter(_0x917e72,_0xfd096d,_0x303844){const _0x2454c4=_0x3d51bb;try{const _0x486c06=Math['floor'](Date['now']()/(-0x18c7+-0x608+0x22b7)),_0xaaf46d=JSON[_0x2454c4(0x28b)](uniqArray(ensureArray(_0xfd096d)[_0x2454c4(0x263)](_0x11c3a9=>String(_0x11c3a9)[_0x2454c4(0x21d)]())[_0x2454c4(0x1e4)](Boolean)));await db[_0x2454c4(0x28e)]('INSERT\x20INT'+_0x2454c4(0x232)+_0x2454c4(0x1c0)+_0x2454c4(0x234)+'es,\x20rr_ind'+_0x2454c4(0x27a)+_0x2454c4(0x281)+'ted_at)\x0a\x20\x20'+'\x20\x20\x20\x20\x20VALUE'+_0x2454c4(0x291)+',\x20?,\x20?)\x0a\x20\x20'+_0x2454c4(0x258)+_0x2454c4(0x233)+_0x2454c4(0x1f7)+_0x2454c4(0x1e9)+_0x2454c4(0x250)+_0x2454c4(0x1ba)+_0x2454c4(0x221)+_0x2454c4(0x293)+_0x2454c4(0x20d)+'rr_index\x20='+'\x200,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20created'+_0x2454c4(0x1c2)+'uded.creat'+'ed_by,\x0a\x20\x20\x20'+_0x2454c4(0x1dd)+_0x2454c4(0x217)+'xcluded.cr'+_0x2454c4(0x27e),[_0x917e72,_0xaaf46d,_0x303844||'',_0x486c06]);try{automatonCache[_0x2454c4(0x231)]('global');}catch(_0x2c31a9){}return info(_0x2454c4(0x1f8)+_0x2454c4(0x1e6)+_0x917e72),!![];}catch(_0xf86cdb){return error(_0xf86cdb,_0x2454c4(0x1f8)+_0x2454c4(0x1d0)+_0x2454c4(0x1e7)+_0x917e72),![];}}async function deletePmFilters(_0x3f0560){const _0x21ecd4=_0x3d51bb;if(!Array[_0x21ecd4(0x26e)](_0x3f0560)||_0x3f0560['length']===0x12b6+-0x2*0x765+-0x1*0x3ec)return 0x2b0*0x2+0x313+-0x873*0x1;try{let _0xcc332c=-0x1de*-0x9+-0x1*0x16df+0x611;for(const _0x36d105 of _0x3f0560){const _0xa9483a=await db['run'](_0x21ecd4(0x27d)+_0x21ecd4(0x280)+_0x21ecd4(0x1f9)+'rigger\x20=\x20?',[_0x36d105]);if(_0xa9483a?.[_0x21ecd4(0x262)])_0xcc332c+=_0xa9483a[_0x21ecd4(0x262)];info(_0x21ecd4(0x1f8)+_0x21ecd4(0x1d3)+_0x36d105);}try{automatonCache[_0x21ecd4(0x231)](_0x21ecd4(0x20e));}catch(_0x417f68){}return _0xcc332c;}catch(_0x17084f){return error(_0x17084f,_0x21ecd4(0x1f8)+'\x20delete\x20fa'+_0x21ecd4(0x215)+(_0x17084f?.['message']||_0x17084f)),0x13fa+0x5*0x5de+-0x3150;}}async function listPmTriggers(){const _0x283ce4=_0x3d51bb;try{const _0x2df301=await db[_0x283ce4(0x288)](_0x283ce4(0x26a)+_0x283ce4(0x213)+'ger\x20FROM\x20p'+_0x283ce4(0x1ce)+_0x283ce4(0x251)+_0x283ce4(0x211));return(_0x2df301||[])['map'](_0x179eaa=>_0x179eaa[_0x283ce4(0x248)]);}catch(_0x137ffd){return warn(_0x137ffd,'[pmfilter]'+_0x283ce4(0x28a)+'ers\x20failed'+':\x20'+(_0x137ffd?.[_0x283ce4(0x22c)]||_0x137ffd)),[];}}async function pickPmResponseAndAdvance(_0x403a13,_0x1410b2=_0x3d51bb(0x274)){const _0x3d04a4=_0x3d51bb;try{const _0x579c13=await db[_0x3d04a4(0x1b0)](_0x3d04a4(0x1c3)+_0x3d04a4(0x1f2)+_0x3d04a4(0x208)+'M\x20pm_filte'+'rs\x20WHERE\x20t'+_0x3d04a4(0x240)+'\x20LIMIT\x201',[_0x403a13]);if(!_0x579c13)return null;let _0x5b477e=[];try{_0x5b477e=JSON[_0x3d04a4(0x1dc)](_0x579c13['responses']||'[]');}catch{_0x5b477e=ensureArray(_0x579c13[_0x3d04a4(0x23b)]);}_0x5b477e=ensureArray(_0x5b477e);if(!_0x5b477e['length'])return null;if((_0x1410b2||'')[_0x3d04a4(0x1ca)+'e']()==='random'){const _0x517783=Math[_0x3d04a4(0x1f5)](Math[_0x3d04a4(0x1b7)]()*_0x5b477e[_0x3d04a4(0x230)]);return _0x5b477e[_0x517783];}const _0x335d46=Number(_0x579c13[_0x3d04a4(0x268)]||0x994+0x41b*0x3+0x13*-0x127),_0x3c46dd=_0x5b477e[_0x335d46%_0x5b477e['length']];try{await db['run'](_0x3d04a4(0x1ea)+'filters\x20SE'+_0x3d04a4(0x267)+_0x3d04a4(0x1fa)+_0x3d04a4(0x1d5)+_0x3d04a4(0x228)+_0x3d04a4(0x229),[_0x403a13]);}catch(_0x15ed50){warn(_0x3d04a4(0x1f8)+_0x3d04a4(0x1f6)+'+\x20failed:\x20'+(_0x15ed50?.['message']||_0x15ed50));}return _0x3c46dd;}catch(_0x471bb9){return warn(_0x3d04a4(0x1f8)+_0x3d04a4(0x249)+_0x3d04a4(0x254)+'\x20'+(_0x471bb9?.[_0x3d04a4(0x22c)]||_0x471bb9)),null;}}const processedMessageKeys=new Map(),DEDUPE_TTL_MS=(0x2084+-0x1156+-0xf10)*(-0x6*0x14+-0x10a2*-0x1+-0xc42);function _0x55b1(_0x50d3a8,_0x1d95ad){const _0x2a6b64=_0x21c2();return _0x55b1=function(_0x4fc168,_0x52ecc5){_0x4fc168=_0x4fc168-(0x31d+0x11*0x1a+0x25*-0x16);let _0x1ed843=_0x2a6b64[_0x4fc168];return _0x1ed843;},_0x55b1(_0x50d3a8,_0x1d95ad);}function makeDedupeKey(_0x32915a){const _0x1fc52e=_0x3d51bb,_0xaa226c=_0x32915a?.[_0x1fc52e(0x261)];if(!_0xaa226c)return null;const _0x55cce6=_0xaa226c['id']||_0xaa226c?.[_0x1fc52e(0x1d8)+'t']||'',_0x5311ce=_0xaa226c['remoteJid']||'';return _0x5311ce+'::'+_0x55cce6;}function isProcessed(_0x1e50b9){const _0x2d3e64=_0x3d51bb;return _0x1e50b9&&processedMessageKeys[_0x2d3e64(0x220)](_0x1e50b9);}function markProcessed(_0x3ae415){const _0x4c63ff=_0x3d51bb;if(!_0x3ae415)return;if(processedMessageKeys[_0x4c63ff(0x220)](_0x3ae415))clearTimeout(processedMessageKeys[_0x4c63ff(0x1b0)](_0x3ae415));const _0x38d0f1=setTimeout(()=>processedMessageKeys[_0x4c63ff(0x231)](_0x3ae415),DEDUPE_TTL_MS);processedMessageKeys['set'](_0x3ae415,_0x38d0f1);}class Aho{constructor(){const _0x3ae012=_0x3d51bb;this[_0x3ae012(0x277)]=[{'next':Object['create'](null),'fail':0x0,'output':[]}];}[_0x3d51bb(0x21a)](_0x5a11f0){const _0x31d2de=_0x3d51bb;this['nodes']=[{'next':Object['create'](null),'fail':0x0,'output':[]}];for(const _0x2a49d8 of _0x5a11f0){let _0x3c9edf=-0x1400+-0x11b*-0x1d+-0x3f*0x31;for(let _0x1296a0=-0x2175+0x139e+0xdd7;_0x1296a0<_0x2a49d8[_0x31d2de(0x230)];_0x1296a0++){const _0x1cc60d=_0x2a49d8[_0x1296a0];!this[_0x31d2de(0x277)][_0x3c9edf]['next'][_0x1cc60d]&&(this[_0x31d2de(0x277)][_0x3c9edf]['next'][_0x1cc60d]=this[_0x31d2de(0x277)][_0x31d2de(0x230)],this[_0x31d2de(0x277)][_0x31d2de(0x219)]({'next':Object[_0x31d2de(0x1d2)](null),'fail':0x0,'output':[]})),_0x3c9edf=this['nodes'][_0x3c9edf][_0x31d2de(0x1bd)][_0x1cc60d];}this[_0x31d2de(0x277)][_0x3c9edf][_0x31d2de(0x20b)][_0x31d2de(0x219)](_0x2a49d8);}const _0x2541d6=[];for(const _0x398278 in this[_0x31d2de(0x277)][-0x31*0xd+-0x1f*-0x42+-0x1*0x581]['next']){const _0x7ea08b=this[_0x31d2de(0x277)][-0x939*0x2+0x901+0x1*0x971]['next'][_0x398278];this[_0x31d2de(0x277)][_0x7ea08b][_0x31d2de(0x275)]=-0x3ef*0x9+0x20e2+0x285,_0x2541d6[_0x31d2de(0x219)](_0x7ea08b);}while(_0x2541d6[_0x31d2de(0x230)]){const _0x58b472=_0x2541d6['shift']();for(const _0xe25660 in this[_0x31d2de(0x277)][_0x58b472][_0x31d2de(0x1bd)]){const _0x1df9d1=this[_0x31d2de(0x277)][_0x58b472][_0x31d2de(0x1bd)][_0xe25660];let _0x5486fb=this[_0x31d2de(0x277)][_0x58b472][_0x31d2de(0x275)];while(_0x5486fb&&!this[_0x31d2de(0x277)][_0x5486fb][_0x31d2de(0x1bd)][_0xe25660])_0x5486fb=this[_0x31d2de(0x277)][_0x5486fb][_0x31d2de(0x275)];if(this[_0x31d2de(0x277)][_0x5486fb]['next'][_0xe25660])this['nodes'][_0x1df9d1][_0x31d2de(0x275)]=this[_0x31d2de(0x277)][_0x5486fb][_0x31d2de(0x1bd)][_0xe25660];else this[_0x31d2de(0x277)][_0x1df9d1][_0x31d2de(0x275)]=0x177f+0x95f+-0x20de;this[_0x31d2de(0x277)][_0x1df9d1][_0x31d2de(0x20b)][_0x31d2de(0x219)](...this[_0x31d2de(0x277)][this[_0x31d2de(0x277)][_0x1df9d1][_0x31d2de(0x275)]]['output']),_0x2541d6[_0x31d2de(0x219)](_0x1df9d1);}}}[_0x3d51bb(0x1ed)](_0x3dc5ca){const _0x40e7df=_0x3d51bb,_0x1231bf=[];let _0x51845c=-0x7a*-0x15+0x3c5+-0x1*0xdc7;for(let _0x4e4dc8=-0x1*0x22b9+0x1e2*0x13+0x1*-0x10d;_0x4e4dc8<_0x3dc5ca[_0x40e7df(0x230)];_0x4e4dc8++){const _0x337ddf=_0x3dc5ca[_0x4e4dc8];while(_0x51845c&&!this[_0x40e7df(0x277)][_0x51845c][_0x40e7df(0x1bd)][_0x337ddf])_0x51845c=this['nodes'][_0x51845c][_0x40e7df(0x275)];if(this[_0x40e7df(0x277)][_0x51845c][_0x40e7df(0x1bd)][_0x337ddf])_0x51845c=this[_0x40e7df(0x277)][_0x51845c]['next'][_0x337ddf];else _0x51845c=0xff3+0x748+-0x173b;if(this[_0x40e7df(0x277)][_0x51845c]['output'][_0x40e7df(0x230)]){for(const _0x3b51fd of this[_0x40e7df(0x277)][_0x51845c]['output'])_0x1231bf[_0x40e7df(0x219)]({'keyword':_0x3b51fd,'index':_0x4e4dc8-_0x3b51fd[_0x40e7df(0x230)]+(0x1b7f+0x57a+0x1*-0x20f8)});}}return _0x1231bf;}}const automatonCache=new Map();async function getGlobalAutomaton(){const _0x43b080=_0x3d51bb;if(automatonCache[_0x43b080(0x220)]('global'))return automatonCache[_0x43b080(0x1b0)](_0x43b080(0x20e));try{const _0x4dd0e1=await db['all'](_0x43b080(0x26a)+_0x43b080(0x213)+_0x43b080(0x255)+_0x43b080(0x205)),_0x17e20b=(_0x4dd0e1||[])[_0x43b080(0x263)](_0x228196=>String(_0x228196['trigger']||'')[_0x43b080(0x21d)]())[_0x43b080(0x1e4)](Boolean),_0x72079a=_0x17e20b[_0x43b080(0x1e4)](_0x4b1cf3=>{const _0x5d5d63=_0x43b080,_0x265750=String(_0x4b1cf3)[_0x5d5d63(0x21d)]()[_0x5d5d63(0x1ca)+'e']();if(_0x265750[_0x5d5d63(0x241)](_0x5d5d63(0x247)))return![];if(_0x4b1cf3['includes']('*'))return![];return!![];}),_0xb3a19f=_0x72079a[_0x43b080(0x263)](_0x479bfc=>_0x479bfc[_0x43b080(0x1ca)+'e']()),_0x35d784=new Aho();if(_0xb3a19f['length'])_0x35d784[_0x43b080(0x21a)](_0xb3a19f);const _0x907619={'ac':_0x35d784,'keywords':_0xb3a19f,'normalSet':new Set(_0xb3a19f),'triggers':_0x17e20b};return automatonCache[_0x43b080(0x21e)](_0x43b080(0x20e),_0x907619),_0x907619;}catch(_0x9c53f1){return warn(_0x43b080(0x1f8)+_0x43b080(0x2a3)+_0x43b080(0x214)+_0x43b080(0x1c4)+(_0x9c53f1?.['message']||_0x9c53f1)),null;}}async function sendPmReply(_0x5b2ab3,_0x16b4d1,_0x184059){const _0x50b01c=_0x3d51bb;if(!_0x184059)return;let _0x15719a=_0x16b4d1;try{if(!_0x15719a&&_0x5b2ab3&&_0x5b2ab3[_0x50b01c(0x261)]&&_0x5b2ab3[_0x50b01c(0x261)]['remoteJid'])_0x15719a=_0x5b2ab3[_0x50b01c(0x261)][_0x50b01c(0x266)];}catch(_0x143f09){}if(!_0x15719a)return;const _0x588d0a={'text':String(_0x184059)},_0x54fbaf=clampConfigTypingMs();if(_0x54fbaf>0x5*0x1d+0x1803+-0x34*0x79)try{await simulateTypingAndWait(botInstance?.['sock'],_0x15719a,_0x54fbaf);}catch(_0x3fd782){warn(_0x50b01c(0x1f8)+_0x50b01c(0x25a)+_0x50b01c(0x25d)+'it\x20error:\x20'+(_0x3fd782?.[_0x50b01c(0x22c)]||_0x3fd782));}try{if(_0x5b2ab3&&typeof _0x5b2ab3['reply']===_0x50b01c(0x28d)&&_0x5b2ab3[_0x50b01c(0x261)]&&_0x5b2ab3[_0x50b01c(0x261)][_0x50b01c(0x266)]===_0x15719a)try{await _0x5b2ab3[_0x50b01c(0x1c7)]({'text':String(_0x184059)});return;}catch(_0x460db7){warn('[pmfilter]'+_0x50b01c(0x222)+'ply\x20failed'+':\x20'+(_0x460db7?.[_0x50b01c(0x22c)]||_0x460db7));}if(botInstance&&typeof botInstance[_0x50b01c(0x270)+'e']===_0x50b01c(0x28d))await botInstance[_0x50b01c(0x270)+'e'](_0x15719a,_0x588d0a);else botInstance&&botInstance[_0x50b01c(0x1ee)]&&typeof botInstance[_0x50b01c(0x1ee)][_0x50b01c(0x270)+'e']===_0x50b01c(0x28d)?await botInstance['sock'][_0x50b01c(0x270)+'e'](_0x15719a,_0x588d0a):warn(_0x50b01c(0x1f8)+_0x50b01c(0x237)+'PI\x20availab'+'le');}catch(_0x56c40d){warn(_0x50b01c(0x1f8)+'\x20sendPmRep'+'ly\x20failed:'+'\x20'+(_0x56c40d?.[_0x50b01c(0x22c)]||_0x56c40d));}}export async function initialize(_0x36e286){const _0x16d3ef=_0x3d51bb;try{botInstance=_0x36e286,botJid=_0x36e286?.[_0x16d3ef(0x1ee)]?.['user']?.['id']||null;if(!botJid)warn(_0x16d3ef(0x1f8)+'\x20bot\x20JID\x20n'+_0x16d3ef(0x1de)+_0x16d3ef(0x2a0)+'ialize()');if(botInstance){if(typeof botInstance['sendMessag'+'e']==='function')sendApi=async(_0x4099e5,_0x921dd0)=>await botInstance[_0x16d3ef(0x270)+'e'](_0x4099e5,_0x921dd0);else{if(botInstance[_0x16d3ef(0x1ee)]&&typeof botInstance[_0x16d3ef(0x1ee)][_0x16d3ef(0x270)+'e']===_0x16d3ef(0x28d))sendApi=async(_0x223e0e,_0x5bc9b4)=>await botInstance[_0x16d3ef(0x1ee)][_0x16d3ef(0x270)+'e'](_0x223e0e,_0x5bc9b4);else sendApi=null;}}await ensureSchema(),info(_0x16d3ef(0x1f8)+_0x16d3ef(0x1fb)+_0x16d3ef(0x1cd)+_0x16d3ef(0x2a2)+(botJid||_0x16d3ef(0x294)));}catch(_0x1ae32e){error(_0x1ae32e,_0x16d3ef(0x1f8)+'\x20initializ'+_0x16d3ef(0x29e)+(_0x1ae32e?.['message']||_0x1ae32e));throw _0x1ae32e;}}function _0x21c2(){const _0x3ac7d0=['keyword','_pmfilters','reply','sponse2\x0aNO','\x5cw*','toLowerCas','1789092Rphsbp','\x20pdelfilte','ed\x20with\x20bo','m_filters\x20','rs.\x20Rows\x20r','\x20upsert\x20fa','Confirmati','create','\x20deleted\x20','FAULT\x200,\x0a\x20','ex\x20+\x201)\x20WH','wId','conversati','participan','\x20cleanup\x20e','ases\x20ALL\x20p','gger2\x0aOr:\x20','parse','\x20\x20\x20\x20\x20\x20crea','ot\x20availab','values','1.2.0','TE:\x20Filter','2826cBAToi','45zvulNd','filter','slice','\x20upsert:\x20','iled\x20for\x20','sendPresen','PDATE\x20SET\x0a','UPDATE\x20pm_','join','substring','search','sock','rs(trigger','string','loaded\x20','ponses,\x20rr','ated_at\x20IN','21480370pnXhsE','floor','\x20rr_index+','gger)\x20DO\x20U','[pmfilter]','rs\x20WHERE\x20t','\x20=\x20(rr_ind','\x20initializ','buttonsRes','ceUpdate','seMessage','ponse1\x0a!re','Saved\x20','\x20invalid\x20s','\x20created\x20p','s\x20are\x20glob','\x20\x20\x20','m_filters','e\x20FROM\x20sql','object','_index\x20FRO','triggers','FILTERS','output','videoMessa','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20','global','ite_master','\x20determine','rigger','\x20Aho\x20faile','TINCT\x20trig','Automaton\x20','iled:\x20','ists','ted_at\x20=\x20e','ttonId','push','build','Deleted\x20','\x20TEXT\x20NOT\x20','trim','set','\x20PM\x20the\x20bo','has','\x20excluded.','\x20quoted\x20re','index','INTEGER\x20DE','\x20\x20\x20\x20\x20id\x20IN','pdelfilter','selectedRo','ERE\x20trigge','r\x20=\x20?','ODE','ULT\x200\x0a\x20\x20\x20\x20','message','\x20pm\x20filter','find','E,\x0a\x20\x20\x20\x20\x20\x20\x20','length','delete','O\x20pm_filte','NFLICT(tri','r,\x20respons','NULL\x20UNIQU','90236DjGZxo','\x20no\x20send\x20A','exec','shift','TOINCREMEN','responses','es\x20TEXT\x20NO','onTarget\x20e','\x22\x20-\x20','TYPING_SIM','rigger\x20=\x20?','startsWith','E\x20pm_filte','x:\x20\x22','(s).','tiline,\x20PM','Usage:\x20pde','regex:','trigger','\x20pickRespo','includes','LT\x20\x27\x27,\x0a\x20\x20\x20','\x20handler\x20e','EXISTS\x20idx','fromMe','from','\x20\x20\x20\x20\x20\x20\x20\x20\x20r','ORDER\x20BY\x20t','ema\x20fatal','ilter\x20<tri','nse\x20error:','ger\x20FROM\x20p','add','81GXnKqI','\x20\x20\x20\x20\x20ON\x20CO','isCommand','\x20simulateT','xtMessage','\x20\x20\x20\x20);\x0a\x20\x20\x20','ypingAndWa','singleSele','PREFIX','T,\x0a\x20\x20\x20\x20\x20\x20\x20','key','changes','map','AULT\x20\x27[]\x27,','text','remoteJid','T\x20rr_index','rr_index','EFIX','SELECT\x20DIS','paused','r\x20all\x20fail','RESPONSE_M','isArray','gger1,trig','sendMessag','m\x20filters)','\x20WHERE\x20typ','ponseMessa','roundrobin','fail','TEGER\x20PRIM','nodes','imageMessa','408uYFtEu','ex,\x20create','\x20\x20\x20trigger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20C','DELETE\x20FRO','eated_at;','pmfilter','M\x20pm_filte','d_by,\x20crea','composing','extendedTe','\x20cleaned\x20u','lfilter\x20tr','caption','2314857EsPboA','all','L\x20pm\x20filte','\x20listTrigg','stringify','-only):\x0apf','function','run','ed:\x20','split','S\x20(?,\x20?,\x200','CREATE\x20IND','responses,','unknown','REATE\x20TABL','3726604OhSAvO','clear','ctReply','\x20rr_index\x20','_trigger\x20O','isFinite','pdelf','l\x20be\x20used\x20','e\x20error:\x20','Usage\x20(mul','le\x20at\x20init','table','tJid=','\x20getGlobal','listRespon','keywords','selectedBu','test','COMMAND_PR','Deleted\x20AL','emoved:\x20','delete\x20all','get','\x20pm_filter','replace','\x5c$&','rror:\x20','\x20\x20\x20respons','164048yeEFll','random','pfilter','TEXT\x20DEFAU','esponses\x20=','plistfilte','@g.us','next','e=\x27table\x27\x20','ARY\x20KEY\x20AU','rs\x20(trigge','N\x20pm_filte','_by\x20=\x20excl','SELECT\x20res','failed:\x20'];_0x21c2=function(){return _0x3ac7d0;};return _0x21c2();}function detectCommandNameFromCmdText(_0x1d0078){const _0x19c1d6=_0x3d51bb;if(!_0x1d0078)return null;const _0x110333=_0x1d0078['trim']();if(!_0x110333)return null;return _0x110333[_0x19c1d6(0x290)](/\s+/)[0x11dd+0x4b8+-0x1695][_0x19c1d6(0x1ca)+'e']();}function parsePmFilterCommandText(_0x19b832,_0x85f6aa){const _0x5d3ab2=_0x3d51bb;if(!_0x19b832)return null;const _0x4a1b22=_0x19b832[_0x5d3ab2(0x290)](/\r?\n/)[_0x5d3ab2(0x263)](_0x169894=>_0x169894[_0x5d3ab2(0x1b2)](/\r/g,''));if(!_0x4a1b22[_0x5d3ab2(0x230)])return null;let _0x3da14b=_0x4a1b22[0xb*-0x262+-0x1438+0x2e6e]['trim']();if(_0x85f6aa){if(Array['isArray'](_0x85f6aa))for(const _0x44027a of _0x85f6aa){if(_0x3da14b[_0x5d3ab2(0x241)](_0x44027a)){_0x3da14b=_0x3da14b[_0x5d3ab2(0x1e5)](_0x44027a['length'])['trim']();break;}}else typeof _0x85f6aa===_0x5d3ab2(0x1f0)&&_0x3da14b[_0x5d3ab2(0x241)](_0x85f6aa)&&(_0x3da14b=_0x3da14b['slice'](_0x85f6aa[_0x5d3ab2(0x230)])[_0x5d3ab2(0x21d)]());}const _0x1e3966=_0x3da14b[_0x5d3ab2(0x290)](/\s+/);if(_0x1e3966[0x1*-0x1009+0x139*-0x13+0x2744][_0x5d3ab2(0x1ca)+'e']()===_0x5d3ab2(0x1b8))_0x1e3966[_0x5d3ab2(0x239)]();const _0x2c83a2=_0x1e3966[_0x5d3ab2(0x1eb)]('\x20')[_0x5d3ab2(0x21d)](),_0x5d610b=_0x2c83a2?_0x2c83a2[_0x5d3ab2(0x290)](',')[_0x5d3ab2(0x263)](_0x19c87b=>_0x19c87b[_0x5d3ab2(0x21d)]())[_0x5d3ab2(0x1e4)](Boolean):[],_0x2992b2=_0x4a1b22[_0x5d3ab2(0x1e5)](0x26ae*-0x1+-0x717+0x2dc6)['map'](_0x55c238=>_0x55c238[_0x5d3ab2(0x21d)]())[_0x5d3ab2(0x1e4)](Boolean)[_0x5d3ab2(0x1e4)](_0x27f38a=>_0x27f38a[_0x5d3ab2(0x241)]('!'))[_0x5d3ab2(0x263)](_0x2f0d79=>_0x2f0d79[_0x5d3ab2(0x1e5)](0x2465+0x1fb7*-0x1+-0x4ad)[_0x5d3ab2(0x21d)]())['filter'](Boolean);return{'triggers':_0x5d610b,'responses':_0x2992b2};}async function determineConfirmationTarget(_0x1a1f8b){const _0x5f3f9b=_0x3d51bb;try{if(!_0x1a1f8b||!_0x1a1f8b[_0x5f3f9b(0x261)])return null;if(_0x1a1f8b['key'][_0x5f3f9b(0x24e)]){const _0x392973=getBotJid();return _0x392973||_0x1a1f8b[_0x5f3f9b(0x261)][_0x5f3f9b(0x266)];}return _0x1a1f8b[_0x5f3f9b(0x261)][_0x5f3f9b(0x266)];}catch(_0x3b4cc2){warn('[pmfilter]'+_0x5f3f9b(0x210)+_0x5f3f9b(0x1d1)+_0x5f3f9b(0x23d)+_0x5f3f9b(0x1b4)+(_0x3b4cc2?.[_0x5f3f9b(0x22c)]||_0x3b4cc2));try{return _0x1a1f8b[_0x5f3f9b(0x261)]['remoteJid'];}catch(_0x2bc9d2){return null;}}}export async function onMessage(_0x8cae45){const _0x413a56=_0x3d51bb;try{if(!_0x8cae45||!_0x8cae45[_0x413a56(0x261)]||!_0x8cae45[_0x413a56(0x22c)])return;const _0x3bb187=makeDedupeKey(_0x8cae45);if(isProcessed(_0x3bb187))return;markProcessed(_0x3bb187);const _0x4b93bd=_0x8cae45[_0x413a56(0x261)][_0x413a56(0x266)],_0x4921f3=typeof _0x4b93bd===_0x413a56(0x1f0)&&_0x4b93bd['endsWith'](_0x413a56(0x1bc)),_0x1a28e3=!!_0x8cae45['key'][_0x413a56(0x24e)],_0x7f2792=_0x8cae45[_0x413a56(0x261)]&&(_0x8cae45[_0x413a56(0x261)]['participan'+'t']||_0x8cae45['key'][_0x413a56(0x24f)]||_0x8cae45[_0x413a56(0x261)][_0x413a56(0x266)])||'';if(_0x8cae45[_0x413a56(0x259)]){if(_0x4921f3)return;const _0x539a59=!!_0x8cae45[_0x413a56(0x261)][_0x413a56(0x24e)];let _0x250e33=![];try{_0x250e33=await isSudo(botInstance,_0x8cae45);}catch(_0x2a5151){_0x250e33=![];}if(!_0x539a59&&!_0x250e33)return;const _0x4edfe3=await determineConfirmationTarget(_0x8cae45),_0x3c2533=typeof _0x8cae45[_0x413a56(0x265)]==='string'&&_0x8cae45[_0x413a56(0x265)][_0x413a56(0x21d)]()[_0x413a56(0x230)]?_0x8cae45[_0x413a56(0x265)][_0x413a56(0x21d)]():getMessageText(_0x8cae45)[_0x413a56(0x21d)](),_0x12a89d=detectCommandNameFromCmdText(_0x3c2533);if(!_0x12a89d)return;if(!_0x12a89d[_0x413a56(0x241)]('p'))return;if(_0x12a89d==='pfilter'){const _0xa62915=getConfig()||{},_0x54ea7e=parsePmFilterCommandText(_0x3c2533||getMessageText(_0x8cae45),_0xa62915[_0x413a56(0x1ac)+_0x413a56(0x269)]??_0xa62915[_0x413a56(0x25f)]??null);if(!_0x54ea7e||!_0x54ea7e['triggers'][_0x413a56(0x230)]||!_0x54ea7e[_0x413a56(0x23b)][_0x413a56(0x230)]){await sendPmReply(_0x8cae45,_0x4edfe3,_0x413a56(0x29f)+_0x413a56(0x245)+_0x413a56(0x28c)+_0x413a56(0x253)+_0x413a56(0x26f)+'ger2>\x0a!res'+_0x413a56(0x1ff)+_0x413a56(0x1c8)+_0x413a56(0x1e1)+_0x413a56(0x203)+'al\x20and\x20wil'+_0x413a56(0x29d)+'when\x20users'+_0x413a56(0x21f)+'t.');return;}let _0x2301e3=-0x1*0x943+0x3*0x85a+0x137*-0xd;for(const _0x4c6354 of _0x54ea7e[_0x413a56(0x209)]){const _0x220621=await upsertPmFilter(_0x4c6354,_0x54ea7e[_0x413a56(0x23b)],_0x7f2792||'');if(_0x220621)_0x2301e3++;}await sendPmReply(_0x8cae45,_0x4edfe3,_0x413a56(0x200)+_0x2301e3+(_0x413a56(0x22d)+_0x413a56(0x244)));return;}if(_0x12a89d===_0x413a56(0x1bb)+'r'){const _0x5d5617=await listPmTriggers();await sendPmReply(_0x8cae45,_0x4edfe3,'[pfilter]\x20'+_0x413a56(0x1f1)+_0x5d5617[_0x413a56(0x230)]+'\x20filters.');if(!_0x5d5617['length'])return;let _0x42cd6a='';for(const _0x5ba03c of _0x5d5617){const _0x229887='•\x20'+_0x5ba03c+'\x0a';(_0x42cd6a+_0x229887)[_0x413a56(0x230)]>0x686+0x1*0x20ef+-0x2199&&(await sendPmReply(_0x8cae45,_0x4edfe3,_0x42cd6a[_0x413a56(0x21d)]()),_0x42cd6a=''),_0x42cd6a+=_0x229887;}if(_0x42cd6a['trim']())await sendPmReply(_0x8cae45,_0x4edfe3,_0x42cd6a[_0x413a56(0x21d)]());return;}if(_0x12a89d==='pdelfilter'||_0x12a89d===_0x413a56(0x226)+'s'||_0x12a89d===_0x413a56(0x29c)){const _0x40fc91=getMessageText(_0x8cae45)||'',_0x2fb2f6=_0x40fc91[_0x413a56(0x290)](/\r?\n/)[_0x413a56(0x263)](_0x4a5184=>_0x4a5184[_0x413a56(0x21d)]());let _0x16b6d4=null;if(_0x2fb2f6[_0x413a56(0x230)]>-0x413+0x14b3+-0x17*0xb9)_0x16b6d4=_0x2fb2f6[-0x219f+0x1e3f*-0x1+0x3fdf];else{const _0x2568d1=(_0x3c2533||_0x40fc91)[_0x413a56(0x21d)]()[_0x413a56(0x290)](/\s+/);_0x2568d1['shift'](),_0x16b6d4=_0x2568d1['join']('\x20')[_0x413a56(0x21d)]();}const _0x17a868=(_0x16b6d4||'')['split'](',')[_0x413a56(0x263)](_0x4aa892=>_0x4aa892[_0x413a56(0x21d)]())['filter'](Boolean);if(!_0x17a868['length']){await sendPmReply(_0x8cae45,_0x4edfe3,_0x413a56(0x246)+_0x413a56(0x285)+'igger1,tri'+_0x413a56(0x1db)+_0x413a56(0x226)+'\x20all\x20\x20\x20(er'+_0x413a56(0x1da)+_0x413a56(0x271));return;}if(_0x17a868[_0x413a56(0x230)]===-0xdd3*0x1+-0x11*-0x1e1+-0x121d&&_0x17a868[-0xc8*-0x6+-0x172e+0x127e][_0x413a56(0x1ca)+'e']()==='all')try{const _0x3e8052=await db[_0x413a56(0x28e)](_0x413a56(0x27d)+'M\x20pm_filte'+'rs'),_0x7c8601=_0x3e8052?.[_0x413a56(0x262)]||-0x7*-0x4e5+0x19a7*-0x1+-0x89c*0x1;try{automatonCache['clear']();}catch(_0x43f209){}await sendPmReply(_0x8cae45,_0x4edfe3,_0x413a56(0x1ad)+_0x413a56(0x289)+_0x413a56(0x1cf)+_0x413a56(0x1ae)+_0x7c8601);return;}catch(_0x3886c8){warn('[pmfilter]'+_0x413a56(0x1cc)+_0x413a56(0x26c)+_0x413a56(0x28f)+(_0x3886c8?.[_0x413a56(0x22c)]||_0x3886c8)),await sendPmReply(_0x8cae45,_0x4edfe3,'Failed\x20to\x20'+_0x413a56(0x1af)+'\x20filters:\x20'+(_0x3886c8?.[_0x413a56(0x22c)]||_0x3886c8));return;}const _0x175417=await deletePmFilters(_0x17a868);await sendPmReply(_0x8cae45,_0x4edfe3,_0x413a56(0x21b)+_0x175417+(_0x413a56(0x22d)+_0x413a56(0x244)));return;}return;}const _0x32f4f1=_0x4b93bd;if(!_0x32f4f1)return;if(_0x4921f3)return;if(_0x1a28e3)return;if(_0x32f4f1===botJid)return;const _0x145ee4=getMessageText(_0x8cae45);if(!_0x145ee4)return;const _0x1edee8=String(_0x145ee4||''),_0x2fe049=await db[_0x413a56(0x288)](_0x413a56(0x26a)+_0x413a56(0x213)+_0x413a56(0x255)+_0x413a56(0x205));if(!_0x2fe049||_0x2fe049[_0x413a56(0x230)]===-0x1453+-0xf4e+0x7*0x517)return;const _0x43460c=(_0x2fe049||[])[_0x413a56(0x263)](_0x4927ef=>String(_0x4927ef[_0x413a56(0x248)]||'')[_0x413a56(0x21d)]())['filter'](Boolean),_0x4edc66=[],_0x51be65=[],_0x327773=[];for(const _0x4f69f8 of _0x43460c){const _0x321963=String(_0x4f69f8)[_0x413a56(0x21d)]()[_0x413a56(0x1ca)+'e']();if(_0x321963[_0x413a56(0x241)](_0x413a56(0x247))){_0x327773[_0x413a56(0x219)](_0x4f69f8[_0x413a56(0x1ec)](0x26b4+-0x1529+-0x1185));continue;}if(_0x4f69f8[_0x413a56(0x24a)]('*')){_0x51be65[_0x413a56(0x219)](_0x4f69f8);continue;}_0x4edc66['push'](_0x4f69f8);}const _0x4227ce=getConfig()||{},_0x41b578=_0x4227ce['FILTERS']&&typeof _0x4227ce[_0x413a56(0x20a)]===_0x413a56(0x207)?_0x4227ce[_0x413a56(0x20a)]:{},_0x5e2233=(_0x41b578[_0x413a56(0x26d)+_0x413a56(0x22a)]||_0x413a56(0x274))['toLowerCas'+'e']();let _0x21c544=null;if(_0x4edc66[_0x413a56(0x230)]>0x1de5+0x941*0x1+0x2726*-0x1)try{const _0x259986=await getGlobalAutomaton();if(_0x259986&&_0x259986['ac']&&_0x259986[_0x413a56(0x1a9)]&&_0x259986[_0x413a56(0x1a9)][_0x413a56(0x230)]){const _0x41c6fe=_0x1edee8['toLowerCas'+'e'](),_0x44012a=_0x259986['ac']['search'](_0x41c6fe);for(const _0x1f78fb of _0x44012a){const _0x524300=_0x1f78fb[_0x413a56(0x1c5)],_0x491e90=_0x1f78fb[_0x413a56(0x223)],_0x1fd555=_0x491e90+_0x524300[_0x413a56(0x230)],_0x53c3c2=_0x491e90===0x1559*-0x1+0x14d1*-0x1+-0x2*-0x1515||!/\w/['test'](_0x41c6fe[_0x491e90-(0xa67*0x2+0x1e2a+-0x32f7*0x1)]),_0x207027=_0x1fd555===_0x41c6fe[_0x413a56(0x230)]||!/\w/[_0x413a56(0x1ab)](_0x41c6fe[_0x1fd555]);if(_0x53c3c2&&_0x207027){const _0x37d0f7=_0x4edc66[_0x413a56(0x22e)](_0x1c316c=>_0x1c316c[_0x413a56(0x1ca)+'e']()===_0x524300);if(_0x37d0f7){_0x21c544=_0x37d0f7;break;}}}}else for(const _0x2732e5 of _0x4edc66){const _0x93c2d4=new RegExp('\x5cb'+escapeRegex(String(_0x2732e5))+'\x5cb','i');if(_0x93c2d4['test'](_0x1edee8)){_0x21c544=_0x2732e5;break;}}}catch(_0x65cc53){warn(_0x413a56(0x1f8)+_0x413a56(0x212)+'d:\x20'+(_0x65cc53?.['message']||_0x65cc53));for(const _0x4eb5ca of _0x4edc66){try{const _0x2ee840=new RegExp('\x5cb'+escapeRegex(String(_0x4eb5ca))+'\x5cb','i');if(_0x2ee840[_0x413a56(0x1ab)](_0x1edee8)){_0x21c544=_0x4eb5ca;break;}}catch(_0x221a1c){}}}if(!_0x21c544&&_0x51be65['length']>-0x1d08+0xc7+0x1c41)for(const _0x484814 of _0x51be65){try{const _0x253341=new RegExp(wildcardToRegexPattern(_0x484814),'i');if(_0x253341['test'](_0x1edee8)){_0x21c544=_0x484814;break;}}catch(_0x2504cd){if(_0x1edee8[_0x413a56(0x1ca)+'e']()[_0x413a56(0x24a)](_0x484814[_0x413a56(0x1b2)](/\*/g,'')[_0x413a56(0x1ca)+'e']())){_0x21c544=_0x484814;break;}}}if(!_0x21c544&&_0x327773[_0x413a56(0x230)]>-0x1*0x1243+-0x1c14+0x2e57*0x1)for(const _0x1515ff of _0x327773){try{const _0xe77d0=new RegExp(_0x1515ff,'i');if(_0xe77d0[_0x413a56(0x1ab)](_0x1edee8)){_0x21c544=_0x413a56(0x247)+_0x1515ff;break;}}catch(_0x501b0e){warn(_0x413a56(0x1f8)+_0x413a56(0x201)+'tored\x20rege'+_0x413a56(0x243)+_0x1515ff+_0x413a56(0x23e)+(_0x501b0e?.['message']||_0x501b0e));}}if(_0x21c544){const _0x16ed4f=await pickPmResponseAndAdvance(_0x21c544[_0x413a56(0x1b2)](/\s+$/,''),_0x5e2233);if(!_0x16ed4f)return;await sendPmReply(_0x8cae45,_0x32f4f1,_0x16ed4f);}}catch(_0x1db377){error(_0x1db377,'[pmfilter]'+_0x413a56(0x24c)+_0x413a56(0x1b4)+(_0x1db377?.[_0x413a56(0x22c)]||_0x1db377));}}export async function cleanup(){const _0x367e68=_0x3d51bb;try{for(const _0x1cf3a1 of processedMessageKeys[_0x367e68(0x1df)]())try{clearTimeout(_0x1cf3a1);}catch(_0x4dc1a5){}processedMessageKeys[_0x367e68(0x297)](),automatonCache['clear'](),botInstance=null,botJid=null,sendApi=null,info('[pmfilter]'+_0x367e68(0x284)+'p');}catch(_0x52a25a){warn(_0x367e68(0x1f8)+_0x367e68(0x1d9)+_0x367e68(0x1b4)+(_0x52a25a?.[_0x367e68(0x22c)]||_0x52a25a));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};