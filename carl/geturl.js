const _0x1472e7=_0x5b74;(function(_0x4531b1,_0x380bf7){const _0x279c47=_0x5b74,_0x556895=_0x4531b1();while(!![]){try{const _0x222f77=-parseInt(_0x279c47(0xcc))/(0x18c4+-0x190b+0x24*0x2)*(parseInt(_0x279c47(0xd2))/(0x11bc+-0x603+-0x1*0xbb7))+-parseInt(_0x279c47(0xce))/(-0x911+0x99+-0x87b*-0x1)*(-parseInt(_0x279c47(0xac))/(0x929+0xff6*0x1+-0x191b))+-parseInt(_0x279c47(0xd0))/(-0x3d*0x29+-0x1ce0+0x26aa)+parseInt(_0x279c47(0xeb))/(0x5*-0x390+-0x650+0x1826*0x1)+parseInt(_0x279c47(0xe9))/(-0x1381*-0x1+-0x2704+0x138a)+-parseInt(_0x279c47(0xbc))/(-0x820+0x15c8+0x1b4*-0x8)*(parseInt(_0x279c47(0xc4))/(-0x2403*-0x1+0x144d+-0x3847*0x1))+-parseInt(_0x279c47(0xe0))/(0xffd+-0x1cd4+0xce1)*(-parseInt(_0x279c47(0xc3))/(-0xd83+-0x1*0x1697+0x1e7*0x13));if(_0x222f77===_0x380bf7)break;else _0x556895['push'](_0x556895['shift']());}catch(_0x490410){_0x556895['push'](_0x556895['shift']());}}}(_0x5035,-0x8fd9+0x34fd6+-0xc3fb));function _0x5b74(_0x1a3913,_0x4b1027){const _0x177e42=_0x5035();return _0x5b74=function(_0x52121b,_0x187d21){_0x52121b=_0x52121b-(0x4c2*0x2+0x13f*-0x5+-0x2b4);let _0x1b5f6a=_0x177e42[_0x52121b];return _0x1b5f6a;},_0x5b74(_0x1a3913,_0x4b1027);}import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{downloadContentFromMessage}from'@whiskeysockets/baileys';import _0x4e0c13 from'fs-extra';import _0x50395c from'path';import{v2 as _0x5eecfb}from'cloudinary';function _0x5035(){const _0x545c5b=['get\x20a\x20URL.','nce\x20missin','\x20Upload\x20Er','1.0.1','dio,\x20or\x20do','oudinary\x20a','type.\x20Repl','\x20cleaned\x20u','document','video','\x20video,\x20au','CLOUDINARY','concat',':\x20botInsta','_API_SECRE','nt.','sendMessag','dirname','ted\x20media\x20','fileLength','cument\x20to\x20','audioMessa','key','has','872268fxedIg','\x20an\x20image,',':\x20findStor','join','jid','❌\x20Error\x20pr','🚨\x20The\x20vide','eo,\x20audio,','edMatch\x20er','_API_KEY','exists','client','add','50MB).\x20Ple','ror:\x20','unlink','585440TSmAcM','stination\x20','\x20handler\x20e','videoMessa','\x20smaller\x20o','e\x20final\x20de','url','342771oZzsEy','9XduzsW','error','config','\x20cleanup\x20e','mimetype',':\x20successf','rror:\x20','ully\x20creat','1417riACYC','message','3SLdEPA','extendedTe','924880IskZdk','bot','354NXHOzj','imageMessa','\x20URL:\x0a','🔊\x20Audio\x20UR','bin','uploader','writeFile','replace','whatsapp_u','🖼️\x20Image\x20UR','Cloudinary','isCommand','the\x20.env','audio','20tBMhmg','data','t\x20URL\x20for\x20','image','✅\x20File\x20URL','for\x20messag','quotedMess','edia.\x20Plea','\x20to\x20','1338806qwJSMn','ploads','1004208ziniIo','fromMe','temp_','split','ssage','L:\x0a','ne.','pi\x20key\x20in\x20','age','push','map'];_0x5035=function(){return _0x545c5b;};return _0x5035();}import{fileURLToPath}from'url';export const name='url';export const version=_0x1472e7(0x97);export const priority=0x1c2c+-0x1302+0x20*-0x49;let botInstance=null,respondedMsgIds=new Set();const __filename=fileURLToPath(import.meta[_0x1472e7(0xc2)]),__dirname=_0x50395c[_0x1472e7(0xa5)](__filename),config=getConfig();_0x5eecfb[_0x1472e7(0xc6)]({'cloud_name':config[_0x1472e7(0x9f)+'_CLOUD_NAM'+'E'],'api_key':config[_0x1472e7(0x9f)+_0x1472e7(0xb5)],'api_secret':config[_0x1472e7(0x9f)+_0x1472e7(0xa2)+'T'],'secure':!![]});async function streamToBuffer(_0x31493a){return new Promise((_0xfabdee,_0x59ff85)=>{const _0x334156=_0x5b74,_0x436cf5=[];_0x31493a['on'](_0x334156(0xe1),_0x4ea486=>_0x436cf5[_0x334156(0xf4)](_0x4ea486)),_0x31493a['on']('end',()=>_0xfabdee(Buffer[_0x334156(0xa0)](_0x436cf5))),_0x31493a['on'](_0x334156(0xc5),_0x59ff85);});}async function downloadMedia(_0x17ddb8,_0x3a60b3){const _0x2975fd=_0x1472e7,_0x8e1e9b=await downloadContentFromMessage(_0x17ddb8,_0x3a60b3),_0xd3f97f=await streamToBuffer(_0x8e1e9b),_0x21c427=_0x3a60b3===_0x2975fd(0xdf)?'mp3':_0x17ddb8[_0x2975fd(0xc8)]['split']('/')[-0x159e+-0x1079*-0x1+0x526]?.[_0x2975fd(0xee)](';')[0x1c9*0x15+-0x16f7*0x1+0x152*-0xb]||_0x2975fd(0xd6),_0xa9df45=_0x50395c[_0x2975fd(0xaf)](__dirname,_0x2975fd(0xed)+Date['now']()+'.'+_0x21c427);return await _0x4e0c13[_0x2975fd(0xd8)](_0xa9df45,_0xd3f97f),_0xa9df45;}async function uploadToCloudinary(_0x9d5138,_0x333431){const _0x5c3454=_0x1472e7;try{const _0x53d176={'resource_type':_0x333431===_0x5c3454(0x9d)?_0x5c3454(0x9d):'auto','folder':_0x5c3454(0xda)+_0x5c3454(0xea)},_0x1e71f1=await _0x5eecfb[_0x5c3454(0xd7)]['upload'](_0x9d5138,_0x53d176);return _0x1e71f1['secure_url'][_0x5c3454(0xd9)](/^https?:\/\//,'');}catch(_0x7b53ec){throw new Error(_0x5c3454(0xdc)+_0x5c3454(0x96)+_0x5c3454(0xba)+_0x7b53ec[_0x5c3454(0xcd)]);}}async function findStoredMatchFromFindings(_0x3d880d=[]){const _0x40bc3f=_0x1472e7;try{const _0x510034=await listSudo(),_0x2672b6=new Set(_0x510034[_0x40bc3f(0xf5)](String));for(const _0x5244c9 of _0x3d880d){if(!_0x5244c9||typeof _0x5244c9[_0x40bc3f(0xb0)]!=='string')continue;const _0x6858dc=normalizeToJid(_0x5244c9[_0x40bc3f(0xb0)]);if(_0x6858dc&&_0x2672b6[_0x40bc3f(0xab)](_0x6858dc))return _0x6858dc;if(_0x2672b6[_0x40bc3f(0xab)](_0x5244c9['jid']))return _0x5244c9['jid'];}return null;}catch(_0x24c3cf){return warn(name+(_0x40bc3f(0xae)+_0x40bc3f(0xb4)+_0x40bc3f(0xba))+(_0x24c3cf?.[_0x40bc3f(0xcd)]||_0x24c3cf)),null;}}export async function initialize(_0x1950ac){botInstance=_0x1950ac,info(name+(':\x20initiali'+'zed.'));}export async function onMessage(_0xb48523){const _0x117b34=_0x1472e7;if(!_0xb48523?.[_0x117b34(0xaa)]||!_0xb48523[_0x117b34(0xdd)])return;const _0x240076=_0xb48523['key']['id'];if(_0x240076&&respondedMsgIds[_0x117b34(0xab)](_0x240076))return;if(_0x240076)respondedMsgIds[_0x117b34(0xb8)](_0x240076);const _0x3e8a93=(_0xb48523['text']||'')['trim']();if(!_0x3e8a93['toLowerCas'+'e']()['startsWith']('url'))return;if(!botInstance)botInstance=_0xb48523[_0x117b34(0xd1)]||_0xb48523[_0x117b34(0xb7)];if(!botInstance){warn(name+(_0x117b34(0xa1)+_0x117b34(0x95)+'g'));return;}const _0x59878d=getBotJid();let _0x50e984;if(_0xb48523[_0x117b34(0xaa)][_0x117b34(0xec)])_0x50e984=_0x59878d;else{const _0x56016b=await isSudo(botInstance,_0xb48523)['catch'](()=>![]);if(!_0x56016b)return;const {findings:_0x204b70}=userJidFromCtx(_0xb48523),_0x2ce5da=await findStoredMatchFromFindings(_0x204b70);if(!_0x2ce5da)return;_0x50e984=_0x2ce5da;}if(!_0x50e984){warn(name+(':\x20Could\x20no'+'t\x20determin'+_0x117b34(0xc1)+_0x117b34(0xbd)+_0x117b34(0xe5)+'e.'));return;}const _0x3c3f24=_0xb48523[_0x117b34(0xcd)]?.[_0x117b34(0xcf)+'xtMessage']?.['contextInf'+'o']?.[_0x117b34(0xe6)+_0x117b34(0xf3)]||_0xb48523['quoted']||null;if(!_0x3c3f24){await botInstance[_0x117b34(0xa4)+'e'](_0x50e984,{'text':'📌\x20Reply\x20to'+_0x117b34(0xad)+_0x117b34(0x9e)+_0x117b34(0x98)+_0x117b34(0xa8)+_0x117b34(0xf6)});return;}let _0x3b855d,_0x23b20;try{if(_0x3c3f24['videoMessa'+'ge']){const _0x433b7d=_0x3c3f24[_0x117b34(0xbf)+'ge'][_0x117b34(0xa7)];if(_0x433b7d>(0x102*-0x15+0x1fa2+-0xa46)*(0x3c3*0x7+0x19bf+0x16a*-0x22)*(-0x1*-0x1e7+0x19bb+0x16*-0x113)){await botInstance[_0x117b34(0xa4)+'e'](_0x50e984,{'text':_0x117b34(0xb2)+'o\x20is\x20too\x20l'+'arge\x20(max\x20'+_0x117b34(0xb9)+'ase\x20send\x20a'+_0x117b34(0xc0)+_0x117b34(0xf1)});return;}_0x3b855d=await downloadMedia(_0x3c3f24['videoMessa'+'ge'],_0x117b34(0x9d)),_0x23b20=_0x117b34(0x9d);}else{if(_0x3c3f24[_0x117b34(0xd3)+'ge'])_0x3b855d=await downloadMedia(_0x3c3f24[_0x117b34(0xd3)+'ge'],_0x117b34(0xe3)),_0x23b20=_0x117b34(0xe3);else{if(_0x3c3f24['audioMessa'+'ge'])_0x3b855d=await downloadMedia(_0x3c3f24[_0x117b34(0xa9)+'ge'],_0x117b34(0xdf)),_0x23b20=_0x117b34(0xdf);else{if(_0x3c3f24['documentMe'+_0x117b34(0xef)])_0x3b855d=await downloadMedia(_0x3c3f24['documentMe'+_0x117b34(0xef)],_0x117b34(0x9c)),_0x23b20=_0x117b34(0x9c);else{await botInstance[_0x117b34(0xa4)+'e'](_0x50e984,{'text':'⚠\x20Unsuppor'+_0x117b34(0xa6)+_0x117b34(0x9a)+'y\x20with\x20an\x20'+'image,\x20vid'+_0x117b34(0xb3)+'\x20or\x20docume'+_0x117b34(0xa3)});return;}}}}const _0x12387d=await uploadToCloudinary(_0x3b855d,_0x23b20);await _0x4e0c13[_0x117b34(0xbb)](_0x3b855d);const _0x45a808={'image':_0x117b34(0xdb)+_0x117b34(0xf0)+_0x12387d,'video':'🎥\x20Video\x20UR'+_0x117b34(0xf0)+_0x12387d,'audio':_0x117b34(0xd5)+'L\x20(MP3):\x0a'+_0x12387d,'document':'📄\x20Document'+_0x117b34(0xd4)+_0x12387d},_0x2b7795=_0x45a808[_0x23b20]||_0x117b34(0xe4)+':\x0a'+_0x12387d;await botInstance[_0x117b34(0xa4)+'e'](_0x50e984,{'text':_0x2b7795}),info(name+(_0x117b34(0xc9)+_0x117b34(0xcb)+'ed\x20and\x20sen'+_0x117b34(0xe2)+'a\x20')+_0x23b20+_0x117b34(0xe8)+_0x50e984);}catch(_0x4d807a){error(_0x4d807a,name+(_0x117b34(0xbe)+'rror')),_0x3b855d&&await _0x4e0c13[_0x117b34(0xb6)](_0x3b855d)&&await _0x4e0c13[_0x117b34(0xbb)](_0x3b855d),await botInstance['sendMessag'+'e'](_0x50e984,{'text':_0x117b34(0xb1)+'ocessing\x20m'+_0x117b34(0xe7)+'se\x20try\x20aga'+'in.\x20add\x20cl'+_0x117b34(0x99)+_0x117b34(0xf2)+_0x117b34(0xde)});}}export async function cleanup(){const _0x51a290=_0x1472e7;try{botInstance=null,respondedMsgIds['clear'](),info(name+(_0x51a290(0x9b)+'p'));}catch(_0x1d28fe){warn(name+(_0x51a290(0xc7)+_0x51a290(0xca))+(_0x1d28fe?.[_0x51a290(0xcd)]||_0x1d28fe));}}