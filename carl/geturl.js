function _0x3f53(){const _0x58fba8=['fileLength','\x20video,\x20au','type.\x20Repl','temp_','edia.\x20Plea','ssage','e\x20final\x20de','🎥\x20Video\x20UR','map','videoMessa','imageMessa',':\x20findStor','ase\x20send\x20a',':\x20Could\x20no','uploader','Cloudinary','📄\x20Document','video','ror:\x20','document','1.0.1','\x20cleaned\x20u','key','image','dirname','cument\x20to\x20','441208DalNOK','CLOUDINARY','eo,\x20audio,','writeFile',':\x20botInsta','quoted','text','L\x20(MP3):\x0a','\x20smaller\x20o','documentMe','jid','clear','isCommand','16237UpdkaQ','❌\x20Error\x20pr','error','\x20handler\x20e',':\x20successf','⚠\x20Unsuppor','t\x20URL\x20for\x20','📌\x20Reply\x20to','se\x20try\x20aga','148CEISfu','has','_CLOUD_NAM','L:\x0a','in.\x20add\x20cl','10yHEnog','sendMessag','4591496JnFtvZ','toLowerCas','5325716yXnruD','mp3','\x20Upload\x20Er','audio','🖼️\x20Image\x20UR','add','1879194SoOmnU','🚨\x20The\x20vide','rror:\x20','replace','exists','\x20to\x20','data','join','concat','\x20or\x20docume','o\x20is\x20too\x20l','quotedMess','xtMessage','ted\x20media\x20','split','contextInf','44XFmaDE','url','dio,\x20or\x20do','client','the\x20.env','\x20cleanup\x20e','🔊\x20Audio\x20UR','y\x20with\x20an\x20','for\x20messag','edMatch\x20er','50MB).\x20Ple','extendedTe','t\x20determin','audioMessa','ed\x20and\x20sen','push','1248330AuCEcp','✅\x20File\x20URL','get\x20a\x20URL.','config','end','mimetype','unlink','pi\x20key\x20in\x20','now','stination\x20','message','_API_KEY','62373TGSwfy','108qbagVk',':\x20initiali','ne.','_API_SECRE','rror'];_0x3f53=function(){return _0x58fba8;};return _0x3f53();}const _0x1f839d=_0x4ee9;(function(_0x26e976,_0x320b5f){const _0x1152bd=_0x4ee9,_0x43c40c=_0x26e976();while(!![]){try{const _0x1ea3fd=-parseInt(_0x1152bd(0xad))/(0x509+-0x95f*0x1+0x457)*(parseInt(_0x1152bd(0xd5))/(0xa94+0x1*-0x270+-0x411*0x2))+-parseInt(_0x1152bd(0xf1))/(0xc74*0x2+0x1*-0xfb5+-0x930)*(-parseInt(_0x1152bd(0xb6))/(0x4*-0x2f5+0x15e1+-0xa09))+-parseInt(_0x1152bd(0xbb))/(0x1463+0x258b+-0x39e9)*(-parseInt(_0x1152bd(0xc5))/(0x85a+-0xcfe+-0x2*-0x255))+parseInt(_0x1152bd(0xbd))/(0x17*-0x10b+-0x1637+0x2e3b)+parseInt(_0x1152bd(0x111))/(-0x6*-0x21f+-0x58*-0x6b+-0x317a)*(-parseInt(_0x1152bd(0xf2))/(0x564+-0x123*-0x2+-0x7a1))+-parseInt(_0x1152bd(0xe5))/(-0x11*0xdf+-0x7*0x327+0x24ea)+-parseInt(_0x1152bd(0xbf))/(0x1042*-0x1+0x13*0xac+0x389*0x1);if(_0x1ea3fd===_0x320b5f)break;else _0x43c40c['push'](_0x43c40c['shift']());}catch(_0x4f4530){_0x43c40c['push'](_0x43c40c['shift']());}}}(_0x3f53,0x62d22+0x570e9*0x2+-0xa985a));import{getConfig}from'../utils/config.js';import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{downloadContentFromMessage}from'@whiskeysockets/baileys';import _0x592a3b from'fs-extra';import _0x76c7 from'path';import{v2 as _0x2d1563}from'cloudinary';import{fileURLToPath}from'url';export const name=_0x1f839d(0xd6);export const version=_0x1f839d(0x10b);export const priority=-0x114*-0x3+-0x7*0xb3+0x1b3;let botInstance=null,respondedMsgIds=new Set();const __filename=fileURLToPath(import.meta[_0x1f839d(0xd6)]),__dirname=_0x76c7[_0x1f839d(0x10f)](__filename),config=getConfig();_0x2d1563[_0x1f839d(0xe8)]({'cloud_name':config[_0x1f839d(0x112)+_0x1f839d(0xb8)+'E'],'api_key':config[_0x1f839d(0x112)+_0x1f839d(0xf0)],'api_secret':config['CLOUDINARY'+_0x1f839d(0xf5)+'T'],'secure':!![]});async function streamToBuffer(_0x3f2ca5){return new Promise((_0x253c6f,_0x506c48)=>{const _0x4ecd1d=_0x4ee9,_0x244838=[];_0x3f2ca5['on'](_0x4ecd1d(0xcb),_0x257b76=>_0x244838[_0x4ecd1d(0xe4)](_0x257b76)),_0x3f2ca5['on'](_0x4ecd1d(0xe9),()=>_0x253c6f(Buffer[_0x4ecd1d(0xcd)](_0x244838))),_0x3f2ca5['on'](_0x4ecd1d(0xaf),_0x506c48);});}async function downloadMedia(_0x3faf27,_0x35b108){const _0x14de6e=_0x1f839d,_0x5b00c4=await downloadContentFromMessage(_0x3faf27,_0x35b108),_0x3d127b=await streamToBuffer(_0x5b00c4),_0xe21c08=_0x35b108===_0x14de6e(0xc2)?_0x14de6e(0xc0):_0x3faf27[_0x14de6e(0xea)][_0x14de6e(0xd3)]('/')[0x33b*-0x1+-0x1c58+0x1f94]?.[_0x14de6e(0xd3)](';')[0x5e6+0x23de+0x84*-0x51]||'bin',_0x322738=_0x76c7[_0x14de6e(0xcc)](__dirname,_0x14de6e(0xfa)+Date[_0x14de6e(0xed)]()+'.'+_0xe21c08);return await _0x592a3b[_0x14de6e(0x114)](_0x322738,_0x3d127b),_0x322738;}async function uploadToCloudinary(_0x3e3bfc,_0x47f4fb){const _0x2fd7a1=_0x1f839d;try{const _0x1f9aac={'resource_type':_0x47f4fb===_0x2fd7a1(0x108)?'video':'auto','folder':'whatsapp_u'+'ploads'},_0x15ea3d=await _0x2d1563[_0x2fd7a1(0x105)]['upload'](_0x3e3bfc,_0x1f9aac);return _0x15ea3d['secure_url'][_0x2fd7a1(0xc8)](/^https?:\/\//,'');}catch(_0xb3f780){throw new Error(_0x2fd7a1(0x106)+_0x2fd7a1(0xc1)+_0x2fd7a1(0x109)+_0xb3f780[_0x2fd7a1(0xef)]);}}async function findStoredMatchFromFindings(_0x364db5=[]){const _0x8a871e=_0x1f839d;try{const _0x29979e=await listSudo(),_0x2168dd=new Set(_0x29979e[_0x8a871e(0xff)](String));for(const _0x47382e of _0x364db5){if(!_0x47382e||typeof _0x47382e[_0x8a871e(0xaa)]!=='string')continue;const _0x26b4a5=normalizeToJid(_0x47382e['jid']);if(_0x26b4a5&&_0x2168dd[_0x8a871e(0xb7)](_0x26b4a5))return _0x26b4a5;if(_0x2168dd[_0x8a871e(0xb7)](_0x47382e[_0x8a871e(0xaa)]))return _0x47382e[_0x8a871e(0xaa)];}return null;}catch(_0x182bc2){return warn(name+(_0x8a871e(0x102)+_0x8a871e(0xde)+_0x8a871e(0x109))+(_0x182bc2?.[_0x8a871e(0xef)]||_0x182bc2)),null;}}export async function initialize(_0x1f10ba){const _0x799dc9=_0x1f839d;botInstance=_0x1f10ba,info(name+(_0x799dc9(0xf3)+'zed.'));}function _0x4ee9(_0x321a83,_0x555a5a){const _0x4a37be=_0x3f53();return _0x4ee9=function(_0x33a250,_0x29b756){_0x33a250=_0x33a250-(0x78b*-0x5+-0x937+-0x1*-0x2f93);let _0x3742bb=_0x4a37be[_0x33a250];return _0x3742bb;},_0x4ee9(_0x321a83,_0x555a5a);}export async function onMessage(_0x4c4b7d){const _0x51490b=_0x1f839d;if(!_0x4c4b7d?.[_0x51490b(0x10d)]||!_0x4c4b7d[_0x51490b(0xac)])return;const _0x16cc23=_0x4c4b7d[_0x51490b(0x10d)]['id'];if(_0x16cc23&&respondedMsgIds[_0x51490b(0xb7)](_0x16cc23))return;if(_0x16cc23)respondedMsgIds[_0x51490b(0xc4)](_0x16cc23);const _0x4ff9be=(_0x4c4b7d[_0x51490b(0xa6)]||'')['trim']();if(!_0x4ff9be[_0x51490b(0xbe)+'e']()['startsWith']('url'))return;if(!botInstance)botInstance=_0x4c4b7d['bot']||_0x4c4b7d[_0x51490b(0xd8)];if(!botInstance){warn(name+(_0x51490b(0x115)+'nce\x20missin'+'g'));return;}const _0x2cac34=getBotJid();let _0x582883;if(_0x4c4b7d[_0x51490b(0x10d)]['fromMe'])_0x582883=_0x2cac34;else{const _0x41c653=await isSudo(botInstance,_0x4c4b7d)['catch'](()=>![]);if(!_0x41c653)return;const {findings:_0x45217f}=userJidFromCtx(_0x4c4b7d),_0x1df9c5=await findStoredMatchFromFindings(_0x45217f);if(!_0x1df9c5)return;_0x582883=_0x1df9c5;}if(!_0x582883){warn(name+(_0x51490b(0x104)+_0x51490b(0xe1)+_0x51490b(0xfd)+_0x51490b(0xee)+_0x51490b(0xdd)+'e.'));return;}const _0x1863c7=_0x4c4b7d[_0x51490b(0xef)]?.[_0x51490b(0xe0)+_0x51490b(0xd1)]?.[_0x51490b(0xd4)+'o']?.[_0x51490b(0xd0)+'age']||_0x4c4b7d[_0x51490b(0xa5)]||null;if(!_0x1863c7){await botInstance[_0x51490b(0xbc)+'e'](_0x582883,{'text':_0x51490b(0xb4)+'\x20an\x20image,'+_0x51490b(0xf8)+_0x51490b(0xd7)+_0x51490b(0x110)+_0x51490b(0xe7)});return;}let _0x3290e5,_0x4752ab;try{if(_0x1863c7[_0x51490b(0x100)+'ge']){const _0x497b90=_0x1863c7[_0x51490b(0x100)+'ge'][_0x51490b(0xf7)];if(_0x497b90>(0x610+0x1*-0x1ba7+0x15c9)*(-0x11e6+-0x1*-0x2d1+0x1315)*(0x3b*-0x98+0x15fb*-0x1+0x3d03)){await botInstance['sendMessag'+'e'](_0x582883,{'text':_0x51490b(0xc6)+_0x51490b(0xcf)+'arge\x20(max\x20'+_0x51490b(0xdf)+_0x51490b(0x103)+_0x51490b(0xa8)+_0x51490b(0xf4)});return;}_0x3290e5=await downloadMedia(_0x1863c7[_0x51490b(0x100)+'ge'],'video'),_0x4752ab='video';}else{if(_0x1863c7[_0x51490b(0x101)+'ge'])_0x3290e5=await downloadMedia(_0x1863c7[_0x51490b(0x101)+'ge'],_0x51490b(0x10e)),_0x4752ab=_0x51490b(0x10e);else{if(_0x1863c7[_0x51490b(0xe2)+'ge'])_0x3290e5=await downloadMedia(_0x1863c7[_0x51490b(0xe2)+'ge'],'audio'),_0x4752ab=_0x51490b(0xc2);else{if(_0x1863c7['documentMe'+'ssage'])_0x3290e5=await downloadMedia(_0x1863c7[_0x51490b(0xa9)+_0x51490b(0xfc)],_0x51490b(0x10a)),_0x4752ab=_0x51490b(0x10a);else{await botInstance['sendMessag'+'e'](_0x582883,{'text':_0x51490b(0xb2)+_0x51490b(0xd2)+_0x51490b(0xf9)+_0x51490b(0xdc)+'image,\x20vid'+_0x51490b(0x113)+_0x51490b(0xce)+'nt.'});return;}}}}const _0x53de54=await uploadToCloudinary(_0x3290e5,_0x4752ab);await _0x592a3b[_0x51490b(0xeb)](_0x3290e5);const _0x31996a={'image':_0x51490b(0xc3)+_0x51490b(0xb9)+_0x53de54,'video':_0x51490b(0xfe)+'L:\x0a'+_0x53de54,'audio':_0x51490b(0xdb)+_0x51490b(0xa7)+_0x53de54,'document':_0x51490b(0x107)+'\x20URL:\x0a'+_0x53de54},_0x27e7a7=_0x31996a[_0x4752ab]||_0x51490b(0xe6)+':\x0a'+_0x53de54;await botInstance['sendMessag'+'e'](_0x582883,{'text':_0x27e7a7}),info(name+(_0x51490b(0xb1)+'ully\x20creat'+_0x51490b(0xe3)+_0x51490b(0xb3)+'a\x20')+_0x4752ab+_0x51490b(0xca)+_0x582883);}catch(_0x1954ed){error(_0x1954ed,name+(_0x51490b(0xb0)+_0x51490b(0xf6))),_0x3290e5&&await _0x592a3b[_0x51490b(0xc9)](_0x3290e5)&&await _0x592a3b[_0x51490b(0xeb)](_0x3290e5),await botInstance[_0x51490b(0xbc)+'e'](_0x582883,{'text':_0x51490b(0xae)+'ocessing\x20m'+_0x51490b(0xfb)+_0x51490b(0xb5)+_0x51490b(0xba)+'oudinary\x20a'+_0x51490b(0xec)+_0x51490b(0xd9)});}}export async function cleanup(){const _0x1a89e9=_0x1f839d;try{botInstance=null,respondedMsgIds[_0x1a89e9(0xab)](),info(name+(_0x1a89e9(0x10c)+'p'));}catch(_0x4b3f78){warn(name+(_0x1a89e9(0xda)+_0x1a89e9(0xc7))+(_0x4b3f78?.[_0x1a89e9(0xef)]||_0x4b3f78));}}