const _0x160e19=_0x44e8;(function(_0x4e141d,_0x475985){const _0x2aa340=_0x44e8,_0x13719a=_0x4e141d();while(!![]){try{const _0x1096e2=-parseInt(_0x2aa340(0x23d))/(0x115+0x51e*0x5+-0x1aaa)+parseInt(_0x2aa340(0x21e))/(0x18b2+0xfb8+-0x2868)+-parseInt(_0x2aa340(0x229))/(-0x1f79+-0x40d+0x2389)+parseInt(_0x2aa340(0x1ef))/(0x1*-0xc97+0x1*-0x2701+0x339c)+-parseInt(_0x2aa340(0x270))/(-0x1*0xaa2+0x20*-0xde+0x2667*0x1)+-parseInt(_0x2aa340(0x214))/(-0x3*-0x9ef+0x1bc0+-0x3987)+-parseInt(_0x2aa340(0x265))/(-0x229d*-0x1+-0x107*0x20+-0x1*0x1b6)*(-parseInt(_0x2aa340(0x206))/(0x1*0x22d1+0x1afa+-0x1*0x3dc3));if(_0x1096e2===_0x475985)break;else _0x13719a['push'](_0x13719a['shift']());}catch(_0x35ba19){_0x13719a['push'](_0x13719a['shift']());}}}(_0x229d,-0x38599*-0x7+0x19ff10+-0x25064a));import{info,warn,error,debug}from'../utils/logger.js';import{db}from'../utils/database.js';import{getConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import*as _0x348d39 from'../utils/groups.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import _0x9e808 from'linkify-it';import{createRequire}from'module';const require=createRequire(import.meta.url),tlds=require('tlds');export const name=_0x160e19(0x231);export const version=_0x160e19(0x283);export const priority=-0x135b+0x1*0x14e+0x1271;export const commands=['antilink',_0x160e19(0x21a)];const TABLE_SETTINGS=_0x160e19(0x273)+'ettings';let botRef=null,shuttingDown=![],config={};function _0x229d(){const _0x1d9a8e=['getUniqueJ','XT\x20PRIMARY','k:\x20',':\x20.antilin','555594WYxxZZ','DISABLED','sendMessag','REMOVE_ON_','maining\x20wa','TABLE\x20IF\x20N','antilinkwl','k\x20Status*\x0a','get','\x20for\x20','2763886flbDUQ','r\x20\x27','off','jid|all>\x20i','SEND_WARNI','\x20cleaned\x20u','links\x20are\x20','{user}','\x20\x20\x20\x20\x20\x20','participan','\x20\x20\x20\x20\x20\x20\x20\x20\x20c','3520329exwJse','MAX_WARNS','fromMe','INSERT\x20INT','list\x20TEXT\x20','trim','conversati','üîó\x20{user},\x20','antilink','whitelist','d\x20=\x20exclud','ue\x20FROM\x20de','üîó\x20*Origina','‚ùå\x20OFF','length','groupParti','^/?','_jid\x27','Unknown','remove','760514adoCge','üîó\x20No\x20defau',']\x27\x0a\x20\x20\x20\x20\x20\x20\x20','\x20KEY,\x0a\x20\x20\x20\x20','SELECT\x20val','replace','includes','\x20\x20enabled\x20','status','push','‚úÖ\x20ON','isArray','message','max','[antilink]','has','hat_jid\x20TE','antilink\x20<','on|off|sta','ANTILINK','exec','led','\x20\x20\x20\x20\x20);\x0a\x20\x20','elist\x20FROM','\x20WHERE\x20cha','d|all>','text','\x20group(s).','oUserJid','map','nly.','parse','{warnings}',',\x20?)\x0a\x20\x20\x20\x20\x20','delete','lete_prefs','chat_jid)\x20','d\x20here.\x20Re','gp:<alias|','from','1552229gfbhKU','tus>\x20(use\x20','\x20forward\x20d','k\x20Deletion','\x20(chat_jid','itialized\x20','test','*\x0a\x0a','üí¨\x20*Chat:*\x20','DEFAULT\x20\x27[','ate','191975yKCTCP','D_LINKS','enabled','antilink_s','\x20groups\x20fo','run','videoMessa','\x20VALUES\x20(?','xtMessage','\x20module\x20in','rnings}','üîó\x20Usage:\x20.',':<alias|ji','INTEGER\x20DE','_MS','k\x20<on|off|','all','SET\x20enable','\x20\x20\x20\x20\x20white','3.7.1','command\x20to','findings','t\x20resolve\x20','\x20CONFLICT(','ed.enabled','(immediate','count','cipantsUpd','forEach','5416712AakSqK','ion\x20found.','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','WARNING_ME','remoteJid','normalizeT','endsWith','toLowerCas','key','catch','\x20\x20\x20\x20\x20\x20\x20\x20ON','set','jid','clear','lt\x20connect','üö´\x20*Antilin','eleted\x20lin','*\x0a```','@g.us','caption','\x20enforceme','split','n\x20PM).','8DYhHNE','match','eation\x20fai','LOG_DELETE','MAX','\x20schema\x20cr','not\x20allowe','DEDUPE_TTL','sock','\x20the\x20curre'];_0x229d=function(){return _0x1d9a8e;};return _0x229d();}const linkify=_0x9e808();linkify['tlds'](tlds);const processedMessageIds=new Map(),perUserWarnings=new Map();function refreshConfig(){const _0x4a131d=_0x160e19,_0x494247=getConfig()||{};config={'MAX_WARNS':0x3,'REMOVE_ON_MAX':!![],'SEND_WARNING':!![],'WARNING_MESSAGE':_0x4a131d(0x230)+_0x4a131d(0x224)+_0x4a131d(0x20c)+_0x4a131d(0x262)+_0x4a131d(0x218)+'rnings\x20{wa'+_0x4a131d(0x27a),'VALIDATION_TIMEOUT_MS':0xfa0,'LOG_DELETED_LINKS':!![],'GLOBAL_CONCURRENCY':0x2,'DELETE_RETRY_COUNT':0x2,'DEDUPE_TTL_MS':0x1388,..._0x494247[_0x4a131d(0x250)]||{}};}function setupApi(_0x574662){botRef=_0x574662;}async function ensureSchema(){const _0x4a40da=_0x160e19;try{await db[_0x4a40da(0x251)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20CREATE\x20'+_0x4a40da(0x219)+'OT\x20EXISTS\x20'+TABLE_SETTINGS+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x4a40da(0x228)+_0x4a40da(0x24d)+_0x4a40da(0x211)+_0x4a40da(0x240)+_0x4a40da(0x1f1)+_0x4a40da(0x244)+_0x4a40da(0x27d)+'FAULT\x200,\x0a\x20'+_0x4a40da(0x1f1)+_0x4a40da(0x282)+_0x4a40da(0x22d)+_0x4a40da(0x26e)+_0x4a40da(0x23f)+_0x4a40da(0x253)+_0x4a40da(0x226)));}catch(_0xefac44){error(_0xefac44,_0x4a40da(0x24b)+_0x4a40da(0x20b)+_0x4a40da(0x208)+_0x4a40da(0x252));}}async function getGroupSetting(_0x1583a0){const _0xed9da=_0x160e19;try{const _0x4dc398=await db[_0xed9da(0x21c)]('SELECT\x20ena'+'bled,\x20whit'+_0xed9da(0x254)+'\x20'+TABLE_SETTINGS+(_0xed9da(0x255)+'t_jid\x20=\x20?'),[_0x1583a0]);return{'enabled':!!_0x4dc398?.[_0xed9da(0x272)],'whitelist':_0x4dc398?JSON[_0xed9da(0x25c)](_0x4dc398[_0xed9da(0x232)]||'[]'):[]};}catch(_0x2ac091){return{'enabled':![],'whitelist':[]};}}async function setGroupEnabled(_0x3717a1,_0x5aa2cd){const _0x4ca4c6=_0x160e19;try{return await db[_0x4ca4c6(0x275)](_0x4ca4c6(0x22c)+'O\x20'+TABLE_SETTINGS+(_0x4ca4c6(0x269)+',\x20enabled)'+_0x4ca4c6(0x277)+_0x4ca4c6(0x25e)+_0x4ca4c6(0x1f9)+_0x4ca4c6(0x1e9)+_0x4ca4c6(0x261)+'DO\x20UPDATE\x20'+_0x4ca4c6(0x281)+_0x4ca4c6(0x233)+_0x4ca4c6(0x1ea)+';'),[_0x3717a1,_0x5aa2cd?0x155b*-0x1+-0x1*0x16ed+0x2c49:-0x17a1*0x1+-0x14ae+-0x2c4f*-0x1]),!![];}catch(_0x467511){return![];}}function _0x44e8(_0x1ad0a4,_0x4f41c7){_0x1ad0a4=_0x1ad0a4-(0x7c1+0x1d2*0x2+0x97d*-0x1);const _0x12a970=_0x229d();let _0x1810ec=_0x12a970[_0x1ad0a4];return _0x1810ec;}function extractTextFromMessage(_0xf7ef58){const _0x54944e=_0x160e19;if(!_0xf7ef58||!_0xf7ef58[_0x54944e(0x249)])return'';const _0x191d39=_0xf7ef58[_0x54944e(0x249)];return _0x191d39[_0x54944e(0x22f)+'on']||_0x191d39['extendedTe'+_0x54944e(0x278)]?.[_0x54944e(0x257)]||_0x191d39['imageMessa'+'ge']?.[_0x54944e(0x202)]||_0x191d39[_0x54944e(0x276)+'ge']?.[_0x54944e(0x202)]||'';}function messageContainsLinkLocal(_0xac57b7){const _0x206e75=_0x160e19,_0x5c6aa0=extractTextFromMessage(_0xac57b7);if(!_0x5c6aa0)return![];const _0x5ac4ec=linkify['match'](_0x5c6aa0);if(_0x5ac4ec&&_0x5ac4ec['length']>0xe6c+-0x35*-0x18+0x22*-0x92)return!![];const _0x32aab5=/(?:https?:\/\/)?(?:www\.)?[a-z0-9\-]{1,63}\.(?:[a-z]{2,63})(?:[\/:\?\#\s]|$)/i;return _0x32aab5[_0x206e75(0x26b)](_0x5c6aa0);}function getMessageKey(_0x2c5771){const _0x4ccd14=_0x160e19;if(!_0x2c5771?.['key']?.['id'])return null;return _0x2c5771[_0x4ccd14(0x1f7)][_0x4ccd14(0x1f3)]+':'+_0x2c5771['key']['id'];}async function deleteWithRetry(_0xebf22e){const _0x1769e4=_0x160e19,_0x1f4866=Math[_0x1769e4(0x24a)](-0x44*-0x1a+-0x36*-0x68+-0x1cd7,config['DELETE_RET'+'RY_COUNT']||-0x1835*-0x1+0x22c2+-0x2*0x1d7b),_0x112b11=_0xebf22e[_0x1769e4(0x1f7)]?.['remoteJid'];if(!_0x112b11)return![];for(let _0x2a77c6=0x1*0x172a+0xdf5+-0x251e;_0x2a77c6<=_0x1f4866;_0x2a77c6++){try{const _0x2cab55=botRef?.[_0x1769e4(0x20e)]||botRef;return await _0x2cab55[_0x1769e4(0x216)+'e'](_0x112b11,{'delete':_0xebf22e[_0x1769e4(0x1f7)]}),!![];}catch(_0x329d76){if(_0x2a77c6<_0x1f4866){await new Promise(_0x20387a=>setTimeout(_0x20387a,(0xd09*0x1+-0x28b+-0x952*0x1)*_0x2a77c6));continue;}return![];}}return![];}async function getLogTargetJid(){const _0x1baac4=_0x160e19;try{const _0x7422c4=await db[_0x1baac4(0x21c)](_0x1baac4(0x241)+_0x1baac4(0x234)+_0x1baac4(0x260)+'\x20WHERE\x20key'+'\x20=\x20\x27target'+_0x1baac4(0x23a));return _0x7422c4?.['value']||getBotJid();}catch(_0x3a9b62){return getBotJid();}}async function forwardDeletedLink(_0xaf1efa,_0x4ed572){const _0x359846=_0x160e19;if(!config[_0x359846(0x209)+_0x359846(0x271)])return;try{if(_0x4ed572)return;const _0x5465e0=await getLogTargetJid();if(!_0x5465e0)return;const _0x51f726=_0xaf1efa[_0x359846(0x1f7)]?.[_0x359846(0x227)+'t']||_0xaf1efa[_0x359846(0x1f7)]?.[_0x359846(0x1f3)]||_0x359846(0x23b),_0x3c3c6c=_0xaf1efa[_0x359846(0x1f7)]?.[_0x359846(0x1f3)],_0x5138cd=extractTextFromMessage(_0xaf1efa),_0x17382c=_0x359846(0x1fe)+_0x359846(0x268)+_0x359846(0x26c)+('üë§\x20*User:*\x20'+'@'+String(_0x51f726)[_0x359846(0x204)]('@')[0x251*0xb+0x1*0x23d5+-0x3d50]+'\x0a')+(_0x359846(0x26d)+_0x3c3c6c+'\x0a')+(_0x359846(0x235)+'l\x20Message:'+_0x359846(0x200)+_0x5138cd+'```');await(botRef?.[_0x359846(0x20e)]||botRef)[_0x359846(0x216)+'e'](_0x5465e0,{'text':_0x17382c,'mentions':[_0x51f726]});}catch(_0x4481a6){warn('[antilink]'+'\x20Failed\x20to'+_0x359846(0x267)+_0x359846(0x1ff)+_0x359846(0x212)+_0x4481a6['message']);}}function userKey(_0x5b54d1,_0x4906d7){return _0x5b54d1+'::'+_0x4906d7;}async function incrementWarningAndMaybeRemove(_0x1e0aa3,_0x37937b){const _0x137012=_0x160e19;try{if(_0x1e0aa3[_0x137012(0x1f7)][_0x137012(0x22b)]||_0x37937b)return{'count':0x0,'removed':![]};const _0x5a85ec=_0x1e0aa3[_0x137012(0x1f7)]?.[_0x137012(0x1f3)],_0xa5e529=_0x1e0aa3['key']?.[_0x137012(0x227)+'t']||_0x1e0aa3[_0x137012(0x1f7)]?.[_0x137012(0x1f3)]||'';if(!_0x5a85ec||!_0xa5e529)return{'count':0x0,'removed':![]};const _0x16621b=userKey(_0x5a85ec,_0xa5e529),_0x56308e=perUserWarnings[_0x137012(0x21c)](_0x16621b)||{'count':0x0};_0x56308e[_0x137012(0x1ec)]++,perUserWarnings[_0x137012(0x1fa)](_0x16621b,_0x56308e);if(config[_0x137012(0x217)+_0x137012(0x20a)]&&_0x56308e[_0x137012(0x1ec)]>=config[_0x137012(0x22a)]){const _0x382283=botRef?.[_0x137012(0x20e)]||botRef;try{await _0x382283[_0x137012(0x238)+_0x137012(0x1ed)+_0x137012(0x26f)](_0x5a85ec,[_0xa5e529],_0x137012(0x23c));}catch(_0x9f4f41){}return perUserWarnings[_0x137012(0x25f)](_0x16621b),{'count':_0x56308e[_0x137012(0x1ec)],'removed':!![]};}return{'count':_0x56308e[_0x137012(0x1ec)],'removed':![]};}catch(_0x2e8e79){return{'count':0x0,'removed':![]};}}async function sendWarning(_0x177fa3,_0x143494,_0x596c2f){const _0x27a5b2=_0x160e19;if(_0x143494)return;if(!config[_0x27a5b2(0x222)+'NG'])return;try{const _0x4d8dc1=_0x177fa3['key']?.[_0x27a5b2(0x227)+'t']||_0x177fa3[_0x27a5b2(0x1f7)]?.['remoteJid']||'',_0x3badad=Math[_0x27a5b2(0x24a)](0x2336+0x1*0x3e+-0x2374,config[_0x27a5b2(0x22a)]-_0x596c2f),_0x26eaa4=config[_0x27a5b2(0x1f2)+'SSAGE'][_0x27a5b2(0x242)](_0x27a5b2(0x225),'@'+_0x4d8dc1[_0x27a5b2(0x204)]('@')[-0xda*0x19+0x1b19+0x5cf*-0x1])['replace'](_0x27a5b2(0x25d),String(_0x3badad)),_0x2932b7=_0x177fa3[_0x27a5b2(0x1f7)][_0x27a5b2(0x1f3)],_0xef309d=botRef?.[_0x27a5b2(0x20e)]||botRef;await _0xef309d['sendMessag'+'e'](_0x2932b7,{'text':_0x26eaa4,'mentions':[_0x4d8dc1]});}catch(_0x17785f){}}async function enforceImmediate(_0x25cd69,_0x1d071c){const _0x34aec0=_0x160e19;try{const _0x43b394=getMessageKey(_0x25cd69);if(!_0x43b394)return;if(processedMessageIds[_0x34aec0(0x24c)](_0x43b394))return;processedMessageIds['set'](_0x43b394,setTimeout(()=>processedMessageIds['delete'](_0x43b394),config[_0x34aec0(0x20d)+_0x34aec0(0x27e)]||0xea*0x3+-0x14*-0x67+0x8be));if(_0x25cd69[_0x34aec0(0x1f7)][_0x34aec0(0x22b)]||_0x1d071c)return;const _0x2a0982=await deleteWithRetry(_0x25cd69);if(!_0x2a0982)return;await forwardDeletedLink(_0x25cd69,_0x1d071c);const {count:_0x562515,removed:_0x2c23fd}=await incrementWarningAndMaybeRemove(_0x25cd69,_0x1d071c);!_0x2c23fd&&await sendWarning(_0x25cd69,_0x1d071c,_0x562515);}catch(_0x4b1a89){}}function splitRestForGp(_0x3a9813){const _0x1bda08=_0x160e19;if(!_0x3a9813)return{'left':'','gp':null};const _0x9e2a8c=_0x3a9813[_0x1bda08(0x207)](/\bgp[:\s]+(.+)$/i);if(_0x9e2a8c)return{'left':_0x3a9813['slice'](-0x51*0x17+-0xfc9+0x1710,_0x9e2a8c['index'])[_0x1bda08(0x22e)](),'gp':_0x9e2a8c[-0x509+0x13f1*-0x1+-0x5*-0x4ff][_0x1bda08(0x22e)]()};return{'left':_0x3a9813['trim'](),'gp':null};}async function resolveTargetsForGroupAdmin(_0x19aa80){const _0x445380=_0x160e19,_0x27cf95=await getDefault(_0x19aa80)[_0x445380(0x1f8)](()=>null);if(!_0x27cf95)return[];const _0x5588e0=Array[_0x445380(0x248)](_0x27cf95)?_0x27cf95:[_0x27cf95];let _0x3bf7ec=[];for(const _0xd600a8 of _0x5588e0){const _0x4a49af=await getConnection(_0xd600a8)['catch'](()=>null);if(Array[_0x445380(0x248)](_0x4a49af))_0x3bf7ec['push'](..._0x4a49af);else{if(_0x4a49af)_0x3bf7ec[_0x445380(0x246)](String(_0x4a49af));}}return Array[_0x445380(0x264)](new Set(_0x3bf7ec));}async function resolveTargetsForSudo(_0xf7311f){const _0x261bd7=_0x160e19;if(!_0xf7311f)return[];if(_0xf7311f[_0x261bd7(0x1f6)+'e']()===_0x261bd7(0x280))return await _0x348d39[_0x261bd7(0x210)+'ids']();const _0x4d5ca0=await _0x348d39['resolveNam'+'e'](_0xf7311f);if(_0x4d5ca0)return[_0x4d5ca0];if(_0xf7311f[_0x261bd7(0x243)]('@'))return[_0x348d39[_0x261bd7(0x1f4)+_0x261bd7(0x259)](_0xf7311f)];return[];}async function findStoredMatchFromFindings(_0x1d4d30=[]){const _0x52d7e9=_0x160e19;try{const _0x5a7390=await listSudo();if(!_0x5a7390?.['length'])return null;const _0x35c5ee=new Set(_0x5a7390[_0x52d7e9(0x25a)](String));for(const _0x282752 of _0x1d4d30||[]){if(_0x282752?.[_0x52d7e9(0x1fb)]&&_0x35c5ee[_0x52d7e9(0x24c)](normalizeToJid(_0x282752['jid'])))return normalizeToJid(_0x282752['jid']);}return null;}catch(_0xa4cc54){return null;}}export async function initialize(_0x4e1c57){const _0x14d264=_0x160e19;setupApi(_0x4e1c57),await ensureSchema(),refreshConfig(),shuttingDown=![],info(_0x14d264(0x24b)+_0x14d264(0x279)+_0x14d264(0x26a)+_0x14d264(0x1eb)+_0x14d264(0x203)+'nt).');}export async function onMessage(_0x137bfa,_0x1721d4){const _0x471e9f=_0x160e19;if(!_0x137bfa?.[_0x471e9f(0x1f7)]?.[_0x471e9f(0x1f3)]||!_0x137bfa[_0x471e9f(0x249)]||shuttingDown)return;const _0x284fbd=_0x137bfa[_0x471e9f(0x1f7)]['remoteJid'],_0x29d6eb=_0x284fbd[_0x471e9f(0x1f5)](_0x471e9f(0x201)),_0x3acebf=_0x137bfa[_0x471e9f(0x1f7)][_0x471e9f(0x227)+'t']||_0x137bfa[_0x471e9f(0x1f7)][_0x471e9f(0x1f3)],_0x41b9a9=extractTextFromMessage(_0x137bfa),_0x5d220b=(_0x137bfa['text']||_0x41b9a9)[_0x471e9f(0x22e)](),_0x20e80d=_0x137bfa['isCommand']&&_0x5d220b?_0x5d220b[_0x471e9f(0x204)](/\s+/)[0x681+0x1f80+-0x2601][_0x471e9f(0x1f6)+'e']()[_0x471e9f(0x242)]('/',''):null;let _0x2cbacb=![];if(_0x29d6eb)try{_0x2cbacb=await isadmin(botRef,_0x137bfa);}catch(_0x72b4f5){_0x2cbacb=![];}if(_0x137bfa['isCommand']&&commands[_0x471e9f(0x243)](_0x20e80d)){let _0x4edc24=_0x284fbd,_0x5d338c=![],_0x49779f=![];if(_0x29d6eb){if(_0x2cbacb)_0x5d338c=!![];}else{if(_0x137bfa[_0x471e9f(0x1f7)][_0x471e9f(0x22b)])_0x5d338c=!![],_0x49779f=!![],_0x4edc24=getBotJid()||_0x284fbd;else{if(await isSudo(botRef,_0x137bfa)){_0x5d338c=!![],_0x49779f=!![];const _0x4b8e48=await userJidFromCtx(_0x137bfa)||{'findings':[]};_0x4edc24=await findStoredMatchFromFindings(_0x4b8e48[_0x471e9f(0x285)])||_0x284fbd;}}}if(!_0x5d338c)return;if(_0x20e80d==='antilink'){const _0x3d96d0=_0x5d220b[_0x471e9f(0x242)](new RegExp(_0x471e9f(0x239)+_0x20e80d+'\x5cb','i'),'')['trim'](),{left:_0x3e08cb,gp:_0x8fa5a3}=splitRestForGp(_0x3d96d0),_0x509ce4=_0x3e08cb['split'](/[, ]+/)[-0x1d48+-0x42*-0x3a+0xe54]?.[_0x471e9f(0x1f6)+'e']();if(!_0x509ce4||!['on',_0x471e9f(0x220),_0x471e9f(0x245)]['includes'](_0x509ce4))return(botRef?.[_0x471e9f(0x20e)]||botRef)[_0x471e9f(0x216)+'e'](_0x4edc24,{'text':_0x471e9f(0x27b)+_0x471e9f(0x24e)+_0x471e9f(0x24f)+_0x471e9f(0x266)+_0x471e9f(0x263)+_0x471e9f(0x221)+_0x471e9f(0x205)});let _0x186f0c=[];const _0x4cb631=(_0x3acebf||'')[_0x471e9f(0x204)]('@')[0x8*0x2b3+0x84b*0x3+-0x2e79];if(_0x49779f){if(!_0x8fa5a3)return(botRef?.[_0x471e9f(0x20e)]||botRef)['sendMessag'+'e'](_0x4edc24,{'text':'üîó\x20PM\x20Usage'+_0x471e9f(0x213)+_0x471e9f(0x27f)+'status>\x20gp'+_0x471e9f(0x27c)+_0x471e9f(0x256)});_0x186f0c=await resolveTargetsForSudo(_0x8fa5a3);if(!_0x186f0c['length'])return(botRef?.[_0x471e9f(0x20e)]||botRef)[_0x471e9f(0x216)+'e'](_0x4edc24,{'text':'üîó\x20Could\x20no'+_0x471e9f(0x1e8)+'any\x20target'+_0x471e9f(0x274)+_0x471e9f(0x21f)+_0x8fa5a3+'\x27.'});}else _0x186f0c=await resolveTargetsForGroupAdmin(_0x4cb631),!_0x186f0c[_0x471e9f(0x237)]&&(_0x186f0c=[_0x284fbd],await(botRef?.['sock']||botRef)[_0x471e9f(0x216)+'e'](_0x4edc24,{'text':_0x471e9f(0x23e)+_0x471e9f(0x1fd)+_0x471e9f(0x1f0)+'\x20Applying\x20'+_0x471e9f(0x284)+_0x471e9f(0x20f)+'nt\x20group\x20o'+_0x471e9f(0x25b)}));if(_0x509ce4==='on'||_0x509ce4==='off'){const _0x349ddb=_0x509ce4==='on';let _0x5e6af4=0x1647+-0x56a+-0x3*0x59f;for(const _0x439992 of _0x186f0c){await setGroupEnabled(_0x439992,_0x349ddb)&&_0x5e6af4++;}await(botRef?.['sock']||botRef)[_0x471e9f(0x216)+'e'](_0x4edc24,{'text':'üîó\x20Antilink'+'\x20'+(_0x349ddb?'ENABLED':_0x471e9f(0x215))+_0x471e9f(0x21d)+_0x5e6af4+'/'+_0x186f0c[_0x471e9f(0x237)]+_0x471e9f(0x258)});}else{if(_0x509ce4===_0x471e9f(0x245)){let _0xe94669='üîó\x20*Antilin'+_0x471e9f(0x21b)+'\x0a';for(const _0x10bc9a of _0x186f0c){const {enabled:_0x39bba4}=await getGroupSetting(_0x10bc9a);_0xe94669+=_0x10bc9a+':\x20'+(_0x39bba4?_0x471e9f(0x247):_0x471e9f(0x236))+'\x0a';}await(botRef?.[_0x471e9f(0x20e)]||botRef)[_0x471e9f(0x216)+'e'](_0x4edc24,{'text':_0xe94669});}}}return;}try{if(_0x29d6eb){if(_0x137bfa[_0x471e9f(0x1f7)][_0x471e9f(0x22b)]||_0x2cbacb)return;}else{if(_0x137bfa[_0x471e9f(0x1f7)][_0x471e9f(0x22b)])return;}}catch(_0x4df301){return;}if(_0x29d6eb){const _0x4c498a=await getGroupSetting(_0x284fbd);if(!_0x4c498a[_0x471e9f(0x272)])return;const _0x1718d1=extractTextFromMessage(_0x137bfa);let _0x15f5c3=![];for(const _0x4f3777 of _0x4c498a[_0x471e9f(0x232)]){if(_0x4f3777['includes']('@')&&_0x4f3777===_0x3acebf){_0x15f5c3=!![];break;}if(!_0x4f3777[_0x471e9f(0x243)]('@')&&_0x1718d1[_0x471e9f(0x243)](_0x4f3777)){_0x15f5c3=!![];break;}}if(_0x15f5c3)return;messageContainsLinkLocal(_0x137bfa)&&await enforceImmediate(_0x137bfa,_0x2cbacb);}}export async function cleanup(){const _0x1eb83a=_0x160e19;shuttingDown=!![],processedMessageIds[_0x1eb83a(0x1ee)](_0x484657=>clearTimeout(_0x484657)),processedMessageIds[_0x1eb83a(0x1fc)](),perUserWarnings[_0x1eb83a(0x1fc)](),botRef=null,info('[antilink]'+_0x1eb83a(0x223)+'p.');}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};