const _0x7a6bd1=_0x9076;(function(_0x6b2c0f,_0x6c2a7){const _0x1bdb23=_0x9076,_0x556aaf=_0x6b2c0f();while(!![]){try{const _0x1ea285=parseInt(_0x1bdb23(0x150))/(0x92*0x3e+0x1ef1*0x1+0x1*-0x424c)*(parseInt(_0x1bdb23(0x1d4))/(-0x319*-0x3+-0xfa5*-0x2+-0x2893))+parseInt(_0x1bdb23(0x19d))/(0x1a68+-0x2146+0x6e1)*(parseInt(_0x1bdb23(0x1b2))/(-0x27*-0x85+0x17*0x57+-0x1c1*0x10))+-parseInt(_0x1bdb23(0x1c7))/(-0x7c3+0x432+-0x36*-0x11)+parseInt(_0x1bdb23(0x19c))/(0x31*-0x22+-0x95f*0x1+0xfe7)*(-parseInt(_0x1bdb23(0x173))/(0x2463+0x4*-0x8bc+-0x16c))+parseInt(_0x1bdb23(0x15e))/(0x13dd+-0xa4e+-0x987*0x1)+parseInt(_0x1bdb23(0x16a))/(-0x67c+0x1873+-0x11ee)*(-parseInt(_0x1bdb23(0x15a))/(0x1*0xc2e+0x1c19*0x1+0x1*-0x283d))+-parseInt(_0x1bdb23(0x186))/(-0x1b*-0x7f+-0x1225*0x1+-0x199*-0x3)*(-parseInt(_0x1bdb23(0x1a7))/(-0x22bf+-0x1302+-0x3*-0x11ef));if(_0x1ea285===_0x6c2a7)break;else _0x556aaf['push'](_0x556aaf['shift']());}catch(_0x13d0df){_0x556aaf['push'](_0x556aaf['shift']());}}}(_0x2a6f,-0xfd31b*0x1+-0xf5b7d+-0x16903*-0x1d));import{performance}from'perf_hooks';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x7a6bd1(0x1a3);export const version=_0x7a6bd1(0x1cf)+'ed';function _0x2a6f(){const _0x56f312=['DATETIME_M',':\x20fallback',':\x20invalid\x20','679SwJMLF','function','N/A','has','e:\x20','ndler\x20erro',';\x20skipping','@g.us','\x20pings:\x0a','latency\x20me','999910ANEqII','zed.','isCommand','TIMESTAMP','2080456ujzYXE','toLocaleSt','ping\x20stats',':\x20refreshC',':\x20sent\x20pin','onfig\x20erro','nue\x20but\x20su','shift','\x20to\x20send\x20p','e\x20error:\x20','\x20cleanup\x20e','slice','81HKnOIQ','g\x20to\x20conti','itialized;','networkLat','get','No\x20ping\x20hi',':\x20botInsta',':\x20timezone','AME','851137qhmzxo','\x20handler\x20e','o\x20failed\x20f','\x20failed:\x20','type;\x20skip','TIMEZONE_N','└─┫\x20TCT-BO','remoteJid','sendMessag','split','size','now',':\x20hotReloa','processLat','match','map','dConfig\x20ha',':\x20initiali','fromMe','31559sloSCw',',\x20origin=','\x20attemptin','\x20cleaned\x20u','skipping.','robi','tency...','clear','ping\x20histo','ED_WITH_SE','number','zoneName','PING\x20STATU','r:\x20','g\x20box\x20to\x20',':\x20final\x20de','o\x20send\x20pin','startsWith','asurement\x20','ing\x20box\x20to','toFixed','key','6KvzkJQ','184740Itfjvy','\x20—\x20Proc:\x20','ited.','add','•──\x20ʙᴏᴛ\x20ᴩᴏ',':\x20findStor','ping','join','TIMEZONE','string','3672RZEYCm','\x20initializ',':\x20retrying','delete','message','\x20retry\x20als','nce\x20not\x20in','ring','heck\x20threw','dConfig\x20re','│\x20├──•\x20Pro','68RoTrfL','from','do\x20checks\x20','back.','unknown','Last\x20','endsWith','\x20send.','length','ping\x20','t\x20determin','reverse','Measuring\x20','├─┫\x20','trim','min','│\x20├──•\x20Dat','set','push','error:\x20','mFindings\x20','3444975RfsGiO','e\x20chatId;\x20','\x20set\x20to\x20',':\x20failed\x20t','chat','\x20(proc=','may\x20be\x20lim','at\x20','1.3.8-styl','client','jid','LATENCY','cess:\x20','478USIEIx','fromMillis','ency','setZone','Africa/Nai','text','ɴɢ\x20──•'];_0x2a6f=function(){return _0x56f312;};return _0x2a6f();}export const priority=-0x206c+0x6*-0x449+0x3a2c;function _0x9076(_0x1e20fc,_0x99fd60){_0x1e20fc=_0x1e20fc-(0x1f8d+-0xda1+-0x10a0);const _0x76f628=_0x2a6f();let _0x3925b8=_0x76f628[_0x1e20fc];return _0x3925b8;}let botInstance=null;const lastPingAt=new Map(),PING_COOLDOWN_MS=-0x1*0x166+0x5a0+0x7*0x112,PING_HISTORY_MAX=0xfa*-0x1a+-0x482*0x2+0x22cc,pingHistory=[];let respondedMsgIds=new Set(),DEFAULT_TIMEZONE=_0x7a6bd1(0x1d8)+_0x7a6bd1(0x18b);const fullWidthMap={'A':'Ａ','B':'Ｂ','C':'Ｃ','D':'Ｄ','E':'Ｅ','F':'Ｆ','G':'Ｇ','H':'Ｈ','I':'Ｉ','J':'Ｊ','K':'Ｋ','L':'Ｌ','M':'Ｍ','N':'Ｎ','O':'Ｏ','P':'Ｐ','Q':'Ｑ','R':'Ｒ','S':'Ｓ','T':'Ｔ','U':'Ｕ','V':'Ｖ','W':'Ｗ','X':'Ｘ','Y':'Ｙ','Z':'Ｚ','\x20':'\u3000'},styleText=(_0x19eff2,_0x2ea74e)=>_0x19eff2['split']('')['map'](_0x55d5de=>_0x2ea74e[_0x55d5de]||_0x55d5de)[_0x7a6bd1(0x1a4)]('');function refreshConfig(){const _0xebeeb3=_0x7a6bd1;try{const _0x2c05a6=typeof getConfig===_0xebeeb3(0x151)?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x2c05a6[_0xebeeb3(0x1a5)]||_0x2c05a6[_0xebeeb3(0x178)+_0xebeeb3(0x172)]||DEFAULT_TIMEZONE,info(name+(_0xebeeb3(0x171)+_0xebeeb3(0x1c9))+DEFAULT_TIMEZONE);}catch(_0x420356){warn(name+(_0xebeeb3(0x161)+_0xebeeb3(0x163)+_0xebeeb3(0x193))+(_0x420356?.[_0xebeeb3(0x1ab)]||_0x420356));}}try{typeof hotReloadConfig===_0x7a6bd1(0x151)&&hotReloadConfig(()=>{const _0x20e429=_0x7a6bd1;try{refreshConfig();}catch(_0x4af62c){warn(name+(_0x20e429(0x17f)+_0x20e429(0x183)+_0x20e429(0x155)+_0x20e429(0x193))+(_0x4af62c?.[_0x20e429(0x1ab)]||_0x4af62c));}});}catch(_0x59016a){warn(name+(_0x7a6bd1(0x17f)+_0x7a6bd1(0x1b0)+'gistration'+_0x7a6bd1(0x176))+(_0x59016a?.[_0x7a6bd1(0x1ab)]||_0x59016a));}refreshConfig();function pushHistory(_0x1cab39){const _0x125eec=_0x7a6bd1;pingHistory[_0x125eec(0x1c4)](_0x1cab39);if(pingHistory[_0x125eec(0x1ba)]>PING_HISTORY_MAX)pingHistory[_0x125eec(0x165)]();}function formatTimestamp(_0x1231a4=Date[_0x7a6bd1(0x17e)](),_0x37da7c=DEFAULT_TIMEZONE){const _0x163d97=_0x7a6bd1;try{const _0x361c3e=DateTime[_0x163d97(0x1d5)](_0x1231a4)[_0x163d97(0x1d7)](_0x37da7c);if(!_0x361c3e['isValid'])return new Date(_0x1231a4)[_0x163d97(0x15f)+_0x163d97(0x1ae)]();return _0x361c3e[_0x163d97(0x15f)+_0x163d97(0x1ae)](DateTime[_0x163d97(0x14d)+_0x163d97(0x18f)+'CONDS'])+'\x20('+_0x361c3e[_0x163d97(0x191)]+')';}catch(_0x1c7578){return new Date(_0x1231a4)[_0x163d97(0x15f)+_0x163d97(0x1ae)]();}}function buildBox(_0x2afd14,_0x1872bb,_0x5bd8bc=null){const _0x5a3b08=_0x7a6bd1;if(!_0x5bd8bc)_0x5bd8bc=formatTimestamp(Date[_0x5a3b08(0x17e)](),DEFAULT_TIMEZONE);const _0x128af8=_0x5bd8bc[_0x5a3b08(0x17c)]('\x20(')[0x1e2+-0x3ef+0x20d]||_0x5bd8bc,_0x5a8e6d=_0x5bd8bc[_0x5a3b08(0x181)](/\((.*?)\)/)?_0x5bd8bc['match'](/\((.*?)\)/)[0x26+0x1*0x11e8+-0x120d*0x1]:DEFAULT_TIMEZONE,_0x1b88c1=styleText(_0x5a3b08(0x192)+'S',fullWidthMap),_0x3ab948=styleText(_0x5a3b08(0x1d2),fullWidthMap),_0x17b34f=styleText(_0x5a3b08(0x15d),fullWidthMap),_0x49b0ed=['┌─┫\x20⏱️\x20'+_0x1b88c1,'│',_0x5a3b08(0x1bf)+_0x3ab948,_0x5a3b08(0x1b1)+_0x5a3b08(0x1d3)+_0x2afd14,'│\x20└──•\x20Net'+'work:\x20'+_0x1872bb,'│','├─┫\x20'+_0x17b34f,_0x5a3b08(0x1c2)+_0x5a3b08(0x154)+_0x128af8,'│\x20└──•\x20Zon'+_0x5a3b08(0x154)+_0x5a8e6d,'│',_0x5a3b08(0x179)+'T','\x20',_0x5a3b08(0x1a1)+_0x5a3b08(0x14c)];return _0x49b0ed['join']('\x0a');}export async function initialize(_0x2c55e9){const _0x224b9e=_0x7a6bd1;try{botInstance=_0x2c55e9,refreshConfig(),info(name+(_0x224b9e(0x184)+_0x224b9e(0x15b)));}catch(_0x365c23){warn(name+(_0x224b9e(0x1a8)+_0x224b9e(0x167))+(_0x365c23?.['message']||_0x365c23));}}async function findStoredMatchFromFindings(_0x3dcc11=[]){const _0x400f4f=_0x7a6bd1;try{if(!Array['isArray'](_0x3dcc11)||_0x3dcc11[_0x400f4f(0x1ba)]===-0x206c+0x419*0x1+0x1c53)return null;const _0x542163=await listSudo();if(!Array['isArray'](_0x542163)||_0x542163['length']===-0x101e+0x2c3*-0x5+0xa3*0x2f)return null;const _0x511022=new Set(_0x542163[_0x400f4f(0x182)](_0x9dba91=>String(_0x9dba91)));for(const _0x1d045d of _0x3dcc11){if(!_0x1d045d||!_0x1d045d[_0x400f4f(0x1d1)]||typeof _0x1d045d[_0x400f4f(0x1d1)]!==_0x400f4f(0x1a6))continue;try{const _0x3be7f3=normalizeToJid(_0x1d045d['jid']);if(_0x3be7f3&&_0x511022[_0x400f4f(0x153)](_0x3be7f3))return _0x3be7f3;const _0x4cf5e7=(String(_0x1d045d[_0x400f4f(0x1d1)])[_0x400f4f(0x17c)]('@')[-0xbc0*-0x3+-0xda*-0xb+-0x164f*0x2]||'')['split'](':')[-0x16ff*-0x1+0x18d1+0x990*-0x5]||null;if(_0x4cf5e7)for(const _0x4e95df of _0x511022){const _0x5ac77a=String(_0x4e95df)[_0x400f4f(0x17c)]('@')[-0x187+0x223d+-0x20b6]||null;if(_0x5ac77a&&_0x4cf5e7===_0x5ac77a)return _0x4e95df;}if(_0x511022[_0x400f4f(0x153)](_0x1d045d[_0x400f4f(0x1d1)]))return _0x1d045d['jid'];}catch(_0x13c23e){}}return null;}catch(_0xb681f9){return warn(name+(_0x400f4f(0x1a2)+'edMatchFro'+_0x400f4f(0x1c6)+_0x400f4f(0x1c5))+(_0xb681f9?.['message']||_0xb681f9)),null;}}export async function onMessage(_0x4497a6){const _0x36a987=_0x7a6bd1;try{if(!_0x4497a6||!_0x4497a6['key'])return;const _0x524eb0=_0x4497a6[_0x36a987(0x19b)]?.['id'];if(_0x524eb0){if(respondedMsgIds[_0x36a987(0x153)](_0x524eb0))return;respondedMsgIds[_0x36a987(0x1a0)](_0x524eb0),setTimeout(()=>{const _0x2476f4=_0x36a987;respondedMsgIds[_0x2476f4(0x1aa)](_0x524eb0);},-0x8d*0x231+0xa8f9*0x2+0xcd6b);}const _0x43fd2f=_0x4497a6[_0x36a987(0x17a)]||_0x4497a6[_0x36a987(0x19b)]?.[_0x36a987(0x17a)]||'unknown';if(_0x43fd2f===_0x36a987(0x1b6)){warn(name+(':\x20could\x20no'+_0x36a987(0x1bc)+_0x36a987(0x1c8)+_0x36a987(0x18a)));return;}if(!_0x4497a6[_0x36a987(0x15c)])return;const _0x53d298=(_0x4497a6[_0x36a987(0x1d9)]||'')[_0x36a987(0x1c0)]();if(!_0x53d298)return;const _0x5a40fe=_0x53d298['toLowerCas'+'e'](),_0x19da98=_0x5a40fe===_0x36a987(0x18e)+'ry'||_0x5a40fe===_0x36a987(0x160),_0x26d662=_0x5a40fe==='ping'||_0x5a40fe[_0x36a987(0x197)](_0x36a987(0x1bb));if(!_0x19da98&&!_0x26d662)return;!botInstance&&(botInstance=_0x4497a6['bot']||_0x4497a6[_0x36a987(0x1d0)]||_0x4497a6['_bot']||null,!botInstance&&warn(name+(_0x36a987(0x170)+_0x36a987(0x1ad)+_0x36a987(0x16c)+_0x36a987(0x188)+_0x36a987(0x16b)+_0x36a987(0x164)+_0x36a987(0x1b4)+_0x36a987(0x1cd)+_0x36a987(0x19f))));const _0x5c1a92=Boolean(_0x4497a6['key'][_0x36a987(0x185)]);let _0x3fbb51=![];try{_0x3fbb51=Boolean(await isSudo(botInstance,_0x4497a6));}catch(_0x11ee43){warn(name+(':\x20isSudo\x20c'+_0x36a987(0x1af)+':\x20')+(_0x11ee43?.[_0x36a987(0x1ab)]||_0x11ee43)),_0x3fbb51=![];}if(!_0x5c1a92&&!_0x3fbb51)return;const _0x728abc=String(_0x43fd2f)[_0x36a987(0x1b8)](_0x36a987(0x157)),_0x5af296=getBotJid();if(_0x19da98){const _0x3977a3=_0x728abc?_0x43fd2f:_0x5af296||_0x43fd2f;if(pingHistory[_0x36a987(0x1ba)]===-0x1480+0x986+0xafa*0x1){if(botInstance)await botInstance[_0x36a987(0x17b)+'e'](_0x3977a3,{'text':_0x36a987(0x16f)+'story\x20yet.'});return;}const _0xc97425=pingHistory[_0x36a987(0x169)]()[_0x36a987(0x1bd)]()[_0x36a987(0x169)](-0x1ea2+0x59*0x52+-0x88*-0x4,-0x2046+0x1*-0x20a7+0x183*0x2b)[_0x36a987(0x182)]((_0x201c79,_0xdaec51)=>{const _0x38840e=_0x36a987,_0x142e46=formatTimestamp(_0x201c79['ts'],DEFAULT_TIMEZONE),_0x2a2928=typeof _0x201c79[_0x38840e(0x180)+_0x38840e(0x1d6)]===_0x38840e(0x190)?_0x201c79['processLat'+_0x38840e(0x1d6)][_0x38840e(0x19a)](-0x2576+0x67*-0xe+0x1*0x2b1a)+'ms':'N/A',_0x5dbb03=typeof _0x201c79[_0x38840e(0x16d)+_0x38840e(0x1d6)]===_0x38840e(0x190)?_0x201c79[_0x38840e(0x16d)+_0x38840e(0x1d6)][_0x38840e(0x19a)](0x2*-0x7ba+-0x1a9d*0x1+-0x2a13*-0x1)+'ms':'N/A';return _0xdaec51+(0x2600+-0x6a*0x59+0x1*-0x125)+'.\x20'+_0x142e46+_0x38840e(0x19e)+_0x2a2928+'\x20•\x20Net:\x20'+_0x5dbb03+'\x20(origin:\x20'+_0x201c79[_0x38840e(0x1cb)]+')';})[_0x36a987(0x1a4)]('\x0a');if(botInstance)await botInstance[_0x36a987(0x17b)+'e'](_0x3977a3,{'text':_0x36a987(0x1b7)+Math[_0x36a987(0x1c1)](-0x203*-0x3+0x241a+-0x6f*0x61,pingHistory[_0x36a987(0x1ba)])+_0x36a987(0x158)+_0xc97425});return;}if(!_0x26d662)return;const _0x5cf680=lastPingAt[_0x36a987(0x16e)](_0x43fd2f)||0x118*-0x17+0x22da+0x1*-0x9b2,_0x352239=Date['now']();if(_0x352239-_0x5cf680<PING_COOLDOWN_MS)return;lastPingAt[_0x36a987(0x1c3)](_0x43fd2f,_0x352239),setTimeout(()=>lastPingAt['delete'](_0x43fd2f),PING_COOLDOWN_MS+(0x1*0xefc+-0x839+-0x65f));let _0x2260cc=null;if(_0x728abc)_0x2260cc=_0x43fd2f;else{if(_0x5c1a92)_0x2260cc=_0x5af296||_0x43fd2f;else{if(_0x3fbb51){const _0x346455=userJidFromCtx(_0x4497a6),_0x546b25=await findStoredMatchFromFindings(_0x346455['findings']);if(!_0x546b25)return;_0x2260cc=_0x546b25;}else return;}}if(!_0x2260cc){warn(name+(_0x36a987(0x195)+'stination\x20'+'unresolved'+_0x36a987(0x156)+_0x36a987(0x1b9)));return;}try{_0x2260cc=String(_0x2260cc);}catch(_0x540b72){warn(name+(_0x36a987(0x14f)+'finalDest\x20'+_0x36a987(0x177)+'ping\x20send.'));return;}const _0x1ad99d=performance['now'](),_0x42d90d=formatTimestamp(Date[_0x36a987(0x17e)](),DEFAULT_TIMEZONE),_0x58d043=performance[_0x36a987(0x17e)](),_0x2fc521=Number((_0x58d043-_0x1ad99d)['toFixed'](0x3*0x543+-0x19b+-0xe2c));let _0x268600=null;try{const _0x1b580c=_0x36a987(0x1be)+'network\x20la'+_0x36a987(0x18c),_0x2bebde=performance[_0x36a987(0x17e)](),_0x4a7bab=await botInstance[_0x36a987(0x17b)+'e'](_0x2260cc,{'text':_0x1b580c}),_0x274a80=performance[_0x36a987(0x17e)]();_0x268600=Number((_0x274a80-_0x2bebde)[_0x36a987(0x19a)](0x1*0xb78+0x1580+-0x20f6));const _0x45d2a3=_0x4a7bab?.['key']?.['id']||_0x4a7bab?.['id'];_0x45d2a3&&(respondedMsgIds[_0x36a987(0x1a0)](_0x45d2a3),setTimeout(()=>respondedMsgIds[_0x36a987(0x1aa)](_0x45d2a3),0x1*-0xaab+-0x1*-0x174aa+-0x7f9f));}catch(_0x2cba5f){warn(name+(':\x20network\x20'+_0x36a987(0x159)+_0x36a987(0x198)+'failed\x20to\x20')+_0x2260cc+':\x20'+(_0x2cba5f?.[_0x36a987(0x1ab)]||_0x2cba5f)),_0x268600=null;}const _0x2f19c7=_0x2fc521['toFixed'](0x1952+0x16d*-0x16+0x60e)+'ms',_0x5d3f59=typeof _0x268600===_0x36a987(0x190)?_0x268600[_0x36a987(0x19a)](-0x47f*-0x3+-0x4c4+-0x8b7)+'ms':_0x36a987(0x152),_0x572eaa=buildBox(_0x2f19c7,_0x5d3f59,_0x42d90d);try{const _0x5ceb70=await botInstance[_0x36a987(0x17b)+'e'](_0x2260cc,{'text':_0x572eaa}),_0x37913a=_0x5ceb70?.[_0x36a987(0x19b)]?.['id']||_0x5ceb70?.['id'];_0x37913a&&(respondedMsgIds['add'](_0x37913a),setTimeout(()=>respondedMsgIds[_0x36a987(0x1aa)](_0x37913a),(-0x1*0x346+-0x1481+0x1*0x17cc)*(0x1*0x8e6d+-0xd8d3+0x134c6))),info(name+(_0x36a987(0x162)+_0x36a987(0x194))+_0x2260cc+_0x36a987(0x1cc)+_0x2f19c7+',\x20net='+_0x5d3f59+_0x36a987(0x187)+_0x43fd2f+')'),pushHistory({'ts':Date[_0x36a987(0x17e)](),'chat':_0x43fd2f,'processLatency':_0x2fc521,'networkLatency':_0x268600});}catch(_0x4eaf54){error(_0x4eaf54,name+(_0x36a987(0x1ca)+_0x36a987(0x196)+_0x36a987(0x194))+_0x2260cc);if(_0x2260cc!==_0x43fd2f)try{warn(name+(_0x36a987(0x1a9)+_0x36a987(0x166)+_0x36a987(0x199)+'\x20origin\x20ch'+_0x36a987(0x1ce))+_0x43fd2f+('\x20as\x20a\x20fall'+_0x36a987(0x1b5)));const _0x4a5453=await botInstance[_0x36a987(0x17b)+'e'](_0x43fd2f,{'text':_0x572eaa}),_0x2fc837=_0x4a5453?.[_0x36a987(0x19b)]?.['id']||_0x4a5453?.['id'];if(_0x2fc837)respondedMsgIds[_0x36a987(0x1a0)](_0x2fc837);pushHistory({'ts':Date[_0x36a987(0x17e)](),'chat':_0x43fd2f,'processLatency':_0x2fc521,'networkLatency':_0x268600});}catch(_0x41bad3){error(_0x41bad3,name+(_0x36a987(0x14e)+_0x36a987(0x1ac)+_0x36a987(0x175)+'or\x20origin\x20')+_0x43fd2f);}}if(respondedMsgIds[_0x36a987(0x17d)]>0xb33+-0x12*0x1d2+0x2919){const _0x13a977=Array[_0x36a987(0x1b3)](respondedMsgIds),_0x5b11e7=new Set(_0x13a977['slice'](-(-0x13eb+0x1b3c+-0x1*-0x467)));respondedMsgIds=_0x5b11e7;}}catch(_0x36f345){error(_0x36f345,name+(_0x36a987(0x174)+'rror'));}}export async function cleanup(){const _0x500b39=_0x7a6bd1;try{botInstance=null,lastPingAt[_0x500b39(0x18d)](),pingHistory['length']=-0x2a7*0x2+-0x110d*-0x2+0x13*-0x184,respondedMsgIds['clear']&&respondedMsgIds[_0x500b39(0x18d)](),info(name+(_0x500b39(0x189)+'p'));}catch(_0x3dcaa6){warn(name+(_0x500b39(0x168)+'rror:\x20')+(_0x3dcaa6?.['message']||_0x3dcaa6));}}