const _0x1018e1=_0x30cc;function _0x30cc(_0x1d27e4,_0x4de74b){const _0x193338=_0x673b();return _0x30cc=function(_0x21fe00,_0x56a48a){_0x21fe00=_0x21fe00-(-0x267c+0x1*-0x14b+0x2845);let _0xf75a56=_0x193338[_0x21fe00];return _0xf75a56;},_0x30cc(_0x1d27e4,_0x4de74b);}(function(_0x418f7f,_0x3a310c){const _0xb3eca=_0x30cc,_0x4444d7=_0x418f7f();while(!![]){try{const _0x1b5121=parseInt(_0xb3eca(0x106))/(-0x7a*0x51+-0x1*-0x1561+0x276*0x7)*(-parseInt(_0xb3eca(0xe6))/(0x3d9*-0xa+-0x2*-0xdae+0xb20))+-parseInt(_0xb3eca(0x89))/(0x1*0x20+-0xeb+0xce)+parseInt(_0xb3eca(0xdd))/(0x61*-0x9+0x9*0x371+-0x1b8c)*(-parseInt(_0xb3eca(0x9e))/(-0x369+0x8a1+-0x533))+parseInt(_0xb3eca(0x87))/(0x9cc+-0x18c2+0xefc)+-parseInt(_0xb3eca(0x104))/(0x10e6+0x7*0x139+0x87a*-0x3)+-parseInt(_0xb3eca(0xa3))/(-0x1491+-0x330+0x17c9*0x1)+parseInt(_0xb3eca(0xdc))/(0x22dd+0x117+-0x3*0xbf9)*(parseInt(_0xb3eca(0xa8))/(-0x1933+-0x518+0x1e55));if(_0x1b5121===_0x3a310c)break;else _0x4444d7['push'](_0x4444d7['shift']());}catch(_0x46deba){_0x4444d7['push'](_0x4444d7['shift']());}}}(_0x673b,0x1*-0x2e8da+-0xdfbfd*0x1+0x1912e4));import{performance}from'perf_hooks';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x1018e1(0x105);export const version=_0x1018e1(0x86)+'ed';export const priority=0x1feb+-0x1a68+-0x579;let botInstance=null;const lastPingAt=new Map(),PING_COOLDOWN_MS=-0x2*0xa7+0xfdf+-0x2d9,PING_HISTORY_MAX=0x1bf2+0xd87+0x1*-0x2915,pingHistory=[];let respondedMsgIds=new Set(),DEFAULT_TIMEZONE=_0x1018e1(0xec)+'robi';function _0x673b(){const _0x27c47b=['t\x20determin',':\x20failed\x20t','ing\x20box\x20to','zoneName','r:\x20','Africa/Nai','\x20origin\x20ch','number','do\x20checks\x20','has',':\x20refreshC','e\x20error:\x20','edMatchFro','toLocaleSt','error:\x20','message','trim','at\x20','endsWith','dConfig\x20re','itialized;','│\x20├──•\x20Dat','match','add','LATENCY','or\x20origin\x20','PING\x20STATU',':\x20isSudo\x20c','startsWith','7226114GVynuL','ping','27583oVfYhE','│\x20└──•\x20Net','\x20cleaned\x20u','_bot','ited.','network\x20la',':\x20fallback','TIMESTAMP','isValid','1.3.8-styl','1341018SXAPTu','isArray','616167LyZjxf',':\x20sent\x20pin','slice','N/A','\x20(origin:\x20','remoteJid','asurement\x20','sendMessag',':\x20botInsta','jid','length','TIMEZONE','delete',':\x20final\x20de','chat','o\x20failed\x20f','\x20handler\x20e',':\x20findStor','ED_WITH_SE','size','\x20retry\x20als','1138990kSZzjQ','work:\x20','skipping.','e:\x20',':\x20retrying','5334264JQHuFp','gistration','from','cess:\x20','\x20attemptin','430upAEsZ','Last\x20','map','CONDS','\x20to\x20send\x20p','back.','ping\x20send.','•──\x20ʙᴏᴛ\x20ᴩᴏ','isCommand','ping\x20stats','ring','\x20failed:\x20','│\x20└──•\x20Zon','onfig\x20erro','nue\x20but\x20su','DATETIME_M','unknown',':\x20could\x20no','fromMillis','min','clear','\x20cleanup\x20e','stination\x20','ɴɢ\x20──•','split','string','latency\x20me','@g.us','unresolved','fromMe','function','bot','finalDest\x20',';\x20skipping','\x20send.','No\x20ping\x20hi','rror:\x20',':\x20timezone','toLowerCas','now',',\x20origin=','join','story\x20yet.','\x20initializ','\x20—\x20Proc:\x20','set','mFindings\x20','\x20•\x20Net:\x20','toFixed','processLat',':\x20invalid\x20','networkLat','575217DRIuZC','4jCJyKj','client','heck\x20threw','type;\x20skip','├─┫\x20','key','g\x20to\x20conti','e\x20chatId;\x20','ency','22GyQnsq'];_0x673b=function(){return _0x27c47b;};return _0x673b();}const fullWidthMap={'A':'Ａ','B':'Ｂ','C':'Ｃ','D':'Ｄ','E':'Ｅ','F':'Ｆ','G':'Ｇ','H':'Ｈ','I':'Ｉ','J':'Ｊ','K':'Ｋ','L':'Ｌ','M':'Ｍ','N':'Ｎ','O':'Ｏ','P':'Ｐ','Q':'Ｑ','R':'Ｒ','S':'Ｓ','T':'Ｔ','U':'Ｕ','V':'Ｖ','W':'Ｗ','X':'Ｘ','Y':'Ｙ','Z':'Ｚ','\x20':'\u3000'},styleText=(_0x31953d,_0xfae3d3)=>_0x31953d[_0x1018e1(0xc0)]('')['map'](_0x330ac1=>_0xfae3d3[_0x330ac1]||_0x330ac1)[_0x1018e1(0xd1)]('');function refreshConfig(){const _0x514f40=_0x1018e1;try{const _0x47fe57=typeof getConfig===_0x514f40(0xc6)?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x47fe57[_0x514f40(0x94)]||_0x47fe57['TIMEZONE_N'+'AME']||DEFAULT_TIMEZONE,info(name+(_0x514f40(0xcd)+'\x20set\x20to\x20')+DEFAULT_TIMEZONE);}catch(_0x4a5f3e){warn(name+(_0x514f40(0xf1)+_0x514f40(0xb5)+_0x514f40(0xeb))+(_0x4a5f3e?.[_0x514f40(0xf6)]||_0x4a5f3e));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0xfc6040=_0x1018e1;try{refreshConfig();}catch(_0x2d4a93){warn(name+(':\x20hotReloa'+'dConfig\x20ha'+'ndler\x20erro'+_0xfc6040(0xeb))+(_0x2d4a93?.[_0xfc6040(0xf6)]||_0x2d4a93));}});}catch(_0x34dad3){warn(name+(':\x20hotReloa'+_0x1018e1(0xfa)+_0x1018e1(0xa4)+_0x1018e1(0xb3))+(_0x34dad3?.[_0x1018e1(0xf6)]||_0x34dad3));}refreshConfig();function pushHistory(_0x54e3a7){pingHistory['push'](_0x54e3a7);if(pingHistory['length']>PING_HISTORY_MAX)pingHistory['shift']();}function formatTimestamp(_0x46ad89=Date['now'](),_0x36936e=DEFAULT_TIMEZONE){const _0x52e809=_0x1018e1;try{const _0xc34444=DateTime[_0x52e809(0xba)](_0x46ad89)['setZone'](_0x36936e);if(!_0xc34444[_0x52e809(0x85)])return new Date(_0x46ad89)[_0x52e809(0xf4)+_0x52e809(0xb2)]();return _0xc34444['toLocaleSt'+_0x52e809(0xb2)](DateTime[_0x52e809(0xb7)+_0x52e809(0x9b)+_0x52e809(0xab)])+'\x20('+_0xc34444[_0x52e809(0xea)]+')';}catch(_0x2a2596){return new Date(_0x46ad89)['toLocaleSt'+'ring']();}}function buildBox(_0x4aee01,_0x344418,_0x2182d3=null){const _0x12c97a=_0x1018e1;if(!_0x2182d3)_0x2182d3=formatTimestamp(Date[_0x12c97a(0xcf)](),DEFAULT_TIMEZONE);const _0xb73711=_0x2182d3[_0x12c97a(0xc0)]('\x20(')[-0xb3e+0x6be+0x480]||_0x2182d3,_0x3e60e9=_0x2182d3[_0x12c97a(0xfd)](/\((.*?)\)/)?_0x2182d3[_0x12c97a(0xfd)](/\((.*?)\)/)[0xa3*0x38+-0xa4f+-0x1958]:DEFAULT_TIMEZONE,_0x5b94af=styleText(_0x12c97a(0x101)+'S',fullWidthMap),_0x3be3da=styleText(_0x12c97a(0xff),fullWidthMap),_0x29c2d8=styleText(_0x12c97a(0x84),fullWidthMap),_0x27418e=['┌─┫\x20⏱️\x20'+_0x5b94af,'│','├─┫\x20'+_0x3be3da,'│\x20├──•\x20Pro'+_0x12c97a(0xa6)+_0x4aee01,_0x12c97a(0x7e)+_0x12c97a(0x9f)+_0x344418,'│',_0x12c97a(0xe1)+_0x29c2d8,_0x12c97a(0xfc)+_0x12c97a(0xa1)+_0xb73711,_0x12c97a(0xb4)+_0x12c97a(0xa1)+_0x3e60e9,'│','└─┫\x20TCT-BO'+'T','\x20',_0x12c97a(0xaf)+_0x12c97a(0xbf)];return _0x27418e[_0x12c97a(0xd1)]('\x0a');}export async function initialize(_0x3638c2){const _0x52adad=_0x1018e1;try{botInstance=_0x3638c2,refreshConfig(),info(name+(':\x20initiali'+'zed.'));}catch(_0x178d4c){warn(name+(_0x52adad(0xd3)+_0x52adad(0xf2))+(_0x178d4c?.[_0x52adad(0xf6)]||_0x178d4c));}}async function findStoredMatchFromFindings(_0x387444=[]){const _0x1d845e=_0x1018e1;try{if(!Array[_0x1d845e(0x88)](_0x387444)||_0x387444[_0x1d845e(0x93)]===0x255c*0x1+0x21d5+-0x4b*0xf3)return null;const _0x2e1540=await listSudo();if(!Array['isArray'](_0x2e1540)||_0x2e1540[_0x1d845e(0x93)]===-0x2351+-0x19fd+-0x33a*-0x13)return null;const _0x38af07=new Set(_0x2e1540[_0x1d845e(0xaa)](_0x1afc69=>String(_0x1afc69)));for(const _0x376878 of _0x387444){if(!_0x376878||!_0x376878[_0x1d845e(0x92)]||typeof _0x376878[_0x1d845e(0x92)]!==_0x1d845e(0xc1))continue;try{const _0x275a28=normalizeToJid(_0x376878[_0x1d845e(0x92)]);if(_0x275a28&&_0x38af07[_0x1d845e(0xf0)](_0x275a28))return _0x275a28;const _0x3fed6e=(String(_0x376878['jid'])['split']('@')[-0x1b4*0x11+0x13a*-0x2+-0xa78*-0x3]||'')[_0x1d845e(0xc0)](':')[0x59d+-0x5*-0x2ed+-0x143e]||null;if(_0x3fed6e)for(const _0x2a7fad of _0x38af07){const _0x2b382b=String(_0x2a7fad)[_0x1d845e(0xc0)]('@')[-0x20e3*0x1+0x655*0x1+0x1a8e]||null;if(_0x2b382b&&_0x3fed6e===_0x2b382b)return _0x2a7fad;}if(_0x38af07[_0x1d845e(0xf0)](_0x376878['jid']))return _0x376878[_0x1d845e(0x92)];}catch(_0x4fc6a6){}}return null;}catch(_0x2d6de2){return warn(name+(_0x1d845e(0x9a)+_0x1d845e(0xf3)+_0x1d845e(0xd6)+_0x1d845e(0xf5))+(_0x2d6de2?.[_0x1d845e(0xf6)]||_0x2d6de2)),null;}}export async function onMessage(_0x575313){const _0x2281f7=_0x1018e1;try{if(!_0x575313||!_0x575313['key'])return;const _0x5a7635=_0x575313['key']?.['id'];if(_0x5a7635){if(respondedMsgIds[_0x2281f7(0xf0)](_0x5a7635))return;respondedMsgIds['add'](_0x5a7635),setTimeout(()=>{const _0x294d63=_0x2281f7;respondedMsgIds[_0x294d63(0x95)](_0x5a7635);},0xffc*-0xf+-0x1*-0x19fca+-0x2a7*-0x16);}const _0x4bc2f9=_0x575313[_0x2281f7(0x8e)]||_0x575313['key']?.[_0x2281f7(0x8e)]||_0x2281f7(0xb8);if(_0x4bc2f9===_0x2281f7(0xb8)){warn(name+(_0x2281f7(0xb9)+_0x2281f7(0xe7)+_0x2281f7(0xe4)+_0x2281f7(0xa0)));return;}if(!_0x575313[_0x2281f7(0xb0)])return;const _0x147c76=(_0x575313['text']||'')[_0x2281f7(0xf7)]();if(!_0x147c76)return;const _0x108b08=_0x147c76[_0x2281f7(0xce)+'e'](),_0x45a341=_0x108b08==='ping\x20histo'+'ry'||_0x108b08===_0x2281f7(0xb1),_0x25b2de=_0x108b08===_0x2281f7(0x105)||_0x108b08[_0x2281f7(0x103)]('ping\x20');if(!_0x45a341&&!_0x25b2de)return;!botInstance&&(botInstance=_0x575313[_0x2281f7(0xc7)]||_0x575313[_0x2281f7(0xde)]||_0x575313[_0x2281f7(0x80)]||null,!botInstance&&warn(name+(_0x2281f7(0x91)+'nce\x20not\x20in'+_0x2281f7(0xfb)+_0x2281f7(0xa7)+_0x2281f7(0xe3)+_0x2281f7(0xb6)+_0x2281f7(0xef)+'may\x20be\x20lim'+_0x2281f7(0x81))));const _0x13cd03=Boolean(_0x575313[_0x2281f7(0xe2)][_0x2281f7(0xc5)]);let _0x52517f=![];try{_0x52517f=Boolean(await isSudo(botInstance,_0x575313));}catch(_0x40bad1){warn(name+(_0x2281f7(0x102)+_0x2281f7(0xdf)+':\x20')+(_0x40bad1?.[_0x2281f7(0xf6)]||_0x40bad1)),_0x52517f=![];}if(!_0x13cd03&&!_0x52517f)return;const _0x1f34ab=String(_0x4bc2f9)[_0x2281f7(0xf9)](_0x2281f7(0xc3)),_0x5b1615=getBotJid();if(_0x45a341){const _0x474824=_0x1f34ab?_0x4bc2f9:_0x5b1615||_0x4bc2f9;if(pingHistory[_0x2281f7(0x93)]===0x9*0x14f+-0x24eb+-0x649*-0x4){if(botInstance)await botInstance[_0x2281f7(0x90)+'e'](_0x474824,{'text':_0x2281f7(0xcb)+_0x2281f7(0xd2)});return;}const _0x364c88=pingHistory[_0x2281f7(0x8b)]()['reverse']()[_0x2281f7(0x8b)](-0x1*-0x1877+-0x1*0x180e+-0x69,-0x26f9+-0x3bf*-0xa+-0x1*-0x197)[_0x2281f7(0xaa)]((_0x4091cd,_0x16f5c3)=>{const _0x575fdd=_0x2281f7,_0x3c03ed=formatTimestamp(_0x4091cd['ts'],DEFAULT_TIMEZONE),_0x4ed3c7=typeof _0x4091cd[_0x575fdd(0xd9)+_0x575fdd(0xe5)]==='number'?_0x4091cd['processLat'+_0x575fdd(0xe5)][_0x575fdd(0xd8)](-0x192b+0x1*0x267a+-0xd4d*0x1)+'ms':_0x575fdd(0x8c),_0x16c147=typeof _0x4091cd[_0x575fdd(0xdb)+_0x575fdd(0xe5)]===_0x575fdd(0xee)?_0x4091cd[_0x575fdd(0xdb)+'ency']['toFixed'](0x58b+-0x1d04+0x177b)+'ms':_0x575fdd(0x8c);return _0x16f5c3+(0x2497+0x362*0xa+-0x466a)+'.\x20'+_0x3c03ed+_0x575fdd(0xd4)+_0x4ed3c7+_0x575fdd(0xd7)+_0x16c147+_0x575fdd(0x8d)+_0x4091cd[_0x575fdd(0x97)]+')';})[_0x2281f7(0xd1)]('\x0a');if(botInstance)await botInstance[_0x2281f7(0x90)+'e'](_0x474824,{'text':_0x2281f7(0xa9)+Math[_0x2281f7(0xbb)](0x2b*-0x17+-0x1605+0x19f6*0x1,pingHistory[_0x2281f7(0x93)])+'\x20pings:\x0a'+_0x364c88});return;}if(!_0x25b2de)return;const _0x1fcfa6=lastPingAt['get'](_0x4bc2f9)||0xb*0x355+0x25b9+-0x4a60,_0xf2bd5c=Date[_0x2281f7(0xcf)]();if(_0xf2bd5c-_0x1fcfa6<PING_COOLDOWN_MS)return;lastPingAt[_0x2281f7(0xd5)](_0x4bc2f9,_0xf2bd5c),setTimeout(()=>lastPingAt[_0x2281f7(0x95)](_0x4bc2f9),PING_COOLDOWN_MS+(-0x7*0x577+0x3f1+0x22b4));let _0x400a5b=null;if(_0x1f34ab)_0x400a5b=_0x4bc2f9;else{if(_0x13cd03)_0x400a5b=_0x5b1615||_0x4bc2f9;else{if(_0x52517f){const _0x4f1226=userJidFromCtx(_0x575313),_0x353481=await findStoredMatchFromFindings(_0x4f1226['findings']);if(!_0x353481)return;_0x400a5b=_0x353481;}else return;}}if(!_0x400a5b){warn(name+(_0x2281f7(0x96)+_0x2281f7(0xbe)+_0x2281f7(0xc4)+_0x2281f7(0xc9)+_0x2281f7(0xca)));return;}try{_0x400a5b=String(_0x400a5b);}catch(_0x42767c){warn(name+(_0x2281f7(0xda)+_0x2281f7(0xc8)+_0x2281f7(0xe0)+_0x2281f7(0xae)));return;}const _0x390b59=performance[_0x2281f7(0xcf)](),_0x5b6efb=formatTimestamp(Date['now'](),DEFAULT_TIMEZONE),_0x55a96d=performance[_0x2281f7(0xcf)](),_0x4672cb=Number((_0x55a96d-_0x390b59)[_0x2281f7(0xd8)](-0x560+-0x7cb+0xd2d));let _0x1fb552=null;try{const _0x48b378='Measuring\x20'+_0x2281f7(0x82)+'tency...',_0x446e6b=performance['now'](),_0x5f5efa=await botInstance[_0x2281f7(0x90)+'e'](_0x400a5b,{'text':_0x48b378}),_0x251e85=performance[_0x2281f7(0xcf)]();_0x1fb552=Number((_0x251e85-_0x446e6b)[_0x2281f7(0xd8)](-0x1e91*-0x1+-0x2102+0x273));const _0xc003c4=_0x5f5efa?.[_0x2281f7(0xe2)]?.['id']||_0x5f5efa?.['id'];_0xc003c4&&(respondedMsgIds['add'](_0xc003c4),setTimeout(()=>respondedMsgIds['delete'](_0xc003c4),0x5156*-0x4+-0xdc92+-0x1*-0x30c4a));}catch(_0xa61bbf){warn(name+(':\x20network\x20'+_0x2281f7(0xc2)+_0x2281f7(0x8f)+'failed\x20to\x20')+_0x400a5b+':\x20'+(_0xa61bbf?.[_0x2281f7(0xf6)]||_0xa61bbf)),_0x1fb552=null;}const _0x2be0d2=_0x4672cb[_0x2281f7(0xd8)](-0x1a0b*-0x1+0x2226+-0x3c2f)+'ms',_0x46b978=typeof _0x1fb552===_0x2281f7(0xee)?_0x1fb552['toFixed'](-0x1*0x127d+-0xf*-0x1e5+-0x27b*0x4)+'ms':'N/A',_0x56f4f5=buildBox(_0x2be0d2,_0x46b978,_0x5b6efb);try{const _0x193f18=await botInstance[_0x2281f7(0x90)+'e'](_0x400a5b,{'text':_0x56f4f5}),_0x4c93f7=_0x193f18?.[_0x2281f7(0xe2)]?.['id']||_0x193f18?.['id'];_0x4c93f7&&(respondedMsgIds[_0x2281f7(0xfe)](_0x4c93f7),setTimeout(()=>respondedMsgIds[_0x2281f7(0x95)](_0x4c93f7),(0x15d7+-0x109f*0x2+0xb6c)*(-0x1182e+0x17e68+0x8426))),info(name+(_0x2281f7(0x8a)+'g\x20box\x20to\x20')+_0x400a5b+'\x20(proc='+_0x2be0d2+',\x20net='+_0x46b978+_0x2281f7(0xd0)+_0x4bc2f9+')'),pushHistory({'ts':Date['now'](),'chat':_0x4bc2f9,'processLatency':_0x4672cb,'networkLatency':_0x1fb552});}catch(_0x37b670){error(_0x37b670,name+(_0x2281f7(0xe8)+'o\x20send\x20pin'+'g\x20box\x20to\x20')+_0x400a5b);if(_0x400a5b!==_0x4bc2f9)try{warn(name+(_0x2281f7(0xa2)+_0x2281f7(0xac)+_0x2281f7(0xe9)+_0x2281f7(0xed)+_0x2281f7(0xf8))+_0x4bc2f9+('\x20as\x20a\x20fall'+_0x2281f7(0xad)));const _0x1d6e33=await botInstance[_0x2281f7(0x90)+'e'](_0x4bc2f9,{'text':_0x56f4f5}),_0x5df75f=_0x1d6e33?.[_0x2281f7(0xe2)]?.['id']||_0x1d6e33?.['id'];if(_0x5df75f)respondedMsgIds[_0x2281f7(0xfe)](_0x5df75f);pushHistory({'ts':Date[_0x2281f7(0xcf)](),'chat':_0x4bc2f9,'processLatency':_0x4672cb,'networkLatency':_0x1fb552});}catch(_0x182687){error(_0x182687,name+(_0x2281f7(0x83)+_0x2281f7(0x9d)+_0x2281f7(0x98)+_0x2281f7(0x100))+_0x4bc2f9);}}if(respondedMsgIds[_0x2281f7(0x9c)]>-0x3*0xb27+0x2f*0x89+-0x2*-0xdeb){const _0x20e45f=Array[_0x2281f7(0xa5)](respondedMsgIds),_0xb8de05=new Set(_0x20e45f['slice'](-(-0xa2b+0x1*0x528+0x1*0x10bb)));respondedMsgIds=_0xb8de05;}}catch(_0x4b2eea){error(_0x4b2eea,name+(_0x2281f7(0x99)+'rror'));}}export async function cleanup(){const _0x43d146=_0x1018e1;try{botInstance=null,lastPingAt['clear'](),pingHistory[_0x43d146(0x93)]=0x7*0xa9+-0x2187+-0x1ce8*-0x1,respondedMsgIds[_0x43d146(0xbc)]&&respondedMsgIds[_0x43d146(0xbc)](),info(name+(_0x43d146(0x7f)+'p'));}catch(_0x1d3cfb){warn(name+(_0x43d146(0xbd)+_0x43d146(0xcc))+(_0x1d3cfb?.['message']||_0x1d3cfb));}}