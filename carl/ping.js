const _0x1629c8=_0x6048;(function(_0x2764c7,_0x51f2bb){const _0x4c6bad=_0x6048,_0x38b570=_0x2764c7();while(!![]){try{const _0x59939a=parseInt(_0x4c6bad(0x1dd))/(-0x17d5+0x9*0x117+-0x4ad*-0x3)*(-parseInt(_0x4c6bad(0x1ca))/(0x3d*0x1e+-0x9c9*0x3+0x1637))+-parseInt(_0x4c6bad(0x185))/(-0x78+-0x974+-0x1*-0x9ef)+parseInt(_0x4c6bad(0x1b4))/(0x76*-0x19+0x152f+-0x9a5)+-parseInt(_0x4c6bad(0x1fa))/(-0x1*0x7fd+-0xdd9+0x15db)+parseInt(_0x4c6bad(0x1eb))/(-0x1b+0x6*0xdf+-0x519)+-parseInt(_0x4c6bad(0x1e5))/(-0x2b*0x17+-0x674*-0x2+-0x4*0x241)*(-parseInt(_0x4c6bad(0x1aa))/(0x1a5*0xb+0xbf*-0x25+0x98c))+-parseInt(_0x4c6bad(0x1a7))/(-0x16da*0x1+-0xd3*-0xd+0xc2c)*(parseInt(_0x4c6bad(0x195))/(-0xa1*-0xf+0x2288+-0x2bed));if(_0x59939a===_0x51f2bb)break;else _0x38b570['push'](_0x38b570['shift']());}catch(_0x277824){_0x38b570['push'](_0x38b570['shift']());}}}(_0x263b,-0x5882f+-0x5*0x24f43+-0x2e887*-0x9));import{performance}from'perf_hooks';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isSudo,listSudo,normalizeToJid,userJidFromCtx}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x6048(_0x6c1f98,_0x17a8ad){const _0xa7deae=_0x263b();return _0x6048=function(_0x43cc30,_0x52b66f){_0x43cc30=_0x43cc30-(0xa90+0x1296+-0x1*0x1baa);let _0x463ade=_0xa7deae[_0x43cc30];return _0x463ade;},_0x6048(_0x6c1f98,_0x17a8ad);}export const name=_0x1629c8(0x1e3);export const version=_0x1629c8(0x1cc)+'d';export const priority=-0x1cb2*-0x1+0x1278+-0x2f20;let botInstance=null;const lastPingAt=new Map(),PING_COOLDOWN_MS=0x1fe7*-0x1+0xb*-0xd3+-0x18*-0x232,PING_HISTORY_MAX=-0x233a*-0x1+-0x8d2*0x1+-0x1a04,pingHistory=[];let respondedMsgIds=new Set(),DEFAULT_TIMEZONE=_0x1629c8(0x1ab)+'robi';function refreshConfig(){const _0x551200=_0x1629c8;try{const _0x56b8af=typeof getConfig==='function'?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x56b8af[_0x551200(0x1e9)]||_0x56b8af[_0x551200(0x1da)+_0x551200(0x18f)]||DEFAULT_TIMEZONE,info(name+(':\x20timezone'+_0x551200(0x1ae))+DEFAULT_TIMEZONE);}catch(_0x4e7e71){warn(name+(_0x551200(0x1be)+_0x551200(0x1de)+_0x551200(0x19e))+(_0x4e7e71?.[_0x551200(0x1c8)]||_0x4e7e71));}}function _0x263b(){const _0x5555a0=['remoteJid',',\x20origin=','message','ping\x20stats','2NcAlLF','may\x20be\x20lim','1.3.6-fixe','\x0a╰════════','unknown','dConfig\x20re','skipping.','\x20as\x20a\x20fall','split','join',':\x20could\x20no',':\x20failed\x20t','\x20•\x20Net:\x20','from',':\x20final\x20de','e\x20error:\x20','TIMEZONE_N','Last\x20','DATETIME_M','976594gKlLUC','onfig\x20erro','bot','failed\x20to\x20','now',':\x20invalid\x20','ping','networkLat','14DYPHeN',':\x20hotReloa','\x20(origin:\x20','\x20origin\x20ch','TIMEZONE','function','6781986qUICaO','\x20send.','add',';\x20skipping','key','size','back.','ency','ndler\x20erro','ED_WITH_SE','o\x20failed\x20f','Measuring\x20','map','\x20cleaned\x20u','nce\x20not\x20in','3469345QnQCzd','rror:\x20','nue\x20but\x20su','toFixed','stination\x20','\x20initializ','heck\x20threw','edMatchFro','t\x20determin','length','itialized;','has','546003goWHLP','g\x20to\x20conti','push',':\x20sent\x20pin','delete','ping\x20','sendMessag','gistration','\x20cleanup\x20e','slice','AME','fromMe','isCommand','jid','e\x20chatId;\x20','chat','30GVugsF','No\x20ping\x20hi','network\x20la','══⊷',':\x20retrying','\x20attemptin','clear','\x20failed:\x20','shift','r:\x20','ping\x20send.','zoneName','isArray','g\x20box\x20to\x20','o\x20send\x20pin','\x20pings:\x0a',':\x20initiali','N/A','1951398uJqXfb','ing\x20box\x20to','@g.us','3522848rMfvZN','Africa/Nai','ring','\x20(proc=','\x20set\x20to\x20','type;\x20skip','toLocaleSt','\x20retry\x20als','or\x20origin\x20',':\x20network\x20','4351680pLxCbL','text','\x0a│\x20','startsWith','\x20—\x20Proc:\x20','processLat','\x20to\x20send\x20p','finalDest\x20','ping\x20histo','zed.',':\x20refreshC','rror','story\x20yet.',':\x20fallback','roc:\x20','tmp','unresolved','get'];_0x263b=function(){return _0x5555a0;};return _0x263b();}try{typeof hotReloadConfig===_0x1629c8(0x1ea)&&hotReloadConfig(()=>{const _0x4ffec0=_0x1629c8;try{refreshConfig();}catch(_0x3711d4){warn(name+(_0x4ffec0(0x1e6)+'dConfig\x20ha'+_0x4ffec0(0x1f3)+_0x4ffec0(0x19e))+(_0x3711d4?.['message']||_0x3711d4));}});}catch(_0x38d232){warn(name+(_0x1629c8(0x1e6)+_0x1629c8(0x1cf)+_0x1629c8(0x18c)+_0x1629c8(0x19c))+(_0x38d232?.[_0x1629c8(0x1c8)]||_0x38d232));}refreshConfig();function pushHistory(_0x4f974f){const _0x361cca=_0x1629c8;pingHistory[_0x361cca(0x187)](_0x4f974f);if(pingHistory['length']>PING_HISTORY_MAX)pingHistory[_0x361cca(0x19d)]();}function formatTimestamp(_0x539c39=Date[_0x1629c8(0x1e1)](),_0x4f16dd=DEFAULT_TIMEZONE){const _0x4afb8d=_0x1629c8;try{const _0x5a7d01=DateTime['fromMillis'](_0x539c39)['setZone'](_0x4f16dd);if(!_0x5a7d01['isValid'])return new Date(_0x539c39)[_0x4afb8d(0x1b0)+'ring']();return _0x5a7d01[_0x4afb8d(0x1b0)+'ring'](DateTime[_0x4afb8d(0x1dc)+_0x4afb8d(0x1f4)+'CONDS'])+'\x20('+_0x5a7d01[_0x4afb8d(0x1a0)]+')';}catch(_0x26b84b){return new Date(_0x539c39)[_0x4afb8d(0x1b0)+_0x4afb8d(0x1ac)]();}}function buildBox(_0x15a43e,_0x45f6e7,_0x16b188=null){const _0x588e8a=_0x1629c8;if(!_0x16b188)_0x16b188=formatTimestamp(Date[_0x588e8a(0x1e1)](),DEFAULT_TIMEZONE);return'╭─❏\x20pong\x20❏'+'═══⊷\x0a│\x20⏱\x20P'+_0x588e8a(0x1c2)+_0x15a43e+_0x588e8a(0x1d6)+_0x45f6e7+_0x588e8a(0x1b6)+_0x16b188+(_0x588e8a(0x1cd)+_0x588e8a(0x198));}export async function initialize(_0x162d61){const _0x518f0a=_0x1629c8;try{botInstance=_0x162d61,refreshConfig(),info(name+(_0x518f0a(0x1a5)+_0x518f0a(0x1bd)));}catch(_0x5babff){warn(name+(_0x518f0a(0x17e)+_0x518f0a(0x1d9))+(_0x5babff?.[_0x518f0a(0x1c8)]||_0x5babff));}}async function findStoredMatchFromFindings(_0x5ae246=[]){const _0x2c8d56=_0x1629c8;try{if(!Array['isArray'](_0x5ae246)||_0x5ae246['length']===-0x1feb+0x1aa6*-0x1+-0x13f*-0x2f)return null;const _0x42a0c5=await listSudo();if(!Array[_0x2c8d56(0x1a1)](_0x42a0c5)||_0x42a0c5['length']===0xc5b+-0x3e1*0x5+0x2*0x385)return null;const _0x11c0cb=new Set(_0x42a0c5[_0x2c8d56(0x1f7)](_0x2cbf84=>String(_0x2cbf84)));for(const _0x41ffbc of _0x5ae246){if(!_0x41ffbc||!_0x41ffbc[_0x2c8d56(0x192)]||typeof _0x41ffbc[_0x2c8d56(0x192)]!=='string')continue;try{const _0x3009ee=normalizeToJid(_0x41ffbc[_0x2c8d56(0x192)]);if(_0x3009ee&&_0x11c0cb[_0x2c8d56(0x184)](_0x3009ee))return _0x3009ee;const _0x9fd571=(String(_0x41ffbc[_0x2c8d56(0x192)])[_0x2c8d56(0x1d2)]('@')[-0x1e2f+-0x1ae8+-0xb6b*-0x5]||'')[_0x2c8d56(0x1d2)](':')[0x141+-0x983*0x4+0x24cb*0x1]||null;if(_0x9fd571)for(const _0x411875 of _0x11c0cb){const _0x2759ae=String(_0x411875)[_0x2c8d56(0x1d2)]('@')[0x1*0x1bc7+-0x1a6+-0x1a21]||null;if(_0x2759ae&&_0x9fd571===_0x2759ae)return _0x411875;}if(_0x11c0cb[_0x2c8d56(0x184)](_0x41ffbc[_0x2c8d56(0x192)]))return _0x41ffbc['jid'];}catch(_0x4daaa2){}}return null;}catch(_0x2d6e34){return warn(name+(':\x20findStor'+_0x2c8d56(0x180)+'mFindings\x20'+'error:\x20')+(_0x2d6e34?.[_0x2c8d56(0x1c8)]||_0x2d6e34)),null;}}export async function onMessage(_0x196566){const _0x5528b2=_0x1629c8;try{if(!_0x196566||!_0x196566[_0x5528b2(0x1ef)])return;const _0x44bb8a=_0x196566[_0x5528b2(0x1ef)]?.['id'];if(_0x44bb8a){if(respondedMsgIds['has'](_0x44bb8a))return;respondedMsgIds['add'](_0x44bb8a),setTimeout(()=>{const _0x24adc7=_0x5528b2;respondedMsgIds[_0x24adc7(0x189)](_0x44bb8a);},-0x1*0x643a+-0xbae2+0x2097c);}const _0x1573dd=_0x196566['remoteJid']||_0x196566[_0x5528b2(0x1ef)]?.[_0x5528b2(0x1c6)]||_0x5528b2(0x1ce);if(_0x1573dd==='unknown'){warn(name+(_0x5528b2(0x1d4)+_0x5528b2(0x181)+_0x5528b2(0x193)+_0x5528b2(0x1d0)));return;}if(!_0x196566[_0x5528b2(0x191)])return;const _0x5b11ed=(_0x196566[_0x5528b2(0x1b5)]||'')['trim']();if(!_0x5b11ed)return;const _0x273f5e=_0x5b11ed['toLowerCas'+'e'](),_0x16f7b4=_0x273f5e===_0x5528b2(0x1bc)+'ry'||_0x273f5e===_0x5528b2(0x1c9),_0x1bb97b=_0x273f5e===_0x5528b2(0x1e3)||_0x273f5e[_0x5528b2(0x1b7)](_0x5528b2(0x18a));if(!_0x16f7b4&&!_0x1bb97b)return;!botInstance&&(botInstance=_0x196566[_0x5528b2(0x1df)]||_0x196566['client']||_0x196566['_bot']||null,!botInstance&&warn(name+(':\x20botInsta'+_0x5528b2(0x1f9)+_0x5528b2(0x183)+_0x5528b2(0x19a)+_0x5528b2(0x186)+_0x5528b2(0x1fc)+'do\x20checks\x20'+_0x5528b2(0x1cb)+'ited.')));const _0xb73546=Boolean(_0x196566['key'][_0x5528b2(0x190)]);let _0x4c884e=![];try{_0x4c884e=Boolean(await isSudo(botInstance,_0x196566));}catch(_0x1af0fc){warn(name+(':\x20isSudo\x20c'+_0x5528b2(0x17f)+':\x20')+(_0x1af0fc?.[_0x5528b2(0x1c8)]||_0x1af0fc)),_0x4c884e=![];}if(!_0xb73546&&!_0x4c884e)return;const _0x22e5cf=String(_0x1573dd)['endsWith'](_0x5528b2(0x1a9)),_0x53ab3a=getBotJid();if(_0x16f7b4){const _0x39649e=_0x22e5cf?_0x1573dd:_0x53ab3a||_0x1573dd;if(pingHistory['length']===-0x2*0xcfb+-0x18d*-0x2+0xb*0x214){if(botInstance)await botInstance[_0x5528b2(0x18b)+'e'](_0x39649e,{'text':_0x5528b2(0x196)+_0x5528b2(0x1c0)});return;}const _0x54d1d1=pingHistory[_0x5528b2(0x18e)]()['reverse']()['slice'](0xe5*-0x20+-0xbce+0x1*0x286e,0x3*0xbc3+-0x3*-0x5b3+-0x344e)[_0x5528b2(0x1f7)]((_0xa3cf22,_0x583918)=>{const _0xc8f9d1=_0x5528b2,_0x2a561b=formatTimestamp(_0xa3cf22['ts'],DEFAULT_TIMEZONE),_0x3de7d2=typeof _0xa3cf22[_0xc8f9d1(0x1b9)+_0xc8f9d1(0x1f2)]==='number'?_0xa3cf22[_0xc8f9d1(0x1b9)+_0xc8f9d1(0x1f2)]['toFixed'](0x13*0x38+-0x229a*-0x1+-0x26c0)+'ms':_0xc8f9d1(0x1a6),_0x4e3ddd=typeof _0xa3cf22['networkLat'+_0xc8f9d1(0x1f2)]==='number'?_0xa3cf22[_0xc8f9d1(0x1e4)+_0xc8f9d1(0x1f2)][_0xc8f9d1(0x17c)](0xd74+0x945+0x48b*-0x5)+'ms':'N/A';return _0x583918+(-0x231c+0x25ae+-0x291)+'.\x20'+_0x2a561b+_0xc8f9d1(0x1b8)+_0x3de7d2+_0xc8f9d1(0x1d6)+_0x4e3ddd+_0xc8f9d1(0x1e7)+_0xa3cf22[_0xc8f9d1(0x194)]+')';})[_0x5528b2(0x1d3)]('\x0a');if(botInstance)await botInstance['sendMessag'+'e'](_0x39649e,{'text':_0x5528b2(0x1db)+Math['min'](0x1*-0x2dc+-0x1*-0x4f+0x2a1,pingHistory['length'])+_0x5528b2(0x1a4)+_0x54d1d1});return;}if(!_0x1bb97b)return;const _0x3b4940=lastPingAt[_0x5528b2(0x1c5)](_0x1573dd)||0x1*0x1b65+0xea8+-0x2a0d,_0x2765a8=Date[_0x5528b2(0x1e1)]();if(_0x2765a8-_0x3b4940<PING_COOLDOWN_MS)return;lastPingAt['set'](_0x1573dd,_0x2765a8),setTimeout(()=>lastPingAt[_0x5528b2(0x189)](_0x1573dd),PING_COOLDOWN_MS+(-0x1cd9+-0x22fc+-0x191*-0x29));let _0x2a6019=null;if(_0x22e5cf)_0x2a6019=_0x1573dd;else{if(_0xb73546)_0x2a6019=_0x53ab3a||_0x1573dd;else{if(_0x4c884e){const _0x427aaa=userJidFromCtx(_0x196566),_0x3ddf0e=await findStoredMatchFromFindings(_0x427aaa['findings']);if(!_0x3ddf0e)return;_0x2a6019=_0x3ddf0e;}else return;}}if(!_0x2a6019){warn(name+(_0x5528b2(0x1d8)+_0x5528b2(0x17d)+_0x5528b2(0x1c4)+_0x5528b2(0x1ee)+_0x5528b2(0x1ec)));return;}const _0x17561c=String(_0x2a6019);try{_0x2a6019=String(_0x2a6019);}catch(_0x27889a){warn(name+(_0x5528b2(0x1e2)+_0x5528b2(0x1bb)+_0x5528b2(0x1af)+_0x5528b2(0x19f)));return;}const _0x1980a6=performance[_0x5528b2(0x1e1)](),_0x5af9ed=formatTimestamp(Date[_0x5528b2(0x1e1)](),DEFAULT_TIMEZONE),_0x93f0fd=buildBox(_0x5528b2(0x1c3),'tmp',_0x5af9ed),_0x514c6f=performance['now'](),_0x481698=Number((_0x514c6f-_0x1980a6)[_0x5528b2(0x17c)](0x175+0x1*0x2503+-0x2676));let _0x125700=null;try{const _0xc809e2=_0x5528b2(0x1f6)+_0x5528b2(0x197)+'tency...',_0x38bac0=performance[_0x5528b2(0x1e1)](),_0x2c8eee=await botInstance[_0x5528b2(0x18b)+'e'](_0x2a6019,{'text':_0xc809e2}),_0xcef283=performance[_0x5528b2(0x1e1)]();_0x125700=Number((_0xcef283-_0x38bac0)[_0x5528b2(0x17c)](-0x257*-0x5+-0x19c4+0x4b1*0x3));const _0xe1553a=_0x2c8eee?.[_0x5528b2(0x1ef)]?.['id']||_0x2c8eee?.['id'];_0xe1553a&&(respondedMsgIds[_0x5528b2(0x1ed)](_0xe1553a),setTimeout(()=>respondedMsgIds['delete'](_0xe1553a),0x600*0x3a+0x200*0x43+-0x236*0x70));}catch(_0x534461){warn(name+(_0x5528b2(0x1b3)+'latency\x20me'+'asurement\x20'+_0x5528b2(0x1e0))+_0x2a6019+':\x20'+(_0x534461?.[_0x5528b2(0x1c8)]||_0x534461)),_0x125700=null;}const _0xd261e9=_0x481698['toFixed'](0x11*0x9+0x1721*-0x1+0x168a)+'ms',_0x3f52c3=typeof _0x125700==='number'?_0x125700['toFixed'](0x998+0x7*-0x296+-0x14*-0x6d)+'ms':_0x5528b2(0x1a6),_0x483696=buildBox(_0xd261e9,_0x3f52c3,_0x5af9ed);try{const _0x55f36e=await botInstance['sendMessag'+'e'](_0x2a6019,{'text':_0x483696}),_0x1337e6=_0x55f36e?.[_0x5528b2(0x1ef)]?.['id']||_0x55f36e?.['id'];_0x1337e6&&(respondedMsgIds[_0x5528b2(0x1ed)](_0x1337e6),setTimeout(()=>respondedMsgIds[_0x5528b2(0x189)](_0x1337e6),(-0x2040+-0x1e9e+0x3b3*0x11)*(0x2*0x39bc+-0x1188f+-0x31*-0x827))),info(name+(_0x5528b2(0x188)+_0x5528b2(0x1a2))+_0x2a6019+_0x5528b2(0x1ad)+_0xd261e9+',\x20net='+_0x3f52c3+_0x5528b2(0x1c7)+_0x1573dd+')'),pushHistory({'ts':Date[_0x5528b2(0x1e1)](),'chat':_0x1573dd,'processLatency':_0x481698,'networkLatency':_0x125700});}catch(_0x3ba6e9){error(_0x3ba6e9,name+(_0x5528b2(0x1d5)+_0x5528b2(0x1a3)+'g\x20box\x20to\x20')+_0x2a6019);if(_0x2a6019!==_0x1573dd)try{warn(name+(_0x5528b2(0x199)+_0x5528b2(0x1ba)+_0x5528b2(0x1a8)+_0x5528b2(0x1e8)+'at\x20')+_0x1573dd+(_0x5528b2(0x1d1)+_0x5528b2(0x1f1)));const _0x2fecc0=await botInstance[_0x5528b2(0x18b)+'e'](_0x1573dd,{'text':_0x483696}),_0x4d124a=_0x2fecc0?.[_0x5528b2(0x1ef)]?.['id']||_0x2fecc0?.['id'];if(_0x4d124a)respondedMsgIds['add'](_0x4d124a);pushHistory({'ts':Date[_0x5528b2(0x1e1)](),'chat':_0x1573dd,'processLatency':_0x481698,'networkLatency':_0x125700});}catch(_0x53dba8){error(_0x53dba8,name+(_0x5528b2(0x1c1)+_0x5528b2(0x1b1)+_0x5528b2(0x1f5)+_0x5528b2(0x1b2))+_0x1573dd);}}if(respondedMsgIds[_0x5528b2(0x1f0)]>0x1*0x1031+-0x2255+0x4*0x96b){const _0x1d451e=Array[_0x5528b2(0x1d7)](respondedMsgIds),_0x1b6258=new Set(_0x1d451e[_0x5528b2(0x18e)](-(0xba7+0x2278+0x2267*-0x1)));respondedMsgIds=_0x1b6258;}}catch(_0x444be5){error(_0x444be5,name+('\x20handler\x20e'+_0x5528b2(0x1bf)));}}export async function cleanup(){const _0xd22d98=_0x1629c8;try{botInstance=null,lastPingAt[_0xd22d98(0x19b)](),pingHistory[_0xd22d98(0x182)]=-0xcd0+0x10*0x1a1+-0x35*0x40,respondedMsgIds['clear']&&respondedMsgIds['clear'](),info(name+(_0xd22d98(0x1f8)+'p'));}catch(_0x57f7f6){warn(name+(_0xd22d98(0x18d)+_0xd22d98(0x1fb))+(_0x57f7f6?.[_0xd22d98(0x1c8)]||_0x57f7f6));}}