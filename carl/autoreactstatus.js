const _0x4c022e=_0x367c;(function(_0x9f2a0d,_0x1a458e){const _0x4b0106=_0x367c,_0x4aeeed=_0x9f2a0d();while(!![]){try{const _0x166249=parseInt(_0x4b0106(0x128))/(-0x62d+0x1*-0x1231+0x185f)+-parseInt(_0x4b0106(0xe9))/(0xab*0x3+0x541*0x2+-0xc81)+-parseInt(_0x4b0106(0x11e))/(-0x2306+-0x627+0x2930)+-parseInt(_0x4b0106(0x13b))/(-0x4*0x9a4+-0x1df+0x2873)*(parseInt(_0x4b0106(0xae))/(0x2518+0x1853+-0x10f*0x3a))+parseInt(_0x4b0106(0xdb))/(-0x1*0xdc0+-0x7*0x9a+0x2*0x8fe)*(parseInt(_0x4b0106(0xf2))/(-0x338+-0x6+-0x5d*-0x9))+parseInt(_0x4b0106(0x133))/(0x1f7d+-0x2*-0x625+-0x2bbf)*(-parseInt(_0x4b0106(0x12f))/(0x2f*-0x25+-0xd2f+0x1403))+parseInt(_0x4b0106(0xeb))/(-0x1ed+-0x12a4+0x149b*0x1)*(parseInt(_0x4b0106(0x136))/(0x149*0x3+-0x1*0xbf+-0x5*0x9d));if(_0x166249===_0x1a458e)break;else _0x4aeeed['push'](_0x4aeeed['shift']());}catch(_0x1ebbe6){_0x4aeeed['push'](_0x4aeeed['shift']());}}}(_0x3fea,-0x64703+0x1*-0x12f865+0x28c3*0xf4));import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{isJidGroup}from'@whiskeysockets/baileys';function _0x3fea(){const _0x4ce937=['\x27,\x20?)\x0a\x20\x20\x20\x20','AUTOLIKE_E','robi','autolike','Africa/Nai','\x20value\x20TEX','value','dConfig\x20re','ssage','essage\x20met','\x20\x20\x20\x20','ATE\x20TABLE\x20','SELECT\x20val','CONFLICT(m','ailed:\x20','unknown','d.\x20Applyin','ed\x20failed','sage_id\x20=\x20','OM\x20','participan','\x20cleanup\x20e','e\x20error:\x20','TIMEZONE_N',':\x20hotReloa','\x20DO\x20UPDATE','T\x20NOT\x20NULL',']\x20DB\x20table','ℹ️\x20Auto-lik','DATETIME_M','\x0a\x20\x20\x20\x20\x20\x20CRE','PRIMARY\x20KE','sendMessag','\x20(\x27enabled',']\x20sendReac','edState\x20fa','text','\x20\x20\x20\x20\x20\x20\x20\x20re',']\x20failed\x20t','able',']\x20getEnabl','acted_at\x20I','catch','42UtbFaZ','sock','\x20SET\x20react',':\x20timezone','isValid','ed\x20for\x20',':\x20refreshC','\x20status\x20','ed\x20status\x20','\x20\x20\x20ON\x20CONF',']\x20sendConf','autolike_h',']\x20handler\x20','\x20(command)','1566848fpTLSq','n\x20status\x20m','77670gbxyix',']\x20ensureTa','reaction):','psert','function','DISABLED.','toLocaleSt','542612HDqDWE','fromMillis','irmation\x20f','ig.js...','\x20—\x20emoji:\x20','fromMe','IF\x20NOT\x20EXI','e\x20(status\x20','messages.u','INSERT\x20INT','\x20initializ','DISABLED','bles\x20faile','no\x20sendMes','ed_at\x20=\x20ex','STS\x20','s\x20failed.\x20',']\x20No\x20DB\x20se','key','tting\x20foun','run','reaction)\x20','d\x20confirma','t)\x20succeed',']\x20hasReact','exec','true','tion',']\x20Initial\x20','trim','toLowerCas','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','\x20from\x20conf','LICT(key)\x20','ue\x20FROM\x20','1.1.0','TIMEZONE','\x20from\x20','ted\x20failed','length','SELECT\x20mes','remoteJid','essage\x20key','=\x20excluded','4147827uNiiaY','sage\x20avail','ndler\x20erro',']\x20already\x20','d\x20TEXT\x20PRI','\x20at\x20',']\x20setEnabl','\x20failed:\x20','status@bro','off','878351csoaCb','ring','ble\x20to\x20sen','moji:\x20','\x0a\x20\x20\x20\x20\x20\x20);\x0a','isArray','tion\x20(reac','9DoCHCX','dConfig\x20ha','r:\x20','AME','2185192qEZFLR','string','g\x20fallback','4301dqMyLs','onfig\x20erro','d_at)\x20VALU','sion.','\x20WHERE\x20mes','204940ojlrrW','aileys\x20ver','hod\x20availa','\x20\x20\x20\x20\x20\x20\x20ON\x20','\x20key\x20TEXT\x20','\x20=\x20\x27enable','iled','reacted\x20to','zoneName','o\x20react\x20to','to\x20','no\x20partici','\x20onMessage','get','ENABLED','state\x20set\x20','\x20cleaned\x20u',',\x20skipping','NABLED','p.net','ig.','tch\x20your\x20B','\x20error',']\x20markReac','DO\x20UPDATE\x20','status-lik','e)\x20attempt','load\x20to\x20ma','s\x20ensured.','NTEGER\x20NOT','zed.','message','istory','\x20set\x20to\x20','✔️\x20Auto-lik','eHandler\x20e','id,\x20reacte','ENABLED.\x20E',']\x20no\x20sendM',':\x20auto-lik','Update\x20pay','110FFpWWn','ED_WITH_SE'];_0x3fea=function(){return _0x4ce937;};return _0x3fea();}export const name=_0x4c022e(0x154)+'er';export const version=_0x4c022e(0x115);export const priority=0x1*0xb30+-0x68f+-0x127*0x4;export const commands=[_0x4c022e(0xb3)];function _0x367c(_0x2ca9a4,_0x2463c){const _0x3d584a=_0x3fea();return _0x367c=function(_0x27af12,_0x5f1dc5){_0x27af12=_0x27af12-(0x3*0x2e2+-0xd*0x1d2+0x1*0xfad);let _0x3012d3=_0x3d584a[_0x27af12];return _0x3012d3;},_0x367c(_0x2ca9a4,_0x2463c);}export const configKeys=[_0x4c022e(0xb1)+_0x4c022e(0x14d),_0x4c022e(0x116),_0x4c022e(0xc7)+_0x4c022e(0x132)];let botRef=null,DEFAULT_TIMEZONE=_0x4c022e(0xb4)+_0x4c022e(0xb2);const PREFS_TABLE='autolike_p'+'refs',HISTORY_TABLE=_0x4c022e(0xe6)+_0x4c022e(0x15b),HARD_CODED_EMOJI='❤️';let rawMessageHandler=null;async function ensureTables(){const _0x21d944=_0x4c022e;try{await db[_0x21d944(0x10b)](_0x21d944(0xce)+_0x21d944(0xbb)+_0x21d944(0xf8)+_0x21d944(0x101)+PREFS_TABLE+(_0x21d944(0x111)+_0x21d944(0x13f)+_0x21d944(0xcf)+'Y,\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x21d944(0xb5)+_0x21d944(0xca)+_0x21d944(0x12c)+_0x21d944(0xba))),await db[_0x21d944(0x10b)](_0x21d944(0xce)+'ATE\x20TABLE\x20'+'IF\x20NOT\x20EXI'+_0x21d944(0x101)+HISTORY_TABLE+(_0x21d944(0x111)+'\x20message_i'+_0x21d944(0x122)+'MARY\x20KEY,\x0a'+_0x21d944(0xd5)+_0x21d944(0xd9)+_0x21d944(0x158)+'\x20NULL\x0a\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20')),info('['+name+(_0x21d944(0xcb)+_0x21d944(0x157)));}catch(_0x4c2e88){error(_0x4c2e88,'['+name+(_0x21d944(0xec)+_0x21d944(0xfe)+'d'));throw _0x4c2e88;}}async function getEnabledState(){const _0x2fb155=_0x4c022e;try{const _0x269d47=await db[_0x2fb155(0x148)]('SELECT\x20val'+'ue\x20FROM\x20'+PREFS_TABLE+('\x20WHERE\x20key'+_0x2fb155(0x140)+'d\x27'));if(_0x269d47)return _0x269d47[_0x2fb155(0xb6)]==='true';const _0x55389d=typeof getConfig===_0x2fb155(0xef)?getConfig()||{}:{};return!!_0x55389d[_0x2fb155(0xb1)+'NABLED'];}catch(_0x4578a0){return warn(_0x4578a0,'['+name+(_0x2fb155(0xd8)+_0x2fb155(0xd3)+'iled')),![];}}async function setEnabledState(_0x31e871){const _0x5407b1=_0x4c022e;try{const _0x146f9f=_0x31e871?_0x5407b1(0x10c):'false';return await db[_0x5407b1(0x106)](_0x5407b1(0xfb)+'O\x20'+PREFS_TABLE+('\x20(key,\x20val'+'ue)\x20VALUES'+_0x5407b1(0xd1)+_0x5407b1(0xb0)+_0x5407b1(0xe4)+_0x5407b1(0x113)+_0x5407b1(0x153)+'SET\x20value\x20'+_0x5407b1(0x11d)+'.value'),[_0x146f9f]),!![];}catch(_0x52b6fa){return error(_0x52b6fa,'['+name+(_0x5407b1(0x124)+_0x5407b1(0xd3)+_0x5407b1(0x141))),![];}}async function hasReacted(_0x33538d){const _0x32c88a=_0x4c022e;try{if(!_0x33538d)return![];const _0x3633e1=await db['get'](_0x32c88a(0x11a)+'sage_id\x20FR'+_0x32c88a(0xc3)+HISTORY_TABLE+(_0x32c88a(0x13a)+_0x32c88a(0xc2)+'?'),[_0x33538d]);return!!_0x3633e1;}catch(_0x1738a5){return warn(_0x1738a5,'['+name+(_0x32c88a(0x10a)+_0x32c88a(0xc1))),![];}}async function markReacted(_0x5ac584){const _0x358a3f=_0x4c022e;try{if(!_0x5ac584)return;await db[_0x358a3f(0x106)]('INSERT\x20INT'+'O\x20'+HISTORY_TABLE+('\x20(message_'+_0x358a3f(0xa9)+_0x358a3f(0x138)+'ES\x20(?,\x20?)\x0a'+_0x358a3f(0x13e)+_0x358a3f(0xbd)+'essage_id)'+_0x358a3f(0xc9)+_0x358a3f(0xdd)+_0x358a3f(0x100)+'cluded.rea'+'cted_at'),[_0x5ac584,Date['now']()]);}catch(_0xd85335){warn(_0xd85335,'['+name+(_0x358a3f(0x152)+_0x358a3f(0x118)));}}function refreshConfig(){const _0x5223c8=_0x4c022e;try{const _0x72bbeb=typeof getConfig===_0x5223c8(0xef)?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x72bbeb[_0x5223c8(0x116)]||_0x72bbeb['TIMEZONE_N'+_0x5223c8(0x132)]||DEFAULT_TIMEZONE,info(name+(_0x5223c8(0xde)+_0x5223c8(0x15c))+DEFAULT_TIMEZONE);}catch(_0x21f127){warn(name+(_0x5223c8(0xe1)+_0x5223c8(0x137)+'r:\x20')+(_0x21f127?.['message']||_0x21f127));}}try{typeof hotReloadConfig===_0x4c022e(0xef)&&hotReloadConfig(()=>{const _0x112490=_0x4c022e;try{refreshConfig();}catch(_0x2962a8){warn(name+(_0x112490(0xc8)+_0x112490(0x130)+_0x112490(0x120)+_0x112490(0x131))+(_0x2962a8?.[_0x112490(0x15a)]||_0x2962a8));}});}catch(_0x2170b7){warn(name+(_0x4c022e(0xc8)+_0x4c022e(0xb7)+'gistration'+'\x20failed:\x20')+(_0x2170b7?.[_0x4c022e(0x15a)]||_0x2170b7));}function formatTimestamp(_0x20021a=Date['now'](),_0x5cb862=DEFAULT_TIMEZONE){const _0xa85c0b=_0x4c022e;try{const _0x1c2e3c=DateTime[_0xa85c0b(0xf3)](_0x20021a)['setZone'](_0x5cb862);if(!_0x1c2e3c[_0xa85c0b(0xdf)])return new Date(_0x20021a)[_0xa85c0b(0xf1)+_0xa85c0b(0x129)]();return _0x1c2e3c['toLocaleSt'+_0xa85c0b(0x129)](DateTime[_0xa85c0b(0xcd)+_0xa85c0b(0xaf)+'CONDS'])+'\x20('+_0x1c2e3c[_0xa85c0b(0x143)]+')';}catch{return new Date(_0x20021a)[_0xa85c0b(0xf1)+_0xa85c0b(0x129)]();}}async function sendReactionToStatus(_0x7f61fc,_0x3a3479){const _0x2eaca2=_0x4c022e;if(!_0x7f61fc||!_0x7f61fc['key'])throw new Error('invalid\x20me'+_0x2eaca2(0xb8));if(!_0x3a3479||typeof _0x3a3479[_0x2eaca2(0xd0)+'e']!==_0x2eaca2(0xef))throw new Error(_0x2eaca2(0xff)+_0x2eaca2(0x11f)+_0x2eaca2(0xd7));const _0x2716fd=_0x7f61fc[_0x2eaca2(0x104)]['participan'+'t'];if(!_0x2716fd)throw new Error(_0x2eaca2(0x146)+'pant\x20JID\x20a'+'vailable\x20o'+_0x2eaca2(0xea)+_0x2eaca2(0x11c));const _0x22128e=_0x2eaca2(0x126)+'adcast',_0xe6bd2b=[_0x2716fd];try{const _0x14ade0={'react':{'text':HARD_CODED_EMOJI,'key':_0x7f61fc[_0x2eaca2(0x104)]}};return await _0x3a3479['sendMessag'+'e'](_0x22128e,_0x14ade0,{'statusJidList':_0xe6bd2b,'broadcast':!![]}),info('['+name+(_0x2eaca2(0xd2)+_0x2eaca2(0x12e)+_0x2eaca2(0x109)+_0x2eaca2(0xe0))+_0x7f61fc[_0x2eaca2(0x104)]['id']),!![];}catch(_0x241330){warn('['+name+(_0x2eaca2(0xd2)+'tion\x20(reac'+'t)\x20attempt'+_0x2eaca2(0x125))+(_0x241330?.[_0x2eaca2(0x15a)]||_0x241330));}try{const _0x126ef3={'message':{'reactionMessage':{'key':_0x7f61fc[_0x2eaca2(0x104)],'text':HARD_CODED_EMOJI}}};return await _0x3a3479['sendMessag'+'e'](_0x22128e,_0x126ef3,{'statusJidList':_0xe6bd2b,'broadcast':!![]}),info('['+name+(']\x20sendReac'+'tion\x20(reac'+'tionMessag'+'e)\x20succeed'+_0x2eaca2(0xe0))+_0x7f61fc[_0x2eaca2(0x104)]['id']),!![];}catch(_0x2e7d6e){warn('['+name+(']\x20sendReac'+_0x2eaca2(0x12e)+'tionMessag'+_0x2eaca2(0x155)+_0x2eaca2(0x125))+(_0x2e7d6e?.[_0x2eaca2(0x15a)]||_0x2e7d6e));}throw new Error('All\x20reacti'+'on\x20attempt'+_0x2eaca2(0x102)+_0x2eaca2(0xad)+_0x2eaca2(0x156)+_0x2eaca2(0x150)+_0x2eaca2(0x13c)+_0x2eaca2(0x139));}async function createRawMessageHandler(){return async function _0x45ed71({messages:_0x50e705}){const _0x274185=_0x367c;try{const _0x9254b0=await getEnabledState();if(!_0x9254b0)return;if(!_0x50e705||!Array[_0x274185(0x12d)](_0x50e705))return;const _0x16c502=getBotJid();for(const _0x57f738 of _0x50e705){try{if(!_0x57f738||!_0x57f738['key'])continue;const _0x4077a0=_0x57f738['key']['remoteJid']||'',_0x6e6981=_0x57f738[_0x274185(0x104)][_0x274185(0xf7)]||![],_0x40b1cb=_0x57f738[_0x274185(0x104)]['id']||null;if(_0x4077a0!==_0x274185(0x126)+'adcast')continue;if(_0x6e6981)continue;if(_0x57f738['key'][_0x274185(0xc4)+'t']&&(_0x57f738[_0x274185(0x104)][_0x274185(0xc4)+'t']===_0x16c502||_0x57f738[_0x274185(0x104)][_0x274185(0xc4)+'t']===_0x16c502+('@s.whatsap'+_0x274185(0x14e))))continue;if(_0x40b1cb&&await hasReacted(_0x40b1cb)){info('['+name+(_0x274185(0x121)+_0x274185(0x142)+'\x20')+_0x40b1cb+_0x274185(0x14c));continue;}try{const _0x5c832a=botRef?.[_0x274185(0xdc)]||botRef;await sendReactionToStatus(_0x57f738,_0x5c832a);if(_0x40b1cb)await markReacted(_0x40b1cb);info(name+(_0x274185(0xac)+_0x274185(0xe3))+_0x40b1cb+_0x274185(0x117)+(_0x57f738['key'][_0x274185(0xc4)+'t']||_0x274185(0xbf))+_0x274185(0x123)+formatTimestamp());}catch(_0x116e41){warn('['+name+(_0x274185(0xd6)+_0x274185(0x144)+_0x274185(0xe2))+_0x40b1cb+':\x20'+(_0x116e41?.[_0x274185(0x15a)]||_0x116e41));}}catch(_0x30378c){warn(_0x30378c,'['+name+(_0x274185(0xe7)+'loop\x20error'));}}}catch(_0x122cb3){error(_0x122cb3,name+('\x20rawMessag'+_0x274185(0x15e)+'rror'));}};}export async function onMessage(_0x410576,_0x5da737){const _0x1d84d8=_0x4c022e;try{if(!_0x410576||!_0x410576['key']||!_0x410576[_0x1d84d8(0x15a)]||!_0x410576['isCommand']||!_0x5da737)return;if(isJidGroup(_0x410576[_0x1d84d8(0x104)][_0x1d84d8(0x11b)]))return;const _0x456f1a=_0x410576[_0x1d84d8(0x104)][_0x1d84d8(0xf7)],_0x35c841=await isSudo(botRef,_0x410576)[_0x1d84d8(0xda)](()=>![]);if(!_0x456f1a&&!_0x35c841)return;const _0x39f078=typeof _0x410576['text']===_0x1d84d8(0x134)&&_0x410576[_0x1d84d8(0xd4)][_0x1d84d8(0x10f)]()[_0x1d84d8(0x119)]?_0x410576[_0x1d84d8(0xd4)][_0x1d84d8(0x10f)]():'',_0x49c988=_0x39f078['split'](/\s+/),_0x5c1f64=(_0x49c988[0x222d+-0x1*0x88f+-0x199e]||'')['toLowerCas'+'e'](),_0x2adad4=(_0x49c988[-0x9*0x15d+0x289*-0x3+-0x1*-0x13e1]||'')[_0x1d84d8(0x110)+'e']();if(!commands['includes'](_0x5c1f64))return;const _0x204680=_0x456f1a?getBotJid():_0x410576[_0x1d84d8(0x104)][_0x1d84d8(0x11b)];if(!_0x204680)return;if(_0x2adad4==='on')await setEnabledState(!![]),await sendConfirmation(_0x204680,_0x1d84d8(0x15d)+_0x1d84d8(0xf9)+_0x1d84d8(0x107)+_0x1d84d8(0xaa)+_0x1d84d8(0x12b)+HARD_CODED_EMOJI);else{if(_0x2adad4==='off')await setEnabledState(![]),await sendConfirmation(_0x204680,_0x1d84d8(0x15d)+_0x1d84d8(0xf9)+'reaction)\x20'+_0x1d84d8(0xf0));else{const _0x384a90=await getEnabledState();await sendConfirmation(_0x204680,_0x1d84d8(0xcc)+_0x1d84d8(0xf9)+_0x1d84d8(0xed)+'\x20'+(_0x384a90?_0x1d84d8(0x149):_0x1d84d8(0xfd))+_0x1d84d8(0xf6)+HARD_CODED_EMOJI);}}}catch(_0x336dbc){error(_0x336dbc,name+(_0x1d84d8(0x147)+_0x1d84d8(0xe8)+_0x1d84d8(0x151)));}}async function sendConfirmation(_0x5c27f8,_0x518195){const _0x59c807=_0x4c022e;try{if(!_0x5c27f8||!botRef)return;const _0x3277cc=botRef[_0x59c807(0xdc)]?.['sendMessag'+'e']||botRef[_0x59c807(0xd0)+'e'];_0x3277cc?await _0x3277cc(_0x5c27f8,{'text':_0x518195}):warn('['+name+(_0x59c807(0xab)+_0x59c807(0xb9)+_0x59c807(0x13d)+_0x59c807(0x12a)+_0x59c807(0x108)+_0x59c807(0x10d)));}catch(_0xcfc15a){warn('['+name+(_0x59c807(0xe5)+_0x59c807(0xf4)+_0x59c807(0xbe))+(_0xcfc15a?.[_0x59c807(0x15a)]||_0xcfc15a));}}export async function initialize(_0x5ac90c){const _0x420d38=_0x4c022e;try{botRef=_0x5ac90c,refreshConfig(),await ensureTables();const _0x12bcb1=await db['get'](_0x420d38(0xbc)+_0x420d38(0x114)+PREFS_TABLE+('\x20WHERE\x20key'+_0x420d38(0x140)+'d\x27'));if(!_0x12bcb1){info('['+name+(_0x420d38(0x103)+_0x420d38(0x105)+_0x420d38(0xc0)+_0x420d38(0x135)+_0x420d38(0x112)+_0x420d38(0xf5)));const _0x3fb9dd=typeof getConfig===_0x420d38(0xef)?getConfig()||{}:{},_0x5dadb5=_0x3fb9dd[_0x420d38(0xb1)+'NABLED']===!![]||_0x3fb9dd[_0x420d38(0xb1)+_0x420d38(0x14d)]===_0x420d38(0x10c);await setEnabledState(_0x5dadb5),info('['+name+(_0x420d38(0x10e)+_0x420d38(0x14a)+_0x420d38(0x145))+_0x5dadb5+('\x20from\x20conf'+_0x420d38(0x14f)));}rawMessageHandler=await createRawMessageHandler(),_0x5ac90c['on'](_0x420d38(0xfa)+'psert',rawMessageHandler),info(name+(':\x20initiali'+_0x420d38(0x159)));}catch(_0x254c53){warn(name+(_0x420d38(0xfc)+_0x420d38(0xc6))+(_0x254c53?.[_0x420d38(0x15a)]||_0x254c53));throw _0x254c53;}}export async function cleanup(){const _0x740dc4=_0x4c022e;try{botRef&&typeof botRef[_0x740dc4(0x127)]==='function'&&rawMessageHandler&&botRef['off'](_0x740dc4(0xfa)+_0x740dc4(0xee),rawMessageHandler),botRef=null,rawMessageHandler=null,info(name+(_0x740dc4(0x14b)+'p'));}catch(_0x113f9b){warn(name+(_0x740dc4(0xc5)+'rror:\x20')+(_0x113f9b?.[_0x740dc4(0x15a)]||_0x113f9b));}}