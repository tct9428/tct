const _0x2a91d2=_0x4462;(function(_0x1e27a7,_0x2db5dc){const _0x5eae71=_0x4462,_0x2a7254=_0x1e27a7();while(!![]){try{const _0x37657c=-parseInt(_0x5eae71(0x1ea))/(0x2382+-0x3d*0x2b+-0x35*0x7a)*(parseInt(_0x5eae71(0x1c6))/(-0x3*-0x2b+0xcfc+0x11*-0xcb))+-parseInt(_0x5eae71(0x1c1))/(0xb67*0x3+-0x58f*0x1+-0x1*0x1ca3)*(-parseInt(_0x5eae71(0x264))/(0x3e*0x35+-0x1bd9+0xf07))+parseInt(_0x5eae71(0x1e9))/(-0x631+-0x751+0xd87*0x1)*(-parseInt(_0x5eae71(0x1c3))/(-0x1b*0xe8+-0x26bd+0x3f3b*0x1))+-parseInt(_0x5eae71(0x280))/(0x19c1+0x1de9+-0x37a3)+parseInt(_0x5eae71(0x28a))/(0x6*0x60d+-0x4c1*0x3+-0x1603)*(parseInt(_0x5eae71(0x22b))/(0x25d1+-0x1*0x279+-0x234f))+parseInt(_0x5eae71(0x1b4))/(0x22f8+-0x2cd*0x3+0x1*-0x1a87)*(parseInt(_0x5eae71(0x1b6))/(0x1a8+0x2575+0x2*-0x1389))+parseInt(_0x5eae71(0x265))/(-0xfd7+0x2*0xd03+-0xa23);if(_0x37657c===_0x2db5dc)break;else _0x2a7254['push'](_0x2a7254['shift']());}catch(_0x118a00){_0x2a7254['push'](_0x2a7254['shift']());}}}(_0x37c3,0x67c57+-0x24*0x2c75+0x73e57));function _0x4462(_0x494bc9,_0x143dad){const _0x3fc522=_0x37c3();return _0x4462=function(_0x2e4ca9,_0x4df114){_0x2e4ca9=_0x2e4ca9-(0x7*-0x175+-0xbd*0x1+0xc94);let _0x18fdb8=_0x3fc522[_0x2e4ca9];return _0x18fdb8;},_0x4462(_0x494bc9,_0x143dad);}function _0x37c3(){const _0x2a1ad5=[']\x20created\x20','buttonsRes','default\x20en','eactions:\x20',']\x20DB\x20initi','AUTOREACT_','key=\x27enabl',']\x20cleanup\x20','SELECT\x20val','failed\x20(en','bled\x20row\x20f','catch','set','selectedBu','DB\x20error).',',\x20MinInter','STATUS','KEY,\x0a\x20\x20\x20\x20\x20',']\x20hot-relo','\x20for\x20statu','t_prefs\x20(k','listRespon','\x20\x20\x20value\x20T','xtMessage',']\x20no\x20sendM','EXT\x20NOT\x20NU','EXISTS\x20aut','\x20from\x20','efs\x20WHERE\x20','led=','377028GvqdDV','hod\x20availa','singleSele',']\x20sendStat','instance',']\x20saved\x20en',',\x20reaction','cluded.upd','state/conf','tuses\x0a','ct_prefs\x20(','ed\x27\x20LIMIT\x20','psert','text','e\x20error:\x20','r:\x20','[autoreact','ue\x20FROM\x20au','irmation\x20f','status@bro','gistration','toreact_pr','\x20autoreact','participan',']\x20Cannot\x20r','remoteJid','get','pdated_at\x20',']\x20failed\x20t','LL,\x0a\x20\x20\x20\x20\x20\x20','E\x20autoreac','videoMessa','s\x20(with\x20up','k\x20insert).','t)\x20VALUES\x20','ed\x27','react_pref','e\x20bot\x20JID\x20','o\x20enable\x20(',']\x20initiali','\x20off|disab','sock','IGNORE_BOT','fs\x20(\x0a\x20\x20\x20\x20\x20','\x20DEFAULT\x200','ttonId','Status\x20(PM','ctReply','ALTER\x20TABL','t_prefs\x20AD','caption','includes','\x20failed:\x20','ner\x20becaus','abled=',']\x20hotReloa','tatus','432968djfMTv','8930664WpIIVK','able\x20react','dConfig\x20re',')\x20VALUES\x20(','*AutoReact','ated_at','zed\x20(DB-ba','join','umn','uses\x0a','key','\x20(fallback','oreact_pre','extendedTe','floor','ledFromDb\x20','ENABLED','ted_at\x20col','now','imageMessa','=excluded.','no\x20column',']\x20cleaned\x20','\x20without\x20u','ng\x20to\x20stat','FAULT\x200','aded\x20confi','1836912Tglocj','all','.upsert\x20ha','ailed:\x20','AL_MS','filter','false','ror:\x20','t\x20user:\x20','\x20updated_a','72VDqmgZ','alization\x20','efault\x20ena','only):\x0a','adcast',']\x20saveEnab','FLICT(key)','message','toLowerCas','ponseMessa','\x20\x20\x20key\x20TEX','[unknown]',']\x20ensure\x20d','\x0a\x20\x20\x20\x20\x20\x20);','\x20DO\x20UPDATE','\x20\x20\x20\x20->\x20ena','function','PRAGMA\x20tab','13020LvZvmz',']\x20onMessag','1309hAbUXM','map','utoreact_p','ble\x20error:','\x20available','iled:\x20','error:\x20','table\x20auto','eply\x20to\x20ow','sed).\x20enab',']\x20sendConf','6Zwrrmt','O\x20autoreac','31398PCajgm','ilable.','\x27enabled\x27,','109382apbhtq','messages.u','Usage\x20(PM\x20',']\x20readEnab','ded\x20column','has','value,\x20upd','\x20\x20\x20\x20ON\x20CON','ey,\x20value,','\x0aIgnore\x20bo','state','updated_at','autoReactS','ndler\x20erro','pdated_at)','value','REPLACE\x20IN','ated_at=ex','exec','fromMe','run','te:\x20*','llback\x20fai','essage\x20API','umn\x20(will\x20','_USER','REACTIONS','trim','delete','usReaction','slice','sendMessag','isCommand','MIN_INTERV','o\x20disable\x20','655LTbJSZ','1EvPtEU','seMessage',']\x20fallback','split','led:\x20','true','ist','TO\x20autorea','le_info(\x27a','o\x20add\x20upda','CREATE\x20TAB','e\x20(fallbac','statusJidL','isArray','continue):','(\x27enabled\x27','DISABLED','conversati','length','off',']\x20reacted\x20',',\x27false\x27,\x20','abled=fals','\x20\x20updated_','ledToDb\x20er',']\x20inner\x20ha','ialize\x20req',',\x20?,\x20?)\x0a\x20\x20','\x20to\x20status','wId','INSERT\x20OR\x20','sureTable)','\x20\x20\x20\x20->\x20sho','_prefs:\x20ad','-only)*\x0a\x0aC'];_0x37c3=function(){return _0x2a1ad5;};return _0x37c3();}import{info,warn}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name='autoReactS'+_0x2a91d2(0x263);export const version='1.2.0';export const priority=-0x123+0x18ca+0x14c*-0x12;export const configKeys=['AUTOREACT_'+_0x2a91d2(0x21d)];export const commands=['autoreact'];const FALLBACKS={'MIN_INTERVAL_MS':0x1388,'REACTIONS':['🚀','🌎','♻️'],'IGNORE_BOT_USER':![]};let botRef=null,shuttingDown=![],lastReactionTime=-0x22c4+0x1d2b+0x599,messageHandler=null;const CFG={'MIN_INTERVAL_MS':FALLBACKS[_0x2a91d2(0x1e7)+'AL_MS'],'REACTIONS':FALLBACKS[_0x2a91d2(0x1e0)][_0x2a91d2(0x1e4)](),'IGNORE_BOT_USER':FALLBACKS[_0x2a91d2(0x255)+_0x2a91d2(0x1df)]};function refreshConfig(){const _0x3bd0d9=_0x2a91d2;try{const _0x93bc8b=getConfig()||{},_0x1d6626=_0x93bc8b&&_0x93bc8b['AUTOREACT_'+_0x3bd0d9(0x21d)]?_0x93bc8b[_0x3bd0d9(0x212)+_0x3bd0d9(0x21d)]:{};CFG[_0x3bd0d9(0x1e7)+_0x3bd0d9(0x284)]=Number(_0x1d6626[_0x3bd0d9(0x1e7)+'AL_MS'])||CFG['MIN_INTERV'+_0x3bd0d9(0x284)],CFG['IGNORE_BOT'+_0x3bd0d9(0x1df)]=typeof _0x1d6626[_0x3bd0d9(0x255)+_0x3bd0d9(0x1df)]==='boolean'?_0x1d6626['IGNORE_BOT'+_0x3bd0d9(0x1df)]:CFG[_0x3bd0d9(0x255)+'_USER'];if(Array[_0x3bd0d9(0x1f7)](_0x1d6626[_0x3bd0d9(0x1e0)])&&_0x1d6626[_0x3bd0d9(0x1e0)][_0x3bd0d9(0x1fc)]>0x870+0x16cf+-0x1a5*0x13)CFG['REACTIONS']=_0x1d6626[_0x3bd0d9(0x1e0)][_0x3bd0d9(0x1e4)]();else typeof _0x1d6626[_0x3bd0d9(0x1e0)]==='string'&&_0x1d6626['REACTIONS']['trim']()['length']>0xa78+-0x1b40+0x10c8&&(CFG[_0x3bd0d9(0x1e0)]=_0x1d6626[_0x3bd0d9(0x1e0)][_0x3bd0d9(0x1ed)](',')['map'](_0x5e7705=>_0x5e7705[_0x3bd0d9(0x1e1)]())[_0x3bd0d9(0x285)](Boolean));}catch(_0xa84b37){warn('['+name+(']\x20refreshC'+'onfig\x20erro'+_0x3bd0d9(0x23a))+(_0xa84b37?.['message']||_0xa84b37));}}try{hotReloadConfig&&hotReloadConfig(()=>{const _0x4d4830=_0x2a91d2;refreshConfig(),info('['+name+(_0x4d4830(0x21f)+_0x4d4830(0x27f)+'g.'));});}catch(_0xab0cdd){warn('['+name+(_0x2a91d2(0x262)+_0x2a91d2(0x267)+_0x2a91d2(0x23f)+_0x2a91d2(0x25f))+(_0xab0cdd?.[_0x2a91d2(0x1a9)]||_0xab0cdd));}refreshConfig();async function ensureTable(){const _0x59a0c5=_0x2a91d2;try{let _0x242630=[];try{const _0x529d02=await db[_0x59a0c5(0x281)](_0x59a0c5(0x1b3)+_0x59a0c5(0x1f2)+_0x59a0c5(0x1b8)+'refs\x27)');_0x242630=(_0x529d02||[])[_0x59a0c5(0x1b7)](_0x42d065=>_0x42d065['name']);}catch(_0x210c79){_0x242630=[];}if(!_0x242630[_0x59a0c5(0x1fc)])await db[_0x59a0c5(0x1d8)](_0x59a0c5(0x1f4)+'LE\x20IF\x20NOT\x20'+_0x59a0c5(0x227)+_0x59a0c5(0x271)+_0x59a0c5(0x256)+_0x59a0c5(0x1ac)+'T\x20PRIMARY\x20'+_0x59a0c5(0x21e)+_0x59a0c5(0x223)+_0x59a0c5(0x226)+_0x59a0c5(0x248)+_0x59a0c5(0x201)+'at\x20INTEGER'+_0x59a0c5(0x257)+_0x59a0c5(0x1af)),info('['+name+(_0x59a0c5(0x20d)+_0x59a0c5(0x1bd)+_0x59a0c5(0x24f)+_0x59a0c5(0x24b)+'dated_at).')),_0x242630=[_0x59a0c5(0x26f),'value',_0x59a0c5(0x1d1)];else{if(!_0x242630[_0x59a0c5(0x25e)](_0x59a0c5(0x1d1)))try{await db['run'](_0x59a0c5(0x25b)+_0x59a0c5(0x249)+_0x59a0c5(0x25c)+'D\x20COLUMN\x20u'+_0x59a0c5(0x246)+'INTEGER\x20DE'+_0x59a0c5(0x27e)),info('['+name+(']\x20migrated'+_0x59a0c5(0x241)+_0x59a0c5(0x20b)+_0x59a0c5(0x1ca)+_0x59a0c5(0x289)+'t.'));}catch(_0x2693ac){warn('['+name+(_0x59a0c5(0x247)+_0x59a0c5(0x1f3)+_0x59a0c5(0x276)+_0x59a0c5(0x1de)+_0x59a0c5(0x1f8)+'\x20')+(_0x2693ac?.['message']||_0x2693ac));}}try{const _0xa3ae1=await db[_0x59a0c5(0x245)](_0x59a0c5(0x215)+_0x59a0c5(0x23c)+_0x59a0c5(0x240)+'efs\x20WHERE\x20'+_0x59a0c5(0x213)+_0x59a0c5(0x24e));if(!_0xa3ae1){const _0xf4affe=Math[_0x59a0c5(0x273)](Date[_0x59a0c5(0x277)]()/(0x2126+0x17c1+-0x34ff*0x1));await db[_0x59a0c5(0x1da)]('INSERT\x20INT'+_0x59a0c5(0x1c2)+_0x59a0c5(0x221)+'ey,\x20value,'+_0x59a0c5(0x289)+_0x59a0c5(0x24d)+_0x59a0c5(0x1f9)+_0x59a0c5(0x1ff)+'?)',[_0xf4affe]),info('['+name+(']\x20created\x20'+'default\x20en'+_0x59a0c5(0x200)+'e'));}}catch(_0x25e2b5){const _0x3a9267=String(_0x25e2b5?.['message']||'')[_0x59a0c5(0x1aa)+'e']();if(_0x3a9267[_0x59a0c5(0x25e)](_0x59a0c5(0x27a))||_0x3a9267[_0x59a0c5(0x25e)]('has\x20no\x20col'+_0x59a0c5(0x26d)))try{const _0x406e44=Math['floor'](Date[_0x59a0c5(0x277)]()/(-0xd1b+0x1061+-0x12*-0x9));await db[_0x59a0c5(0x1da)](_0x59a0c5(0x208)+_0x59a0c5(0x1d6)+_0x59a0c5(0x1f1)+_0x59a0c5(0x235)+'key,\x20value'+_0x59a0c5(0x268)+'\x27enabled\x27,'+'\x27false\x27)'),info('['+name+(_0x59a0c5(0x20d)+_0x59a0c5(0x20f)+_0x59a0c5(0x200)+_0x59a0c5(0x1f5)+_0x59a0c5(0x24c)));}catch(_0x43bb0e){warn('['+name+(_0x59a0c5(0x1ec)+'\x20insert\x20fa'+_0x59a0c5(0x1bb))+(_0x43bb0e?.[_0x59a0c5(0x1a9)]||_0x43bb0e));}else warn('['+name+(_0x59a0c5(0x1ae)+_0x59a0c5(0x1a4)+_0x59a0c5(0x217)+_0x59a0c5(0x283))+(_0x25e2b5?.[_0x59a0c5(0x1a9)]||_0x25e2b5));}}catch(_0x3b5f7d){warn('['+name+(']\x20ensureTa'+_0x59a0c5(0x1b9)+'\x20')+(_0x3b5f7d?.[_0x59a0c5(0x1a9)]||_0x3b5f7d));throw _0x3b5f7d;}}async function readEnabledFromDb(){const _0x1e8eb9=_0x2a91d2;try{const _0x25b300=await db[_0x1e8eb9(0x245)](_0x1e8eb9(0x215)+_0x1e8eb9(0x23c)+_0x1e8eb9(0x240)+_0x1e8eb9(0x229)+_0x1e8eb9(0x213)+_0x1e8eb9(0x236)+'1');if(!_0x25b300)return![];const _0x295814=String(_0x25b300[_0x1e8eb9(0x1d5)])[_0x1e8eb9(0x1aa)+'e']();return _0x295814==='true'||_0x295814==='1';}catch(_0x206457){return warn('['+name+(_0x1e8eb9(0x1c9)+_0x1e8eb9(0x274)+_0x1e8eb9(0x1bc))+(_0x206457?.['message']||_0x206457)),![];}}async function saveEnabledToDb(_0x54d831){const _0x165b3a=_0x2a91d2;try{const _0x2867e2=_0x54d831?_0x165b3a(0x1ef):_0x165b3a(0x286),_0x303fb1=Math[_0x165b3a(0x273)](Date[_0x165b3a(0x277)]()/(-0x25b2+0x12d*0x1d+-0x11*-0x71));return await db['run']('INSERT\x20INT'+_0x165b3a(0x1c2)+_0x165b3a(0x221)+_0x165b3a(0x1ce)+_0x165b3a(0x289)+_0x165b3a(0x24d)+_0x165b3a(0x1f9)+_0x165b3a(0x205)+_0x165b3a(0x1cd)+_0x165b3a(0x1a8)+_0x165b3a(0x1b0)+'\x20SET\x20value'+_0x165b3a(0x279)+_0x165b3a(0x1cc)+_0x165b3a(0x1d7)+_0x165b3a(0x232)+_0x165b3a(0x26a),[_0x2867e2,_0x303fb1]),info('['+name+(_0x165b3a(0x230)+_0x165b3a(0x261))+_0x2867e2),!![];}catch(_0x2b794b){const _0x36ad5a=String(_0x2b794b?.['message']||'')['toLowerCas'+'e']();if(_0x36ad5a[_0x165b3a(0x25e)]('has\x20no\x20col'+'umn')||_0x36ad5a[_0x165b3a(0x25e)](_0x165b3a(0x27a)))try{return await db[_0x165b3a(0x1da)](_0x165b3a(0x208)+_0x165b3a(0x1d6)+'TO\x20autorea'+_0x165b3a(0x235)+'key,\x20value'+_0x165b3a(0x268)+_0x165b3a(0x1c5)+'\x20?)',[val]),info('['+name+(']\x20saved\x20en'+_0x165b3a(0x261))+val+(_0x165b3a(0x270)+_0x165b3a(0x27c)+_0x165b3a(0x1d4))),!![];}catch(_0x2afd96){return warn('['+name+(_0x165b3a(0x1a7)+'ledToDb\x20fa'+_0x165b3a(0x1dc)+_0x165b3a(0x1ee))+(_0x2afd96?.[_0x165b3a(0x1a9)]||_0x2afd96)),![];}return warn('['+name+(']\x20saveEnab'+_0x165b3a(0x202)+_0x165b3a(0x287))+(_0x2b794b?.[_0x165b3a(0x1a9)]||_0x2b794b)),![];}}function pickReactionEmoji(){const _0x51fa7f=_0x2a91d2;if(!Array[_0x51fa7f(0x1f7)](CFG[_0x51fa7f(0x1e0)])||CFG[_0x51fa7f(0x1e0)]['length']===0xc9b+-0xe7a+-0x1df*-0x1)return null;return CFG[_0x51fa7f(0x1e0)][Math[_0x51fa7f(0x273)](Math['random']()*CFG[_0x51fa7f(0x1e0)][_0x51fa7f(0x1fc)])];}async function sendStatusReaction(_0x4a446c,_0x1fe594,_0x3a3b03){const _0x465b51=_0x2a91d2;if(!_0x4a446c||!_0x4a446c['key']||!_0x1fe594)return![];const _0xd59a5a=_0x4a446c[_0x465b51(0x26f)]['remoteJid'],_0x345ec5=_0x4a446c[_0x465b51(0x26f)][_0x465b51(0x242)+'t'];try{const _0x545ccb={};if(_0x345ec5||_0x3a3b03)_0x545ccb[_0x465b51(0x1f6)+_0x465b51(0x1f0)]=[_0x345ec5,_0x3a3b03][_0x465b51(0x285)](Boolean);if(botRef&&botRef[_0x465b51(0x254)]&&typeof botRef[_0x465b51(0x254)][_0x465b51(0x1e5)+'e']===_0x465b51(0x1b2))return await botRef[_0x465b51(0x254)]['sendMessag'+'e'](_0xd59a5a,{'react':{'key':_0x4a446c[_0x465b51(0x26f)],'text':_0x1fe594}},_0x545ccb),!![];else return botRef&&typeof botRef[_0x465b51(0x1e5)+'e']===_0x465b51(0x1b2)?(await botRef[_0x465b51(0x1e5)+'e'](_0xd59a5a,{'react':{'key':_0x4a446c['key'],'text':_0x1fe594}},_0x545ccb),!![]):(warn('['+name+(_0x465b51(0x225)+_0x465b51(0x1dd)+_0x465b51(0x1ba)+_0x465b51(0x220)+'s\x20reaction')),![]);}catch(_0x179286){return warn('['+name+(_0x465b51(0x22e)+_0x465b51(0x1e3)+'\x20failed:\x20')+(_0x179286?.[_0x465b51(0x1a9)]||_0x179286)),![];}}function createMessageHandler(){return async function _0x41d867(_0x817370){const _0x4047ac=_0x4462;try{if(shuttingDown)return;refreshConfig();const _0x5f3aca=await readEnabledFromDb();if(!_0x5f3aca)return;const {messages:_0x5ab1f5}=_0x817370||{};if(!Array[_0x4047ac(0x1f7)](_0x5ab1f5)||_0x5ab1f5[_0x4047ac(0x1fc)]===0x1*-0xd79+-0x2e*0xbc+0x2f41)return;const _0x530492=Date[_0x4047ac(0x277)](),_0x4f1adc=getBotJid();if(!_0x4f1adc&&CFG[_0x4047ac(0x255)+_0x4047ac(0x1df)])return;for(const _0x14d750 of _0x5ab1f5){try{if(!_0x14d750||!_0x14d750[_0x4047ac(0x26f)])continue;if(_0x14d750[_0x4047ac(0x26f)]['remoteJid']!==_0x4047ac(0x23e)+_0x4047ac(0x1a6))continue;if(_0x530492-lastReactionTime<Number(CFG[_0x4047ac(0x1e7)+_0x4047ac(0x284)]||FALLBACKS[_0x4047ac(0x1e7)+_0x4047ac(0x284)]))continue;const _0x153c84=pickReactionEmoji();if(!_0x153c84)continue;const _0x56f01a=await sendStatusReaction(_0x14d750,_0x153c84,_0x4f1adc);_0x56f01a&&(lastReactionTime=Date[_0x4047ac(0x277)](),info('['+name+_0x4047ac(0x1fe)+_0x153c84+(_0x4047ac(0x206)+_0x4047ac(0x228))+(_0x14d750[_0x4047ac(0x26f)][_0x4047ac(0x242)+'t']||_0x4047ac(0x1ad))),await new Promise(_0x4b9e58=>setTimeout(_0x4b9e58,-0xd9*-0x13+-0x54b+-0x8dc*0x1)));}catch(_0x401f2b){warn('['+name+(_0x4047ac(0x203)+_0x4047ac(0x1d3)+'r:\x20')+(_0x401f2b?.[_0x4047ac(0x1a9)]||_0x401f2b));}}}catch(_0x55c1d8){warn('['+name+(']\x20messages'+_0x4047ac(0x282)+_0x4047ac(0x1d3)+_0x4047ac(0x23a))+(_0x55c1d8?.[_0x4047ac(0x1a9)]||_0x55c1d8));}};}const processedCmdKeys=new Map(),CMD_DEDUPE_TTL_MS=(0x1942*-0x1+-0x804+-0x10b2*-0x2)*(-0x1d6a*-0x1+0x123*0xf+-0x2a8f);function markCmdProcessed(_0x1eca90){const _0x2c392b=_0x2a91d2;if(!_0x1eca90)return;if(processedCmdKeys[_0x2c392b(0x1cb)](_0x1eca90))try{clearTimeout(processedCmdKeys[_0x2c392b(0x245)](_0x1eca90));}catch(_0x355471){};const _0x1dcc8b=setTimeout(()=>processedCmdKeys[_0x2c392b(0x1e2)](_0x1eca90),CMD_DEDUPE_TTL_MS);processedCmdKeys[_0x2c392b(0x219)](_0x1eca90,_0x1dcc8b);}function isCmdProcessed(_0x5591ca){const _0x2e1327=_0x2a91d2;return _0x5591ca&&processedCmdKeys[_0x2e1327(0x1cb)](_0x5591ca);}export async function onMessage(_0x1bb54e){const _0x58d0dd=_0x2a91d2;try{if(!_0x1bb54e||!_0x1bb54e[_0x58d0dd(0x26f)]||!_0x1bb54e[_0x58d0dd(0x1a9)]||!_0x1bb54e[_0x58d0dd(0x1e6)])return;if(isJidGroup(_0x1bb54e[_0x58d0dd(0x26f)]['remoteJid']))return;const _0x1e9a34=_0x1bb54e[_0x58d0dd(0x26f)][_0x58d0dd(0x1d9)],_0x29d291=await isSudo(botRef,_0x1bb54e)['catch'](()=>![]);if(!_0x1e9a34&&!_0x29d291)return;let _0x12119e;if(_0x1e9a34){_0x12119e=getBotJid();if(!_0x12119e){warn('['+name+(_0x58d0dd(0x243)+_0x58d0dd(0x1be)+_0x58d0dd(0x260)+_0x58d0dd(0x250)+'is\x20not\x20ava'+_0x58d0dd(0x1c4)));return;}}else _0x12119e=_0x1bb54e['key']['remoteJid'];const _0x5a0452=String(_0x1bb54e['key'][_0x58d0dd(0x244)]||'')+'::'+String(_0x1bb54e[_0x58d0dd(0x26f)]['id']||_0x1bb54e['key'][_0x58d0dd(0x242)+'t']||'');if(isCmdProcessed(_0x5a0452))return;markCmdProcessed(_0x5a0452);const _0x41a39c=typeof _0x1bb54e['text']==='string'&&_0x1bb54e['text']['trim']()[_0x58d0dd(0x1fc)]?_0x1bb54e['text'][_0x58d0dd(0x1e1)]():function _0x25de06(_0x2c2f50){const _0x2836fc=_0x58d0dd;if(!_0x2c2f50||!_0x2c2f50[_0x2836fc(0x1a9)])return'';const _0x296381=_0x2c2f50[_0x2836fc(0x1a9)];if(_0x296381[_0x2836fc(0x1fb)+'on'])return _0x296381[_0x2836fc(0x1fb)+'on'];if(_0x296381[_0x2836fc(0x272)+_0x2836fc(0x224)]?.[_0x2836fc(0x238)])return _0x296381['extendedTe'+'xtMessage']['text'];if(_0x296381[_0x2836fc(0x278)+'ge']?.['caption'])return _0x296381[_0x2836fc(0x278)+'ge'][_0x2836fc(0x25d)];if(_0x296381['videoMessa'+'ge']?.['caption'])return _0x296381[_0x2836fc(0x24a)+'ge'][_0x2836fc(0x25d)];if(_0x296381[_0x2836fc(0x20e)+_0x2836fc(0x1ab)+'ge']?.[_0x2836fc(0x21a)+_0x2836fc(0x258)])return _0x296381['buttonsRes'+'ponseMessa'+'ge']['selectedBu'+_0x2836fc(0x258)];if(_0x296381[_0x2836fc(0x222)+_0x2836fc(0x1eb)]?.['singleSele'+_0x2836fc(0x25a)]?.['selectedRo'+'wId'])return _0x296381[_0x2836fc(0x222)+_0x2836fc(0x1eb)][_0x2836fc(0x22d)+_0x2836fc(0x25a)]['selectedRo'+_0x2836fc(0x207)];return'';}(_0x1bb54e)||'';if(!_0x41a39c)return;const _0x3cba6d=(_0x41a39c[_0x58d0dd(0x1ed)](/\r?\n/)[0xe7e+0x42f+-0x12ad]||'')['trim'](),_0x133f54=_0x3cba6d['split'](/\s+/),_0x2a4f1a=(_0x133f54[-0x1ed*-0x3+0xc82*0x2+-0x1ecb]||'')[_0x58d0dd(0x1aa)+'e']();if(!commands[_0x58d0dd(0x25e)](_0x2a4f1a))return;const _0x21d057=(_0x133f54[-0x502+0x499*0x1+-0x35*-0x2]||'')[_0x58d0dd(0x1aa)+'e']();if(['on','enable',_0x58d0dd(0x1ef),'1'][_0x58d0dd(0x25e)](_0x21d057)){const _0x27eb14=await saveEnabledToDb(!![]);if(_0x27eb14)await sendConfirmation(_0x12119e,_0x58d0dd(0x23b)+']\x20Enabled.');else await sendConfirmation(_0x12119e,'[autoreact'+']\x20Failed\x20t'+_0x58d0dd(0x251)+_0x58d0dd(0x21b));return;}if([_0x58d0dd(0x1fd),'disable',_0x58d0dd(0x286),'0'][_0x58d0dd(0x25e)](_0x21d057)){const _0x514b07=await saveEnabledToDb(![]);if(_0x514b07)await sendConfirmation(_0x12119e,'[autoreact'+']\x20Disabled'+'.');else await sendConfirmation(_0x12119e,_0x58d0dd(0x23b)+']\x20Failed\x20t'+_0x58d0dd(0x1e8)+'(DB\x20error)'+'.');return;}if(_0x21d057==='status'||_0x21d057===_0x58d0dd(0x1d0)||!_0x21d057){const _0x223be1=await readEnabledFromDb(),_0x2fda9d=_0x223be1?_0x58d0dd(0x275):_0x58d0dd(0x1fa);await sendConfirmation(_0x12119e,_0x58d0dd(0x269)+_0x58d0dd(0x259)+_0x58d0dd(0x20c)+'urrent\x20Sta'+_0x58d0dd(0x1db)+_0x2fda9d+('*\x0aMin\x20Inte'+'rval\x20(ms):'+'\x20')+CFG[_0x58d0dd(0x1e7)+_0x58d0dd(0x284)]+('\x0aTerminalR'+_0x58d0dd(0x210))+CFG[_0x58d0dd(0x1e0)][_0x58d0dd(0x26c)]('\x20')+(_0x58d0dd(0x1cf)+_0x58d0dd(0x288))+CFG[_0x58d0dd(0x255)+_0x58d0dd(0x1df)]);return;}await sendConfirmation(_0x12119e,_0x58d0dd(0x1c8)+_0x58d0dd(0x1a5)+(_0x58d0dd(0x241)+'\x20on|enable'+_0x58d0dd(0x1b1)+'ble\x20reacti'+_0x58d0dd(0x27d)+_0x58d0dd(0x26e))+('\x20autoreact'+_0x58d0dd(0x253)+'le\x20\x20->\x20dis'+_0x58d0dd(0x266)+'ing\x20to\x20sta'+_0x58d0dd(0x234))+(_0x58d0dd(0x241)+'\x20status\x20\x20\x20'+_0x58d0dd(0x20a)+'w\x20current\x20'+_0x58d0dd(0x233)+'ig'));}catch(_0x4385ce){warn('['+name+(_0x58d0dd(0x1b5)+_0x58d0dd(0x239))+(_0x4385ce?.[_0x58d0dd(0x1a9)]||_0x4385ce));}}async function sendConfirmation(_0x3c3280,_0x3e59d6){const _0x2c3aee=_0x2a91d2;try{if(!_0x3c3280)return;if(botRef&&botRef[_0x2c3aee(0x254)]&&typeof botRef[_0x2c3aee(0x254)][_0x2c3aee(0x1e5)+'e']===_0x2c3aee(0x1b2))await botRef[_0x2c3aee(0x254)][_0x2c3aee(0x1e5)+'e'](_0x3c3280,{'text':_0x3e59d6});else botRef&&typeof botRef[_0x2c3aee(0x1e5)+'e']===_0x2c3aee(0x1b2)?await botRef[_0x2c3aee(0x1e5)+'e'](_0x3c3280,{'text':_0x3e59d6}):warn('['+name+(_0x2c3aee(0x225)+'essage\x20met'+_0x2c3aee(0x22c)+'ble\x20to\x20sen'+'d\x20confirma'+'tion'));}catch(_0x371e57){warn('['+name+(_0x2c3aee(0x1c0)+_0x2c3aee(0x23d)+_0x2c3aee(0x283))+(_0x371e57?.[_0x2c3aee(0x1a9)]||_0x371e57));}}export async function initialize(_0x4979f8){const _0x5d0c97=_0x2a91d2;if(!_0x4979f8)throw new Error(_0x5d0c97(0x1d2)+'tatus.init'+_0x5d0c97(0x204)+'uires\x20bot\x20'+_0x5d0c97(0x22f));botRef=_0x4979f8,shuttingDown=![],refreshConfig(),await ensureTable()[_0x5d0c97(0x218)](_0x55c132=>{const _0x46ff27=_0x5d0c97;warn('['+name+(_0x46ff27(0x211)+_0x46ff27(0x28b)+_0x46ff27(0x216)+_0x46ff27(0x209)+':\x20')+(_0x55c132?.[_0x46ff27(0x1a9)]||_0x55c132));});const _0x47075f=await readEnabledFromDb();messageHandler=createMessageHandler(),startManagedListener({'botRef':botRef,'eventName':'messages.u'+_0x5d0c97(0x237),'handler':messageHandler,'moduleName':name}),info('['+name+(_0x5d0c97(0x252)+_0x5d0c97(0x26b)+_0x5d0c97(0x1bf)+_0x5d0c97(0x22a))+(_0x47075f?_0x5d0c97(0x1ef):_0x5d0c97(0x286))+(_0x5d0c97(0x21c)+'valMs=')+CFG[_0x5d0c97(0x1e7)+_0x5d0c97(0x284)]+(_0x5d0c97(0x231)+'s=')+CFG[_0x5d0c97(0x1e0)]['join']('\x20'));}export async function cleanup(){const _0x1a2635=_0x2a91d2;try{stopManagedListener(name,_0x1a2635(0x1c7)+'psert'),shuttingDown=!![],lastReactionTime=-0xdbd*-0x1+-0x1349+0x58c,messageHandler=null;}catch(_0x1dff35){warn('['+name+(_0x1a2635(0x214)+_0x1a2635(0x1bc))+(_0x1dff35?.['message']||_0x1dff35));}finally{botRef=null,info('['+name+(_0x1a2635(0x27b)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};