const _0x157fa1=_0xe111;(function(_0x38df9d,_0x464efc){const _0x269163=_0xe111,_0x283d20=_0x38df9d();while(!![]){try{const _0x320364=-parseInt(_0x269163(0x1fd))/(0xc9b*-0x2+0x2b6*-0x5+-0x1*-0x26c5)+-parseInt(_0x269163(0x1fc))/(0x7*-0x17f+0x13c7+0x94c*-0x1)*(parseInt(_0x269163(0x1dd))/(0x1efa+0x2*0x590+-0x2a17))+-parseInt(_0x269163(0x19f))/(0x7*0x461+-0x5*-0x259+-0x2a60)+-parseInt(_0x269163(0x1df))/(-0x2*-0x183+-0x1*0x4bd+0x1bc)*(parseInt(_0x269163(0x22f))/(0x37*0xb5+-0x1813+-0x2*0x765))+parseInt(_0x269163(0x1d3))/(-0x21ce+-0x58*0x5d+-0x15ef*-0x3)*(-parseInt(_0x269163(0x1e0))/(-0x1236+0xa46+-0x2*-0x3fc))+-parseInt(_0x269163(0x206))/(-0x21d5+-0x1777+0x3955)+parseInt(_0x269163(0x1aa))/(0x2*0x7a9+-0x9c*-0xf+-0x186c)*(parseInt(_0x269163(0x224))/(0xa*-0x223+-0xc12+0x217b));if(_0x320364===_0x464efc)break;else _0x283d20['push'](_0x283d20['shift']());}catch(_0x3fb23d){_0x283d20['push'](_0x283d20['shift']());}}}(_0x3876,0x25d59*0x1+0x26dea+-0x249fb));import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name=_0x157fa1(0x216)+'er';export const version=_0x157fa1(0x1ba);function _0x3876(){const _0x453dd9=['trim','onfig\x20erro','istory','1.1.0','IF\x20NOT\x20EXI','hod\x20availa','remoteJid','no\x20partici','e\x20error:\x20','tionMessag','PRIMARY\x20KE','DISABLED.','\x20NULL\x0a\x20\x20\x20\x20','=\x20excluded','t)\x20succeed','DISABLED','autolike_p','e)\x20succeed','toLocaleSt',']\x20already\x20','\x20\x20\x20\x20\x20\x20\x20ON\x20',':\x20refreshC','ble\x20to\x20sen',']\x20DB\x20table','\x20cleaned\x20u','function','ailed:\x20','tion\x20(reac','454951XxzTfs','Africa/Nai','\x20(message_','LICT(key)\x20',',\x20skipping','isValid','exec','loop\x20error','.value','s\x20ensured.','3YHvXWM','\x20WHERE\x20key','25bScNYW','16QRxGNP','autolike','\x20rawMessag','isArray',':\x20initiali','o\x20react\x20to','\x20initializ','\x20SET\x20react','id,\x20reacte','on\x20attempt','g\x20fallback','\x20from\x20conf','\x20from\x20','Update\x20pay',']\x20sendConf','ES\x20(?,\x20?)\x0a',']\x20getEnabl','\x20=\x20\x27enable','ENABLED','OM\x20','INSERT\x20INT',':\x20hotReloa','invalid\x20me','ue)\x20VALUES','NABLED','\x20status\x20','toLowerCas','\x27,\x20?)\x0a\x20\x20\x20\x20','475070zWtaHn','116689ieTUJH',']\x20no\x20sendM','d.\x20Applyin','text','\x20\x20\x20ON\x20CONF','sock','ed_at\x20=\x20ex',']\x20markReac','\x20key\x20TEXT\x20','1842003qmvhyC','ed\x20for\x20',':\x20auto-lik','key','tting\x20foun','@s.whatsap','message','pant\x20JID\x20a','SELECT\x20val','irmation\x20f','\x0a\x20\x20\x20\x20\x20\x20);\x0a','ndler\x20erro',']\x20setEnabl','moji:\x20',']\x20No\x20DB\x20se','edState\x20fa','status-lik','\x20(\x27enabled','sage_id\x20FR','reaction)\x20','fromMe','CONDS','sendMessag','n\x20status\x20m','cted_at','essage\x20key','e\x20(status\x20','value','\x20at\x20','off','6094583eoiKhi','\x20\x20\x20\x20\x20\x20\x20\x20re','autolike_h','s\x20failed.\x20','\x20failed:\x20','sion.','\x20value\x20TEX','status@bro','iled','ig.','run','57516aCLpDq','zoneName','fromMillis','sage\x20avail','essage_id)','\x20WHERE\x20mes','\x0a\x20\x20\x20\x20\x20\x20CRE','gistration','catch','zed.','refs','CONFLICT(m','STS\x20','ted\x20failed',']\x20Initial\x20','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','DO\x20UPDATE\x20','✔️\x20Auto-lik','r:\x20','participan','vailable\x20o','dConfig\x20re','\x20error','T\x20NOT\x20NULL','reaction):',']\x20sendReac','cluded.rea','length','sage_id\x20=\x20','AUTOLIKE_E','ed\x20failed','\x20cleanup\x20e','828524HFctqZ','bles\x20faile','ED_WITH_SE','e)\x20attempt','ue\x20FROM\x20','TIMEZONE_N','ring','ig.js...','SELECT\x20mes','rror','string','20aVNzsN','TIMEZONE',']\x20ensureTa','AME','get','messages.u','tch\x20your\x20B','now','All\x20reacti',']\x20hasReact','ATE\x20TABLE\x20','true','state\x20set\x20'];_0x3876=function(){return _0x453dd9;};return _0x3876();}export const priority=0x48c*-0x7+0x149a+-0x1*-0xb3f;export const commands=[_0x157fa1(0x1e1)];export const configKeys=['AUTOLIKE_E'+'NABLED',_0x157fa1(0x1ab),'TIMEZONE_N'+_0x157fa1(0x1ad)];let botRef=null,DEFAULT_TIMEZONE=_0x157fa1(0x1d4)+'robi';const PREFS_TABLE=_0x157fa1(0x1c7)+_0x157fa1(0x189),HISTORY_TABLE=_0x157fa1(0x226)+_0x157fa1(0x1b9),HARD_CODED_EMOJI='❤️';let rawMessageHandler=null;async function ensureTables(){const _0x545fa4=_0x157fa1;try{await db[_0x545fa4(0x1d9)]('\x0a\x20\x20\x20\x20\x20\x20CRE'+_0x545fa4(0x1b4)+_0x545fa4(0x1bb)+_0x545fa4(0x18b)+PREFS_TABLE+(_0x545fa4(0x18e)+_0x545fa4(0x205)+_0x545fa4(0x1c1)+'Y,\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x545fa4(0x22a)+_0x545fa4(0x196)+_0x545fa4(0x210)+'\x20\x20\x20\x20')),await db[_0x545fa4(0x1d9)](_0x545fa4(0x235)+'ATE\x20TABLE\x20'+_0x545fa4(0x1bb)+_0x545fa4(0x18b)+HISTORY_TABLE+(_0x545fa4(0x18e)+'\x20message_i'+'d\x20TEXT\x20PRI'+'MARY\x20KEY,\x0a'+_0x545fa4(0x225)+'acted_at\x20I'+'NTEGER\x20NOT'+_0x545fa4(0x1c3)+'\x20\x20);\x0a\x20\x20\x20\x20')),info('['+name+(_0x545fa4(0x1ce)+_0x545fa4(0x1dc)));}catch(_0x2497e5){error(_0x2497e5,'['+name+(_0x545fa4(0x1ac)+_0x545fa4(0x1a0)+'d'));throw _0x2497e5;}}async function getEnabledState(){const _0x10ebea=_0x157fa1;try{const _0x2e6d20=await db[_0x10ebea(0x1ae)](_0x10ebea(0x20e)+_0x10ebea(0x1a3)+PREFS_TABLE+(_0x10ebea(0x1de)+_0x10ebea(0x1f1)+'d\x27'));if(_0x2e6d20)return _0x2e6d20[_0x10ebea(0x221)]===_0x10ebea(0x1b5);const _0x241769=typeof getConfig===_0x10ebea(0x1d0)?getConfig()||{}:{};return!!_0x241769[_0x10ebea(0x19c)+_0x10ebea(0x1f8)];}catch(_0x26b9ee){return warn(_0x26b9ee,'['+name+(_0x10ebea(0x1f0)+_0x10ebea(0x215)+_0x10ebea(0x22c))),![];}}async function setEnabledState(_0x5acd1c){const _0xa7b457=_0x157fa1;try{const _0x1b6130=_0x5acd1c?_0xa7b457(0x1b5):'false';return await db[_0xa7b457(0x22e)]('INSERT\x20INT'+'O\x20'+PREFS_TABLE+('\x20(key,\x20val'+_0xa7b457(0x1f7)+_0xa7b457(0x217)+_0xa7b457(0x1fb)+_0xa7b457(0x201)+_0xa7b457(0x1d6)+_0xa7b457(0x18f)+'SET\x20value\x20'+_0xa7b457(0x1c4)+_0xa7b457(0x1db)),[_0x1b6130]),!![];}catch(_0x3c9502){return error(_0x3c9502,'['+name+(_0xa7b457(0x212)+_0xa7b457(0x215)+_0xa7b457(0x22c))),![];}}async function hasReacted(_0x360ede){const _0x3603cb=_0x157fa1;try{if(!_0x360ede)return![];const _0x3c58ba=await db[_0x3603cb(0x1ae)](_0x3603cb(0x1a7)+_0x3603cb(0x218)+_0x3603cb(0x1f3)+HISTORY_TABLE+(_0x3603cb(0x234)+_0x3603cb(0x19b)+'?'),[_0x360ede]);return!!_0x3c58ba;}catch(_0x1e8002){return warn(_0x1e8002,'['+name+(_0x3603cb(0x1b3)+_0x3603cb(0x19d))),![];}}async function markReacted(_0x36d115){const _0xf4c0a8=_0x157fa1;try{if(!_0x36d115)return;await db[_0xf4c0a8(0x22e)](_0xf4c0a8(0x1f4)+'O\x20'+HISTORY_TABLE+(_0xf4c0a8(0x1d5)+_0xf4c0a8(0x1e8)+'d_at)\x20VALU'+_0xf4c0a8(0x1ef)+_0xf4c0a8(0x1cb)+_0xf4c0a8(0x18a)+_0xf4c0a8(0x233)+'\x20DO\x20UPDATE'+_0xf4c0a8(0x1e7)+_0xf4c0a8(0x203)+_0xf4c0a8(0x199)+_0xf4c0a8(0x21e)),[_0x36d115,Date[_0xf4c0a8(0x1b1)]()]);}catch(_0x37f527){warn(_0x37f527,'['+name+(_0xf4c0a8(0x204)+_0xf4c0a8(0x18c)));}}function refreshConfig(){const _0x4897ec=_0x157fa1;try{const _0x4b2fe2=typeof getConfig==='function'?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x4b2fe2[_0x4897ec(0x1ab)]||_0x4b2fe2[_0x4897ec(0x1a4)+_0x4897ec(0x1ad)]||DEFAULT_TIMEZONE,info(name+(':\x20timezone'+'\x20set\x20to\x20')+DEFAULT_TIMEZONE);}catch(_0x22243e){warn(name+(_0x4897ec(0x1cc)+_0x4897ec(0x1b8)+'r:\x20')+(_0x22243e?.[_0x4897ec(0x20c)]||_0x22243e));}}function _0xe111(_0x88f64f,_0xae1a30){_0x88f64f=_0x88f64f-(-0x128*0x1c+-0x5*0x78a+0x4798);const _0x34b1f0=_0x3876();let _0x8d6fbf=_0x34b1f0[_0x88f64f];return _0x8d6fbf;}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0x244e98=_0x157fa1;try{refreshConfig();}catch(_0x2fad50){warn(name+(_0x244e98(0x1f5)+'dConfig\x20ha'+_0x244e98(0x211)+_0x244e98(0x191))+(_0x2fad50?.['message']||_0x2fad50));}});}catch(_0x19f5aa){warn(name+(_0x157fa1(0x1f5)+_0x157fa1(0x194)+_0x157fa1(0x186)+_0x157fa1(0x228))+(_0x19f5aa?.[_0x157fa1(0x20c)]||_0x19f5aa));}function formatTimestamp(_0x2d4aca=Date['now'](),_0x54870e=DEFAULT_TIMEZONE){const _0x266c89=_0x157fa1;try{const _0x4869c1=DateTime[_0x266c89(0x231)](_0x2d4aca)['setZone'](_0x54870e);if(!_0x4869c1[_0x266c89(0x1d8)])return new Date(_0x2d4aca)[_0x266c89(0x1c9)+'ring']();return _0x4869c1[_0x266c89(0x1c9)+'ring'](DateTime['DATETIME_M'+_0x266c89(0x1a1)+_0x266c89(0x21b)])+'\x20('+_0x4869c1[_0x266c89(0x230)]+')';}catch{return new Date(_0x2d4aca)[_0x266c89(0x1c9)+_0x266c89(0x1a5)]();}}async function sendReactionToStatus(_0x12cb78,_0x4ecae9){const _0x108185=_0x157fa1;if(!_0x12cb78||!_0x12cb78[_0x108185(0x209)])throw new Error(_0x108185(0x1f6)+'ssage');if(!_0x4ecae9||typeof _0x4ecae9[_0x108185(0x21c)+'e']!=='function')throw new Error('no\x20sendMes'+_0x108185(0x232)+'able');const _0x403f21=_0x12cb78[_0x108185(0x209)][_0x108185(0x192)+'t'];if(!_0x403f21)throw new Error(_0x108185(0x1be)+_0x108185(0x20d)+_0x108185(0x193)+_0x108185(0x21d)+_0x108185(0x21f));const _0x38dd7c=_0x108185(0x22b)+'adcast',_0x39a08f=[_0x403f21];try{const _0x406467={'react':{'text':HARD_CODED_EMOJI,'key':_0x12cb78['key']}};return await _0x4ecae9[_0x108185(0x21c)+'e'](_0x38dd7c,_0x406467,{'statusJidList':_0x39a08f,'broadcast':!![]}),info('['+name+(']\x20sendReac'+_0x108185(0x1d2)+_0x108185(0x1c5)+_0x108185(0x207))+_0x12cb78['key']['id']),!![];}catch(_0x47043a){warn('['+name+(_0x108185(0x198)+_0x108185(0x1d2)+'t)\x20attempt'+'\x20failed:\x20')+(_0x47043a?.['message']||_0x47043a));}try{const _0x29f9dd={'message':{'reactionMessage':{'key':_0x12cb78[_0x108185(0x209)],'text':HARD_CODED_EMOJI}}};return await _0x4ecae9['sendMessag'+'e'](_0x38dd7c,_0x29f9dd,{'statusJidList':_0x39a08f,'broadcast':!![]}),info('['+name+(_0x108185(0x198)+_0x108185(0x1d2)+_0x108185(0x1c0)+_0x108185(0x1c8)+_0x108185(0x207))+_0x12cb78[_0x108185(0x209)]['id']),!![];}catch(_0x41351b){warn('['+name+(_0x108185(0x198)+_0x108185(0x1d2)+_0x108185(0x1c0)+_0x108185(0x1a2)+_0x108185(0x228))+(_0x41351b?.[_0x108185(0x20c)]||_0x41351b));}throw new Error(_0x108185(0x1b2)+_0x108185(0x1e9)+_0x108185(0x227)+_0x108185(0x1ed)+'load\x20to\x20ma'+_0x108185(0x1b0)+'aileys\x20ver'+_0x108185(0x229));}async function createRawMessageHandler(){return async function _0x252fb5({messages:_0x13b8e5}){const _0x5b2531=_0xe111;try{const _0x5f4d09=await getEnabledState();if(!_0x5f4d09)return;if(!_0x13b8e5||!Array[_0x5b2531(0x1e3)](_0x13b8e5))return;const _0x2324c8=getBotJid();for(const _0x1ef0f3 of _0x13b8e5){try{if(!_0x1ef0f3||!_0x1ef0f3[_0x5b2531(0x209)])continue;const _0x13bc06=_0x1ef0f3['key'][_0x5b2531(0x1bd)]||'',_0x48d4b7=_0x1ef0f3[_0x5b2531(0x209)][_0x5b2531(0x21a)]||![],_0x414aab=_0x1ef0f3[_0x5b2531(0x209)]['id']||null;if(_0x13bc06!=='status@bro'+'adcast')continue;if(_0x48d4b7)continue;if(_0x1ef0f3[_0x5b2531(0x209)][_0x5b2531(0x192)+'t']&&(_0x1ef0f3['key'][_0x5b2531(0x192)+'t']===_0x2324c8||_0x1ef0f3[_0x5b2531(0x209)]['participan'+'t']===_0x2324c8+(_0x5b2531(0x20b)+'p.net')))continue;if(_0x414aab&&await hasReacted(_0x414aab)){info('['+name+(_0x5b2531(0x1ca)+'reacted\x20to'+'\x20')+_0x414aab+_0x5b2531(0x1d7));continue;}try{const _0x4a8713=botRef?.[_0x5b2531(0x202)]||botRef;await sendReactionToStatus(_0x1ef0f3,_0x4a8713);if(_0x414aab)await markReacted(_0x414aab);info(name+(_0x5b2531(0x208)+'ed\x20status\x20')+_0x414aab+_0x5b2531(0x1ec)+(_0x1ef0f3['key'][_0x5b2531(0x192)+'t']||'unknown')+_0x5b2531(0x222)+formatTimestamp());}catch(_0x5b99d8){warn('['+name+(']\x20failed\x20t'+_0x5b2531(0x1e5)+_0x5b2531(0x1f9))+_0x414aab+':\x20'+(_0x5b99d8?.['message']||_0x5b99d8));}}catch(_0x444228){warn(_0x444228,'['+name+(']\x20handler\x20'+_0x5b2531(0x1da)));}}}catch(_0xf8f18a){error(_0xf8f18a,name+(_0x5b2531(0x1e2)+'eHandler\x20e'+_0x5b2531(0x1a8)));}};}export async function onMessage(_0x26ed2e,_0x5b790a){const _0x25a23b=_0x157fa1;try{if(!_0x26ed2e||!_0x26ed2e[_0x25a23b(0x209)]||!_0x26ed2e[_0x25a23b(0x20c)]||!_0x26ed2e['isCommand']||!_0x5b790a)return;if(isJidGroup(_0x26ed2e['key'][_0x25a23b(0x1bd)]))return;const _0x26a758=_0x26ed2e[_0x25a23b(0x209)][_0x25a23b(0x21a)],_0xff3700=await isSudo(botRef,_0x26ed2e)[_0x25a23b(0x187)](()=>![]);if(!_0x26a758&&!_0xff3700)return;const _0x3a4388=typeof _0x26ed2e[_0x25a23b(0x200)]===_0x25a23b(0x1a9)&&_0x26ed2e[_0x25a23b(0x200)][_0x25a23b(0x1b7)]()[_0x25a23b(0x19a)]?_0x26ed2e[_0x25a23b(0x200)][_0x25a23b(0x1b7)]():'',_0x39a824=_0x3a4388['split'](/\s+/),_0x1e9048=(_0x39a824[0x45d+0x46*-0x1a+-0x2bf*-0x1]||'')[_0x25a23b(0x1fa)+'e'](),_0x2863f0=(_0x39a824[-0x112f+-0xe6b+-0x1*-0x1f9b]||'')['toLowerCas'+'e']();if(!commands['includes'](_0x1e9048))return;const _0x4707ef=_0x26a758?getBotJid():_0x26ed2e[_0x25a23b(0x209)][_0x25a23b(0x1bd)];if(!_0x4707ef)return;if(_0x2863f0==='on')await setEnabledState(!![]),await sendConfirmation(_0x4707ef,'✔️\x20Auto-lik'+'e\x20(status\x20'+_0x25a23b(0x219)+'ENABLED.\x20E'+_0x25a23b(0x213)+HARD_CODED_EMOJI);else{if(_0x2863f0===_0x25a23b(0x223))await setEnabledState(![]),await sendConfirmation(_0x4707ef,_0x25a23b(0x190)+_0x25a23b(0x220)+_0x25a23b(0x219)+_0x25a23b(0x1c2));else{const _0x2e61a8=await getEnabledState();await sendConfirmation(_0x4707ef,'ℹ️\x20Auto-lik'+_0x25a23b(0x220)+_0x25a23b(0x197)+'\x20'+(_0x2e61a8?_0x25a23b(0x1f2):_0x25a23b(0x1c6))+'\x20—\x20emoji:\x20'+HARD_CODED_EMOJI);}}}catch(_0x5b619b){error(_0x5b619b,name+('\x20onMessage'+'\x20(command)'+_0x25a23b(0x195)));}}async function sendConfirmation(_0x22a94b,_0x38503a){const _0x30142a=_0x157fa1;try{if(!_0x22a94b||!botRef)return;const _0x565102=botRef[_0x30142a(0x202)]?.[_0x30142a(0x21c)+'e']||botRef['sendMessag'+'e'];_0x565102?await _0x565102(_0x22a94b,{'text':_0x38503a}):warn('['+name+(_0x30142a(0x1fe)+'essage\x20met'+_0x30142a(0x1bc)+_0x30142a(0x1cd)+'d\x20confirma'+'tion'));}catch(_0x1112c5){warn('['+name+(_0x30142a(0x1ee)+_0x30142a(0x20f)+_0x30142a(0x1d1))+(_0x1112c5?.[_0x30142a(0x20c)]||_0x1112c5));}}export async function initialize(_0x60e162){const _0x3d92e5=_0x157fa1;try{botRef=_0x60e162,refreshConfig(),await ensureTables();const _0x3d3395=await db[_0x3d92e5(0x1ae)](_0x3d92e5(0x20e)+_0x3d92e5(0x1a3)+PREFS_TABLE+(_0x3d92e5(0x1de)+_0x3d92e5(0x1f1)+'d\x27'));if(!_0x3d3395){info('['+name+(_0x3d92e5(0x214)+_0x3d92e5(0x20a)+_0x3d92e5(0x1ff)+_0x3d92e5(0x1ea)+_0x3d92e5(0x1eb)+_0x3d92e5(0x1a6)));const _0x3c1b2e=typeof getConfig===_0x3d92e5(0x1d0)?getConfig()||{}:{},_0xa6fc79=_0x3c1b2e[_0x3d92e5(0x19c)+_0x3d92e5(0x1f8)]===!![]||_0x3c1b2e[_0x3d92e5(0x19c)+_0x3d92e5(0x1f8)]===_0x3d92e5(0x1b5);await setEnabledState(_0xa6fc79),info('['+name+(_0x3d92e5(0x18d)+_0x3d92e5(0x1b6)+'to\x20')+_0xa6fc79+(_0x3d92e5(0x1eb)+_0x3d92e5(0x22d)));}rawMessageHandler=await createRawMessageHandler(),_0x60e162['on'](_0x3d92e5(0x1af)+'psert',rawMessageHandler),info(name+(_0x3d92e5(0x1e4)+_0x3d92e5(0x188)));}catch(_0x46804a){warn(name+(_0x3d92e5(0x1e6)+_0x3d92e5(0x1bf))+(_0x46804a?.[_0x3d92e5(0x20c)]||_0x46804a));throw _0x46804a;}}export async function cleanup(){const _0x5ee76f=_0x157fa1;try{botRef&&typeof botRef[_0x5ee76f(0x223)]===_0x5ee76f(0x1d0)&&rawMessageHandler&&botRef[_0x5ee76f(0x223)](_0x5ee76f(0x1af)+'psert',rawMessageHandler),botRef=null,rawMessageHandler=null,info(name+(_0x5ee76f(0x1cf)+'p'));}catch(_0x3b4ac5){warn(name+(_0x5ee76f(0x19e)+'rror:\x20')+(_0x3b4ac5?.[_0x5ee76f(0x20c)]||_0x3b4ac5));}}