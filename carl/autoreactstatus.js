const _0x3c9ed1=_0x2921;(function(_0x5ba335,_0x5d1e78){const _0xe70e0d=_0x2921,_0xabf535=_0x5ba335();while(!![]){try{const _0x8292f5=-parseInt(_0xe70e0d(0x1d5))/(0x45*-0x4f+0xe4*0xd+0x9b8)*(-parseInt(_0xe70e0d(0x19e))/(0x4f*0x29+0xb6*-0x6+-0x861))+-parseInt(_0xe70e0d(0x13f))/(-0xcd2+0xbb*0x17+0xfe*-0x4)+parseInt(_0xe70e0d(0x173))/(-0x116a+0x26df+-0x1571)*(parseInt(_0xe70e0d(0x136))/(-0x2*-0x2ab+-0x18e+-0x3c3))+-parseInt(_0xe70e0d(0x1a2))/(-0x2de+-0xe17+0x10fb)*(-parseInt(_0xe70e0d(0x169))/(-0x35b+0x183a+0xb8*-0x1d))+parseInt(_0xe70e0d(0x1ea))/(0x1311*-0x2+-0x4*-0x6dd+0x3*0x392)+parseInt(_0xe70e0d(0x1aa))/(-0xbb+-0xc1+0x185)*(-parseInt(_0xe70e0d(0x180))/(0x1*-0xcca+-0x1*0x104b+0x1d1f))+-parseInt(_0xe70e0d(0x1a6))/(0x1700+0x3*-0x3f8+-0xb0d);if(_0x8292f5===_0x5d1e78)break;else _0xabf535['push'](_0xabf535['shift']());}catch(_0x1fd30a){_0xabf535['push'](_0xabf535['shift']());}}}(_0x4f7e,-0x3d*-0x2611+0x86e27*0x1+-0xc6502));import{info,warn}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{db}from'../utils/database.js';import{isSudo}from'../utils/sudo.js';function _0x4f7e(){const _0x14f9f9=['floor','4173312ysddkh','\x20\x20updated_','filter',']\x20saveEnab','ndler\x20erro','tatus.init','false','extendedTe','=excluded.','function','uses\x0a',')\x20VALUES\x20(',']\x20hot-relo',']\x20readEnab','le_info(\x27a','run','map','ctReply','value','autoreact','ing\x20to\x20sta','dated_at).','onfig\x20erro','abled=','autoReactS',',\x27false\x27,\x20','state/conf','t\x20user:\x20',',\x20?,\x20?)\x0a\x20\x20','only):\x0a','r:\x20','buttonsRes',']\x20onMessag','-only)*\x0a\x0aC','eply\x20to\x20ow','\x20to\x20status','\x0aIgnore\x20bo','join','participan',']\x20Disabled','llback\x20fai','toLowerCas','toreact_pr','\x20for\x20statu','videoMessa','D\x20COLUMN\x20u','ble\x20to\x20sen','_prefs:\x20ad','text','ed\x27\x20LIMIT\x20','caption','2441920GOoQxz','EXT\x20NOT\x20NU','o\x20enable\x20(','AL_MS','aded\x20confi','umn',']\x20cleaned\x20','fs\x20(\x0a\x20\x20\x20\x20\x20','\x20\x20\x20value\x20T','980238waNwGx','\x20off|disab','state','now',']\x20inner\x20ha',']\x20sendConf','key,\x20value',']\x20hotReloa','seMessage','\x20\x20\x20key\x20TEX',']\x20ensureTa','sock','ponseMessa','CREATE\x20TAB','selectedBu','\x20\x20\x20\x20->\x20ena','ue\x20FROM\x20au','key','all','at\x20INTEGER','o\x20disable\x20',']\x20messages','AUTOREACT_','PRAGMA\x20tab','no\x20column','set',',\x20MinInter','\x27enabled\x27,','ilable.','random','value,\x20upd','length','ALTER\x20TABL','DB\x20error).','\x20status\x20\x20\x20','ENABLED','utoreact_p','*\x0aMin\x20Inte','\x20?)','INTEGER\x20DE',']\x20Cannot\x20r','delete','44009ojLJpG','ey,\x20value,','\x20DEFAULT\x200','REPLACE\x20IN','t)\x20VALUES\x20','ner\x20becaus','_USER','\x20failed:\x20','includes','statusJidL','4ZlWJYr','w\x20current\x20','disable','cluded.upd','efs\x20WHERE\x20','enable','remoteJid','ated_at','REACTIONS',',\x20reaction',']\x20created\x20','essage\x20API','conversati','830pkocsd','ialize\x20req','has','ror:\x20','essage\x20met',']\x20ensure\x20d','s\x20reaction','ledToDb\x20fa',']\x20no\x20sendM','ng\x20to\x20stat','ded\x20column','\x20available','valMs=','error:\x20','\x20updated_a','INSERT\x20OR\x20','\x20insert\x20fa','psert','ble\x20reacti','get',']\x20sendStat','name','MIN_INTERV','split','ttonId','(\x27enabled\x27','has\x20no\x20col','react_pref','\x20from\x20','isArray','41174NpmDZQ','listRespon','wId','ted_at\x20col','138lVjPVn','adcast','E\x20autoreac','exec','5358122trtszR','singleSele',']\x20migrated','message','49779hXxuKf','zed\x20(DB-ba','able\x20react','default\x20en','off','umn\x20(will\x20','[autoreact','\x0aTerminalR','ct_prefs\x20(',']\x20saved\x20en','\x20autoreact','string','pdated_at\x20','table\x20auto','\x20DO\x20UPDATE','k\x20insert).','gistration','ledToDb\x20er','pdated_at)','TO\x20autorea','led:\x20','(DB\x20error)','usReaction','status@bro','EXISTS\x20aut',']\x20initiali','true','trim','eactions:\x20','messages.u','STATUS','T\x20PRIMARY\x20','\x20(fallback','xtMessage','efault\x20ena','\x20\x20\x20\x20->\x20sho','updated_at','.upsert\x20ha','sed).\x20enab','sendMessag','bled\x20row\x20f','irmation\x20f','IGNORE_BOT','22gLsNfy','ledFromDb\x20','catch',']\x20Enabled.','O\x20autoreac','uires\x20bot\x20',']\x20DB\x20initi','isCommand','FLICT(key)','slice','ble\x20error:','Usage\x20(PM\x20','continue):','ailed:\x20','fromMe','imageMessa','key=\x27enabl','sureTable)','e\x20error:\x20',']\x20Failed\x20t'];_0x4f7e=function(){return _0x14f9f9;};return _0x4f7e();}import{getBotJid}from'../utils/bot-state.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{isJidGroup}from'@whiskeysockets/baileys';export const name=_0x3c9ed1(0x202)+'tatus';export const version='1.2.0';export const priority=0x14*0x1b4+0xfad+-0x316e;export const configKeys=[_0x3c9ed1(0x155)+_0x3c9ed1(0x1c8)];export const commands=[_0x3c9ed1(0x1fd)];const FALLBACKS={'MIN_INTERVAL_MS':0x1388,'REACTIONS':['🚀','🌎','♻️'],'IGNORE_BOT_USER':![]};let botRef=null,shuttingDown=![],lastReactionTime=0x601+0x1d56+0x6d*-0x53,messageHandler=null;function _0x2921(_0x39b53e,_0x730a7f){const _0x1348cb=_0x4f7e();return _0x2921=function(_0x594370,_0x42d247){_0x594370=_0x594370-(-0x1*-0xe09+0x17*-0x105+0xa9a);let _0x372035=_0x1348cb[_0x594370];return _0x372035;},_0x2921(_0x39b53e,_0x730a7f);}const CFG={'MIN_INTERVAL_MS':FALLBACKS['MIN_INTERV'+'AL_MS'],'REACTIONS':FALLBACKS[_0x3c9ed1(0x17b)][_0x3c9ed1(0x1de)](),'IGNORE_BOT_USER':FALLBACKS['IGNORE_BOT'+_0x3c9ed1(0x16f)]};function refreshConfig(){const _0x34d10a=_0x3c9ed1;try{const _0x21f31a=getConfig()||{},_0x23fbcd=_0x21f31a&&_0x21f31a['AUTOREACT_'+_0x34d10a(0x1c8)]?_0x21f31a[_0x34d10a(0x155)+'STATUS']:{};CFG[_0x34d10a(0x196)+_0x34d10a(0x139)]=Number(_0x23fbcd[_0x34d10a(0x196)+_0x34d10a(0x139)])||CFG['MIN_INTERV'+_0x34d10a(0x139)],CFG['IGNORE_BOT'+_0x34d10a(0x16f)]=typeof _0x23fbcd['IGNORE_BOT'+_0x34d10a(0x16f)]==='boolean'?_0x23fbcd[_0x34d10a(0x1d4)+_0x34d10a(0x16f)]:CFG[_0x34d10a(0x1d4)+_0x34d10a(0x16f)];if(Array[_0x34d10a(0x19d)](_0x23fbcd[_0x34d10a(0x17b)])&&_0x23fbcd['REACTIONS'][_0x34d10a(0x15e)]>0x16e*-0x17+0x1*0x101e+0x10c4)CFG[_0x34d10a(0x17b)]=_0x23fbcd['REACTIONS'][_0x34d10a(0x1de)]();else typeof _0x23fbcd[_0x34d10a(0x17b)]===_0x34d10a(0x1b5)&&_0x23fbcd['REACTIONS'][_0x34d10a(0x1c5)]()['length']>-0x1502+-0xc4f+-0x1*-0x2151&&(CFG['REACTIONS']=_0x23fbcd[_0x34d10a(0x17b)][_0x34d10a(0x197)](',')['map'](_0x2a2a1c=>_0x2a2a1c[_0x34d10a(0x1c5)]())['filter'](Boolean));}catch(_0x3c2e6b){warn('['+name+(']\x20refreshC'+_0x34d10a(0x200)+_0x34d10a(0x208))+(_0x3c2e6b?.['message']||_0x3c2e6b));}}try{hotReloadConfig&&hotReloadConfig(()=>{const _0x51e6c4=_0x3c9ed1;refreshConfig(),info('['+name+(_0x51e6c4(0x1f6)+_0x51e6c4(0x13a)+'g.'));});}catch(_0x4ca610){warn('['+name+(_0x3c9ed1(0x146)+'dConfig\x20re'+_0x3c9ed1(0x1ba)+_0x3c9ed1(0x170))+(_0x4ca610?.[_0x3c9ed1(0x1a9)]||_0x4ca610));}refreshConfig();async function ensureTable(){const _0x22eb53=_0x3c9ed1;try{let _0x38e0e8=[];try{const _0x457cca=await db[_0x22eb53(0x151)](_0x22eb53(0x156)+_0x22eb53(0x1f8)+_0x22eb53(0x163)+'refs\x27)');_0x38e0e8=(_0x457cca||[])[_0x22eb53(0x1fa)](_0xfbb831=>_0xfbb831[_0x22eb53(0x195)]);}catch(_0x37984b){_0x38e0e8=[];}if(!_0x38e0e8[_0x22eb53(0x15e)])await db[_0x22eb53(0x1a5)](_0x22eb53(0x14c)+'LE\x20IF\x20NOT\x20'+_0x22eb53(0x1c2)+'oreact_pre'+_0x22eb53(0x13d)+_0x22eb53(0x148)+_0x22eb53(0x1c9)+'KEY,\x0a\x20\x20\x20\x20\x20'+_0x22eb53(0x13e)+_0x22eb53(0x137)+'LL,\x0a\x20\x20\x20\x20\x20\x20'+_0x22eb53(0x1eb)+_0x22eb53(0x152)+_0x22eb53(0x16b)+'\x0a\x20\x20\x20\x20\x20\x20);'),info('['+name+(_0x22eb53(0x17d)+_0x22eb53(0x1b7)+_0x22eb53(0x19b)+'s\x20(with\x20up'+_0x22eb53(0x1ff))),_0x38e0e8=[_0x22eb53(0x150),_0x22eb53(0x1fc),_0x22eb53(0x1ce)];else{if(!_0x38e0e8[_0x22eb53(0x171)](_0x22eb53(0x1ce)))try{await db[_0x22eb53(0x1f9)](_0x22eb53(0x15f)+_0x22eb53(0x1a4)+'t_prefs\x20AD'+_0x22eb53(0x130)+_0x22eb53(0x1b6)+_0x22eb53(0x166)+'FAULT\x200'),info('['+name+(_0x22eb53(0x1a8)+_0x22eb53(0x1b4)+_0x22eb53(0x132)+_0x22eb53(0x18a)+_0x22eb53(0x18e)+'t.'));}catch(_0x28afc9){warn('['+name+(']\x20failed\x20t'+'o\x20add\x20upda'+_0x22eb53(0x1a1)+_0x22eb53(0x1af)+_0x22eb53(0x1e1)+'\x20')+(_0x28afc9?.[_0x22eb53(0x1a9)]||_0x28afc9));}}try{const _0x1af93e=await db[_0x22eb53(0x193)]('SELECT\x20val'+_0x22eb53(0x14f)+'toreact_pr'+_0x22eb53(0x177)+_0x22eb53(0x1e5)+'ed\x27');if(!_0x1af93e){const _0x469478=Math['floor'](Date[_0x22eb53(0x142)]()/(-0x5c1*0x2+0x1*0x263f+-0x16d5));await db[_0x22eb53(0x1f9)]('INSERT\x20INT'+_0x22eb53(0x1d9)+'t_prefs\x20(k'+_0x22eb53(0x16a)+'\x20updated_a'+'t)\x20VALUES\x20'+_0x22eb53(0x199)+_0x22eb53(0x203)+'?)',[_0x469478]),info('['+name+(_0x22eb53(0x17d)+_0x22eb53(0x1ad)+'abled=fals'+'e'));}}catch(_0x55ed98){const _0x776aca=String(_0x55ed98?.[_0x22eb53(0x1a9)]||'')[_0x22eb53(0x213)+'e']();if(_0x776aca[_0x22eb53(0x171)]('no\x20column')||_0x776aca[_0x22eb53(0x171)](_0x22eb53(0x19a)+_0x22eb53(0x13b)))try{const _0x40181c=Math[_0x22eb53(0x1e9)](Date[_0x22eb53(0x142)]()/(-0x1*-0x24f7+0x952+-0x2a61));await db[_0x22eb53(0x1f9)](_0x22eb53(0x18f)+_0x22eb53(0x16c)+'TO\x20autorea'+_0x22eb53(0x1b2)+_0x22eb53(0x145)+_0x22eb53(0x1f5)+_0x22eb53(0x15a)+'\x27false\x27)'),info('['+name+(_0x22eb53(0x17d)+'default\x20en'+'abled=fals'+'e\x20(fallbac'+_0x22eb53(0x1b9)));}catch(_0x21c3a1){warn('['+name+(']\x20fallback'+_0x22eb53(0x190)+'iled:\x20')+(_0x21c3a1?.[_0x22eb53(0x1a9)]||_0x21c3a1));}else warn('['+name+(_0x22eb53(0x185)+_0x22eb53(0x1cc)+_0x22eb53(0x1d2)+_0x22eb53(0x1e2))+(_0x55ed98?.[_0x22eb53(0x1a9)]||_0x55ed98));}}catch(_0x3dc639){warn('['+name+(_0x22eb53(0x149)+_0x22eb53(0x1df)+'\x20')+(_0x3dc639?.[_0x22eb53(0x1a9)]||_0x3dc639));throw _0x3dc639;}}async function readEnabledFromDb(){const _0x20f904=_0x3c9ed1;try{const _0x98fc96=await db['get']('SELECT\x20val'+_0x20f904(0x14f)+_0x20f904(0x214)+_0x20f904(0x177)+_0x20f904(0x1e5)+_0x20f904(0x134)+'1');if(!_0x98fc96)return![];const _0x208b55=String(_0x98fc96[_0x20f904(0x1fc)])['toLowerCas'+'e']();return _0x208b55===_0x20f904(0x1c4)||_0x208b55==='1';}catch(_0x9bf733){return warn('['+name+(_0x20f904(0x1f7)+_0x20f904(0x1d6)+'error:\x20')+(_0x9bf733?.[_0x20f904(0x1a9)]||_0x9bf733)),![];}}async function saveEnabledToDb(_0x22f2c5){const _0x58fc18=_0x3c9ed1;try{const _0x5599e8=_0x22f2c5?_0x58fc18(0x1c4):'false',_0x554cdc=Math[_0x58fc18(0x1e9)](Date[_0x58fc18(0x142)]()/(-0x201*-0xd+0x15c5+-0x2bea));return await db[_0x58fc18(0x1f9)]('INSERT\x20INT'+_0x58fc18(0x1d9)+'t_prefs\x20(k'+'ey,\x20value,'+'\x20updated_a'+_0x58fc18(0x16d)+'(\x27enabled\x27'+_0x58fc18(0x206)+'\x20\x20\x20\x20ON\x20CON'+_0x58fc18(0x1dd)+_0x58fc18(0x1b8)+'\x20SET\x20value'+_0x58fc18(0x1f2)+_0x58fc18(0x15d)+'ated_at=ex'+_0x58fc18(0x176)+_0x58fc18(0x17a),[_0x5599e8,_0x554cdc]),info('['+name+(_0x58fc18(0x1b3)+'abled=')+_0x5599e8),!![];}catch(_0x2fdd73){const _0x46dc15=String(_0x2fdd73?.[_0x58fc18(0x1a9)]||'')[_0x58fc18(0x213)+'e']();if(_0x46dc15[_0x58fc18(0x171)](_0x58fc18(0x19a)+'umn')||_0x46dc15[_0x58fc18(0x171)](_0x58fc18(0x157)))try{return await db[_0x58fc18(0x1f9)](_0x58fc18(0x18f)+_0x58fc18(0x16c)+_0x58fc18(0x1bd)+_0x58fc18(0x1b2)+_0x58fc18(0x145)+')\x20VALUES\x20('+'\x27enabled\x27,'+_0x58fc18(0x165),[val]),info('['+name+(']\x20saved\x20en'+_0x58fc18(0x201))+val+(_0x58fc18(0x1ca)+'\x20without\x20u'+_0x58fc18(0x1bc))),!![];}catch(_0x58b2f3){return warn('['+name+(_0x58fc18(0x1ed)+_0x58fc18(0x187)+_0x58fc18(0x212)+_0x58fc18(0x1be))+(_0x58b2f3?.[_0x58fc18(0x1a9)]||_0x58b2f3)),![];}return warn('['+name+(']\x20saveEnab'+_0x58fc18(0x1bb)+_0x58fc18(0x183))+(_0x2fdd73?.['message']||_0x2fdd73)),![];}}function pickReactionEmoji(){const _0x1f5dd0=_0x3c9ed1;if(!Array['isArray'](CFG[_0x1f5dd0(0x17b)])||CFG[_0x1f5dd0(0x17b)][_0x1f5dd0(0x15e)]===-0x31*0x7+-0x1*0x6a3+0x1*0x7fa)return null;return CFG[_0x1f5dd0(0x17b)][Math[_0x1f5dd0(0x1e9)](Math[_0x1f5dd0(0x15c)]()*CFG[_0x1f5dd0(0x17b)][_0x1f5dd0(0x15e)])];}async function sendStatusReaction(_0x27b58b,_0x34b323,_0x22f671){const _0x13c98f=_0x3c9ed1;if(!_0x27b58b||!_0x27b58b[_0x13c98f(0x150)]||!_0x34b323)return![];const _0x583b59=_0x27b58b['key'][_0x13c98f(0x179)],_0x1e9f77=_0x27b58b[_0x13c98f(0x150)][_0x13c98f(0x210)+'t'];try{const _0x557bbf={};if(_0x1e9f77||_0x22f671)_0x557bbf[_0x13c98f(0x172)+'ist']=[_0x1e9f77,_0x22f671][_0x13c98f(0x1ec)](Boolean);if(botRef&&botRef[_0x13c98f(0x14a)]&&typeof botRef[_0x13c98f(0x14a)][_0x13c98f(0x1d1)+'e']==='function')return await botRef[_0x13c98f(0x14a)][_0x13c98f(0x1d1)+'e'](_0x583b59,{'react':{'key':_0x27b58b['key'],'text':_0x34b323}},_0x557bbf),!![];else return botRef&&typeof botRef[_0x13c98f(0x1d1)+'e']===_0x13c98f(0x1f3)?(await botRef['sendMessag'+'e'](_0x583b59,{'react':{'key':_0x27b58b[_0x13c98f(0x150)],'text':_0x34b323}},_0x557bbf),!![]):(warn('['+name+(_0x13c98f(0x188)+_0x13c98f(0x17e)+_0x13c98f(0x18b)+_0x13c98f(0x215)+_0x13c98f(0x186))),![]);}catch(_0x5d17b4){return warn('['+name+(_0x13c98f(0x194)+_0x13c98f(0x1c0)+_0x13c98f(0x170))+(_0x5d17b4?.[_0x13c98f(0x1a9)]||_0x5d17b4)),![];}}function createMessageHandler(){return async function _0x1a0298(_0x397856){const _0x32e41d=_0x2921;try{if(shuttingDown)return;refreshConfig();const _0x33a999=await readEnabledFromDb();if(!_0x33a999)return;const {messages:_0x2767ac}=_0x397856||{};if(!Array['isArray'](_0x2767ac)||_0x2767ac['length']===-0x1965*0x1+0x1f*0x84+0x969)return;const _0x6072b5=Date[_0x32e41d(0x142)](),_0xc038a=getBotJid();if(!_0xc038a&&CFG[_0x32e41d(0x1d4)+'_USER'])return;for(const _0x45a96b of _0x2767ac){try{if(!_0x45a96b||!_0x45a96b['key'])continue;if(_0x45a96b[_0x32e41d(0x150)]['remoteJid']!==_0x32e41d(0x1c1)+_0x32e41d(0x1a3))continue;if(_0x6072b5-lastReactionTime<Number(CFG[_0x32e41d(0x196)+_0x32e41d(0x139)]||FALLBACKS[_0x32e41d(0x196)+_0x32e41d(0x139)]))continue;const _0x5f8418=pickReactionEmoji();if(!_0x5f8418)continue;const _0x5ecd9a=await sendStatusReaction(_0x45a96b,_0x5f8418,_0xc038a);_0x5ecd9a&&(lastReactionTime=Date[_0x32e41d(0x142)](),info('['+name+']\x20reacted\x20'+_0x5f8418+(_0x32e41d(0x20d)+_0x32e41d(0x19c))+(_0x45a96b[_0x32e41d(0x150)][_0x32e41d(0x210)+'t']||'[unknown]')),await new Promise(_0x3028b4=>setTimeout(_0x3028b4,-0x1a41+-0x3*-0xbbe+-0x705)));}catch(_0x4fe9d1){warn('['+name+(_0x32e41d(0x143)+_0x32e41d(0x1ee)+'r:\x20')+(_0x4fe9d1?.[_0x32e41d(0x1a9)]||_0x4fe9d1));}}}catch(_0x43c417){warn('['+name+(_0x32e41d(0x154)+_0x32e41d(0x1cf)+'ndler\x20erro'+_0x32e41d(0x208))+(_0x43c417?.[_0x32e41d(0x1a9)]||_0x43c417));}};}const processedCmdKeys=new Map(),CMD_DEDUPE_TTL_MS=(-0x1951+-0x1784+0x30f3)*(0x121*-0x11+0x1*-0x26b4+-0x1*-0x3dcd);function markCmdProcessed(_0x5a1816){const _0x151b18=_0x3c9ed1;if(!_0x5a1816)return;if(processedCmdKeys[_0x151b18(0x182)](_0x5a1816))try{clearTimeout(processedCmdKeys[_0x151b18(0x193)](_0x5a1816));}catch(_0x257811){};const _0x380577=setTimeout(()=>processedCmdKeys[_0x151b18(0x168)](_0x5a1816),CMD_DEDUPE_TTL_MS);processedCmdKeys[_0x151b18(0x158)](_0x5a1816,_0x380577);}function isCmdProcessed(_0x346307){const _0x3389bc=_0x3c9ed1;return _0x346307&&processedCmdKeys[_0x3389bc(0x182)](_0x346307);}export async function onMessage(_0x15bfcc){const _0x1d5a07=_0x3c9ed1;try{if(!_0x15bfcc||!_0x15bfcc[_0x1d5a07(0x150)]||!_0x15bfcc[_0x1d5a07(0x1a9)]||!_0x15bfcc[_0x1d5a07(0x1dc)])return;if(isJidGroup(_0x15bfcc[_0x1d5a07(0x150)]['remoteJid']))return;const _0x53d7e1=_0x15bfcc[_0x1d5a07(0x150)][_0x1d5a07(0x1e3)],_0x55e51c=await isSudo(botRef,_0x15bfcc)[_0x1d5a07(0x1d7)](()=>![]);if(!_0x53d7e1&&!_0x55e51c)return;let _0x37dd9d;if(_0x53d7e1){_0x37dd9d=getBotJid();if(!_0x37dd9d){warn('['+name+(_0x1d5a07(0x167)+_0x1d5a07(0x20c)+_0x1d5a07(0x16e)+'e\x20bot\x20JID\x20'+'is\x20not\x20ava'+_0x1d5a07(0x15b)));return;}}else _0x37dd9d=_0x15bfcc[_0x1d5a07(0x150)][_0x1d5a07(0x179)];const _0x539b37=String(_0x15bfcc[_0x1d5a07(0x150)][_0x1d5a07(0x179)]||'')+'::'+String(_0x15bfcc[_0x1d5a07(0x150)]['id']||_0x15bfcc[_0x1d5a07(0x150)][_0x1d5a07(0x210)+'t']||'');if(isCmdProcessed(_0x539b37))return;markCmdProcessed(_0x539b37);const _0x19fb8c=typeof _0x15bfcc[_0x1d5a07(0x133)]==='string'&&_0x15bfcc[_0x1d5a07(0x133)][_0x1d5a07(0x1c5)]()[_0x1d5a07(0x15e)]?_0x15bfcc[_0x1d5a07(0x133)]['trim']():function _0xe712af(_0x5e0597){const _0x59ca38=_0x1d5a07;if(!_0x5e0597||!_0x5e0597[_0x59ca38(0x1a9)])return'';const _0x20de00=_0x5e0597[_0x59ca38(0x1a9)];if(_0x20de00[_0x59ca38(0x17f)+'on'])return _0x20de00[_0x59ca38(0x17f)+'on'];if(_0x20de00[_0x59ca38(0x1f1)+_0x59ca38(0x1cb)]?.['text'])return _0x20de00[_0x59ca38(0x1f1)+'xtMessage'][_0x59ca38(0x133)];if(_0x20de00[_0x59ca38(0x1e4)+'ge']?.[_0x59ca38(0x135)])return _0x20de00['imageMessa'+'ge'][_0x59ca38(0x135)];if(_0x20de00['videoMessa'+'ge']?.['caption'])return _0x20de00[_0x59ca38(0x216)+'ge'][_0x59ca38(0x135)];if(_0x20de00['buttonsRes'+_0x59ca38(0x14b)+'ge']?.[_0x59ca38(0x14d)+'ttonId'])return _0x20de00[_0x59ca38(0x209)+_0x59ca38(0x14b)+'ge'][_0x59ca38(0x14d)+_0x59ca38(0x198)];if(_0x20de00[_0x59ca38(0x19f)+_0x59ca38(0x147)]?.[_0x59ca38(0x1a7)+_0x59ca38(0x1fb)]?.['selectedRo'+_0x59ca38(0x1a0)])return _0x20de00[_0x59ca38(0x19f)+_0x59ca38(0x147)][_0x59ca38(0x1a7)+_0x59ca38(0x1fb)]['selectedRo'+_0x59ca38(0x1a0)];return'';}(_0x15bfcc)||'';if(!_0x19fb8c)return;const _0x4e757e=(_0x19fb8c['split'](/\r?\n/)[-0x230b+0x44a*-0x7+-0x4111*-0x1]||'')[_0x1d5a07(0x1c5)](),_0x3068a4=_0x4e757e[_0x1d5a07(0x197)](/\s+/),_0x36567e=(_0x3068a4[0x196f+0x1*0x905+-0x2274]||'')['toLowerCas'+'e']();if(!commands[_0x1d5a07(0x171)](_0x36567e))return;const _0x5a1319=(_0x3068a4[0x1cb6+-0xcd*-0x3+0x2*-0xf8e]||'')[_0x1d5a07(0x213)+'e']();if(['on',_0x1d5a07(0x178),_0x1d5a07(0x1c4),'1'][_0x1d5a07(0x171)](_0x5a1319)){const _0x5f4eaa=await saveEnabledToDb(!![]);if(_0x5f4eaa)await sendConfirmation(_0x37dd9d,_0x1d5a07(0x1b0)+_0x1d5a07(0x1d8));else await sendConfirmation(_0x37dd9d,_0x1d5a07(0x1b0)+_0x1d5a07(0x1e8)+_0x1d5a07(0x138)+_0x1d5a07(0x160));return;}if([_0x1d5a07(0x1ae),_0x1d5a07(0x175),_0x1d5a07(0x1f0),'0'][_0x1d5a07(0x171)](_0x5a1319)){const _0x3af7d6=await saveEnabledToDb(![]);if(_0x3af7d6)await sendConfirmation(_0x37dd9d,_0x1d5a07(0x1b0)+_0x1d5a07(0x211)+'.');else await sendConfirmation(_0x37dd9d,_0x1d5a07(0x1b0)+_0x1d5a07(0x1e8)+_0x1d5a07(0x153)+_0x1d5a07(0x1bf)+'.');return;}if(_0x5a1319==='status'||_0x5a1319===_0x1d5a07(0x141)||!_0x5a1319){const _0x3db767=await readEnabledFromDb(),_0x3eb12f=_0x3db767?_0x1d5a07(0x162):'DISABLED';await sendConfirmation(_0x37dd9d,'*AutoReact'+'Status\x20(PM'+_0x1d5a07(0x20b)+'urrent\x20Sta'+'te:\x20*'+_0x3eb12f+(_0x1d5a07(0x164)+'rval\x20(ms):'+'\x20')+CFG['MIN_INTERV'+'AL_MS']+(_0x1d5a07(0x1b1)+_0x1d5a07(0x1c6))+CFG[_0x1d5a07(0x17b)][_0x1d5a07(0x20f)]('\x20')+(_0x1d5a07(0x20e)+_0x1d5a07(0x205))+CFG[_0x1d5a07(0x1d4)+_0x1d5a07(0x16f)]);return;}await sendConfirmation(_0x37dd9d,_0x1d5a07(0x1e0)+_0x1d5a07(0x207)+('\x20autoreact'+'\x20on|enable'+_0x1d5a07(0x14e)+_0x1d5a07(0x192)+_0x1d5a07(0x189)+_0x1d5a07(0x1f4))+(_0x1d5a07(0x1b4)+_0x1d5a07(0x140)+'le\x20\x20->\x20dis'+_0x1d5a07(0x1ac)+_0x1d5a07(0x1fe)+'tuses\x0a')+('\x20autoreact'+_0x1d5a07(0x161)+_0x1d5a07(0x1cd)+_0x1d5a07(0x174)+_0x1d5a07(0x204)+'ig'));}catch(_0x5c1011){warn('['+name+(_0x1d5a07(0x20a)+_0x1d5a07(0x1e7))+(_0x5c1011?.['message']||_0x5c1011));}}async function sendConfirmation(_0x84452a,_0x3c5f73){const _0x238491=_0x3c9ed1;try{if(!_0x84452a)return;if(botRef&&botRef[_0x238491(0x14a)]&&typeof botRef['sock'][_0x238491(0x1d1)+'e']===_0x238491(0x1f3))await botRef[_0x238491(0x14a)][_0x238491(0x1d1)+'e'](_0x84452a,{'text':_0x3c5f73});else botRef&&typeof botRef[_0x238491(0x1d1)+'e']===_0x238491(0x1f3)?await botRef[_0x238491(0x1d1)+'e'](_0x84452a,{'text':_0x3c5f73}):warn('['+name+(_0x238491(0x188)+_0x238491(0x184)+'hod\x20availa'+_0x238491(0x131)+'d\x20confirma'+'tion'));}catch(_0x5c8b3b){warn('['+name+(_0x238491(0x144)+_0x238491(0x1d3)+'ailed:\x20')+(_0x5c8b3b?.[_0x238491(0x1a9)]||_0x5c8b3b));}}export async function initialize(_0x4380ff){const _0x1fc439=_0x3c9ed1;if(!_0x4380ff)throw new Error(_0x1fc439(0x202)+_0x1fc439(0x1ef)+_0x1fc439(0x181)+_0x1fc439(0x1da)+'instance');botRef=_0x4380ff,shuttingDown=![],refreshConfig(),await ensureTable()[_0x1fc439(0x1d7)](_0xf4cadd=>{const _0x391a04=_0x1fc439;warn('['+name+(_0x391a04(0x1db)+'alization\x20'+'failed\x20(en'+_0x391a04(0x1e6)+':\x20')+(_0xf4cadd?.[_0x391a04(0x1a9)]||_0xf4cadd));});const _0x9a35a4=await readEnabledFromDb();messageHandler=createMessageHandler(),startManagedListener({'botRef':botRef,'eventName':_0x1fc439(0x1c7)+_0x1fc439(0x191),'handler':messageHandler,'moduleName':name}),info('['+name+(_0x1fc439(0x1c3)+_0x1fc439(0x1ab)+_0x1fc439(0x1d0)+'led=')+(_0x9a35a4?_0x1fc439(0x1c4):_0x1fc439(0x1f0))+(_0x1fc439(0x159)+_0x1fc439(0x18c))+CFG['MIN_INTERV'+_0x1fc439(0x139)]+(_0x1fc439(0x17c)+'s=')+CFG[_0x1fc439(0x17b)][_0x1fc439(0x20f)]('\x20'));}export async function cleanup(){const _0xf8339f=_0x3c9ed1;try{stopManagedListener(name,_0xf8339f(0x1c7)+_0xf8339f(0x191)),shuttingDown=!![],lastReactionTime=-0x188a+-0x6*-0x232+-0x246*-0x5,messageHandler=null;}catch(_0xb45797){warn('['+name+(']\x20cleanup\x20'+_0xf8339f(0x18d))+(_0xb45797?.[_0xf8339f(0x1a9)]||_0xb45797));}finally{botRef=null,info('['+name+(_0xf8339f(0x13c)+'up'));}}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};