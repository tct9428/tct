function _0x2cfd(_0x3df968,_0x115c26){const _0x426173=_0x2717();return _0x2cfd=function(_0x58cf56,_0x459746){_0x58cf56=_0x58cf56-(0x4ed+-0x1dc1+-0x883*-0x3);let _0x5a8a7d=_0x426173[_0x58cf56];return _0x5a8a7d;},_0x2cfd(_0x3df968,_0x115c26);}const _0xfe1040=_0x2cfd;(function(_0x5bb491,_0x36d81a){const _0x214bc6=_0x2cfd,_0x807a78=_0x5bb491();while(!![]){try{const _0xfa39ff=-parseInt(_0x214bc6(0xef))/(0x168+0x17f9+-0x1960)+-parseInt(_0x214bc6(0x147))/(0x1*0x1058+-0x19b1+0x95b*0x1)*(-parseInt(_0x214bc6(0xce))/(0xf31*0x1+0x11*-0x9b+-0x4e3*0x1))+parseInt(_0x214bc6(0x12a))/(0x7ef*0x1+-0xef2+0x707)*(-parseInt(_0x214bc6(0xec))/(-0x149*-0x13+-0x22f5+0xa8f))+-parseInt(_0x214bc6(0xcf))/(0x241d+0x12a3+-0x36ba)*(-parseInt(_0x214bc6(0xda))/(-0xa31*-0x3+-0x1e16+0x76*-0x1))+-parseInt(_0x214bc6(0x13e))/(-0x1151+0x1632+0x4d9*-0x1)*(parseInt(_0x214bc6(0x145))/(0x1a93+-0x8c3*0x3+-0xd*0x5))+-parseInt(_0x214bc6(0xfe))/(0x2120+0x1c0+-0x22d6)*(parseInt(_0x214bc6(0xd4))/(-0x4*0x93b+0x40f+0x6c*0x4e))+-parseInt(_0x214bc6(0x13a))/(0xe7b+0x2473+-0x32e2)*(-parseInt(_0x214bc6(0x13f))/(-0x2ef*0x1+-0x2470+0x276c));if(_0xfa39ff===_0x36d81a)break;else _0x807a78['push'](_0x807a78['shift']());}catch(_0x3ab963){_0x807a78['push'](_0x807a78['shift']());}}}(_0x2717,0xb93d4+0x6aa61+-0xc5214));import _0x274957 from'path';import{warn,error,info}from'../utils/logger.js';import{db}from'../utils/database.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';export const name=_0xfe1040(0x124)+_0xfe1040(0xf3);export const version=_0xfe1040(0x119);export const priority=0x11f2+0x282*0xe+-0x1189*0x3;export const commands=[_0xfe1040(0x134)];export const configKeys=[_0xfe1040(0x118)+_0xfe1040(0xe3)+_0xfe1040(0x120)+'T','STATUS_AUT'+_0xfe1040(0xe3)+'ONDED_TRIM'+_0xfe1040(0x13c),'STATUS_AUT'+_0xfe1040(0x140)+_0xfe1040(0x101)+_0xfe1040(0xe6)];let CFG={};try{CFG=typeof getConfig===_0xfe1040(0x143)?getConfig()||{}:{};}catch(_0x3011ba){warn('['+name+(']\x20getConfi'+_0xfe1040(0xb7)+'\x20')+(_0x3011ba?.[_0xfe1040(0xf2)]||_0x3011ba)+(_0xfe1040(0x11a)+_0xfe1040(0x105)+'ilt-in\x20def'+_0xfe1040(0x14e))),CFG={};}function toPositiveInt(_0x3044f8,_0xa0025){const _0x3ea95a=_0xfe1040,_0x4e5fb7=Number(_0x3044f8);if(!Number['isFinite'](_0x4e5fb7)||_0x4e5fb7<=-0x1*-0x2677+-0x335*0x3+-0x1a*0x11c)return _0xa0025;return Math[_0x3ea95a(0x102)](_0x4e5fb7);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(-0x1eeb+-0x1ea5+0x3d9a)*(0x2654+0x2b3*-0xc+-0x1f0)*(-0x32f*0x3+-0x61*0x28+-0x1cb5*-0x1)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG[_0xfe1040(0x118)+'OSEND_RESP'+_0xfe1040(0x120)+'T']??(CFG[_0xfe1040(0x118)+_0xfe1040(0xe0)]&&CFG[_0xfe1040(0x118)+_0xfe1040(0xe0)][_0xfe1040(0xed)+_0xfe1040(0x131)]),FALLBACKS[_0xfe1040(0xed)+_0xfe1040(0x131)]),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0xfe1040(0x118)+'OSEND_RESP'+_0xfe1040(0x10d)+'_KEEP']??(CFG['STATUS_AUT'+_0xfe1040(0xe0)]&&CFG[_0xfe1040(0x118)+_0xfe1040(0xe0)]['RESPONDED_'+_0xfe1040(0xf9)]),FALLBACKS[_0xfe1040(0xed)+_0xfe1040(0xf9)]),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG[_0xfe1040(0x118)+_0xfe1040(0x140)+'DOWNLOAD_B'+_0xfe1040(0xe6)]??(CFG[_0xfe1040(0x118)+_0xfe1040(0xe0)]&&CFG['STATUS_AUT'+_0xfe1040(0xe0)][_0xfe1040(0xfb)+_0xfe1040(0x116)+_0xfe1040(0xf5)]),FALLBACKS[_0xfe1040(0xfb)+_0xfe1040(0x116)+_0xfe1040(0xf5)])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0xfe1040(0x134)+_0xfe1040(0x136);let respondedMsgIds=new Set();function trackSent(_0x3b8e44){const _0x38efc7=_0xfe1040;try{const _0x41097b=_0x3b8e44?.['key']?.['id']||_0x3b8e44?.['id']||_0x3b8e44?.[_0x38efc7(0xd9)]&&_0x3b8e44[_0x38efc7(0xd9)][0xa6f*-0x1+-0x1e75+0x28e4]?.[_0x38efc7(0xc0)]?.['id']||Array[_0x38efc7(0xbb)](_0x3b8e44)&&_0x3b8e44[0x1897+-0x60*0x66+0xda9]?.['key']?.['id']||null;if(!_0x41097b)return;respondedMsgIds[_0x38efc7(0xc6)](String(_0x41097b));if(respondedMsgIds[_0x38efc7(0xd3)]>DEFAULTS[_0x38efc7(0xed)+_0x38efc7(0x131)]){const _0x528214=Array['from'](respondedMsgIds);respondedMsgIds=new Set(_0x528214[_0x38efc7(0x15d)](-DEFAULTS['RESPONDED_'+_0x38efc7(0xf9)]));}}catch(_0x1f1548){}}function isOurSentId(_0x2c1dc4){return _0x2c1dc4&&respondedMsgIds['has'](String(_0x2c1dc4));}async function getBaileysHelpers(){const _0x39c0=_0xfe1040;if(_baileysHelpers)return _baileysHelpers;try{const _0x3dc4d3=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x3dc4d3[_0x39c0(0xee)+_0x39c0(0xdd)+_0x39c0(0xf0)]||_0x3dc4d3[_0x39c0(0xdf)]?.[_0x39c0(0xee)+_0x39c0(0xdd)+_0x39c0(0xf0)]};if(!_baileysHelpers[_0x39c0(0xee)+_0x39c0(0xdd)+'essage'])throw new Error(_0x39c0(0xee)+_0x39c0(0xdd)+_0x39c0(0xe2)+_0x39c0(0xd0));return _baileysHelpers;}catch(_0x1ce21e){error(_0x1ce21e,'['+name+(_0x39c0(0x113)+_0x39c0(0x142)+_0x39c0(0x15b)));throw _0x1ce21e;}}async function streamToBuffer(_0x347950){const _0x2bfa52=_0xfe1040,_0x2852ab=[];for await(const _0x5454b5 of _0x347950)_0x2852ab['push'](Buffer['isBuffer'](_0x5454b5)?_0x5454b5:Buffer[_0x2bfa52(0x141)](_0x5454b5));return Buffer['concat'](_0x2852ab);}async function ensureTables(){const _0x17c23d=_0xfe1040;await db[_0x17c23d(0x12e)]('CREATE\x20TAB'+'LE\x20IF\x20NOT\x20'+_0x17c23d(0x128)+PREFS_TABLE+(_0x17c23d(0xbf)+_0x17c23d(0x139)+_0x17c23d(0xf4)+_0x17c23d(0x159)+_0x17c23d(0xbd)+_0x17c23d(0xd6)+_0x17c23d(0x148)+_0x17c23d(0x13b)+_0x17c23d(0xb5)+_0x17c23d(0x10e)+'\x20\x20\x20\x20\x20);'));}function _0x2717(){const _0x474e0f=['status','133592swDXSI',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20','extendedTe','is\x20empty,\x20','sticker','ffer\x20for\x20','mimetype','aults.','psert','id()\x20empty','text','toLowerCas','/send\x20buil','conversati','xtMessage','❌\x20Failed\x20t','uires\x20bot\x20','e\x20error:\x20','Y,\x0a\x20\x20\x20\x20\x20\x20\x20',']\x20no\x20sendM','aileys','off','slice','ilable\x20on\x20','ES\x20(?,\x20?,\x20',']\x20autostat','ssage','\x20INTEGER\x20D','join','g()\x20threw:','\x20bytes\x20(id',']\x20empty\x20bu','?)\x0a\x20\x20\x20\x20\x20\x20\x20','isArray','image','\x20value\x20TEX','video','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','key','s.upsert',']\x20getPref\x20',',\x20cannot\x20r','toUpperCas','cannot\x20for','add','OFF','Status','get','unbind\x20err','contextInf','sendMessag',']\x20setPref\x20','30SLkfBW','9714rSqrVz','\x20available','\x20->\x20','string','size','732259qVwccK','now','T\x20NOT\x20NULL','push','audioMessa','messages','1631hmmXUf','INSERT\x20INT','imageMessa','ntentFromM',']\x20onMessag','default','OSEND','status@bro','essage\x20not','OSEND_RESP','\x20download:','type','YTES_WARN','sage','caption','participan','stickerMes',']\x20cleanup\x20','1317755Qpxakq','RESPONDED_','downloadCo','710493HpgKDf','essage','messages.u','message','osend','PRIMARY\x20KE','ARN','✔️\x20autostat','ward','mentionedJ','TRIM_KEEP','osend.init','MAX_DOWNLO','ded.update','remoteJid','70mIpKRx','ialize\x20req','\x20(key,\x20val','DOWNLOAD_B','floor','us:\x20','o\x20set\x20auto','back\x20to\x20bu',']\x20large\x20','SELECT\x20val',']\x20forwarde','ror:\x20','attempt\x20fa','document','eply','ONDED_TRIM','EFAULT\x200\x0a\x20','listener\x20f','e:\x20getBotJ','ue,\x20update','documentMe',']\x20failed\x20t','pushName','d\x20status\x20','AD_BYTES_W','videoMessa','STATUS_AUT','1.2.0','.\x20Falling\x20',']\x20raw\x20per-','cluded.val','length','adcast','@g.us','ONDED_LIMI','audio','\x20status\x20','botRef','status_aut','us\x20toggled','fileName','\x20ON\x20CONFLI','EXISTS\x20','sock','4PJnPLs','\x20UPDATE\x20SE',']\x20register','or:\x20','exec','split','fromMe','LIMIT',']\x20download','trim','autostatus','clear','_prefs','d_at=exclu','d\x20failed:\x20','\x20key\x20TEXT\x20','1080XivhOt','updated_at','_KEEP','endsWith','8LZOuVX','123227Xfxyaf','OSEND_MAX_','from','o\x20import\x20B','function','toString','631269hRPGwv'];_0x2717=function(){return _0x474e0f;};return _0x2717();}async function getPref(_0x3edf34){const _0x959c5d=_0xfe1040;try{const _0x2181b1=await db[_0x959c5d(0xc9)](_0x959c5d(0x107)+'ue\x20FROM\x20'+PREFS_TABLE+('\x20WHERE\x20key'+'\x20=\x20?'),[_0x3edf34]);return _0x2181b1?_0x2181b1['value']:null;}catch(_0x8f7388){return warn('['+name+(_0x959c5d(0xc2)+'error:\x20')+(_0x8f7388?.[_0x959c5d(0xf2)]||_0x8f7388)),null;}}async function setPref(_0x104d61,_0x893fe5){const _0x571b50=_0xfe1040;try{const _0x52e191=Math[_0x571b50(0x102)](Date[_0x571b50(0xd5)]()/(0x1*0x85b+-0x14e5+0x1a5*0xa));return await db['run'](_0x571b50(0xdb)+'O\x20'+PREFS_TABLE+(_0x571b50(0x100)+_0x571b50(0x111)+'d_at)\x20VALU'+_0x571b50(0x15f)+_0x571b50(0xba)+_0x571b50(0x127)+'CT(key)\x20DO'+_0x571b50(0x12b)+'T\x20value=ex'+_0x571b50(0x11c)+_0x571b50(0x111)+_0x571b50(0x137)+_0x571b50(0xfc)+'d_at;'),[_0x104d61,String(_0x893fe5),_0x52e191]),!![];}catch(_0x330867){return warn('['+name+(_0x571b50(0xcd)+'failed:\x20')+(_0x330867?.['message']||_0x330867)),![];}}async function isEnabled(){const _0xdf9190=await getPref('enabled');return _0xdf9190==='1'||_0xdf9190==='true';}function detectContentAndNode(_0x4f10ee){const _0x4c6853=_0xfe1040,_0xb70102=_0x4f10ee?.[_0x4c6853(0xf2)]||{};if(_0xb70102['imageMessa'+'ge'])return{'type':_0x4c6853(0xbc),'node':_0xb70102[_0x4c6853(0xdc)+'ge']};if(_0xb70102[_0x4c6853(0x117)+'ge'])return{'type':_0x4c6853(0xbe),'node':_0xb70102['videoMessa'+'ge']};if(_0xb70102[_0x4c6853(0xd8)+'ge'])return{'type':_0x4c6853(0x121),'node':_0xb70102['audioMessa'+'ge']};if(_0xb70102[_0x4c6853(0x112)+_0x4c6853(0x161)])return{'type':_0x4c6853(0x10b),'node':_0xb70102['documentMe'+_0x4c6853(0x161)]};if(_0xb70102[_0x4c6853(0xea)+_0x4c6853(0xe7)])return{'type':_0x4c6853(0x14b),'node':_0xb70102[_0x4c6853(0xea)+_0x4c6853(0xe7)]};if(_0xb70102[_0x4c6853(0x149)+_0x4c6853(0x155)]?.['text'])return{'type':_0x4c6853(0x151),'text':_0xb70102['extendedTe'+_0x4c6853(0x155)]['text']};if(_0xb70102[_0x4c6853(0x154)+'on'])return{'type':_0x4c6853(0x151),'text':_0xb70102[_0x4c6853(0x154)+'on']};return null;}async function buildImmediatePayload(_0x2a2c72){const _0x1f55e4=_0xfe1040,_0x50a452=detectContentAndNode(_0x2a2c72);if(!_0x50a452)return null;const _0x3ae9ce=_0x2a2c72?.[_0x1f55e4(0xc0)]?.[_0x1f55e4(0xe9)+'t']||'',_0x4c7069=_0x2a2c72?.[_0x1f55e4(0x114)]||'',_0xcab497=_0x3ae9ce?_0x3ae9ce[_0x1f55e4(0x12f)]('@')[-0xe47*-0x2+-0x29*0x3b+-0x131b]:_0x4c7069||'',_0x44bd1e=_0xcab497?_0xcab497+'\x20•\x20Status':_0x1f55e4(0xc8);if(_0x50a452['type']==='text'){const _0x27a013=_0x50a452[_0x1f55e4(0x151)]||'',_0x2e6e86=_0xcab497?_0xcab497+':\x20'+_0x27a013:_0x27a013,_0x4711ef={'text':_0x2e6e86};if(_0x3ae9ce)_0x4711ef[_0x1f55e4(0xcb)+'o']={'mentionedJid':[_0x3ae9ce]};return _0x4711ef;}const {downloadContentFromMessage:_0x1a66e2}=await getBaileysHelpers(),_0x3f9852=_0x50a452['node'],_0x4dc386=_0x50a452[_0x1f55e4(0xe5)];try{const _0x2be474=await _0x1a66e2(_0x3f9852,_0x4dc386),_0x3f48e4=await streamToBuffer(_0x2be474);if(!_0x3f48e4||!_0x3f48e4['length'])return warn('['+name+(_0x1f55e4(0xb9)+_0x1f55e4(0x14c))+_0x4dc386+_0x1f55e4(0x122)+(_0x2a2c72?.['key']?.['id']||'')),null;_0x3f48e4['length']>DEFAULTS[_0x1f55e4(0xfb)+_0x1f55e4(0x116)+_0x1f55e4(0xf5)]&&warn('['+name+_0x1f55e4(0x106)+_0x4dc386+(_0x1f55e4(0xe4)+'\x20')+_0x3f48e4[_0x1f55e4(0x11d)]+(_0x1f55e4(0xb8)+'\x20')+(_0x2a2c72?.[_0x1f55e4(0xc0)]?.['id']||'')+')');let _0x410f86=null;const _0x10ea88=(_0x3f9852?.[_0x1f55e4(0x14d)]||'')[_0x1f55e4(0x152)+'e']();if(_0x4dc386===_0x1f55e4(0xbc)){const _0x47346f=[];if(_0x3f9852?.[_0x1f55e4(0xe8)])_0x47346f[_0x1f55e4(0xd7)](_0x3f9852['caption']);_0x47346f[_0x1f55e4(0xd7)](_0x44bd1e),_0x410f86={'image':_0x3f48e4,'caption':_0x47346f[_0x1f55e4(0xb6)]('\x0a'),'mimetype':_0x10ea88||undefined};}else{if(_0x4dc386==='video'){const _0x2d2e05=[];if(_0x3f9852?.[_0x1f55e4(0xe8)])_0x2d2e05['push'](_0x3f9852['caption']);_0x2d2e05[_0x1f55e4(0xd7)](_0x44bd1e),_0x410f86={'video':_0x3f48e4,'caption':_0x2d2e05[_0x1f55e4(0xb6)]('\x0a'),'mimetype':_0x10ea88||undefined};}else{if(_0x4dc386===_0x1f55e4(0x121))_0x410f86={'audio':_0x3f48e4,'ptt':!!_0x3f9852?.['ptt'],'mimetype':_0x10ea88||undefined};else{if(_0x4dc386===_0x1f55e4(0x10b)){const _0x38001b=_0x3f9852?.[_0x1f55e4(0x126)]||''+(_0x2a2c72?.['key']?.['id']||'status');_0x410f86={'document':_0x3f48e4,'fileName':_0x38001b,'mimetype':_0x10ea88||undefined,'caption':_0x44bd1e};}else _0x4dc386===_0x1f55e4(0x14b)&&(_0x410f86={'sticker':_0x3f48e4});}}}return _0x410f86&&_0x3ae9ce&&(_0x410f86['contextInf'+'o']=_0x410f86[_0x1f55e4(0xcb)+'o']||{},_0x410f86['contextInf'+'o'][_0x1f55e4(0xf8)+'id']=[_0x3ae9ce]),_0x410f86;}catch(_0x31b74c){return warn('['+name+(_0x1f55e4(0x132)+_0x1f55e4(0x153)+_0x1f55e4(0x138))+(_0x31b74c?.['message']||_0x31b74c)),null;}}async function handleStatusAndForward(_0x10f261){const _0x218e0e=_0xfe1040;try{if(!_0x10f261||!_0x10f261[_0x218e0e(0xc0)])return;const _0x5bb943=String(_0x10f261[_0x218e0e(0xc0)][_0x218e0e(0xfd)]||'')[_0x218e0e(0x152)+'e']();if(_0x5bb943!==_0x218e0e(0xe1)+_0x218e0e(0x11e))return;if(!await isEnabled())return;const _0x3d144c=getBotJid();if(!_0x3d144c){warn('['+name+(']\x20bot\x20JID\x20'+_0x218e0e(0x14a)+_0x218e0e(0xc5)+_0x218e0e(0xf7)));return;}const _0x52d808=await buildImmediatePayload(_0x10f261);if(!_0x52d808)return;let _0x2ba5d4=null;if(botRef&&botRef[_0x218e0e(0x129)]&&typeof botRef['sock'][_0x218e0e(0xcc)+'e']===_0x218e0e(0x143))_0x2ba5d4=await botRef[_0x218e0e(0x129)][_0x218e0e(0xcc)+'e'](_0x3d144c,_0x52d808);else{if(botRef&&typeof botRef[_0x218e0e(0xcc)+'e']===_0x218e0e(0x143))_0x2ba5d4=await botRef[_0x218e0e(0xcc)+'e'](_0x3d144c,_0x52d808);else{warn('['+name+(_0x218e0e(0x15a)+'essage\x20ava'+_0x218e0e(0x15e)+_0x218e0e(0x123)));return;}}trackSent(_0x2ba5d4),info('['+name+(_0x218e0e(0x108)+_0x218e0e(0x115))+(_0x10f261['key']['id']||'')+_0x218e0e(0xd1)+_0x3d144c);}catch(_0x1fe169){warn('['+name+(']\x20handleSt'+'atusAndFor'+'ward\x20error'+':\x20')+(_0x1fe169?.['message']||_0x1fe169));}}async function rawMessagesUpsertHandler({messages:_0x3cef45}){const _0x3c67c4=_0xfe1040;if(!Array['isArray'](_0x3cef45))return;if(!await isEnabled())return;for(const _0x566dd4 of _0x3cef45){try{if(!_0x566dd4||!_0x566dd4[_0x3c67c4(0xc0)])continue;if(isOurSentId(_0x566dd4[_0x3c67c4(0xc0)]?.['id']))continue;if(_0x566dd4['key'][_0x3c67c4(0x130)])continue;const _0x4e3b7a=String(_0x566dd4[_0x3c67c4(0xc0)][_0x3c67c4(0xfd)]||'')[_0x3c67c4(0x152)+'e']();_0x4e3b7a===_0x3c67c4(0xe1)+_0x3c67c4(0x11e)&&await handleStatusAndForward(_0x566dd4)['catch'](_0x259fea=>warn('['+name+(']\x20forward\x20'+_0x3c67c4(0x10a)+'iled:\x20')+(_0x259fea?.[_0x3c67c4(0xf2)]||_0x259fea)));}catch(_0x27665d){warn('['+name+(_0x3c67c4(0x11b)+'message\x20er'+_0x3c67c4(0x109))+(_0x27665d?.[_0x3c67c4(0xf2)]||_0x27665d));}}}function getMessageTextFromCtx(_0x51fe67){const _0x5757cc=_0xfe1040;if(!_0x51fe67||!_0x51fe67[_0x5757cc(0xf2)])return'';const _0x18d356=_0x51fe67[_0x5757cc(0xf2)];if(_0x18d356[_0x5757cc(0x154)+'on'])return _0x18d356[_0x5757cc(0x154)+'on'];if(_0x18d356[_0x5757cc(0x149)+_0x5757cc(0x155)]?.[_0x5757cc(0x151)])return _0x18d356['extendedTe'+_0x5757cc(0x155)][_0x5757cc(0x151)];if(_0x18d356[_0x5757cc(0xdc)+'ge']?.['caption'])return _0x18d356[_0x5757cc(0xdc)+'ge'][_0x5757cc(0xe8)];if(_0x18d356[_0x5757cc(0x117)+'ge']?.[_0x5757cc(0xe8)])return _0x18d356['videoMessa'+'ge']['caption'];return'';}export async function onMessage(_0x1c8566,_0x4618a){const _0x4e092e=_0xfe1040;try{if(!_0x1c8566||!_0x1c8566[_0x4e092e(0xc0)]||!_0x1c8566[_0x4e092e(0xf2)]||!_0x4618a)return;const _0x5dd2d9=_0x1c8566[_0x4e092e(0xc0)]['remoteJid'];if(typeof _0x5dd2d9===_0x4e092e(0xd2)&&_0x5dd2d9[_0x4e092e(0x13d)](_0x4e092e(0x11f)))return;if(!_0x1c8566['key'][_0x4e092e(0x130)])return;if(_0x1c8566['key']['id']&&isOurSentId(_0x1c8566[_0x4e092e(0xc0)]['id']))return;const _0x3ec7e4=typeof _0x1c8566[_0x4e092e(0x151)]===_0x4e092e(0xd2)&&_0x1c8566[_0x4e092e(0x151)][_0x4e092e(0x133)]()[_0x4e092e(0x11d)]?_0x1c8566[_0x4e092e(0x151)]['trim']():'',_0x138fac=(getMessageTextFromCtx(_0x1c8566)||'')[_0x4e092e(0x144)]()[_0x4e092e(0x133)](),_0x1fae84=(_0x3ec7e4||_0x138fac||'')['split'](/\r?\n/)[0xc3+0x11d1*0x2+0x533*-0x7][_0x4e092e(0x133)]();if(!_0x1fae84)return;const _0x2118ab=/^autostatus(?:\s+(on|off|show))?$/i['exec'](_0x1fae84);if(!_0x2118ab)return;const _0x233a92=(_0x2118ab[0x22ee+-0x2498+0x1ab]||'show')[_0x4e092e(0x152)+'e'](),_0x5f3c15=getBotJid();if(!_0x5f3c15){warn('['+name+(']\x20onMessag'+_0x4e092e(0x110)+_0x4e092e(0x150)+_0x4e092e(0xc3)+_0x4e092e(0x10c)));return;}if(_0x233a92==='show'){const _0x3a0a8b=await isEnabled(),_0xc10148=_0x4e092e(0xf6)+_0x4e092e(0x103)+(_0x3a0a8b?'ON':_0x4e092e(0xc7)),_0x360b98=await(botRef?.[_0x4e092e(0x129)]?.[_0x4e092e(0xcc)+'e']?botRef[_0x4e092e(0x129)][_0x4e092e(0xcc)+'e'](_0x5f3c15,{'text':_0xc10148}):botRef['sendMessag'+'e'](_0x5f3c15,{'text':_0xc10148}));trackSent(_0x360b98);return;}if(_0x233a92==='on'||_0x233a92===_0x4e092e(0x15c)){const _0x17a848=_0x233a92==='on'?'1':'0',_0x3e005d=await setPref('enabled',_0x17a848),_0x52bab7=_0x3e005d?_0x4e092e(0xf6)+'us\x20set\x20to\x20'+_0x233a92[_0x4e092e(0xc4)+'e']():_0x4e092e(0x156)+_0x4e092e(0x104)+_0x4e092e(0x146),_0x1cda23=await(botRef?.[_0x4e092e(0x129)]?.['sendMessag'+'e']?botRef[_0x4e092e(0x129)]['sendMessag'+'e'](_0x5f3c15,{'text':_0x52bab7}):botRef[_0x4e092e(0xcc)+'e'](_0x5f3c15,{'text':_0x52bab7}));trackSent(_0x1cda23),info('['+name+(_0x4e092e(0x160)+_0x4e092e(0x125)+'\x20->\x20')+_0x233a92['toUpperCas'+'e']());return;}}catch(_0x1d8dfe){warn('['+name+(_0x4e092e(0xde)+_0x4e092e(0x158))+(_0x1d8dfe?.[_0x4e092e(0xf2)]||_0x1d8dfe));}}export async function initialize(_0x5377b9){const _0x42ebc3=_0xfe1040;if(!_0x5377b9)throw new Error(_0x42ebc3(0x124)+_0x42ebc3(0xfa)+_0x42ebc3(0xff)+_0x42ebc3(0x157)+'instance');botRef=_0x5377b9,await ensureTables(),_0x5377b9['on'](_0x42ebc3(0xf1)+_0x42ebc3(0x14f),rawMessagesUpsertHandler),info('['+name+(_0x42ebc3(0x12c)+'ed\x20stable\x20'+_0x42ebc3(0x10f)+'or\x20message'+_0x42ebc3(0xc1)));}export async function cleanup(){const _0x54832a=_0xfe1040;try{botRef&&typeof botRef[_0x54832a(0x15c)]===_0x54832a(0x143)&&botRef[_0x54832a(0x15c)](_0x54832a(0xf1)+_0x54832a(0x14f),rawMessagesUpsertHandler);}catch(_0x44de2c){warn('['+name+(_0x54832a(0xeb)+_0x54832a(0xca)+_0x54832a(0x12d))+(_0x44de2c?.[_0x54832a(0xf2)]||_0x44de2c));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x54832a(0x135)]===_0x54832a(0x143))respondedMsgIds[_0x54832a(0x135)]();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};