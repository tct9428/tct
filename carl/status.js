const _0x4af59d=_0x5e24;(function(_0x110a98,_0x5721aa){const _0x1322c7=_0x5e24,_0x521e4d=_0x110a98();while(!![]){try{const _0x3f0eb6=parseInt(_0x1322c7(0xca))/(-0x26c6+0xd*0x39+0x23e2)*(-parseInt(_0x1322c7(0x152))/(-0x2142+-0x1d2d+0x2b7*0x17))+-parseInt(_0x1322c7(0xb5))/(0x4*-0x6b+-0x402*-0x8+0x1*-0x1e61)*(-parseInt(_0x1322c7(0x103))/(-0x2*0x766+0x14e*0x1b+-0x146a))+parseInt(_0x1322c7(0x101))/(0x36d*-0x1+0x209a+-0x1d28)+parseInt(_0x1322c7(0x125))/(0x1337+-0x1*0x1999+-0xa*-0xa4)*(parseInt(_0x1322c7(0xd5))/(0x65b*-0x2+-0x1*0xb0f+0x17cc))+parseInt(_0x1322c7(0xe3))/(0xef*-0x6+0x1*0x1355+-0x1*0xdb3)+parseInt(_0x1322c7(0xba))/(0x1c6b*0x1+0x26a4+0x17*-0x2ea)*(-parseInt(_0x1322c7(0xe4))/(-0x240b+0x23e9+-0x4*-0xb))+-parseInt(_0x1322c7(0xcb))/(0x1*-0x1e19+-0xde4+0x2c08);if(_0x3f0eb6===_0x5721aa)break;else _0x521e4d['push'](_0x521e4d['shift']());}catch(_0x22ac14){_0x521e4d['push'](_0x521e4d['shift']());}}}(_0x2f27,-0xbd8f*0x8+-0x13009e+0x266155));import _0x233f15 from'path';import{warn,error,info}from'../utils/logger.js';import{db}from'../utils/database.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';export const name='status_aut'+_0x4af59d(0x126);export const version=_0x4af59d(0xc6);function _0x5e24(_0x7e0a1b,_0x16f9dc){const _0x4f0797=_0x2f27();return _0x5e24=function(_0x2299fd,_0x340bd5){_0x2299fd=_0x2299fd-(-0x2423+0x2*-0x10fd+0x46d0);let _0x1442b4=_0x4f0797[_0x2299fd];return _0x1442b4;},_0x5e24(_0x7e0a1b,_0x16f9dc);}export const priority=-0x1c9*-0x2+0x1679*-0x1+0x135a;export const commands=['autostatus'];export const configKeys=[_0x4af59d(0xf4)+'OSEND_RESP'+_0x4af59d(0xf6)+'T',_0x4af59d(0xf4)+_0x4af59d(0xf0)+_0x4af59d(0x111)+_0x4af59d(0x137),_0x4af59d(0xf4)+_0x4af59d(0xd8)+_0x4af59d(0xeb)+_0x4af59d(0x132)];let CFG={};try{CFG=typeof getConfig===_0x4af59d(0xc0)?getConfig()||{}:{};}catch(_0xd73619){warn('['+name+(']\x20getConfi'+_0x4af59d(0xef)+'\x20')+(_0xd73619?.[_0x4af59d(0xfd)]||_0xd73619)+(_0x4af59d(0xc2)+_0x4af59d(0x109)+'ilt-in\x20def'+'aults.')),CFG={};}function toPositiveInt(_0x3510e5,_0x361f9e){const _0x23460f=_0x4af59d,_0x319e18=Number(_0x3510e5);if(!Number[_0x23460f(0x14e)](_0x319e18)||_0x319e18<=0x1*0x383+0x1de2+-0x2165)return _0x361f9e;return Math[_0x23460f(0x102)](_0x319e18);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(0xc1f*-0x2+-0xcb*-0x2b+-0x9d1)*(-0x18c1*0x1+0x1df7+-0xa*0x1f)*(-0x13fe+-0x2165+0xf9*0x3b)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG[_0x4af59d(0xf4)+_0x4af59d(0xf0)+_0x4af59d(0xf6)+'T']??(CFG[_0x4af59d(0xf4)+_0x4af59d(0x156)]&&CFG[_0x4af59d(0xf4)+_0x4af59d(0x156)][_0x4af59d(0x119)+'LIMIT']),FALLBACKS['RESPONDED_'+'LIMIT']),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG['STATUS_AUT'+_0x4af59d(0xf0)+'ONDED_TRIM'+_0x4af59d(0x137)]??(CFG['STATUS_AUT'+_0x4af59d(0x156)]&&CFG['STATUS_AUT'+_0x4af59d(0x156)][_0x4af59d(0x119)+_0x4af59d(0xbb)]),FALLBACKS[_0x4af59d(0x119)+'TRIM_KEEP']),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG[_0x4af59d(0xf4)+_0x4af59d(0xd8)+_0x4af59d(0xeb)+_0x4af59d(0x132)]??(CFG[_0x4af59d(0xf4)+_0x4af59d(0x156)]&&CFG[_0x4af59d(0xf4)+'OSEND'][_0x4af59d(0x153)+_0x4af59d(0x154)+_0x4af59d(0xbc)]),FALLBACKS[_0x4af59d(0x153)+_0x4af59d(0x154)+'ARN'])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0x4af59d(0xed)+_0x4af59d(0x141);let respondedMsgIds=new Set();function trackSent(_0x1ff6dd){const _0x258c9b=_0x4af59d;try{const _0x589a0a=_0x1ff6dd?.['key']?.['id']||_0x1ff6dd?.['id']||_0x1ff6dd?.['messages']&&_0x1ff6dd['messages'][-0xd7+0x1*0x94+0x43]?.['key']?.['id']||Array[_0x258c9b(0x150)](_0x1ff6dd)&&_0x1ff6dd[-0x1b1c+0x21e2+-0x6c6]?.['key']?.['id']||null;if(!_0x589a0a)return;respondedMsgIds[_0x258c9b(0xc3)](String(_0x589a0a));if(respondedMsgIds[_0x258c9b(0xea)]>DEFAULTS[_0x258c9b(0x119)+_0x258c9b(0x13b)]){const _0x203a72=Array[_0x258c9b(0x11a)](respondedMsgIds);respondedMsgIds=new Set(_0x203a72['slice'](-DEFAULTS['RESPONDED_'+_0x258c9b(0xbb)]));}}catch(_0xa474f){}}function isOurSentId(_0xdc2883){return _0xdc2883&&respondedMsgIds['has'](String(_0xdc2883));}function _0x2f27(){const _0x3646a7=[']\x20no\x20sendM','TEGER\x20DEFA','toLowerCas','node','back\x20to\x20bu','status_aut','remoteJid','sticker','concat','INSERT\x20INT','\x20\x20\x20\x20\x20\x20\x20upd','?)\x0a\x20\x20\x20\x20\x20\x20\x20','ONDED_TRIM','fileName','osend.init','essage\x20ava','value','essage\x20not','key\x20TEXT\x20P','show','RESPONDED_','from','us:\x20','document','instance','adcast','eply','toUpperCas','get','ON\x20CONFLIC','e:\x20getBotJ','participan','30228ivoDYw','osend','aileys','cannot\x20for',',\x20cannot\x20r',']\x20setPref\x20','split','downloadCo','sock','essage','type','luded.valu','off','YTES_WARN','us\x20set\x20to\x20','xtMessage',']\x20bot\x20JID\x20','videoMessa','_KEEP','UPDATE\x20SET',']\x20raw\x20per-',',\x0a\x20\x20\x20\x20\x20\x20\x20v','LIMIT','LE\x20IF\x20NOT\x20','message\x20er','uires\x20bot\x20','status@bro','_at;','_prefs','o\x20set\x20auto','e,\x20updated','\x20WHERE\x20key','ward','image','atusAndFor','endsWith','messages.u','d_at)\x20VALU','text','join','id()\x20empty','isFinite','NOT\x20NULL,\x0a','isArray','ialize\x20req','446FXwWjK','MAX_DOWNLO','AD_BYTES_W','ntentFromM','OSEND','sage','enabled','\x20bytes\x20(id','conversati','push','66DZJHHo','contextInf','caption','now','@g.us','1256139KcTbkr','TRIM_KEEP','ARN',']\x20failed\x20t','key','ated_at\x20IN','function','string','.\x20Falling\x20','add','ed.updated','dListener\x20','1.1.0',']\x20autostat','\x20=\x20?','ssage','4243LQZvlw','3666234eMfBga','\x20status\x20','exec','error:\x20','psert','mentionedJ','default','extendedTe','clear','catch','28xlUXuF','❌\x20Failed\x20t','d\x20status\x20','OSEND_MAX_','ffer\x20for\x20','audio','_at=exclud','length','EXISTS\x20','us\x20toggled',']\x20forward\x20','audioMessa','\x20download:','trim','2164400rJwwRD','30RdEruQ','run',']\x20download','ue,\x20update','stopManage','true','size','DOWNLOAD_B','ror:\x20','autostatus','botRef','g()\x20threw:','OSEND_RESP','e\x20error:\x20','documentMe','video','STATUS_AUT','stickerMes','ONDED_LIMI','sendMessag','isBuffer','✔️\x20autostat','ES\x20(?,\x20?,\x20','\x20•\x20Status','SELECT\x20val','message','\x20->\x20','RIMARY\x20KEY','fromMe','3606515cXwnkU','floor','285076SilYeo','imageMessa'];_0x2f27=function(){return _0x3646a7;};return _0x2f27();}async function getBaileysHelpers(){const _0x2a2ba3=_0x4af59d;if(_baileysHelpers)return _baileysHelpers;try{const _0x13b472=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x13b472[_0x2a2ba3(0x12c)+_0x2a2ba3(0x155)+_0x2a2ba3(0x12e)]||_0x13b472[_0x2a2ba3(0xd1)]?.[_0x2a2ba3(0x12c)+_0x2a2ba3(0x155)+'essage']};if(!_baileysHelpers[_0x2a2ba3(0x12c)+_0x2a2ba3(0x155)+_0x2a2ba3(0x12e)])throw new Error(_0x2a2ba3(0x12c)+_0x2a2ba3(0x155)+_0x2a2ba3(0x116)+'\x20available');return _baileysHelpers;}catch(_0x24aa6a){error(_0x24aa6a,'['+name+(_0x2a2ba3(0xbd)+'o\x20import\x20B'+_0x2a2ba3(0x127)));throw _0x24aa6a;}}async function streamToBuffer(_0x473c8a){const _0x3d0030=_0x4af59d,_0x2d350b=[];for await(const _0xc1cb9b of _0x473c8a)_0x2d350b[_0x3d0030(0xb4)](Buffer[_0x3d0030(0xf8)](_0xc1cb9b)?_0xc1cb9b:Buffer[_0x3d0030(0x11a)](_0xc1cb9b));return Buffer[_0x3d0030(0x10d)](_0x2d350b);}async function ensureTables(){const _0x1dda65=_0x4af59d;await db['exec']('CREATE\x20TAB'+_0x1dda65(0x13c)+_0x1dda65(0xdd)+PREFS_TABLE+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x1dda65(0x117)+_0x1dda65(0xff)+_0x1dda65(0x13a)+'alue\x20TEXT\x20'+_0x1dda65(0x14f)+_0x1dda65(0x10f)+_0x1dda65(0xbf)+_0x1dda65(0x106)+'ULT\x200\x0a\x20\x20\x20\x20'+'\x20);'));}async function getPref(_0x54c596){const _0x59a6fc=_0x4af59d;try{const _0x796ad2=await db[_0x59a6fc(0x121)](_0x59a6fc(0xfc)+'ue\x20FROM\x20'+PREFS_TABLE+(_0x59a6fc(0x144)+_0x59a6fc(0xc8)),[_0x54c596]);return _0x796ad2?_0x796ad2[_0x59a6fc(0x115)]:null;}catch(_0x2bf7b3){return warn('['+name+(']\x20getPref\x20'+_0x59a6fc(0xce))+(_0x2bf7b3?.[_0x59a6fc(0xfd)]||_0x2bf7b3)),null;}}async function setPref(_0x22d392,_0x496e7d){const _0x3af493=_0x4af59d;try{const _0x17092d=Math['floor'](Date[_0x3af493(0xb8)]()/(0xdc2+-0x2*0x899+0x5e*0x14));return await db[_0x3af493(0xe5)](_0x3af493(0x10e)+'O\x20'+PREFS_TABLE+('\x20(key,\x20val'+_0x3af493(0xe7)+_0x3af493(0x14a)+_0x3af493(0xfa)+_0x3af493(0x110)+_0x3af493(0x122)+'T(key)\x20DO\x20'+_0x3af493(0x138)+'\x20value=exc'+_0x3af493(0x130)+_0x3af493(0x143)+_0x3af493(0xdb)+_0x3af493(0xc4)+_0x3af493(0x140)),[_0x22d392,String(_0x496e7d),_0x17092d]),!![];}catch(_0x4ad480){return warn('['+name+(_0x3af493(0x12a)+'failed:\x20')+(_0x4ad480?.[_0x3af493(0xfd)]||_0x4ad480)),![];}}async function isEnabled(){const _0xfdd467=_0x4af59d,_0x560c77=await getPref('enabled');return _0x560c77==='1'||_0x560c77===_0xfdd467(0xe9);}function detectContentAndNode(_0x1da1da){const _0x2ef247=_0x4af59d,_0x10326c=_0x1da1da?.[_0x2ef247(0xfd)]||{};if(_0x10326c['imageMessa'+'ge'])return{'type':_0x2ef247(0x146),'node':_0x10326c[_0x2ef247(0x104)+'ge']};if(_0x10326c['videoMessa'+'ge'])return{'type':_0x2ef247(0xf3),'node':_0x10326c[_0x2ef247(0x136)+'ge']};if(_0x10326c[_0x2ef247(0xe0)+'ge'])return{'type':_0x2ef247(0xda),'node':_0x10326c[_0x2ef247(0xe0)+'ge']};if(_0x10326c[_0x2ef247(0xf2)+'ssage'])return{'type':_0x2ef247(0x11c),'node':_0x10326c[_0x2ef247(0xf2)+_0x2ef247(0xc9)]};if(_0x10326c['stickerMes'+_0x2ef247(0x157)])return{'type':'sticker','node':_0x10326c[_0x2ef247(0xf5)+'sage']};if(_0x10326c[_0x2ef247(0xd2)+'xtMessage']?.[_0x2ef247(0x14b)])return{'type':_0x2ef247(0x14b),'text':_0x10326c['extendedTe'+_0x2ef247(0x134)][_0x2ef247(0x14b)]};if(_0x10326c[_0x2ef247(0xb3)+'on'])return{'type':_0x2ef247(0x14b),'text':_0x10326c[_0x2ef247(0xb3)+'on']};return null;}async function buildImmediatePayload(_0x449c6f){const _0x3ac93f=_0x4af59d,_0x355d8f=detectContentAndNode(_0x449c6f);if(!_0x355d8f)return null;const _0x57b62d=_0x449c6f?.['key']?.[_0x3ac93f(0x124)+'t']||'',_0x2d25d1=_0x449c6f?.['pushName']||'',_0x2eedf4=_0x57b62d?_0x57b62d[_0x3ac93f(0x12b)]('@')[0x117a+-0x330+-0xe4a]:_0x2d25d1||'',_0x4d59e3=_0x2eedf4?_0x2eedf4+_0x3ac93f(0xfb):'Status';if(_0x355d8f[_0x3ac93f(0x12f)]==='text'){const _0x311dd3=_0x355d8f['text']||'',_0x5910f8=_0x2eedf4?_0x2eedf4+':\x20'+_0x311dd3:_0x311dd3,_0x37102b={'text':_0x5910f8};if(_0x57b62d)_0x37102b['contextInf'+'o']={'mentionedJid':[_0x57b62d]};return _0x37102b;}const {downloadContentFromMessage:_0x437d6d}=await getBaileysHelpers(),_0x2e815e=_0x355d8f[_0x3ac93f(0x108)],_0x13fb4a=_0x355d8f['type'];try{const _0x35a46d=await _0x437d6d(_0x2e815e,_0x13fb4a),_0x2d35e7=await streamToBuffer(_0x35a46d);if(!_0x2d35e7||!_0x2d35e7[_0x3ac93f(0xdc)])return warn('['+name+(']\x20empty\x20bu'+_0x3ac93f(0xd9))+_0x13fb4a+_0x3ac93f(0xcc)+(_0x449c6f?.[_0x3ac93f(0xbe)]?.['id']||'')),null;_0x2d35e7[_0x3ac93f(0xdc)]>DEFAULTS[_0x3ac93f(0x153)+_0x3ac93f(0x154)+_0x3ac93f(0xbc)]&&warn('['+name+']\x20large\x20'+_0x13fb4a+(_0x3ac93f(0xe1)+'\x20')+_0x2d35e7[_0x3ac93f(0xdc)]+(_0x3ac93f(0x159)+'\x20')+(_0x449c6f?.[_0x3ac93f(0xbe)]?.['id']||'')+')');let _0x58e3bf=null;const _0x5a8bfa=(_0x2e815e?.['mimetype']||'')[_0x3ac93f(0x107)+'e']();if(_0x13fb4a===_0x3ac93f(0x146)){const _0x4220f0=[];if(_0x2e815e?.[_0x3ac93f(0xb7)])_0x4220f0[_0x3ac93f(0xb4)](_0x2e815e[_0x3ac93f(0xb7)]);_0x4220f0['push'](_0x4d59e3),_0x58e3bf={'image':_0x2d35e7,'caption':_0x4220f0[_0x3ac93f(0x14c)]('\x0a'),'mimetype':_0x5a8bfa||undefined};}else{if(_0x13fb4a===_0x3ac93f(0xf3)){const _0x4c72f4=[];if(_0x2e815e?.[_0x3ac93f(0xb7)])_0x4c72f4['push'](_0x2e815e[_0x3ac93f(0xb7)]);_0x4c72f4[_0x3ac93f(0xb4)](_0x4d59e3),_0x58e3bf={'video':_0x2d35e7,'caption':_0x4c72f4[_0x3ac93f(0x14c)]('\x0a'),'mimetype':_0x5a8bfa||undefined};}else{if(_0x13fb4a==='audio')_0x58e3bf={'audio':_0x2d35e7,'ptt':!!_0x2e815e?.['ptt'],'mimetype':_0x5a8bfa||undefined};else{if(_0x13fb4a===_0x3ac93f(0x11c)){const _0x2eb1cc=_0x2e815e?.[_0x3ac93f(0x112)]||''+(_0x449c6f?.[_0x3ac93f(0xbe)]?.['id']||'status');_0x58e3bf={'document':_0x2d35e7,'fileName':_0x2eb1cc,'mimetype':_0x5a8bfa||undefined,'caption':_0x4d59e3};}else _0x13fb4a===_0x3ac93f(0x10c)&&(_0x58e3bf={'sticker':_0x2d35e7});}}}return _0x58e3bf&&_0x57b62d&&(_0x58e3bf[_0x3ac93f(0xb6)+'o']=_0x58e3bf[_0x3ac93f(0xb6)+'o']||{},_0x58e3bf[_0x3ac93f(0xb6)+'o'][_0x3ac93f(0xd0)+'id']=[_0x57b62d]),_0x58e3bf;}catch(_0x21e468){return warn('['+name+(_0x3ac93f(0xe6)+'/send\x20buil'+'d\x20failed:\x20')+(_0x21e468?.['message']||_0x21e468)),null;}}async function handleStatusAndForward(_0x5d3c11){const _0x55d8d9=_0x4af59d;try{if(!_0x5d3c11||!_0x5d3c11['key'])return;const _0xe1e234=String(_0x5d3c11['key']['remoteJid']||'')[_0x55d8d9(0x107)+'e']();if(_0xe1e234!==_0x55d8d9(0x13f)+_0x55d8d9(0x11e))return;if(!await isEnabled())return;const _0x578b03=getBotJid();if(!_0x578b03){warn('['+name+(_0x55d8d9(0x135)+'is\x20empty,\x20'+_0x55d8d9(0x128)+_0x55d8d9(0x145)));return;}const _0x255af3=await buildImmediatePayload(_0x5d3c11);if(!_0x255af3)return;let _0x7114f6=null;if(botRef&&botRef[_0x55d8d9(0x12d)]&&typeof botRef[_0x55d8d9(0x12d)][_0x55d8d9(0xf7)+'e']===_0x55d8d9(0xc0))_0x7114f6=await botRef[_0x55d8d9(0x12d)]['sendMessag'+'e'](_0x578b03,_0x255af3);else{if(botRef&&typeof botRef[_0x55d8d9(0xf7)+'e']===_0x55d8d9(0xc0))_0x7114f6=await botRef[_0x55d8d9(0xf7)+'e'](_0x578b03,_0x255af3);else{warn('['+name+(_0x55d8d9(0x105)+_0x55d8d9(0x114)+'ilable\x20on\x20'+_0x55d8d9(0xee)));return;}}trackSent(_0x7114f6),info('['+name+(']\x20forwarde'+_0x55d8d9(0xd7))+(_0x5d3c11['key']['id']||'')+_0x55d8d9(0xfe)+_0x578b03);}catch(_0x449e8e){warn('['+name+(']\x20handleSt'+_0x55d8d9(0x147)+'ward\x20error'+':\x20')+(_0x449e8e?.['message']||_0x449e8e));}}async function rawMessagesUpsertHandler({messages:_0x33a982}){const _0xa03eda=_0x4af59d;if(!Array['isArray'](_0x33a982))return;if(!await isEnabled())return;for(const _0x30d7ca of _0x33a982){try{if(!_0x30d7ca||!_0x30d7ca[_0xa03eda(0xbe)])continue;if(isOurSentId(_0x30d7ca[_0xa03eda(0xbe)]?.['id']))continue;if(_0x30d7ca[_0xa03eda(0xbe)][_0xa03eda(0x100)])continue;const _0x11d2a5=String(_0x30d7ca['key'][_0xa03eda(0x10b)]||'')[_0xa03eda(0x107)+'e']();_0x11d2a5===_0xa03eda(0x13f)+_0xa03eda(0x11e)&&await handleStatusAndForward(_0x30d7ca)[_0xa03eda(0xd4)](_0x43bbbd=>warn('['+name+(_0xa03eda(0xdf)+'attempt\x20fa'+'iled:\x20')+(_0x43bbbd?.[_0xa03eda(0xfd)]||_0x43bbbd)));}catch(_0x2e5892){warn('['+name+(_0xa03eda(0x139)+_0xa03eda(0x13d)+_0xa03eda(0xec))+(_0x2e5892?.['message']||_0x2e5892));}}}function getMessageTextFromCtx(_0xa97130){const _0x1c5428=_0x4af59d;if(!_0xa97130||!_0xa97130[_0x1c5428(0xfd)])return'';const _0x3485ee=_0xa97130[_0x1c5428(0xfd)];if(_0x3485ee[_0x1c5428(0xb3)+'on'])return _0x3485ee[_0x1c5428(0xb3)+'on'];if(_0x3485ee[_0x1c5428(0xd2)+_0x1c5428(0x134)]?.[_0x1c5428(0x14b)])return _0x3485ee[_0x1c5428(0xd2)+_0x1c5428(0x134)][_0x1c5428(0x14b)];if(_0x3485ee[_0x1c5428(0x104)+'ge']?.[_0x1c5428(0xb7)])return _0x3485ee[_0x1c5428(0x104)+'ge'][_0x1c5428(0xb7)];if(_0x3485ee[_0x1c5428(0x136)+'ge']?.[_0x1c5428(0xb7)])return _0x3485ee[_0x1c5428(0x136)+'ge'][_0x1c5428(0xb7)];return'';}export async function onMessage(_0x564cb4){const _0x2c5741=_0x4af59d;try{if(!_0x564cb4||!_0x564cb4['key']||!_0x564cb4['message'])return;const _0x235f6c=_0x564cb4[_0x2c5741(0xbe)][_0x2c5741(0x10b)];if(typeof _0x235f6c===_0x2c5741(0xc1)&&_0x235f6c[_0x2c5741(0x148)](_0x2c5741(0xb9)))return;if(!_0x564cb4[_0x2c5741(0xbe)][_0x2c5741(0x100)])return;if(_0x564cb4[_0x2c5741(0xbe)]['id']&&isOurSentId(_0x564cb4[_0x2c5741(0xbe)]['id']))return;const _0x24aa2a=typeof _0x564cb4[_0x2c5741(0x14b)]===_0x2c5741(0xc1)&&_0x564cb4[_0x2c5741(0x14b)][_0x2c5741(0xe2)]()['length']?_0x564cb4[_0x2c5741(0x14b)][_0x2c5741(0xe2)]():'',_0xb1acfc=(getMessageTextFromCtx(_0x564cb4)||'')['toString']()[_0x2c5741(0xe2)](),_0x173afa=(_0x24aa2a||_0xb1acfc||'')[_0x2c5741(0x12b)](/\r?\n/)[0x4be+0x218d+-0x264b][_0x2c5741(0xe2)]();if(!_0x173afa)return;const _0x534eb0=/^autostatus(?:\s+(on|off|show))?$/i[_0x2c5741(0xcd)](_0x173afa);if(!_0x534eb0)return;const _0x15cb24=(_0x534eb0[0xfc6*0x1+-0x1fdd+0x19c*0xa]||_0x2c5741(0x118))[_0x2c5741(0x107)+'e'](),_0x446837=getBotJid();if(!_0x446837){warn('['+name+(']\x20onMessag'+_0x2c5741(0x123)+_0x2c5741(0x14d)+_0x2c5741(0x129)+_0x2c5741(0x11f)));return;}if(_0x15cb24===_0x2c5741(0x118)){const _0x4c0594=await isEnabled(),_0x463935=_0x2c5741(0xf9)+_0x2c5741(0x11b)+(_0x4c0594?'ON':'OFF'),_0x4103b2=await(botRef?.[_0x2c5741(0x12d)]?.[_0x2c5741(0xf7)+'e']?botRef['sock'][_0x2c5741(0xf7)+'e'](_0x446837,{'text':_0x463935}):botRef['sendMessag'+'e'](_0x446837,{'text':_0x463935}));trackSent(_0x4103b2);return;}if(_0x15cb24==='on'||_0x15cb24===_0x2c5741(0x131)){const _0x49f3e1=_0x15cb24==='on'?'1':'0',_0x49611e=await setPref(_0x2c5741(0x158),_0x49f3e1),_0x45fbec=_0x49611e?'✔️\x20autostat'+_0x2c5741(0x133)+_0x15cb24[_0x2c5741(0x120)+'e']():_0x2c5741(0xd6)+_0x2c5741(0x142)+'status',_0x364b0f=await(botRef?.[_0x2c5741(0x12d)]?.[_0x2c5741(0xf7)+'e']?botRef[_0x2c5741(0x12d)][_0x2c5741(0xf7)+'e'](_0x446837,{'text':_0x45fbec}):botRef['sendMessag'+'e'](_0x446837,{'text':_0x45fbec}));trackSent(_0x364b0f),info('['+name+(_0x2c5741(0xc7)+_0x2c5741(0xde)+_0x2c5741(0xfe))+_0x15cb24['toUpperCas'+'e']());return;}}catch(_0x34535c){warn('['+name+(']\x20onMessag'+_0x2c5741(0xf1))+(_0x34535c?.['message']||_0x34535c));}}export async function initialize(_0x5a3bec){const _0x3d2970=_0x4af59d;if(!_0x5a3bec)throw new Error(_0x3d2970(0x10a)+_0x3d2970(0x113)+_0x3d2970(0x151)+_0x3d2970(0x13e)+_0x3d2970(0x11d));botRef=_0x5a3bec,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x3d2970(0x149)+_0x3d2970(0xcf),'handler':rawMessagesUpsertHandler,'moduleName':name});}export async function cleanup(){const _0xd4c824=_0x4af59d;try{stopManagedListener(name,'messages.u'+_0xd4c824(0xcf));}catch(_0x3e414b){warn('['+name+(']\x20cleanup\x20'+_0xd4c824(0xe8)+_0xd4c824(0xc5)+_0xd4c824(0xce))+(_0x3e414b?.[_0xd4c824(0xfd)]||_0x3e414b));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0xd4c824(0xd3)]===_0xd4c824(0xc0))respondedMsgIds['clear']();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};