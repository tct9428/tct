const _0x57cd21=_0x4e32;(function(_0x1aa20e,_0x5ec61a){const _0x90b01a=_0x4e32,_0x32a3a5=_0x1aa20e();while(!![]){try{const _0x1cb9f9=parseInt(_0x90b01a(0x1e4))/(0x89*0x41+-0xc3e+-0x168a)+-parseInt(_0x90b01a(0x23d))/(-0x70b*0x3+0x2*-0x17+0x1551)*(parseInt(_0x90b01a(0x216))/(0x67d+0x173b+-0x1db5))+parseInt(_0x90b01a(0x203))/(0xf51+0x1d52+-0x2c9f)+parseInt(_0x90b01a(0x235))/(0x1119+0x20b+-0x131f*0x1)+parseInt(_0x90b01a(0x246))/(-0x215*-0xc+0x1*-0x1048+-0x8ae)*(-parseInt(_0x90b01a(0x1d5))/(-0x427*0x2+-0x86a+0x10bf))+parseInt(_0x90b01a(0x272))/(-0x1*0x1cfa+0xe*0x267+-0x4a0)*(-parseInt(_0x90b01a(0x232))/(-0x63*0x36+0x9e7+-0xeb*-0xc))+-parseInt(_0x90b01a(0x218))/(0x101*-0x1d+-0x334+0x205b)*(parseInt(_0x90b01a(0x269))/(-0x1*0x24d5+0xf4*0x13+0x4b1*0x4));if(_0x1cb9f9===_0x5ec61a)break;else _0x32a3a5['push'](_0x32a3a5['shift']());}catch(_0x4ffddb){_0x32a3a5['push'](_0x32a3a5['shift']());}}}(_0x3f37,0xa*-0xbbed+-0x7dd3d+0x14bdda));import _0x3a1e8e from'path';import{warn,error,info}from'../utils/logger.js';import{db}from'../utils/database.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';function _0x4e32(_0x3558c5,_0x5abd5c){const _0x5a23f7=_0x3f37();return _0x4e32=function(_0x4c45db,_0x274fe1){_0x4c45db=_0x4c45db-(0x652*-0x4+0x817*-0x1+0x232f*0x1);let _0xbfcdc1=_0x5a23f7[_0x4c45db];return _0xbfcdc1;},_0x4e32(_0x3558c5,_0x5abd5c);}export const name=_0x57cd21(0x1e6)+_0x57cd21(0x1dc);export const version=_0x57cd21(0x230);export const priority=0x22c8+0x176b+0x20*-0x1ce;export const commands=[_0x57cd21(0x23b)];export const configKeys=[_0x57cd21(0x20d)+_0x57cd21(0x1e7)+'ONDED_LIMI'+'T','STATUS_AUT'+_0x57cd21(0x1e7)+_0x57cd21(0x1fa)+_0x57cd21(0x264),_0x57cd21(0x20d)+_0x57cd21(0x268)+_0x57cd21(0x1e0)+'YTES_WARN'];let CFG={};try{CFG=typeof getConfig===_0x57cd21(0x256)?getConfig()||{}:{};}catch(_0x2b6774){warn('['+name+(_0x57cd21(0x1ea)+_0x57cd21(0x253)+'\x20')+(_0x2b6774?.['message']||_0x2b6774)+(_0x57cd21(0x265)+_0x57cd21(0x210)+'ilt-in\x20def'+_0x57cd21(0x1e3))),CFG={};}function toPositiveInt(_0x78b4a2,_0xef0f6d){const _0x504fa9=_0x57cd21,_0x5f07d8=Number(_0x78b4a2);if(!Number[_0x504fa9(0x21d)](_0x5f07d8)||_0x5f07d8<=0x1*0x257b+0x8c3*0x1+-0x1*0x2e3e)return _0xef0f6d;return Math[_0x504fa9(0x1e5)](_0x5f07d8);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(0x2*-0xed+0x13f*0x3+-0x1d9)*(0x16*-0x14d+-0x1242+0x20*0x197)*(0x4*0x15d+-0xf1e+0xdaa)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG[_0x57cd21(0x20d)+_0x57cd21(0x1e7)+_0x57cd21(0x27c)+'T']??(CFG[_0x57cd21(0x20d)+_0x57cd21(0x20b)]&&CFG['STATUS_AUT'+_0x57cd21(0x20b)][_0x57cd21(0x219)+'LIMIT']),FALLBACKS[_0x57cd21(0x219)+_0x57cd21(0x245)]),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0x57cd21(0x20d)+_0x57cd21(0x1e7)+_0x57cd21(0x1fa)+_0x57cd21(0x264)]??(CFG[_0x57cd21(0x20d)+_0x57cd21(0x20b)]&&CFG[_0x57cd21(0x20d)+_0x57cd21(0x20b)][_0x57cd21(0x219)+_0x57cd21(0x222)]),FALLBACKS[_0x57cd21(0x219)+_0x57cd21(0x222)]),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG['STATUS_AUT'+_0x57cd21(0x268)+_0x57cd21(0x1e0)+_0x57cd21(0x223)]??(CFG[_0x57cd21(0x20d)+_0x57cd21(0x20b)]&&CFG['STATUS_AUT'+_0x57cd21(0x20b)][_0x57cd21(0x25f)+_0x57cd21(0x207)+_0x57cd21(0x22c)]),FALLBACKS[_0x57cd21(0x25f)+'AD_BYTES_W'+_0x57cd21(0x22c)])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0x57cd21(0x23b)+_0x57cd21(0x1ee);let respondedMsgIds=new Set();function trackSent(_0x25a96a){const _0x558b1c=_0x57cd21;try{const _0x4f99ca=_0x25a96a?.[_0x558b1c(0x279)]?.['id']||_0x25a96a?.['id']||_0x25a96a?.[_0x558b1c(0x1f3)]&&_0x25a96a['messages'][-0x17*-0xb+-0x215*0x2+-0x3*-0x10f]?.[_0x558b1c(0x279)]?.['id']||Array[_0x558b1c(0x25e)](_0x25a96a)&&_0x25a96a[0x1a7f+-0xdf+-0x19a*0x10]?.[_0x558b1c(0x279)]?.['id']||null;if(!_0x4f99ca)return;respondedMsgIds['add'](String(_0x4f99ca));if(respondedMsgIds[_0x558b1c(0x21f)]>DEFAULTS[_0x558b1c(0x219)+_0x558b1c(0x245)]){const _0x5d2a6d=Array[_0x558b1c(0x1df)](respondedMsgIds);respondedMsgIds=new Set(_0x5d2a6d[_0x558b1c(0x20c)](-DEFAULTS[_0x558b1c(0x219)+'TRIM_KEEP']));}}catch(_0x26574a){}}function isOurSentId(_0x2976e3){const _0x4bda46=_0x57cd21;return _0x2976e3&&respondedMsgIds[_0x4bda46(0x249)](String(_0x2976e3));}async function getBaileysHelpers(){const _0x5de306=_0x57cd21;if(_baileysHelpers)return _baileysHelpers;try{const _0x104dc0=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x104dc0[_0x5de306(0x224)+_0x5de306(0x200)+'essage']||_0x104dc0[_0x5de306(0x202)]?.[_0x5de306(0x224)+_0x5de306(0x200)+_0x5de306(0x204)]};if(!_baileysHelpers['downloadCo'+_0x5de306(0x200)+_0x5de306(0x204)])throw new Error(_0x5de306(0x224)+_0x5de306(0x200)+'essage\x20not'+_0x5de306(0x23c));return _baileysHelpers;}catch(_0x7898d4){error(_0x7898d4,'['+name+(_0x5de306(0x24e)+'o\x20import\x20B'+_0x5de306(0x24a)));throw _0x7898d4;}}async function streamToBuffer(_0x17e9b3){const _0x5d55c3=_0x57cd21,_0x2b68ad=[];for await(const _0x1802ef of _0x17e9b3)_0x2b68ad[_0x5d55c3(0x237)](Buffer[_0x5d55c3(0x276)](_0x1802ef)?_0x1802ef:Buffer[_0x5d55c3(0x1df)](_0x1802ef));return Buffer['concat'](_0x2b68ad);}async function ensureTables(){const _0x32735c=_0x57cd21;await db[_0x32735c(0x1ef)](_0x32735c(0x243)+_0x32735c(0x255)+_0x32735c(0x1d1)+PREFS_TABLE+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+_0x32735c(0x1d7)+_0x32735c(0x1f7)+_0x32735c(0x201)+_0x32735c(0x1f0)+_0x32735c(0x1e1)+_0x32735c(0x250)+'ated_at\x20IN'+_0x32735c(0x1d9)+'ULT\x200\x0a\x20\x20\x20\x20'+_0x32735c(0x228)));}async function getPref(_0x23b718){const _0x27b6de=_0x57cd21;try{const _0x3fbe5b=await db[_0x27b6de(0x270)](_0x27b6de(0x1d0)+'ue\x20FROM\x20'+PREFS_TABLE+(_0x27b6de(0x1f4)+_0x27b6de(0x1ff)),[_0x23b718]);return _0x3fbe5b?_0x3fbe5b[_0x27b6de(0x242)]:null;}catch(_0x539235){return warn('['+name+(_0x27b6de(0x20e)+_0x27b6de(0x206))+(_0x539235?.[_0x27b6de(0x23e)]||_0x539235)),null;}}function _0x3f37(){const _0x4f7b3e=[']\x20setPref\x20',']\x20cleanup\x20','image','77hFSxyO','videoMessa','key\x20TEXT\x20P',']\x20download','TEGER\x20DEFA','ffer\x20for\x20','id()\x20empty','osend','instance','ON\x20CONFLIC','from','DOWNLOAD_B','NOT\x20NULL,\x0a','text','aults.','531827WhkpAp','floor','status_aut','OSEND_RESP','xtMessage','o\x20set\x20auto',']\x20getConfi','catch','ward\x20error','attempt\x20fa','_prefs','exec','alue\x20TEXT\x20','sendMessag','dListener\x20','messages','\x20WHERE\x20key','INSERT\x20INT','stickerMes','RIMARY\x20KEY','fileName',']\x20bot\x20JID\x20','ONDED_TRIM','ialize\x20req',']\x20raw\x20per-','document','type','\x20=\x20?','ntentFromM',',\x0a\x20\x20\x20\x20\x20\x20\x20v','default','1183244QPsTxb','essage','\x20value=exc','error:\x20','AD_BYTES_W','ES\x20(?,\x20?,\x20','toLowerCas','pushName','OSEND','slice','STATUS_AUT',']\x20getPref\x20','failed:\x20','back\x20to\x20bu','e:\x20getBotJ','\x20(key,\x20val','video','enabled','imageMessa','3rrXTiH','uires\x20bot\x20','1180OSbshq','RESPONDED_','cannot\x20for','fromMe',']\x20empty\x20bu','isFinite',']\x20onMessag','size','T(key)\x20DO\x20','conversati','TRIM_KEEP','YTES_WARN','downloadCo','sock','psert','participan','\x20);','_at=exclud','Status',',\x20cannot\x20r','ARN','sticker','audioMessa','is\x20empty,\x20','1.1.0','ror:\x20','468psZmoZ','messages.u','join','3492865hkcosI','status@bro','push','ssage','extendedTe','length','autostatus','\x20available','139298hZsnsF','message',']\x20autostat','trim','d\x20status\x20','value','CREATE\x20TAB','atusAndFor','LIMIT','258966BnjFgh','contextInf','mimetype','has','aileys','ward','true','show',']\x20failed\x20t','\x20•\x20Status','\x20\x20\x20\x20\x20\x20\x20upd',']\x20large\x20','ue,\x20update','g()\x20threw:','botRef','LE\x20IF\x20NOT\x20','function',']\x20forward\x20','clear','us\x20toggled','toUpperCas','luded.valu','off','✔️\x20autostat','isArray','MAX_DOWNLO','ilable\x20on\x20','eply',']\x20handleSt','split','_KEEP','.\x20Falling\x20','caption','run','OSEND_MAX_','40810SRayBV','audio','documentMe','essage\x20ava','endsWith','string','OFF','get','stopManage','27872Cfqhkv','iled:\x20','adcast','remoteJid','isBuffer','?)\x0a\x20\x20\x20\x20\x20\x20\x20','status','key','message\x20er','UPDATE\x20SET','ONDED_LIMI','/send\x20buil','\x20->\x20','\x20status\x20','SELECT\x20val','EXISTS\x20'];_0x3f37=function(){return _0x4f7b3e;};return _0x3f37();}async function setPref(_0x29816b,_0x3a1591){const _0x6882ab=_0x57cd21;try{const _0x224e42=Math['floor'](Date['now']()/(-0x1345+0x22ec+-0xbbf*0x1));return await db[_0x6882ab(0x267)](_0x6882ab(0x1f5)+'O\x20'+PREFS_TABLE+(_0x6882ab(0x212)+_0x6882ab(0x252)+'d_at)\x20VALU'+_0x6882ab(0x208)+_0x6882ab(0x277)+_0x6882ab(0x1de)+_0x6882ab(0x220)+_0x6882ab(0x27b)+_0x6882ab(0x205)+_0x6882ab(0x25b)+'e,\x20updated'+_0x6882ab(0x229)+'ed.updated'+'_at;'),[_0x29816b,String(_0x3a1591),_0x224e42]),!![];}catch(_0x455226){return warn('['+name+(_0x6882ab(0x1d2)+_0x6882ab(0x20f))+(_0x455226?.['message']||_0x455226)),![];}}async function isEnabled(){const _0x5bc8b0=_0x57cd21,_0x2fe4c9=await getPref(_0x5bc8b0(0x214));return _0x2fe4c9==='1'||_0x2fe4c9===_0x5bc8b0(0x24c);}function detectContentAndNode(_0x403de2){const _0x1afac9=_0x57cd21,_0x10e376=_0x403de2?.['message']||{};if(_0x10e376[_0x1afac9(0x215)+'ge'])return{'type':_0x1afac9(0x1d4),'node':_0x10e376[_0x1afac9(0x215)+'ge']};if(_0x10e376[_0x1afac9(0x1d6)+'ge'])return{'type':'video','node':_0x10e376[_0x1afac9(0x1d6)+'ge']};if(_0x10e376[_0x1afac9(0x22e)+'ge'])return{'type':_0x1afac9(0x26a),'node':_0x10e376[_0x1afac9(0x22e)+'ge']};if(_0x10e376['documentMe'+'ssage'])return{'type':_0x1afac9(0x1fd),'node':_0x10e376[_0x1afac9(0x26b)+_0x1afac9(0x238)]};if(_0x10e376[_0x1afac9(0x1f6)+'sage'])return{'type':'sticker','node':_0x10e376[_0x1afac9(0x1f6)+'sage']};if(_0x10e376[_0x1afac9(0x239)+_0x1afac9(0x1e8)]?.['text'])return{'type':'text','text':_0x10e376[_0x1afac9(0x239)+'xtMessage'][_0x1afac9(0x1e2)]};if(_0x10e376[_0x1afac9(0x221)+'on'])return{'type':_0x1afac9(0x1e2),'text':_0x10e376[_0x1afac9(0x221)+'on']};return null;}async function buildImmediatePayload(_0x47327e){const _0x36c580=_0x57cd21,_0x422228=detectContentAndNode(_0x47327e);if(!_0x422228)return null;const _0x1afd1c=_0x47327e?.[_0x36c580(0x279)]?.[_0x36c580(0x227)+'t']||'',_0x368522=_0x47327e?.[_0x36c580(0x20a)]||'',_0xde9f63=_0x1afd1c?_0x1afd1c[_0x36c580(0x263)]('@')[0x11b0+0x2179+-0x3329]:_0x368522||'',_0x415637=_0xde9f63?_0xde9f63+_0x36c580(0x24f):_0x36c580(0x22a);if(_0x422228[_0x36c580(0x1fe)]==='text'){const _0x404e86=_0x422228[_0x36c580(0x1e2)]||'',_0x3554a9=_0xde9f63?_0xde9f63+':\x20'+_0x404e86:_0x404e86,_0xdf7321={'text':_0x3554a9};if(_0x1afd1c)_0xdf7321[_0x36c580(0x247)+'o']={'mentionedJid':[_0x1afd1c]};return _0xdf7321;}const {downloadContentFromMessage:_0x5f33ad}=await getBaileysHelpers(),_0x1139c3=_0x422228['node'],_0x63f733=_0x422228[_0x36c580(0x1fe)];try{const _0x47aa03=await _0x5f33ad(_0x1139c3,_0x63f733),_0x4e7ec0=await streamToBuffer(_0x47aa03);if(!_0x4e7ec0||!_0x4e7ec0[_0x36c580(0x23a)])return warn('['+name+(_0x36c580(0x21c)+_0x36c580(0x1da))+_0x63f733+_0x36c580(0x27f)+(_0x47327e?.[_0x36c580(0x279)]?.['id']||'')),null;_0x4e7ec0['length']>DEFAULTS['MAX_DOWNLO'+_0x36c580(0x207)+_0x36c580(0x22c)]&&warn('['+name+_0x36c580(0x251)+_0x63f733+('\x20download:'+'\x20')+_0x4e7ec0[_0x36c580(0x23a)]+('\x20bytes\x20(id'+'\x20')+(_0x47327e?.[_0x36c580(0x279)]?.['id']||'')+')');let _0x108a8c=null;const _0x12f496=(_0x1139c3?.[_0x36c580(0x248)]||'')[_0x36c580(0x209)+'e']();if(_0x63f733===_0x36c580(0x1d4)){const _0x473370=[];if(_0x1139c3?.[_0x36c580(0x266)])_0x473370[_0x36c580(0x237)](_0x1139c3[_0x36c580(0x266)]);_0x473370[_0x36c580(0x237)](_0x415637),_0x108a8c={'image':_0x4e7ec0,'caption':_0x473370['join']('\x0a'),'mimetype':_0x12f496||undefined};}else{if(_0x63f733===_0x36c580(0x213)){const _0x3ba9a6=[];if(_0x1139c3?.[_0x36c580(0x266)])_0x3ba9a6['push'](_0x1139c3['caption']);_0x3ba9a6['push'](_0x415637),_0x108a8c={'video':_0x4e7ec0,'caption':_0x3ba9a6[_0x36c580(0x234)]('\x0a'),'mimetype':_0x12f496||undefined};}else{if(_0x63f733===_0x36c580(0x26a))_0x108a8c={'audio':_0x4e7ec0,'ptt':!!_0x1139c3?.['ptt'],'mimetype':_0x12f496||undefined};else{if(_0x63f733===_0x36c580(0x1fd)){const _0x4d1cb1=_0x1139c3?.[_0x36c580(0x1f8)]||''+(_0x47327e?.['key']?.['id']||_0x36c580(0x278));_0x108a8c={'document':_0x4e7ec0,'fileName':_0x4d1cb1,'mimetype':_0x12f496||undefined,'caption':_0x415637};}else _0x63f733===_0x36c580(0x22d)&&(_0x108a8c={'sticker':_0x4e7ec0});}}}return _0x108a8c&&_0x1afd1c&&(_0x108a8c[_0x36c580(0x247)+'o']=_0x108a8c[_0x36c580(0x247)+'o']||{},_0x108a8c[_0x36c580(0x247)+'o']['mentionedJ'+'id']=[_0x1afd1c]),_0x108a8c;}catch(_0x1562e1){return warn('['+name+(_0x36c580(0x1d8)+_0x36c580(0x27d)+'d\x20failed:\x20')+(_0x1562e1?.[_0x36c580(0x23e)]||_0x1562e1)),null;}}async function handleStatusAndForward(_0x277016){const _0x38a209=_0x57cd21;try{if(!_0x277016||!_0x277016[_0x38a209(0x279)])return;const _0x1e8b20=String(_0x277016[_0x38a209(0x279)][_0x38a209(0x275)]||'')[_0x38a209(0x209)+'e']();if(_0x1e8b20!==_0x38a209(0x236)+_0x38a209(0x274))return;if(!await isEnabled())return;const _0x37fc48=getBotJid();if(!_0x37fc48){warn('['+name+(_0x38a209(0x1f9)+_0x38a209(0x22f)+_0x38a209(0x21a)+_0x38a209(0x24b)));return;}const _0x306cb1=await buildImmediatePayload(_0x277016);if(!_0x306cb1)return;let _0x70fd4c=null;if(botRef&&botRef[_0x38a209(0x225)]&&typeof botRef['sock'][_0x38a209(0x1f1)+'e']==='function')_0x70fd4c=await botRef[_0x38a209(0x225)]['sendMessag'+'e'](_0x37fc48,_0x306cb1);else{if(botRef&&typeof botRef[_0x38a209(0x1f1)+'e']===_0x38a209(0x256))_0x70fd4c=await botRef['sendMessag'+'e'](_0x37fc48,_0x306cb1);else{warn('['+name+(']\x20no\x20sendM'+_0x38a209(0x26c)+_0x38a209(0x260)+_0x38a209(0x254)));return;}}trackSent(_0x70fd4c),info('['+name+(']\x20forwarde'+_0x38a209(0x241))+(_0x277016[_0x38a209(0x279)]['id']||'')+_0x38a209(0x27e)+_0x37fc48);}catch(_0x2c7d43){warn('['+name+(_0x38a209(0x262)+_0x38a209(0x244)+_0x38a209(0x1ec)+':\x20')+(_0x2c7d43?.['message']||_0x2c7d43));}}async function rawMessagesUpsertHandler({messages:_0x129926}){const _0xa3d632=_0x57cd21;if(!Array[_0xa3d632(0x25e)](_0x129926))return;if(!await isEnabled())return;for(const _0x52c0ae of _0x129926){try{if(!_0x52c0ae||!_0x52c0ae['key'])continue;if(isOurSentId(_0x52c0ae[_0xa3d632(0x279)]?.['id']))continue;if(_0x52c0ae['key'][_0xa3d632(0x21b)])continue;const _0x2964f5=String(_0x52c0ae['key'][_0xa3d632(0x275)]||'')[_0xa3d632(0x209)+'e']();_0x2964f5===_0xa3d632(0x236)+'adcast'&&await handleStatusAndForward(_0x52c0ae)[_0xa3d632(0x1eb)](_0x5ca688=>warn('['+name+(_0xa3d632(0x257)+_0xa3d632(0x1ed)+_0xa3d632(0x273))+(_0x5ca688?.[_0xa3d632(0x23e)]||_0x5ca688)));}catch(_0x41682e){warn('['+name+(_0xa3d632(0x1fc)+_0xa3d632(0x27a)+_0xa3d632(0x231))+(_0x41682e?.[_0xa3d632(0x23e)]||_0x41682e));}}}function getMessageTextFromCtx(_0xe204b){const _0xf233bc=_0x57cd21;if(!_0xe204b||!_0xe204b[_0xf233bc(0x23e)])return'';const _0x2cb67f=_0xe204b[_0xf233bc(0x23e)];if(_0x2cb67f[_0xf233bc(0x221)+'on'])return _0x2cb67f[_0xf233bc(0x221)+'on'];if(_0x2cb67f[_0xf233bc(0x239)+'xtMessage']?.['text'])return _0x2cb67f['extendedTe'+_0xf233bc(0x1e8)][_0xf233bc(0x1e2)];if(_0x2cb67f['imageMessa'+'ge']?.['caption'])return _0x2cb67f[_0xf233bc(0x215)+'ge'][_0xf233bc(0x266)];if(_0x2cb67f['videoMessa'+'ge']?.[_0xf233bc(0x266)])return _0x2cb67f[_0xf233bc(0x1d6)+'ge'][_0xf233bc(0x266)];return'';}export async function onMessage(_0x4c9b0a){const _0x350327=_0x57cd21;try{if(!_0x4c9b0a||!_0x4c9b0a[_0x350327(0x279)]||!_0x4c9b0a[_0x350327(0x23e)])return;const _0xd1a458=_0x4c9b0a['key'][_0x350327(0x275)];if(typeof _0xd1a458===_0x350327(0x26e)&&_0xd1a458[_0x350327(0x26d)]('@g.us'))return;if(!_0x4c9b0a['key']['fromMe'])return;if(_0x4c9b0a['key']['id']&&isOurSentId(_0x4c9b0a[_0x350327(0x279)]['id']))return;const _0x27bee1=typeof _0x4c9b0a['text']===_0x350327(0x26e)&&_0x4c9b0a['text']['trim']()[_0x350327(0x23a)]?_0x4c9b0a['text'][_0x350327(0x240)]():'',_0x239de2=(getMessageTextFromCtx(_0x4c9b0a)||'')['toString']()[_0x350327(0x240)](),_0x308b1a=(_0x27bee1||_0x239de2||'')[_0x350327(0x263)](/\r?\n/)[0x59e+-0x25ab*-0x1+-0x2b49][_0x350327(0x240)]();if(!_0x308b1a)return;const _0x586ec1=/^autostatus(?:\s+(on|off|show))?$/i[_0x350327(0x1ef)](_0x308b1a);if(!_0x586ec1)return;const _0x55c848=(_0x586ec1[0x1*-0xbc5+-0x10be+0x1c84]||'show')[_0x350327(0x209)+'e'](),_0x2e714d=getBotJid();if(!_0x2e714d){warn('['+name+(_0x350327(0x21e)+_0x350327(0x211)+_0x350327(0x1db)+_0x350327(0x22b)+_0x350327(0x261)));return;}if(_0x55c848===_0x350327(0x24d)){const _0x4f57bc=await isEnabled(),_0x2c5595='✔️\x20autostat'+'us:\x20'+(_0x4f57bc?'ON':_0x350327(0x26f)),_0x53d205=await(botRef?.[_0x350327(0x225)]?.[_0x350327(0x1f1)+'e']?botRef[_0x350327(0x225)][_0x350327(0x1f1)+'e'](_0x2e714d,{'text':_0x2c5595}):botRef[_0x350327(0x1f1)+'e'](_0x2e714d,{'text':_0x2c5595}));trackSent(_0x53d205);return;}if(_0x55c848==='on'||_0x55c848===_0x350327(0x25c)){const _0x3e278a=_0x55c848==='on'?'1':'0',_0x4f2d24=await setPref(_0x350327(0x214),_0x3e278a),_0x1f630d=_0x4f2d24?_0x350327(0x25d)+'us\x20set\x20to\x20'+_0x55c848[_0x350327(0x25a)+'e']():'❌\x20Failed\x20t'+_0x350327(0x1e9)+'status',_0x5cda5d=await(botRef?.[_0x350327(0x225)]?.[_0x350327(0x1f1)+'e']?botRef['sock']['sendMessag'+'e'](_0x2e714d,{'text':_0x1f630d}):botRef[_0x350327(0x1f1)+'e'](_0x2e714d,{'text':_0x1f630d}));trackSent(_0x5cda5d),info('['+name+(_0x350327(0x23f)+_0x350327(0x259)+_0x350327(0x27e))+_0x55c848['toUpperCas'+'e']());return;}}catch(_0x14c6c2){warn('['+name+(_0x350327(0x21e)+'e\x20error:\x20')+(_0x14c6c2?.[_0x350327(0x23e)]||_0x14c6c2));}}export async function initialize(_0x58a4c9){const _0x19414c=_0x57cd21;if(!_0x58a4c9)throw new Error('status_aut'+'osend.init'+_0x19414c(0x1fb)+_0x19414c(0x217)+_0x19414c(0x1dd));botRef=_0x58a4c9,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x19414c(0x233)+_0x19414c(0x226),'handler':rawMessagesUpsertHandler,'moduleName':name});}export async function cleanup(){const _0x56f099=_0x57cd21;try{stopManagedListener(name,_0x56f099(0x233)+_0x56f099(0x226));}catch(_0x3810bf){warn('['+name+(_0x56f099(0x1d3)+_0x56f099(0x271)+_0x56f099(0x1f2)+_0x56f099(0x206))+(_0x3810bf?.[_0x56f099(0x23e)]||_0x3810bf));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x56f099(0x258)]===_0x56f099(0x256))respondedMsgIds[_0x56f099(0x258)]();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};