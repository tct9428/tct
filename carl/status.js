const _0x44a57e=_0x4178;(function(_0x4c8f28,_0x57dbfd){const _0x58ebae=_0x4178,_0x1355d2=_0x4c8f28();while(!![]){try{const _0x4259b3=-parseInt(_0x58ebae(0x116))/(-0x42f+0x1941+0x1*-0x1511)+parseInt(_0x58ebae(0x18a))/(-0x4a1+0x246b+0xa98*-0x3)+parseInt(_0x58ebae(0x11e))/(-0xb*-0x7f+-0x25ce+0x1b4*0x13)+-parseInt(_0x58ebae(0x195))/(-0x1*0x195f+0x5*0x5cf+0x4e*-0xc)*(parseInt(_0x58ebae(0x15e))/(-0x2*0xe7d+-0x1126+0x2e25*0x1))+-parseInt(_0x58ebae(0xfd))/(0x739*-0x1+-0x12b5*-0x2+-0x1e2b)+parseInt(_0x58ebae(0x15d))/(-0x5*-0x6a+-0xb21+0x916)+-parseInt(_0x58ebae(0x16e))/(-0x463*0x5+-0xce*-0x24+-0x701)*(-parseInt(_0x58ebae(0x107))/(0x9*-0x2b4+-0x1c35*-0x1+0x3*-0x148));if(_0x4259b3===_0x57dbfd)break;else _0x1355d2['push'](_0x1355d2['shift']());}catch(_0x31e5a0){_0x1355d2['push'](_0x1355d2['shift']());}}}(_0x3c31,0x38c*-0x56+0x14e43+0x23ec1));import _0x23ad30 from'path';import{warn,error,info}from'../utils/logger.js';function _0x3c31(){const _0x18a9d0=[']\x20getPref\x20','\x20->\x20','_prefs','INSERT\x20INT','catch','join','attempt\x20fa','remoteJid',']\x20onMessag','status','_at;','ue\x20FROM\x20','o\x20set\x20auto','STATUS_AUT','\x20);','eply','downloadCo','ilt-in\x20def','e:\x20getBotJ','us\x20toggled','\x20WHERE\x20key','LIMIT','node','string','autostatus','e,\x20updated','toUpperCas','essage\x20not','/send\x20buil','YTES_WARN','sock','OSEND_MAX_','videoMessa','\x20download:','TEGER\x20DEFA','2111326LzWxAN','1447555FvDEYt','LE\x20IF\x20NOT\x20','split','adcast','type','EXISTS\x20','get','stopManage','back\x20to\x20bu','status@bro','T(key)\x20DO\x20','push','default','function',']\x20no\x20sendM','slice','1256kRKryT',',\x0a\x20\x20\x20\x20\x20\x20\x20v','essage\x20ava','\x20bytes\x20(id','ARN','toLowerCas','ULT\x200\x0a\x20\x20\x20\x20','participan','\x20(key,\x20val','messages.u','instance','NOT\x20NULL,\x0a','isArray','\x20=\x20?','text','sage',']\x20bot\x20JID\x20','\x20status\x20','document','aults.','contextInf','alue\x20TEXT\x20','@g.us','message','key','ON\x20CONFLIC','atusAndFor','\x20\x20\x20\x20\x20\x20\x20upd','460916cBAIaL',']\x20forward\x20','\x20value=exc','caption','concat','video','❌\x20Failed\x20t','error:\x20','show','off','fromMe','4JWkAwC','ward\x20error','o\x20import\x20B','toString','from','\x20•\x20Status','isBuffer','xtMessage','length','sticker','ated_at\x20IN','enabled','OFF','ONDED_LIMI','OSEND','exec','✔️\x20autostat','has','AD_BYTES_W','1.1.0','ptt','id()\x20empty','message\x20er','716202XrUVHe','osend.init','trim','_at=exclud',']\x20raw\x20per-','ffer\x20for\x20','sendMessag','DOWNLOAD_B','audioMessa','.\x20Falling\x20','10179spsaje','mentionedJ','is\x20empty,\x20','ward','_KEEP','luded.valu','messages','value',']\x20cleanup\x20',']\x20download','stickerMes','osend','status_aut','?)\x0a\x20\x20\x20\x20\x20\x20\x20','mimetype','212684mfHFUU','d\x20status\x20',']\x20failed\x20t','ue,\x20update','UPDATE\x20SET','d\x20failed:\x20','\x20available','ONDED_TRIM','199617KnTAeQ','ialize\x20req','documentMe','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20','psert','ilable\x20on\x20','clear','TRIM_KEEP','us:\x20','uires\x20bot\x20','essage',']\x20empty\x20bu','RIMARY\x20KEY','dListener\x20','floor','conversati','isFinite','ror:\x20','imageMessa','d_at)\x20VALU','RESPONDED_','extendedTe','ed.updated','audio','e\x20error:\x20','image','ntentFromM','OSEND_RESP'];_0x3c31=function(){return _0x18a9d0;};return _0x3c31();}import{db}from'../utils/database.js';import{startManagedListener,stopManagedListener}from'../utils/listenerManager.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';export const name=_0x44a57e(0x113)+_0x44a57e(0x112);export const version=_0x44a57e(0xf9);export const priority=0x5e1+-0x406+-0x14*0x12;export const commands=[_0x44a57e(0x152)];export const configKeys=[_0x44a57e(0x147)+_0x44a57e(0x139)+'ONDED_LIMI'+'T',_0x44a57e(0x147)+'OSEND_RESP'+_0x44a57e(0x11d)+_0x44a57e(0x10b),_0x44a57e(0x147)+'OSEND_MAX_'+'DOWNLOAD_B'+_0x44a57e(0x157)];let CFG={};function _0x4178(_0x26efc3,_0x5bee28){const _0x1790c7=_0x3c31();return _0x4178=function(_0x36dd0e,_0x2ac6a3){_0x36dd0e=_0x36dd0e-(0x1c*-0x50+-0x42f*-0x9+-0x1bf5);let _0x22b423=_0x1790c7[_0x36dd0e];return _0x22b423;},_0x4178(_0x26efc3,_0x5bee28);}try{CFG=typeof getConfig==='function'?getConfig()||{}:{};}catch(_0x4397ae){warn('['+name+(']\x20getConfi'+'g()\x20threw:'+'\x20')+(_0x4397ae?.[_0x44a57e(0x185)]||_0x4397ae)+(_0x44a57e(0x106)+_0x44a57e(0x166)+_0x44a57e(0x14b)+_0x44a57e(0x181))),CFG={};}function toPositiveInt(_0x2098a7,_0x304413){const _0xbf8274=_0x44a57e,_0x290ce8=Number(_0x2098a7);if(!Number[_0xbf8274(0x12e)](_0x290ce8)||_0x290ce8<=-0x1645+-0x1b68+0x31ad)return _0x304413;return Math['floor'](_0x290ce8);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(-0x11f1+-0x2e*-0x7+0x10b9)*(-0x3*0x608+-0xad2*0x2+0x137*0x24)*(-0x18a0+0x1cce+0x2e*-0x1)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG[_0x44a57e(0x147)+_0x44a57e(0x139)+_0x44a57e(0xf3)+'T']??(CFG['STATUS_AUT'+'OSEND']&&CFG[_0x44a57e(0x147)+_0x44a57e(0xf4)][_0x44a57e(0x132)+'LIMIT']),FALLBACKS[_0x44a57e(0x132)+'LIMIT']),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0x44a57e(0x147)+_0x44a57e(0x139)+'ONDED_TRIM'+_0x44a57e(0x10b)]??(CFG[_0x44a57e(0x147)+'OSEND']&&CFG['STATUS_AUT'+_0x44a57e(0xf4)][_0x44a57e(0x132)+_0x44a57e(0x125)]),FALLBACKS[_0x44a57e(0x132)+'TRIM_KEEP']),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG['STATUS_AUT'+_0x44a57e(0x159)+_0x44a57e(0x104)+'YTES_WARN']??(CFG[_0x44a57e(0x147)+_0x44a57e(0xf4)]&&CFG[_0x44a57e(0x147)+_0x44a57e(0xf4)]['MAX_DOWNLO'+_0x44a57e(0xf8)+_0x44a57e(0x172)]),FALLBACKS['MAX_DOWNLO'+_0x44a57e(0xf8)+_0x44a57e(0x172)])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0x44a57e(0x152)+_0x44a57e(0x13c);let respondedMsgIds=new Set();function trackSent(_0x4efa19){const _0x10fcae=_0x44a57e;try{const _0x1a4e9c=_0x4efa19?.[_0x10fcae(0x186)]?.['id']||_0x4efa19?.['id']||_0x4efa19?.[_0x10fcae(0x10d)]&&_0x4efa19[_0x10fcae(0x10d)][-0x359+0x174*-0x17+0x24c5]?.[_0x10fcae(0x186)]?.['id']||Array[_0x10fcae(0x17a)](_0x4efa19)&&_0x4efa19[-0x91*-0x27+0x1bbd+-0x31d4]?.[_0x10fcae(0x186)]?.['id']||null;if(!_0x1a4e9c)return;respondedMsgIds['add'](String(_0x1a4e9c));if(respondedMsgIds['size']>DEFAULTS[_0x10fcae(0x132)+_0x10fcae(0x14f)]){const _0x56aa5f=Array['from'](respondedMsgIds);respondedMsgIds=new Set(_0x56aa5f[_0x10fcae(0x16d)](-DEFAULTS['RESPONDED_'+_0x10fcae(0x125)]));}}catch(_0x4b3e6d){}}function isOurSentId(_0x737ac6){const _0x181e09=_0x44a57e;return _0x737ac6&&respondedMsgIds[_0x181e09(0xf7)](String(_0x737ac6));}async function getBaileysHelpers(){const _0x323f37=_0x44a57e;if(_baileysHelpers)return _baileysHelpers;try{const _0x2f6488=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x2f6488[_0x323f37(0x14a)+_0x323f37(0x138)+_0x323f37(0x128)]||_0x2f6488[_0x323f37(0x16a)]?.[_0x323f37(0x14a)+_0x323f37(0x138)+_0x323f37(0x128)]};if(!_baileysHelpers[_0x323f37(0x14a)+_0x323f37(0x138)+_0x323f37(0x128)])throw new Error('downloadCo'+_0x323f37(0x138)+_0x323f37(0x155)+_0x323f37(0x11c));return _baileysHelpers;}catch(_0x46c8bc){error(_0x46c8bc,'['+name+(_0x323f37(0x118)+_0x323f37(0x197)+'aileys'));throw _0x46c8bc;}}async function streamToBuffer(_0x113b90){const _0x40ecad=_0x44a57e,_0x59b0f4=[];for await(const _0x5a4f83 of _0x113b90)_0x59b0f4[_0x40ecad(0x169)](Buffer[_0x40ecad(0x19b)](_0x5a4f83)?_0x5a4f83:Buffer[_0x40ecad(0x199)](_0x5a4f83));return Buffer[_0x40ecad(0x18e)](_0x59b0f4);}async function ensureTables(){const _0x48e5fa=_0x44a57e;await db[_0x48e5fa(0xf5)]('CREATE\x20TAB'+_0x48e5fa(0x15f)+_0x48e5fa(0x163)+PREFS_TABLE+(_0x48e5fa(0x121)+'key\x20TEXT\x20P'+_0x48e5fa(0x12a)+_0x48e5fa(0x16f)+_0x48e5fa(0x183)+_0x48e5fa(0x179)+_0x48e5fa(0x189)+_0x48e5fa(0x19f)+_0x48e5fa(0x15c)+_0x48e5fa(0x174)+_0x48e5fa(0x148)));}async function getPref(_0x511a00){const _0x524537=_0x44a57e;try{const _0x8c35c2=await db[_0x524537(0x164)]('SELECT\x20val'+_0x524537(0x145)+PREFS_TABLE+(_0x524537(0x14e)+_0x524537(0x17b)),[_0x511a00]);return _0x8c35c2?_0x8c35c2[_0x524537(0x10e)]:null;}catch(_0x3a3567){return warn('['+name+(_0x524537(0x13a)+_0x524537(0x191))+(_0x3a3567?.[_0x524537(0x185)]||_0x3a3567)),null;}}async function setPref(_0x51fcf6,_0x43846e){const _0x3f4371=_0x44a57e;try{const _0x284f10=Math[_0x3f4371(0x12c)](Date['now']()/(-0xaf3+-0x1ff+0x10da));return await db['run'](_0x3f4371(0x13d)+'O\x20'+PREFS_TABLE+(_0x3f4371(0x176)+_0x3f4371(0x119)+_0x3f4371(0x131)+'ES\x20(?,\x20?,\x20'+_0x3f4371(0x114)+_0x3f4371(0x187)+_0x3f4371(0x168)+_0x3f4371(0x11a)+_0x3f4371(0x18c)+_0x3f4371(0x10c)+_0x3f4371(0x153)+_0x3f4371(0x100)+_0x3f4371(0x134)+_0x3f4371(0x144)),[_0x51fcf6,String(_0x43846e),_0x284f10]),!![];}catch(_0x592b76){return warn('['+name+(']\x20setPref\x20'+'failed:\x20')+(_0x592b76?.['message']||_0x592b76)),![];}}async function isEnabled(){const _0x1428f6=_0x44a57e,_0x400b54=await getPref(_0x1428f6(0x1a0));return _0x400b54==='1'||_0x400b54==='true';}function detectContentAndNode(_0xca4bd4){const _0xd8fcbb=_0x44a57e,_0x14468d=_0xca4bd4?.['message']||{};if(_0x14468d[_0xd8fcbb(0x130)+'ge'])return{'type':_0xd8fcbb(0x137),'node':_0x14468d[_0xd8fcbb(0x130)+'ge']};if(_0x14468d['videoMessa'+'ge'])return{'type':_0xd8fcbb(0x18f),'node':_0x14468d[_0xd8fcbb(0x15a)+'ge']};if(_0x14468d[_0xd8fcbb(0x105)+'ge'])return{'type':_0xd8fcbb(0x135),'node':_0x14468d[_0xd8fcbb(0x105)+'ge']};if(_0x14468d[_0xd8fcbb(0x120)+'ssage'])return{'type':_0xd8fcbb(0x180),'node':_0x14468d[_0xd8fcbb(0x120)+'ssage']};if(_0x14468d['stickerMes'+_0xd8fcbb(0x17d)])return{'type':_0xd8fcbb(0x19e),'node':_0x14468d[_0xd8fcbb(0x111)+_0xd8fcbb(0x17d)]};if(_0x14468d[_0xd8fcbb(0x133)+_0xd8fcbb(0x19c)]?.[_0xd8fcbb(0x17c)])return{'type':_0xd8fcbb(0x17c),'text':_0x14468d['extendedTe'+_0xd8fcbb(0x19c)][_0xd8fcbb(0x17c)]};if(_0x14468d[_0xd8fcbb(0x12d)+'on'])return{'type':_0xd8fcbb(0x17c),'text':_0x14468d[_0xd8fcbb(0x12d)+'on']};return null;}async function buildImmediatePayload(_0x1b3280){const _0x2e24bb=_0x44a57e,_0x192cad=detectContentAndNode(_0x1b3280);if(!_0x192cad)return null;const _0x4fac32=_0x1b3280?.['key']?.[_0x2e24bb(0x175)+'t']||'',_0x493ba9=_0x1b3280?.['pushName']||'',_0x18285b=_0x4fac32?_0x4fac32[_0x2e24bb(0x160)]('@')[0x1*-0x1f09+-0x1*-0x3c7+0x1b42*0x1]:_0x493ba9||'',_0x1f9680=_0x18285b?_0x18285b+_0x2e24bb(0x19a):'Status';if(_0x192cad[_0x2e24bb(0x162)]===_0x2e24bb(0x17c)){const _0x25a7f0=_0x192cad[_0x2e24bb(0x17c)]||'',_0x58ef20=_0x18285b?_0x18285b+':\x20'+_0x25a7f0:_0x25a7f0,_0x50fd5f={'text':_0x58ef20};if(_0x4fac32)_0x50fd5f[_0x2e24bb(0x182)+'o']={'mentionedJid':[_0x4fac32]};return _0x50fd5f;}const {downloadContentFromMessage:_0x4d4738}=await getBaileysHelpers(),_0x376a8d=_0x192cad[_0x2e24bb(0x150)],_0x204e83=_0x192cad[_0x2e24bb(0x162)];try{const _0x42d07a=await _0x4d4738(_0x376a8d,_0x204e83),_0x27b049=await streamToBuffer(_0x42d07a);if(!_0x27b049||!_0x27b049[_0x2e24bb(0x19d)])return warn('['+name+(_0x2e24bb(0x129)+_0x2e24bb(0x102))+_0x204e83+_0x2e24bb(0x17f)+(_0x1b3280?.[_0x2e24bb(0x186)]?.['id']||'')),null;_0x27b049[_0x2e24bb(0x19d)]>DEFAULTS['MAX_DOWNLO'+'AD_BYTES_W'+_0x2e24bb(0x172)]&&warn('['+name+']\x20large\x20'+_0x204e83+(_0x2e24bb(0x15b)+'\x20')+_0x27b049['length']+(_0x2e24bb(0x171)+'\x20')+(_0x1b3280?.[_0x2e24bb(0x186)]?.['id']||'')+')');let _0x1ca2f5=null;const _0x40ecbe=(_0x376a8d?.[_0x2e24bb(0x115)]||'')[_0x2e24bb(0x173)+'e']();if(_0x204e83===_0x2e24bb(0x137)){const _0x8b8ed7=[];if(_0x376a8d?.[_0x2e24bb(0x18d)])_0x8b8ed7[_0x2e24bb(0x169)](_0x376a8d[_0x2e24bb(0x18d)]);_0x8b8ed7[_0x2e24bb(0x169)](_0x1f9680),_0x1ca2f5={'image':_0x27b049,'caption':_0x8b8ed7[_0x2e24bb(0x13f)]('\x0a'),'mimetype':_0x40ecbe||undefined};}else{if(_0x204e83===_0x2e24bb(0x18f)){const _0x44ad4d=[];if(_0x376a8d?.[_0x2e24bb(0x18d)])_0x44ad4d[_0x2e24bb(0x169)](_0x376a8d['caption']);_0x44ad4d[_0x2e24bb(0x169)](_0x1f9680),_0x1ca2f5={'video':_0x27b049,'caption':_0x44ad4d['join']('\x0a'),'mimetype':_0x40ecbe||undefined};}else{if(_0x204e83===_0x2e24bb(0x135))_0x1ca2f5={'audio':_0x27b049,'ptt':!!_0x376a8d?.[_0x2e24bb(0xfa)],'mimetype':_0x40ecbe||undefined};else{if(_0x204e83===_0x2e24bb(0x180)){const _0x265087=_0x376a8d?.['fileName']||''+(_0x1b3280?.[_0x2e24bb(0x186)]?.['id']||_0x2e24bb(0x143));_0x1ca2f5={'document':_0x27b049,'fileName':_0x265087,'mimetype':_0x40ecbe||undefined,'caption':_0x1f9680};}else _0x204e83===_0x2e24bb(0x19e)&&(_0x1ca2f5={'sticker':_0x27b049});}}}return _0x1ca2f5&&_0x4fac32&&(_0x1ca2f5['contextInf'+'o']=_0x1ca2f5[_0x2e24bb(0x182)+'o']||{},_0x1ca2f5[_0x2e24bb(0x182)+'o'][_0x2e24bb(0x108)+'id']=[_0x4fac32]),_0x1ca2f5;}catch(_0x1a6f8f){return warn('['+name+(_0x2e24bb(0x110)+_0x2e24bb(0x156)+_0x2e24bb(0x11b))+(_0x1a6f8f?.[_0x2e24bb(0x185)]||_0x1a6f8f)),null;}}async function handleStatusAndForward(_0x196bbb){const _0x264e51=_0x44a57e;try{if(!_0x196bbb||!_0x196bbb['key'])return;const _0x26e50b=String(_0x196bbb[_0x264e51(0x186)][_0x264e51(0x141)]||'')['toLowerCas'+'e']();if(_0x26e50b!=='status@bro'+_0x264e51(0x161))return;if(!await isEnabled())return;const _0x134889=getBotJid();if(!_0x134889){warn('['+name+(_0x264e51(0x17e)+_0x264e51(0x109)+'cannot\x20for'+_0x264e51(0x10a)));return;}const _0x45dc84=await buildImmediatePayload(_0x196bbb);if(!_0x45dc84)return;let _0x4db78a=null;if(botRef&&botRef[_0x264e51(0x158)]&&typeof botRef[_0x264e51(0x158)]['sendMessag'+'e']==='function')_0x4db78a=await botRef['sock']['sendMessag'+'e'](_0x134889,_0x45dc84);else{if(botRef&&typeof botRef[_0x264e51(0x103)+'e']===_0x264e51(0x16b))_0x4db78a=await botRef[_0x264e51(0x103)+'e'](_0x134889,_0x45dc84);else{warn('['+name+(_0x264e51(0x16c)+_0x264e51(0x170)+_0x264e51(0x123)+'botRef'));return;}}trackSent(_0x4db78a),info('['+name+(']\x20forwarde'+_0x264e51(0x117))+(_0x196bbb[_0x264e51(0x186)]['id']||'')+_0x264e51(0x13b)+_0x134889);}catch(_0x1211fe){warn('['+name+(']\x20handleSt'+_0x264e51(0x188)+_0x264e51(0x196)+':\x20')+(_0x1211fe?.['message']||_0x1211fe));}}async function rawMessagesUpsertHandler({messages:_0xa68a33}){const _0x13ba39=_0x44a57e;if(!Array[_0x13ba39(0x17a)](_0xa68a33))return;if(!await isEnabled())return;for(const _0x25dafb of _0xa68a33){try{if(!_0x25dafb||!_0x25dafb['key'])continue;if(isOurSentId(_0x25dafb['key']?.['id']))continue;if(_0x25dafb[_0x13ba39(0x186)][_0x13ba39(0x194)])continue;const _0x32c4de=String(_0x25dafb[_0x13ba39(0x186)][_0x13ba39(0x141)]||'')['toLowerCas'+'e']();_0x32c4de===_0x13ba39(0x167)+'adcast'&&await handleStatusAndForward(_0x25dafb)[_0x13ba39(0x13e)](_0x10c1c6=>warn('['+name+(_0x13ba39(0x18b)+_0x13ba39(0x140)+'iled:\x20')+(_0x10c1c6?.['message']||_0x10c1c6)));}catch(_0x1c7ca4){warn('['+name+(_0x13ba39(0x101)+_0x13ba39(0xfc)+_0x13ba39(0x12f))+(_0x1c7ca4?.[_0x13ba39(0x185)]||_0x1c7ca4));}}}function getMessageTextFromCtx(_0x1a41e5){const _0x55a99f=_0x44a57e;if(!_0x1a41e5||!_0x1a41e5['message'])return'';const _0x53471b=_0x1a41e5[_0x55a99f(0x185)];if(_0x53471b[_0x55a99f(0x12d)+'on'])return _0x53471b[_0x55a99f(0x12d)+'on'];if(_0x53471b[_0x55a99f(0x133)+_0x55a99f(0x19c)]?.[_0x55a99f(0x17c)])return _0x53471b[_0x55a99f(0x133)+'xtMessage'][_0x55a99f(0x17c)];if(_0x53471b['imageMessa'+'ge']?.[_0x55a99f(0x18d)])return _0x53471b[_0x55a99f(0x130)+'ge'][_0x55a99f(0x18d)];if(_0x53471b[_0x55a99f(0x15a)+'ge']?.[_0x55a99f(0x18d)])return _0x53471b[_0x55a99f(0x15a)+'ge']['caption'];return'';}export async function onMessage(_0x3de0f4){const _0x1b1049=_0x44a57e;try{if(!_0x3de0f4||!_0x3de0f4[_0x1b1049(0x186)]||!_0x3de0f4[_0x1b1049(0x185)])return;const _0x5d03d4=_0x3de0f4[_0x1b1049(0x186)][_0x1b1049(0x141)];if(typeof _0x5d03d4===_0x1b1049(0x151)&&_0x5d03d4['endsWith'](_0x1b1049(0x184)))return;if(!_0x3de0f4[_0x1b1049(0x186)][_0x1b1049(0x194)])return;if(_0x3de0f4[_0x1b1049(0x186)]['id']&&isOurSentId(_0x3de0f4['key']['id']))return;const _0x59f39e=typeof _0x3de0f4[_0x1b1049(0x17c)]===_0x1b1049(0x151)&&_0x3de0f4[_0x1b1049(0x17c)]['trim']()['length']?_0x3de0f4[_0x1b1049(0x17c)][_0x1b1049(0xff)]():'',_0xaecd1b=(getMessageTextFromCtx(_0x3de0f4)||'')[_0x1b1049(0x198)]()[_0x1b1049(0xff)](),_0xdf250b=(_0x59f39e||_0xaecd1b||'')[_0x1b1049(0x160)](/\r?\n/)[-0x1*0x1a9c+0x4f*0x69+-0x5cb][_0x1b1049(0xff)]();if(!_0xdf250b)return;const _0x59b970=/^autostatus(?:\s+(on|off|show))?$/i[_0x1b1049(0xf5)](_0xdf250b);if(!_0x59b970)return;const _0x59006f=(_0x59b970[-0x1*-0x5a1+0x43+0x89*-0xb]||_0x1b1049(0x192))['toLowerCas'+'e'](),_0x26c1ad=getBotJid();if(!_0x26c1ad){warn('['+name+(']\x20onMessag'+_0x1b1049(0x14c)+_0x1b1049(0xfb)+',\x20cannot\x20r'+_0x1b1049(0x149)));return;}if(_0x59006f===_0x1b1049(0x192)){const _0x309b38=await isEnabled(),_0x1cc030=_0x1b1049(0xf6)+_0x1b1049(0x126)+(_0x309b38?'ON':_0x1b1049(0xf2)),_0x4b64e1=await(botRef?.[_0x1b1049(0x158)]?.[_0x1b1049(0x103)+'e']?botRef[_0x1b1049(0x158)][_0x1b1049(0x103)+'e'](_0x26c1ad,{'text':_0x1cc030}):botRef['sendMessag'+'e'](_0x26c1ad,{'text':_0x1cc030}));trackSent(_0x4b64e1);return;}if(_0x59006f==='on'||_0x59006f===_0x1b1049(0x193)){const _0x65b6f=_0x59006f==='on'?'1':'0',_0x132217=await setPref('enabled',_0x65b6f),_0x1049c3=_0x132217?_0x1b1049(0xf6)+'us\x20set\x20to\x20'+_0x59006f[_0x1b1049(0x154)+'e']():_0x1b1049(0x190)+_0x1b1049(0x146)+_0x1b1049(0x143),_0x19c101=await(botRef?.[_0x1b1049(0x158)]?.['sendMessag'+'e']?botRef[_0x1b1049(0x158)][_0x1b1049(0x103)+'e'](_0x26c1ad,{'text':_0x1049c3}):botRef['sendMessag'+'e'](_0x26c1ad,{'text':_0x1049c3}));trackSent(_0x19c101),info('['+name+(']\x20autostat'+_0x1b1049(0x14d)+_0x1b1049(0x13b))+_0x59006f[_0x1b1049(0x154)+'e']());return;}}catch(_0x111af9){warn('['+name+(_0x1b1049(0x142)+_0x1b1049(0x136))+(_0x111af9?.[_0x1b1049(0x185)]||_0x111af9));}}export async function initialize(_0x13c037){const _0x8bdbf5=_0x44a57e;if(!_0x13c037)throw new Error('status_aut'+_0x8bdbf5(0xfe)+_0x8bdbf5(0x11f)+_0x8bdbf5(0x127)+_0x8bdbf5(0x178));botRef=_0x13c037,await ensureTables(),startManagedListener({'botRef':botRef,'eventName':_0x8bdbf5(0x177)+_0x8bdbf5(0x122),'handler':rawMessagesUpsertHandler,'moduleName':name});}export async function cleanup(){const _0x3e514b=_0x44a57e;try{stopManagedListener(name,_0x3e514b(0x177)+_0x3e514b(0x122));}catch(_0x4d2709){warn('['+name+(_0x3e514b(0x10f)+_0x3e514b(0x165)+_0x3e514b(0x12b)+_0x3e514b(0x191))+(_0x4d2709?.['message']||_0x4d2709));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x3e514b(0x124)]==='function')respondedMsgIds['clear']();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};