const _0x28577f=_0x1073;(function(_0x1fee85,_0x48f37b){const _0x35bf1e=_0x1073,_0x16acc2=_0x1fee85();while(!![]){try{const _0x3fa279=-parseInt(_0x35bf1e(0x16b))/(0x158*-0x1a+0x17*0xfd+0x3*0x412)*(-parseInt(_0x35bf1e(0x13d))/(0xde2+0x1d1+-0x67*0x27))+-parseInt(_0x35bf1e(0x144))/(-0x1401+0x108e*-0x1+0x1*0x2492)*(-parseInt(_0x35bf1e(0x10e))/(0x24ad*-0x1+0x266+0x1*0x224b))+-parseInt(_0x35bf1e(0x116))/(-0x914+-0xca4+0x15bd)+-parseInt(_0x35bf1e(0x1ba))/(-0xcfc+0x2b*-0x26+0x1364)*(parseInt(_0x35bf1e(0x13a))/(-0x11*-0x203+-0xc5f+-0x15cd))+parseInt(_0x35bf1e(0x139))/(-0x268c+-0x3ed+-0xd*-0x345)*(-parseInt(_0x35bf1e(0x157))/(0x27b*0x3+-0x26b*0x1+-0x1*0x4fd))+parseInt(_0x35bf1e(0x169))/(0x2aa*-0x3+-0x92*-0x42+-0x1d9c)+parseInt(_0x35bf1e(0x1ac))/(-0x21eb+0x1*-0x1d59+-0x1*-0x3f4f);if(_0x3fa279===_0x48f37b)break;else _0x16acc2['push'](_0x16acc2['shift']());}catch(_0x3b9018){_0x16acc2['push'](_0x16acc2['shift']());}}}(_0x24bd,0xa8493+0xbab25+-0xfd9c4));import _0x1b7b53 from'path';import{warn,error,info}from'../utils/logger.js';import{db}from'../utils/database.js';import{getBotJid}from'../utils/bot-state.js';import{getConfig}from'../utils/config.js';function _0x1073(_0x388d66,_0x351b5a){_0x388d66=_0x388d66-(0x674+-0x5c8+0x62);const _0x405f25=_0x24bd();let _0x30383b=_0x405f25[_0x388d66];return _0x30383b;}export const name=_0x28577f(0x179)+_0x28577f(0x192);export const version=_0x28577f(0x124);export const priority=-0x7*-0x1d3+0x1042+-0x1f*0xec;export const commands=['autostatus'];export const configKeys=['STATUS_AUT'+'OSEND_RESP'+_0x28577f(0x143)+'T',_0x28577f(0x1b8)+'OSEND_RESP'+_0x28577f(0x1b0)+_0x28577f(0x18a),_0x28577f(0x1b8)+'OSEND_MAX_'+_0x28577f(0x187)+_0x28577f(0x15f)];let CFG={};try{CFG=typeof getConfig===_0x28577f(0x1ae)?getConfig()||{}:{};}catch(_0x55ced1){warn('['+name+(_0x28577f(0x113)+_0x28577f(0x1b5)+'\x20')+(_0x55ced1?.[_0x28577f(0x151)]||_0x55ced1)+('.\x20Falling\x20'+_0x28577f(0x140)+_0x28577f(0x1aa)+'aults.')),CFG={};}function toPositiveInt(_0x59cb2f,_0x306153){const _0x5e3448=_0x28577f,_0x35652d=Number(_0x59cb2f);if(!Number['isFinite'](_0x35652d)||_0x35652d<=-0x1d81+0x16cf*0x1+0x1*0x6b2)return _0x306153;return Math[_0x5e3448(0x149)](_0x35652d);}const FALLBACKS={'RESPONDED_LIMIT':0x1388,'RESPONDED_TRIM_KEEP':0xbb8,'MAX_DOWNLOAD_BYTES_WARN':(0xa*0x1ee+-0x1*0x9d7+-0x96b)*(-0xdb2+0x1fdc+-0xe2a)*(0x14d1+-0x456+-0xc7b)},DEFAULTS={'RESPONDED_LIMIT':toPositiveInt(CFG[_0x28577f(0x1b8)+_0x28577f(0x166)+_0x28577f(0x143)+'T']??(CFG[_0x28577f(0x1b8)+'OSEND']&&CFG[_0x28577f(0x1b8)+_0x28577f(0x18e)][_0x28577f(0x14d)+'LIMIT']),FALLBACKS[_0x28577f(0x14d)+'LIMIT']),'RESPONDED_TRIM_KEEP':toPositiveInt(CFG[_0x28577f(0x1b8)+_0x28577f(0x166)+_0x28577f(0x1b0)+_0x28577f(0x18a)]??(CFG[_0x28577f(0x1b8)+'OSEND']&&CFG[_0x28577f(0x1b8)+_0x28577f(0x18e)][_0x28577f(0x14d)+_0x28577f(0x161)]),FALLBACKS[_0x28577f(0x14d)+_0x28577f(0x161)]),'MAX_DOWNLOAD_BYTES_WARN':toPositiveInt(CFG[_0x28577f(0x1b8)+_0x28577f(0x177)+_0x28577f(0x187)+_0x28577f(0x15f)]??(CFG[_0x28577f(0x1b8)+_0x28577f(0x18e)]&&CFG[_0x28577f(0x1b8)+_0x28577f(0x18e)][_0x28577f(0x193)+_0x28577f(0x119)+'ARN']),FALLBACKS['MAX_DOWNLO'+'AD_BYTES_W'+_0x28577f(0x14a)])};let botRef=null,_baileysHelpers=null;const PREFS_TABLE=_0x28577f(0x1b6)+_0x28577f(0x16c);let respondedMsgIds=new Set();function trackSent(_0x34146b){const _0x4b27d0=_0x28577f;try{const _0x4198cf=_0x34146b?.['key']?.['id']||_0x34146b?.['id']||_0x34146b?.['messages']&&_0x34146b[_0x4b27d0(0x142)][0x102e+-0x7*0x220+-0x14e]?.[_0x4b27d0(0x19f)]?.['id']||Array[_0x4b27d0(0x159)](_0x34146b)&&_0x34146b[-0x1ed3+0x1308+-0x1*-0xbcb]?.[_0x4b27d0(0x19f)]?.['id']||null;if(!_0x4198cf)return;respondedMsgIds[_0x4b27d0(0x173)](String(_0x4198cf));if(respondedMsgIds[_0x4b27d0(0x1b1)]>DEFAULTS[_0x4b27d0(0x14d)+'LIMIT']){const _0x3b74bf=Array[_0x4b27d0(0x112)](respondedMsgIds);respondedMsgIds=new Set(_0x3b74bf[_0x4b27d0(0x194)](-DEFAULTS['RESPONDED_'+_0x4b27d0(0x161)]));}}catch(_0x22f759){}}function isOurSentId(_0x3df840){const _0x551aa7=_0x28577f;return _0x3df840&&respondedMsgIds[_0x551aa7(0x190)](String(_0x3df840));}async function getBaileysHelpers(){const _0x4bea91=_0x28577f;if(_baileysHelpers)return _baileysHelpers;try{const _0x2ed059=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x2ed059[_0x4bea91(0x11b)+'ntentFromM'+'essage']||_0x2ed059['default']?.[_0x4bea91(0x11b)+_0x4bea91(0x1b2)+_0x4bea91(0x1af)]};if(!_baileysHelpers[_0x4bea91(0x11b)+_0x4bea91(0x1b2)+_0x4bea91(0x1af)])throw new Error(_0x4bea91(0x11b)+_0x4bea91(0x1b2)+_0x4bea91(0x19e)+_0x4bea91(0x1b3));return _baileysHelpers;}catch(_0x2d610a){error(_0x2d610a,'['+name+(']\x20failed\x20t'+_0x4bea91(0x1b4)+_0x4bea91(0x1ad)));throw _0x2d610a;}}async function streamToBuffer(_0x5dcdb2){const _0x4865d3=_0x28577f,_0x3438a2=[];for await(const _0x13b901 of _0x5dcdb2)_0x3438a2[_0x4865d3(0x180)](Buffer[_0x4865d3(0x122)](_0x13b901)?_0x13b901:Buffer[_0x4865d3(0x112)](_0x13b901));return Buffer['concat'](_0x3438a2);}async function ensureTables(){const _0x57d95e=_0x28577f;await db['exec'](_0x57d95e(0x153)+_0x57d95e(0x131)+_0x57d95e(0x167)+PREFS_TABLE+('\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20key\x20TEXT\x20'+'PRIMARY\x20KE'+_0x57d95e(0x195)+_0x57d95e(0x197)+'T\x20NOT\x20NULL'+_0x57d95e(0x12b)+_0x57d95e(0x160)+'\x20INTEGER\x20D'+_0x57d95e(0x118)+'\x20\x20\x20\x20\x20);'));}async function getPref(_0x512656){const _0x1a3f34=_0x28577f;try{const _0xda869e=await db[_0x1a3f34(0x121)](_0x1a3f34(0x17f)+_0x1a3f34(0x11e)+PREFS_TABLE+(_0x1a3f34(0x1a4)+_0x1a3f34(0x181)),[_0x512656]);return _0xda869e?_0xda869e[_0x1a3f34(0x114)]:null;}catch(_0x5d535b){return warn('['+name+(_0x1a3f34(0x165)+_0x1a3f34(0x1a6))+(_0x5d535b?.[_0x1a3f34(0x151)]||_0x5d535b)),null;}}async function setPref(_0x50d1c8,_0x1889b2){const _0x4944c8=_0x28577f;try{const _0x4e9665=Math[_0x4944c8(0x149)](Date[_0x4944c8(0x183)]()/(-0x14f8+-0x7a3+0x2083));return await db['run'](_0x4944c8(0x111)+'O\x20'+PREFS_TABLE+(_0x4944c8(0x126)+_0x4944c8(0x18c)+'d_at)\x20VALU'+'ES\x20(?,\x20?,\x20'+_0x4944c8(0x1a5)+'\x20ON\x20CONFLI'+_0x4944c8(0x12e)+_0x4944c8(0x19a)+'T\x20value=ex'+_0x4944c8(0x164)+'ue,\x20update'+_0x4944c8(0x163)+_0x4944c8(0x15d)+_0x4944c8(0x17e)),[_0x50d1c8,String(_0x1889b2),_0x4e9665]),!![];}catch(_0x4cd721){return warn('['+name+(']\x20setPref\x20'+_0x4944c8(0x110))+(_0x4cd721?.[_0x4944c8(0x151)]||_0x4cd721)),![];}}async function isEnabled(){const _0x1b6837=_0x28577f,_0x356f7a=await getPref(_0x1b6837(0x13f));return _0x356f7a==='1'||_0x356f7a===_0x1b6837(0x18d);}function _0x24bd(){const _0x12c63e=['text','DOWNLOAD_B','document','ilable\x20on\x20','_KEEP','is\x20empty,\x20','ue,\x20update','true','OSEND','clear','has','sock','osend','MAX_DOWNLO','slice','Y,\x0a\x20\x20\x20\x20\x20\x20\x20','status','\x20value\x20TEX','us\x20toggled','caption','\x20UPDATE\x20SE','messages.u','@g.us',']\x20no\x20sendM','essage\x20not','key','extendedTe','remoteJid','fileName','adcast','\x20WHERE\x20key','?)\x0a\x20\x20\x20\x20\x20\x20\x20','error:\x20','toLowerCas','ror:\x20',']\x20register','ilt-in\x20def','show','22482713GGRFhJ','aileys','function','essage','ONDED_TRIM','size','ntentFromM','\x20available','o\x20import\x20B','g()\x20threw:','autostatus','trim','STATUS_AUT','toString','6igGfqd','id()\x20empty','conversati','psert',',\x20cannot\x20r','4QuIGSc','cannot\x20for','failed:\x20','INSERT\x20INT','from',']\x20getConfi','value','video','3816790xphPgC','sticker','EFAULT\x200\x0a\x20','AD_BYTES_W','sendMessag','downloadCo','toUpperCas',']\x20raw\x20per-','ue\x20FROM\x20','stickerMes','or\x20message','get','isBuffer',']\x20forward\x20','1.2.0','d\x20failed:\x20','\x20(key,\x20val','ward\x20error','message\x20er',']\x20onMessag','iled:\x20',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20','unbind\x20err',']\x20handleSt','CT(key)\x20DO','sage','ptt','LE\x20IF\x20NOT\x20','videoMessa','us\x20set\x20to\x20','status@bro','node','\x20status\x20','us:\x20','OFF','8lGkSYQ','4933733GYvjOU','instance','length','14DzhzQP','d\x20status\x20','enabled','back\x20to\x20bu','e:\x20getBotJ','messages','ONDED_LIMI','44667CyIQKy',']\x20cleanup\x20','off','imageMessa','\x20•\x20Status','floor','ARN','or:\x20','atusAndFor','RESPONDED_','xtMessage','\x20bytes\x20(id','join','message','documentMe','CREATE\x20TAB','ed\x20stable\x20','pushName','/send\x20buil','4631958ytuyTg','string','isArray','o\x20set\x20auto','image','❌\x20Failed\x20t','ded.update','botRef','YTES_WARN','updated_at','TRIM_KEEP','audioMessa','d_at=exclu','cluded.val',']\x20getPref\x20','OSEND_RESP','EXISTS\x20','essage\x20ava','1438330WgwUdf','ward','27922ypNIVk','_prefs','ialize\x20req','participan','\x20->\x20',']\x20bot\x20JID\x20','type','fromMe','add','catch','e\x20error:\x20','s.upsert','OSEND_MAX_','split','status_aut','Status',']\x20forwarde','✔️\x20autostat','ssage','d_at;','SELECT\x20val','push','\x20=\x20?','contextInf','now',']\x20large\x20','uires\x20bot\x20'];_0x24bd=function(){return _0x12c63e;};return _0x24bd();}function detectContentAndNode(_0x35ba85){const _0x57e289=_0x28577f,_0xf5064b=_0x35ba85?.[_0x57e289(0x151)]||{};if(_0xf5064b[_0x57e289(0x147)+'ge'])return{'type':_0x57e289(0x15b),'node':_0xf5064b['imageMessa'+'ge']};if(_0xf5064b[_0x57e289(0x132)+'ge'])return{'type':_0x57e289(0x115),'node':_0xf5064b[_0x57e289(0x132)+'ge']};if(_0xf5064b[_0x57e289(0x162)+'ge'])return{'type':'audio','node':_0xf5064b[_0x57e289(0x162)+'ge']};if(_0xf5064b[_0x57e289(0x152)+_0x57e289(0x17d)])return{'type':_0x57e289(0x188),'node':_0xf5064b[_0x57e289(0x152)+_0x57e289(0x17d)]};if(_0xf5064b[_0x57e289(0x11f)+'sage'])return{'type':_0x57e289(0x117),'node':_0xf5064b[_0x57e289(0x11f)+_0x57e289(0x12f)]};if(_0xf5064b[_0x57e289(0x1a0)+'xtMessage']?.['text'])return{'type':_0x57e289(0x186),'text':_0xf5064b[_0x57e289(0x1a0)+_0x57e289(0x14e)][_0x57e289(0x186)]};if(_0xf5064b['conversati'+'on'])return{'type':_0x57e289(0x186),'text':_0xf5064b[_0x57e289(0x1bc)+'on']};return null;}async function buildImmediatePayload(_0x1a211d){const _0x25ae9a=_0x28577f,_0x2b5528=detectContentAndNode(_0x1a211d);if(!_0x2b5528)return null;const _0x1c07fd=_0x1a211d?.[_0x25ae9a(0x19f)]?.[_0x25ae9a(0x16e)+'t']||'',_0xa00719=_0x1a211d?.[_0x25ae9a(0x155)]||'',_0x565f5b=_0x1c07fd?_0x1c07fd[_0x25ae9a(0x178)]('@')[-0x4*0x1e7+-0x35e*-0x8+-0x1354*0x1]:_0xa00719||'',_0x21f130=_0x565f5b?_0x565f5b+_0x25ae9a(0x148):_0x25ae9a(0x17a);if(_0x2b5528[_0x25ae9a(0x171)]===_0x25ae9a(0x186)){const _0x78c2cf=_0x2b5528['text']||'',_0x2e6326=_0x565f5b?_0x565f5b+':\x20'+_0x78c2cf:_0x78c2cf,_0x231015={'text':_0x2e6326};if(_0x1c07fd)_0x231015['contextInf'+'o']={'mentionedJid':[_0x1c07fd]};return _0x231015;}const {downloadContentFromMessage:_0xc85713}=await getBaileysHelpers(),_0x51a89c=_0x2b5528[_0x25ae9a(0x135)],_0xcdc146=_0x2b5528[_0x25ae9a(0x171)];try{const _0x117f8a=await _0xc85713(_0x51a89c,_0xcdc146),_0x46da7d=await streamToBuffer(_0x117f8a);if(!_0x46da7d||!_0x46da7d[_0x25ae9a(0x13c)])return warn('['+name+(']\x20empty\x20bu'+'ffer\x20for\x20')+_0xcdc146+_0x25ae9a(0x136)+(_0x1a211d?.['key']?.['id']||'')),null;_0x46da7d[_0x25ae9a(0x13c)]>DEFAULTS[_0x25ae9a(0x193)+_0x25ae9a(0x119)+_0x25ae9a(0x14a)]&&warn('['+name+_0x25ae9a(0x184)+_0xcdc146+('\x20download:'+'\x20')+_0x46da7d['length']+(_0x25ae9a(0x14f)+'\x20')+(_0x1a211d?.['key']?.['id']||'')+')');let _0x1ff300=null;const _0x3dd0dc=(_0x51a89c?.['mimetype']||'')[_0x25ae9a(0x1a7)+'e']();if(_0xcdc146===_0x25ae9a(0x15b)){const _0x1ab63f=[];if(_0x51a89c?.[_0x25ae9a(0x199)])_0x1ab63f[_0x25ae9a(0x180)](_0x51a89c[_0x25ae9a(0x199)]);_0x1ab63f[_0x25ae9a(0x180)](_0x21f130),_0x1ff300={'image':_0x46da7d,'caption':_0x1ab63f[_0x25ae9a(0x150)]('\x0a'),'mimetype':_0x3dd0dc||undefined};}else{if(_0xcdc146==='video'){const _0x5b9ca5=[];if(_0x51a89c?.[_0x25ae9a(0x199)])_0x5b9ca5[_0x25ae9a(0x180)](_0x51a89c[_0x25ae9a(0x199)]);_0x5b9ca5['push'](_0x21f130),_0x1ff300={'video':_0x46da7d,'caption':_0x5b9ca5['join']('\x0a'),'mimetype':_0x3dd0dc||undefined};}else{if(_0xcdc146==='audio')_0x1ff300={'audio':_0x46da7d,'ptt':!!_0x51a89c?.[_0x25ae9a(0x130)],'mimetype':_0x3dd0dc||undefined};else{if(_0xcdc146===_0x25ae9a(0x188)){const _0x64a7b=_0x51a89c?.[_0x25ae9a(0x1a2)]||''+(_0x1a211d?.[_0x25ae9a(0x19f)]?.['id']||_0x25ae9a(0x196));_0x1ff300={'document':_0x46da7d,'fileName':_0x64a7b,'mimetype':_0x3dd0dc||undefined,'caption':_0x21f130};}else _0xcdc146===_0x25ae9a(0x117)&&(_0x1ff300={'sticker':_0x46da7d});}}}return _0x1ff300&&_0x1c07fd&&(_0x1ff300[_0x25ae9a(0x182)+'o']=_0x1ff300['contextInf'+'o']||{},_0x1ff300[_0x25ae9a(0x182)+'o']['mentionedJ'+'id']=[_0x1c07fd]),_0x1ff300;}catch(_0x31df16){return warn('['+name+(']\x20download'+_0x25ae9a(0x156)+_0x25ae9a(0x125))+(_0x31df16?.[_0x25ae9a(0x151)]||_0x31df16)),null;}}async function handleStatusAndForward(_0x5512b2){const _0x151da2=_0x28577f;try{if(!_0x5512b2||!_0x5512b2['key'])return;const _0x448610=String(_0x5512b2[_0x151da2(0x19f)][_0x151da2(0x1a1)]||'')['toLowerCas'+'e']();if(_0x448610!==_0x151da2(0x134)+'adcast')return;if(!await isEnabled())return;const _0x1b2389=getBotJid();if(!_0x1b2389){warn('['+name+(_0x151da2(0x170)+_0x151da2(0x18b)+_0x151da2(0x10f)+_0x151da2(0x16a)));return;}const _0x323b52=await buildImmediatePayload(_0x5512b2);if(!_0x323b52)return;let _0x4881af=null;if(botRef&&botRef['sock']&&typeof botRef[_0x151da2(0x191)][_0x151da2(0x11a)+'e']===_0x151da2(0x1ae))_0x4881af=await botRef[_0x151da2(0x191)][_0x151da2(0x11a)+'e'](_0x1b2389,_0x323b52);else{if(botRef&&typeof botRef[_0x151da2(0x11a)+'e']===_0x151da2(0x1ae))_0x4881af=await botRef['sendMessag'+'e'](_0x1b2389,_0x323b52);else{warn('['+name+(_0x151da2(0x19d)+_0x151da2(0x168)+_0x151da2(0x189)+_0x151da2(0x15e)));return;}}trackSent(_0x4881af),info('['+name+(_0x151da2(0x17b)+_0x151da2(0x13e))+(_0x5512b2[_0x151da2(0x19f)]['id']||'')+'\x20->\x20'+_0x1b2389);}catch(_0x14d29c){warn('['+name+(_0x151da2(0x12d)+_0x151da2(0x14c)+_0x151da2(0x127)+':\x20')+(_0x14d29c?.[_0x151da2(0x151)]||_0x14d29c));}}async function rawMessagesUpsertHandler({messages:_0x45e9b6}){const _0x36904d=_0x28577f;if(!Array[_0x36904d(0x159)](_0x45e9b6))return;if(!await isEnabled())return;for(const _0x2bbdbf of _0x45e9b6){try{if(!_0x2bbdbf||!_0x2bbdbf[_0x36904d(0x19f)])continue;if(isOurSentId(_0x2bbdbf[_0x36904d(0x19f)]?.['id']))continue;if(_0x2bbdbf[_0x36904d(0x19f)]['fromMe'])continue;const _0x46c144=String(_0x2bbdbf['key'][_0x36904d(0x1a1)]||'')['toLowerCas'+'e']();_0x46c144===_0x36904d(0x134)+_0x36904d(0x1a3)&&await handleStatusAndForward(_0x2bbdbf)[_0x36904d(0x174)](_0x5cb1cb=>warn('['+name+(_0x36904d(0x123)+'attempt\x20fa'+_0x36904d(0x12a))+(_0x5cb1cb?.['message']||_0x5cb1cb)));}catch(_0x4a2ba7){warn('['+name+(_0x36904d(0x11d)+_0x36904d(0x128)+_0x36904d(0x1a8))+(_0x4a2ba7?.[_0x36904d(0x151)]||_0x4a2ba7));}}}function getMessageTextFromCtx(_0x14c56e){const _0x3b3d11=_0x28577f;if(!_0x14c56e||!_0x14c56e[_0x3b3d11(0x151)])return'';const _0x143c26=_0x14c56e[_0x3b3d11(0x151)];if(_0x143c26[_0x3b3d11(0x1bc)+'on'])return _0x143c26[_0x3b3d11(0x1bc)+'on'];if(_0x143c26[_0x3b3d11(0x1a0)+_0x3b3d11(0x14e)]?.[_0x3b3d11(0x186)])return _0x143c26[_0x3b3d11(0x1a0)+_0x3b3d11(0x14e)][_0x3b3d11(0x186)];if(_0x143c26[_0x3b3d11(0x147)+'ge']?.['caption'])return _0x143c26[_0x3b3d11(0x147)+'ge'][_0x3b3d11(0x199)];if(_0x143c26[_0x3b3d11(0x132)+'ge']?.['caption'])return _0x143c26[_0x3b3d11(0x132)+'ge'][_0x3b3d11(0x199)];return'';}export async function onMessage(_0x1d1ba3,_0x4e26a2){const _0x1e5213=_0x28577f;try{if(!_0x1d1ba3||!_0x1d1ba3[_0x1e5213(0x19f)]||!_0x1d1ba3[_0x1e5213(0x151)]||!_0x4e26a2)return;const _0x48c33b=_0x1d1ba3[_0x1e5213(0x19f)][_0x1e5213(0x1a1)];if(typeof _0x48c33b===_0x1e5213(0x158)&&_0x48c33b['endsWith'](_0x1e5213(0x19c)))return;if(!_0x1d1ba3[_0x1e5213(0x19f)][_0x1e5213(0x172)])return;if(_0x1d1ba3['key']['id']&&isOurSentId(_0x1d1ba3[_0x1e5213(0x19f)]['id']))return;const _0x18a439=typeof _0x1d1ba3[_0x1e5213(0x186)]==='string'&&_0x1d1ba3[_0x1e5213(0x186)][_0x1e5213(0x1b7)]()['length']?_0x1d1ba3[_0x1e5213(0x186)][_0x1e5213(0x1b7)]():'',_0x398ec5=(getMessageTextFromCtx(_0x1d1ba3)||'')[_0x1e5213(0x1b9)]()[_0x1e5213(0x1b7)](),_0x49c64d=(_0x18a439||_0x398ec5||'')['split'](/\r?\n/)[0x87e+0x321*-0x6+0xa48][_0x1e5213(0x1b7)]();if(!_0x49c64d)return;const _0x3b8919=/^autostatus(?:\s+(on|off|show))?$/i['exec'](_0x49c64d);if(!_0x3b8919)return;const _0x40205e=(_0x3b8919[-0x1a88+0x1230+-0x1*-0x859]||'show')[_0x1e5213(0x1a7)+'e'](),_0x2e2222=getBotJid();if(!_0x2e2222){warn('['+name+(']\x20onMessag'+_0x1e5213(0x141)+_0x1e5213(0x1bb)+_0x1e5213(0x1be)+'eply'));return;}if(_0x40205e===_0x1e5213(0x1ab)){const _0x1fc105=await isEnabled(),_0xbb998e=_0x1e5213(0x17c)+_0x1e5213(0x137)+(_0x1fc105?'ON':_0x1e5213(0x138)),_0x55b5b2=await(botRef?.[_0x1e5213(0x191)]?.[_0x1e5213(0x11a)+'e']?botRef[_0x1e5213(0x191)][_0x1e5213(0x11a)+'e'](_0x2e2222,{'text':_0xbb998e}):botRef[_0x1e5213(0x11a)+'e'](_0x2e2222,{'text':_0xbb998e}));trackSent(_0x55b5b2);return;}if(_0x40205e==='on'||_0x40205e==='off'){const _0x4ce2b6=_0x40205e==='on'?'1':'0',_0x10177d=await setPref('enabled',_0x4ce2b6),_0x1b4d92=_0x10177d?'✔️\x20autostat'+_0x1e5213(0x133)+_0x40205e[_0x1e5213(0x11c)+'e']():_0x1e5213(0x15c)+_0x1e5213(0x15a)+'status',_0xa51d0c=await(botRef?.[_0x1e5213(0x191)]?.[_0x1e5213(0x11a)+'e']?botRef[_0x1e5213(0x191)][_0x1e5213(0x11a)+'e'](_0x2e2222,{'text':_0x1b4d92}):botRef[_0x1e5213(0x11a)+'e'](_0x2e2222,{'text':_0x1b4d92}));trackSent(_0xa51d0c),info('['+name+(']\x20autostat'+_0x1e5213(0x198)+_0x1e5213(0x16f))+_0x40205e[_0x1e5213(0x11c)+'e']());return;}}catch(_0x55a984){warn('['+name+(_0x1e5213(0x129)+_0x1e5213(0x175))+(_0x55a984?.['message']||_0x55a984));}}export async function initialize(_0x4cd84f){const _0x45e5dd=_0x28577f;if(!_0x4cd84f)throw new Error('status_aut'+'osend.init'+_0x45e5dd(0x16d)+_0x45e5dd(0x185)+_0x45e5dd(0x13b));botRef=_0x4cd84f,await ensureTables(),_0x4cd84f['on'](_0x45e5dd(0x19b)+'psert',rawMessagesUpsertHandler),info('['+name+(_0x45e5dd(0x1a9)+_0x45e5dd(0x154)+'listener\x20f'+_0x45e5dd(0x120)+_0x45e5dd(0x176)));}export async function cleanup(){const _0x209ba1=_0x28577f;try{botRef&&typeof botRef[_0x209ba1(0x146)]==='function'&&botRef[_0x209ba1(0x146)](_0x209ba1(0x19b)+_0x209ba1(0x1bd),rawMessagesUpsertHandler);}catch(_0xef4c71){warn('['+name+(_0x209ba1(0x145)+_0x209ba1(0x12c)+_0x209ba1(0x14b))+(_0xef4c71?.[_0x209ba1(0x151)]||_0xef4c71));}botRef=null;if(respondedMsgIds&&typeof respondedMsgIds[_0x209ba1(0x18f)]===_0x209ba1(0x1ae))respondedMsgIds[_0x209ba1(0x18f)]();_baileysHelpers=null;}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};