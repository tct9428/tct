const _0x9bc729=_0x38e5;(function(_0x5f3232,_0x249e6d){const _0x2aeb8c=_0x38e5,_0x1c248e=_0x5f3232();while(!![]){try{const _0x415880=parseInt(_0x2aeb8c(0x161))/(0x399+-0x22*0x107+-0x2*-0xfab)*(parseInt(_0x2aeb8c(0x198))/(-0x112e+0x18fe+-0x7ce))+parseInt(_0x2aeb8c(0x159))/(-0x1*0x1d35+0x3*0x559+-0x1*-0xd2d)+parseInt(_0x2aeb8c(0x170))/(0xa*-0x192+0x29c*0x3+0x7e4)+parseInt(_0x2aeb8c(0x14d))/(0x1269+-0x4*0x72a+0xa44)+-parseInt(_0x2aeb8c(0x147))/(-0x1db3+-0x1aad+0x3866)*(parseInt(_0x2aeb8c(0x196))/(-0x13bf+-0x243*-0x7+0x1*0x3f1))+parseInt(_0x2aeb8c(0x17d))/(-0xc7f+-0x15ee+-0x1*-0x2275)+-parseInt(_0x2aeb8c(0x19a))/(0x35b*-0x3+0x459*0x7+-0x1455);if(_0x415880===_0x249e6d)break;else _0x1c248e['push'](_0x1c248e['shift']());}catch(_0x1b0297){_0x1c248e['push'](_0x1c248e['shift']());}}}(_0x1257,0x1*0xb8be3+-0x7688+0x3e9*-0x142));import{info,warn,error}from'../utils/logger.js';function _0x38e5(_0x294d50,_0x53b331){const _0x1cff6d=_0x1257();return _0x38e5=function(_0x27b1f4,_0x50b1a8){_0x27b1f4=_0x27b1f4-(0x157a+0xaed*0x1+-0x1f5f);let _0x11fb70=_0x1cff6d[_0x27b1f4];return _0x11fb70;},_0x38e5(_0x294d50,_0x53b331);}import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import{getBotJid}from'../utils/bot-state.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import*as _0x1a1ba1 from'../utils/groups.js';export const name='leave';export const version=_0x9bc729(0x13c);function _0x1257(){const _0x5c8e97=['function','_jid\x20=\x20?','[leave]\x20DB','disabled','\x20schema\x20en','length','ed_at\x20=\x20ex','group','has','now','14898LFiOgO','includes','\x20for\x20leavi','removeList','\x20\x20enabled\x20','\x20group\x20ent','2810865lbKAvM','r:\x20','leave','participan','map','sock','[leave]\x20cl','\x0a\x20\x20\x20\x20\x20\x20gro','all','normalizeT','trim','\x20\x20INTEGER\x20','983997YTdIZV','size','TEGER\x20DEFA','voluntary.','sendMessag','HERE\x20group','\x20message,\x20','PM:\x20empty\x20','1SqTQgT','s|jid|all>','string','[leave]\x20in','bled,\x0a\x20\x20\x20\x20','DELETE\x20FRO','NULL,\x0a\x20\x20\x20\x20','message,\x0a\x20','romDb\x20fail','eaves\x20WHER','led\x20failed','\x20excluded.','No\x20default','up_jid\x20TEX','sender','2281948cmjZDY','group_jid,','✅\x20Saved\x20','enabled,\x20u','\x20\x20\x20\x20\x20ON\x20CO','ener','Db\x20failed\x20','or\x20','INSERT\x20INT','action','dings\x20erro','groupMetad','b\x20failed\x20f','4388136JfZYzo','\x20for\x20','Could\x20not\x20','match','LUES\x20(?,\x20?','equires\x20bo','jid','abled\x20=\x20ex','rror:\x20','pdated_at)','remove','[leave]\x20ge',',\x20?,\x20?)\x0a\x20\x20','ed\x20to\x20volu','✅\x20Leave\x20','aryLeave\x20e','key','M\x20leaves\x20W','ULT\x200\x0a\x20\x20\x20\x20','leteLeaveF','SELECT\x20mes','\x20message\x20\x20','subject','[leave]\x20on','ndApi\x20fail','1673uIyhJq','message\x20bo','226438qfDVeA','@g.us','10124253pQFLdg','split','\x20connectio','changes','e\x20gp:<alia','ries.','dellvc','sured','[leave]\x20fi','from','ata','isArray','t_pn','run','T\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ror:\x20','enabled','oUserJid','itialized\x20','t\x20=\x20?\x20WHER','ndApi\x20not\x20','message','exec','fault\x20conn','\x20alias:\x20','\x20NOT\x20EXIST','ntary.leav','add','[leave]\x20sa','Unknown\x20gp','push','eaned\x20up.','DEFAULT\x200,','up_jid)\x20DO','fromMe','S\x20leaves\x20(','nogroup','ated_at\x20IN','getUniqueJ','floor','tLeaveEnab','timestamp','E\x20group_ji','object','mentions','PM:\x20includ','E\x20TABLE\x20IF','eanup\x20erro','age\x20body','ids','cluded.upd','remoteJid','groupId','isCommand','ed\x20to\x20','catch','for\x20','the\x20group','KEY,\x0a\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20upd','t\x20instance',');\x0a\x20\x20','tchFromFin','d\x20=\x20?','off','slice','ng\x20','veLeaveToD','replace','type','available','✅\x20Deleted\x20','[leave]\x20se','text','[leave]\x20ha','get','resolveNam','\x20updated_a','\x20\x20\x20\x20\x20updat','toLowerCas','\x0a\x20\x20\x20\x20CREAT','\x0a\x20\x20\x20\x20\x20\x20\x20VA','ves\x20SET\x20en','5.0.0'];_0x1257=function(){return _0x5c8e97;};return _0x1257();}export const priority=0x1b0b+-0x81d*0x3+-0x278;export const commands=['lvc',_0x9bc729(0x1a0)];let botRef=null,sendApi=null;const processedIds=new Set();function shortLocalFromJid(_0x2a89a9){const _0x2881ed=_0x9bc729;try{return String(_0x2a89a9||'')[_0x2881ed(0x19b)]('@')[0x8*-0x2bd+-0x161*-0xa+0x81e];}catch{return _0x2a89a9;}}function eventUniqueId(_0x5362ff){const _0x50651c=_0x9bc729;if(!_0x5362ff)return null;if(_0x5362ff['id'])return String(_0x5362ff['id']);return String(_0x5362ff['groupId']||_0x5362ff[_0x50651c(0x144)]||_0x50651c(0x10d))+':'+String(_0x5362ff['participan'+_0x50651c(0x1a6)]||_0x5362ff[_0x50651c(0x150)+'t']||'nopart')+':'+String(_0x5362ff[_0x50651c(0x112)]||_0x5362ff['ts']||Date[_0x50651c(0x146)]());}function trimProcessedSet(){const _0x41e6d3=_0x9bc729;if(processedIds[_0x41e6d3(0x15a)]>0x1b54+-0x2427+0x1c5b){const _0x41e78c=Array['from'](processedIds);processedIds['clear']();for(const _0x94cff3 of _0x41e78c[_0x41e6d3(0x12a)](-(0x1b59*-0x1+0x214a+0x5c7)))processedIds[_0x41e6d3(0x1b5)](_0x94cff3);}}async function ensureSchema(){const _0x593d05=_0x9bc729;await db[_0x593d05(0x1b0)](_0x593d05(0x139)+_0x593d05(0x117)+_0x593d05(0x1b3)+_0x593d05(0x10c)+_0x593d05(0x154)+_0x593d05(0x16e)+'T\x20PRIMARY\x20'+_0x593d05(0x123)+_0x593d05(0x192)+'\x20TEXT\x20NOT\x20'+_0x593d05(0x167)+_0x593d05(0x14b)+_0x593d05(0x158)+_0x593d05(0x109)+_0x593d05(0x124)+_0x593d05(0x10e)+_0x593d05(0x15b)+_0x593d05(0x18f)+_0x593d05(0x126)),info(_0x593d05(0x13f)+_0x593d05(0x141)+_0x593d05(0x1a1));}async function saveLeaveToDb(_0x312594,_0x4f7f73,_0x569b34=-0x26a1+0x56*-0x52+0x422d){const _0x121dc5=_0x9bc729;try{const _0x10dff0=Math['floor'](Date[_0x121dc5(0x146)]()/(-0x73*-0x2b+-0xc0+-0xea9));return await db['run'](_0x121dc5(0x178)+'O\x20leaves\x20('+_0x121dc5(0x171)+_0x121dc5(0x15f)+_0x121dc5(0x173)+_0x121dc5(0x186)+_0x121dc5(0x13a)+_0x121dc5(0x181)+_0x121dc5(0x189)+_0x121dc5(0x174)+'NFLICT(gro'+_0x121dc5(0x10a)+'\x20UPDATE\x20SE'+_0x121dc5(0x1a8)+'\x20message\x20='+_0x121dc5(0x16c)+_0x121dc5(0x168)+'\x20\x20\x20\x20\x20\x20\x20\x20en'+_0x121dc5(0x184)+'cluded.ena'+_0x121dc5(0x165)+_0x121dc5(0x137)+_0x121dc5(0x143)+_0x121dc5(0x11b)+'ated_at;',[_0x312594,String(_0x4f7f73||''),Number(_0x569b34?-0x1b81+-0x3d7*0x5+0x2eb5:-0x1*-0x693+-0x1fc8+0x1935),_0x10dff0]),!![];}catch(_0x371510){return warn(_0x121dc5(0x1b6)+_0x121dc5(0x12c)+_0x121dc5(0x17c)+_0x121dc5(0x177)+_0x312594+':\x20'+(_0x371510?.[_0x121dc5(0x1af)]||_0x371510)),![];}}async function deleteLeaveFromDb(_0x1b4442){const _0x5941f2=_0x9bc729;try{const _0x1fb904=await db['run'](_0x5941f2(0x166)+_0x5941f2(0x18e)+_0x5941f2(0x15e)+_0x5941f2(0x13e),[_0x1b4442]);return _0x1fb904?.[_0x5941f2(0x19d)]||0x2*0xf3f+-0x72*-0x2+-0x1f62;}catch(_0x35cdd3){return warn('[leave]\x20de'+_0x5941f2(0x190)+_0x5941f2(0x169)+'ed\x20for\x20'+_0x1b4442+':\x20'+(_0x35cdd3?.[_0x5941f2(0x1af)]||_0x35cdd3)),0x26dd+0x1634+0x243*-0x1b;}}async function getLeaveFromDb(_0x1031d5){const _0x2641c6=_0x9bc729;try{const _0x514f16=await db[_0x2641c6(0x134)](_0x2641c6(0x191)+'sage,\x20enab'+'led\x20FROM\x20l'+_0x2641c6(0x16a)+_0x2641c6(0x113)+_0x2641c6(0x128),[_0x1031d5]);if(!_0x514f16)return null;return{'message':_0x514f16[_0x2641c6(0x1af)],'enabled':Number(_0x514f16['enabled']||-0x329*-0xb+0x606+-0x35*0xc5)===-0x1*0x1c5a+0xfbc+0xc9f};}catch(_0x1a67ed){return warn(_0x2641c6(0x188)+'tLeaveFrom'+_0x2641c6(0x176)+_0x2641c6(0x121)+_0x1031d5+':\x20'+(_0x1a67ed?.[_0x2641c6(0x1af)]||_0x1a67ed)),null;}}async function setLeaveEnabled(_0x277d9b,_0x195427){const _0x28d11e=_0x9bc729;try{const _0x4572db=Math[_0x28d11e(0x110)](Date[_0x28d11e(0x146)]()/(-0x29f+-0x1ca5+0x232c)),_0x23066b=await db[_0x28d11e(0x1a7)]('UPDATE\x20lea'+_0x28d11e(0x13b)+'abled\x20=\x20?,'+_0x28d11e(0x136)+_0x28d11e(0x1ad)+_0x28d11e(0x113)+_0x28d11e(0x128),[Number(_0x195427?0x5e0+-0x1*-0xdfd+-0x13dc:0x4b*-0x2e+-0x228a+-0x7*-0x6dc),_0x4572db,_0x277d9b]);return!!_0x23066b?.[_0x28d11e(0x19d)];}catch(_0x3cc607){return warn(_0x28d11e(0x131)+_0x28d11e(0x111)+_0x28d11e(0x16b)+'\x20for\x20'+_0x277d9b+':\x20'+(_0x3cc607?.[_0x28d11e(0x1af)]||_0x3cc607)),![];}}function setupSendApi(){const _0x3faf3d=_0x9bc729;if(!botRef)return;if(typeof botRef[_0x3faf3d(0x15d)+'e']==='function')sendApi=async(_0x699985,_0x3c08ec)=>await botRef['sendMessag'+'e'](_0x699985,_0x3c08ec);else{if(botRef[_0x3faf3d(0x152)]&&typeof botRef[_0x3faf3d(0x152)][_0x3faf3d(0x15d)+'e']===_0x3faf3d(0x13d))sendApi=async(_0x4bb34c,_0x39a77e)=>await botRef[_0x3faf3d(0x152)]['sendMessag'+'e'](_0x4bb34c,_0x39a77e);else sendApi=null;}}async function sendText(_0x5ce89a,_0x3900a1,_0x22b03c=[]){const _0x4a1fc7=_0x9bc729;try{if(!_0x5ce89a)return null;if(!sendApi)return warn('[leave]\x20se'+_0x4a1fc7(0x1ae)+_0x4a1fc7(0x12f)),null;let _0x11d410=typeof _0x3900a1===_0x4a1fc7(0x163)?{'text':String(_0x3900a1)}:{..._0x3900a1||{}};if(Array['isArray'](_0x22b03c)&&_0x22b03c[_0x4a1fc7(0x142)])_0x11d410[_0x4a1fc7(0x115)]=_0x22b03c;return await sendApi(_0x5ce89a,_0x11d410);}catch(_0x44fe5b){return warn(_0x4a1fc7(0x131)+_0x4a1fc7(0x195)+_0x4a1fc7(0x11f)+_0x5ce89a+':\x20'+(_0x44fe5b?.['message']||_0x44fe5b)),null;}}async function findStoredMatchFromFindings(_0x109ba7=[]){const _0x2f1a1b=_0x9bc729;try{const _0x3d8586=await listSudo();if(!Array['isArray'](_0x3d8586)||_0x3d8586['length']===0x7c*0x22+-0x273*0xf+0x1445)return null;const _0x3acd93=new Set(_0x3d8586[_0x2f1a1b(0x151)](String));for(const _0x380d1c of _0x109ba7||[]){if(!_0x380d1c||typeof _0x380d1c[_0x2f1a1b(0x183)]!==_0x2f1a1b(0x163))continue;const _0x26bca3=normalizeToJid?normalizeToJid(_0x380d1c[_0x2f1a1b(0x183)]):_0x380d1c['jid'];if(_0x26bca3&&_0x3acd93['has'](_0x26bca3))return _0x26bca3;if(_0x3acd93['has'](_0x380d1c[_0x2f1a1b(0x183)]))return _0x380d1c['jid'];const _0x4e6b15=String(_0x380d1c[_0x2f1a1b(0x183)])[_0x2f1a1b(0x19b)]('@')[-0xf98+0x2c*0x45+0x3bc][_0x2f1a1b(0x19b)](':')[-0x2f*0x1b+0x2a1*-0x4+0xf79];if(_0x4e6b15)for(const _0x5f36dc of _0x3d8586){const _0x1aa4af=String(_0x5f36dc)[_0x2f1a1b(0x19b)]('@')[0x1b32+-0x10d+-0x1a25];if(_0x1aa4af&&_0x1aa4af===_0x4e6b15)return _0x5f36dc;}}return null;}catch(_0x25761a){return warn(_0x2f1a1b(0x1a2)+'ndStoredMa'+_0x2f1a1b(0x127)+_0x2f1a1b(0x17a)+_0x2f1a1b(0x14e)+(_0x25761a?.[_0x2f1a1b(0x1af)]||_0x25761a)),null;}}async function handleVoluntaryLeave(_0x1973c1){const _0x4c5f0d=_0x9bc729;try{if(!_0x1973c1||typeof _0x1973c1!==_0x4c5f0d(0x114))return;const _0x39f857=_0x1973c1[_0x4c5f0d(0x179)]===_0x4c5f0d(0x187),_0x19091d=String(_0x1973c1[_0x4c5f0d(0x12e)]||'')[_0x4c5f0d(0x138)+'e']()[_0x4c5f0d(0x148)](_0x4c5f0d(0x14f));if(!_0x39f857&&!_0x19091d)return;const _0x5363b2=_0x1973c1[_0x4c5f0d(0x150)+_0x4c5f0d(0x1a6)]||_0x1973c1[_0x4c5f0d(0x150)+'t'],_0x27ac6c=_0x1973c1[_0x4c5f0d(0x11d)]||_0x1973c1['group'];if(!_0x5363b2||!_0x27ac6c)return;const _0x503d2b=eventUniqueId(_0x1973c1);if(!_0x503d2b)return;if(processedIds[_0x4c5f0d(0x145)](_0x503d2b))return;processedIds['add'](_0x503d2b),trimProcessedSet();const _0x45b104=getBotJid?getBotJid():null;if(_0x45b104&&String(_0x5363b2)===String(_0x45b104))return;const _0x19dabd=await getLeaveFromDb(_0x27ac6c);if(!_0x19dabd||!_0x19dabd[_0x4c5f0d(0x1aa)]||!_0x19dabd[_0x4c5f0d(0x1af)])return;let _0x15bc02=_0x4c5f0d(0x122);try{if(botRef&&botRef['sock']&&typeof botRef[_0x4c5f0d(0x152)][_0x4c5f0d(0x17b)+_0x4c5f0d(0x1a4)]===_0x4c5f0d(0x13d)){const _0x1eceb9=await botRef['sock'][_0x4c5f0d(0x17b)+_0x4c5f0d(0x1a4)](_0x27ac6c)[_0x4c5f0d(0x120)](()=>null);if(_0x1eceb9&&_0x1eceb9[_0x4c5f0d(0x193)])_0x15bc02=_0x1eceb9[_0x4c5f0d(0x193)];}}catch(_0x374dcf){}const _0x36af8b=String(_0x19dabd['message']||'')['replace'](/\{group\}/g,_0x15bc02)[_0x4c5f0d(0x12d)](/\{user\}/g,'@'+shortLocalFromJid(_0x5363b2));await sendText(_0x5363b2,_0x36af8b,[_0x5363b2]),info('[leave]\x20se'+'nt\x20DM\x20to\x20'+_0x5363b2+(_0x4c5f0d(0x149)+_0x4c5f0d(0x12b))+_0x27ac6c);}catch(_0x4e68ee){error(_0x4e68ee,_0x4c5f0d(0x133)+'ndleVolunt'+_0x4c5f0d(0x18c)+_0x4c5f0d(0x185)+(_0x4e68ee?.['message']||_0x4e68ee));}}function findLvcSubcommand(_0x14fe8e){const _0x1418b5=_0x9bc729,_0x241213=String(_0x14fe8e||''),_0x4de5a8=_0x241213[_0x1418b5(0x180)](/\blvc\s+([^\s\r\n]+)/i);if(!_0x4de5a8)return{'sub':null,'after':''};const _0x4a7ecb=_0x4de5a8[0xaf+-0x62b*0x3+0x1fb*0x9][_0x1418b5(0x138)+'e'](),_0x3e00c9=_0x241213[_0x1418b5(0x12a)](_0x4de5a8['index']+_0x4de5a8[0x502+0x2278*0x1+-0x1f*0x146]['length'])[_0x1418b5(0x12d)](/^[\s:\-]*/,'');return{'sub':_0x4a7ecb,'after':_0x3e00c9};}export async function onMessage(_0x2e2054){const _0x2d9a07=_0x9bc729;try{if(!_0x2e2054||!_0x2e2054[_0x2d9a07(0x11e)])return;const _0x17b2e3=_0x2e2054['key']?.[_0x2d9a07(0x11c)]||_0x2e2054[_0x2d9a07(0x11c)]||'',_0x519fc8=typeof _0x17b2e3===_0x2d9a07(0x163)&&_0x17b2e3['endsWith'](_0x2d9a07(0x199)),_0x3b5db9=_0x2e2054[_0x2d9a07(0x18d)]?.[_0x2d9a07(0x150)+'t']||_0x2e2054[_0x2d9a07(0x18d)]?.[_0x2d9a07(0x1a3)]||_0x2e2054[_0x2d9a07(0x16f)]||'',_0x1cd05f=(_0x2e2054[_0x2d9a07(0x132)]||'')[_0x2d9a07(0x12d)](/\r/g,'');if(!(/\blvc\b/i['test'](_0x1cd05f)||/\bdellvc\b/i['test'](_0x1cd05f)))return;if(/\bdellvc\b/i['test'](_0x1cd05f)){if(!_0x519fc8){const _0x44004e=Boolean(_0x2e2054[_0x2d9a07(0x18d)]?.[_0x2d9a07(0x10b)]);let _0xba8942=null;if(_0x44004e)_0xba8942=getBotJid();else{let _0x4d272b=![];try{_0x4d272b=await isSudo(botRef,_0x2e2054);}catch(_0x417f93){_0x4d272b=![];}if(!_0x4d272b)return;const _0x225ac5=userJidFromCtx(_0x2e2054)||{'findings':[]},_0x211ef0=await findStoredMatchFromFindings(_0x225ac5['findings']||[]);if(!_0x211ef0)return;_0xba8942=_0x211ef0;}const _0x1ee418=_0x1cd05f['match'](/\bgp[:\s]+(\S+)/i);if(!_0x1ee418){await sendText(_0xba8942,_0x2d9a07(0x116)+_0x2d9a07(0x19e)+'s|jid|all>');return;}const _0x41900c=_0x1ee418[0x1*-0x132a+-0x1*0x12dc+0x2607]['trim']();let _0x26c09e=[];if(_0x41900c['toLowerCas'+'e']()===_0x2d9a07(0x155))_0x26c09e=await _0x1a1ba1[_0x2d9a07(0x10f)+_0x2d9a07(0x11a)]();else{const _0x219c3e=await _0x1a1ba1[_0x2d9a07(0x135)+'e'](_0x41900c);if(_0x219c3e)_0x26c09e=[_0x219c3e];else{if(_0x41900c[_0x2d9a07(0x148)]('@'))_0x26c09e=[_0x1a1ba1[_0x2d9a07(0x156)+_0x2d9a07(0x1ab)](_0x41900c)];else{await sendText(_0xba8942,_0x2d9a07(0x1b7)+_0x2d9a07(0x1b2)+_0x41900c);return;}}}let _0x4a9e30=-0x1a5b+-0x6d*0x1+0x1ac8;for(const _0xb6976f of _0x26c09e)_0x4a9e30+=await deleteLeaveFromDb(_0xb6976f)||-0x6be+0x21c3+-0x1b05;await sendText(_0xba8942,_0x2d9a07(0x130)+_0x4a9e30+'/'+_0x26c09e[_0x2d9a07(0x142)]+(_0x2d9a07(0x14c)+_0x2d9a07(0x19f)));return;}const _0x5943b0=await isadmin(botRef,_0x2e2054)[_0x2d9a07(0x120)](()=>![]);if(!_0x5943b0)return;const _0xdb3f91=String((_0x3b5db9||'')[_0x2d9a07(0x19b)]('@')[0x1243+-0x1388+0x145]||''),_0x1fe283=await getDefault(_0xdb3f91)['catch'](()=>null);if(!_0x1fe283){await sendText(_0x17b2e3,'No\x20default'+_0x2d9a07(0x19c)+'n');return;}const _0x16adfe=Array['isArray'](_0x1fe283)?_0x1fe283:[_0x1fe283],_0x14d155=[];for(const _0x2ef33d of _0x16adfe){const _0x219d9c=await getConnection(_0x2ef33d)[_0x2d9a07(0x120)](()=>null);if(Array[_0x2d9a07(0x1a5)](_0x219d9c))_0x14d155['push'](..._0x219d9c);else{if(_0x219d9c)_0x14d155[_0x2d9a07(0x1b8)](_0x219d9c);}}let _0x24a8f1=0x10a*0xd+-0x3d*-0x64+-0x639*0x6;for(const _0x2a7b8a of _0x14d155)_0x24a8f1+=await deleteLeaveFromDb(_0x2a7b8a)||-0x13fc+-0xfe+-0xa7d*-0x2;await sendText(_0x17b2e3,_0x2d9a07(0x130)+_0x24a8f1+'/'+_0x14d155['length']+('\x20group\x20ent'+_0x2d9a07(0x19f)));return;}const {sub:_0x78371,after:_0x5aff7f}=findLvcSubcommand(_0x1cd05f);if(!_0x78371)return;if(!_0x519fc8){const _0x3bd5af=Boolean(_0x2e2054[_0x2d9a07(0x18d)]?.[_0x2d9a07(0x10b)]);let _0x5d621e=null;if(_0x3bd5af)_0x5d621e=getBotJid();else{let _0x2bf95c=![];try{_0x2bf95c=await isSudo(botRef,_0x2e2054);}catch(_0x3d4c01){_0x2bf95c=![];}if(!_0x2bf95c)return;const _0x5c1204=userJidFromCtx(_0x2e2054)||{'findings':[]},_0x5a2081=await findStoredMatchFromFindings(_0x5c1204['findings']||[]);if(!_0x5a2081)return;_0x5d621e=_0x5a2081;}if(!_0x5d621e)return;if(_0x78371==='on'||_0x78371===_0x2d9a07(0x129)){const _0xd540ae=_0x1cd05f[_0x2d9a07(0x180)](/\bgp[:\s]+(\S+)/i);if(!_0xd540ae){await sendText(_0x5d621e,_0x2d9a07(0x116)+'e\x20gp:<alia'+'s|jid|all>');return;}const _0xbfc35d=_0xd540ae[0x2f0*-0x7+-0x1374+0x2805][_0x2d9a07(0x157)]();let _0x57bf47=[];if(_0xbfc35d[_0x2d9a07(0x138)+'e']()===_0x2d9a07(0x155))_0x57bf47=await _0x1a1ba1[_0x2d9a07(0x10f)+_0x2d9a07(0x11a)]();else{const _0x427e7a=await _0x1a1ba1[_0x2d9a07(0x135)+'e'](_0xbfc35d);if(_0x427e7a)_0x57bf47=[_0x427e7a];else{if(_0xbfc35d['includes']('@'))_0x57bf47=[_0x1a1ba1['normalizeT'+_0x2d9a07(0x1ab)](_0xbfc35d)];else{await sendText(_0x5d621e,_0x2d9a07(0x1b7)+'\x20alias:\x20'+_0xbfc35d);return;}}}const _0x57b09f=_0x78371==='on';let _0x16df95=0x2*0x3b3+-0x23f6+-0x724*-0x4;for(const _0x265ce3 of _0x57bf47){const _0x33fa31=await getLeaveFromDb(_0x265ce3);if(!_0x33fa31)continue;if(await setLeaveEnabled(_0x265ce3,_0x57b09f))_0x16df95++;}await sendText(_0x5d621e,_0x2d9a07(0x18b)+(_0x57b09f?_0x2d9a07(0x1aa):'disabled')+_0x2d9a07(0x17e)+_0x16df95+'/'+_0x57bf47[_0x2d9a07(0x142)]);return;}if(_0x78371===_0x2d9a07(0x1b5)){const _0x1d2302=_0x1cd05f['match'](/\bgp[:\s]+(\S+)/i);if(!_0x1d2302){await sendText(_0x5d621e,_0x2d9a07(0x116)+_0x2d9a07(0x19e)+_0x2d9a07(0x162));return;}const _0x26230c=_0x1d2302[0x3*-0x202+-0xfcf+0x15d6][_0x2d9a07(0x157)]();let _0x9beae9=[];if(_0x26230c[_0x2d9a07(0x138)+'e']()===_0x2d9a07(0x155))_0x9beae9=await _0x1a1ba1[_0x2d9a07(0x10f)+_0x2d9a07(0x11a)]();else{const _0x39a862=await _0x1a1ba1[_0x2d9a07(0x135)+'e'](_0x26230c);if(_0x39a862)_0x9beae9=[_0x39a862];else{if(_0x26230c[_0x2d9a07(0x148)]('@'))_0x9beae9=[_0x1a1ba1['normalizeT'+_0x2d9a07(0x1ab)](_0x26230c)];else{await sendText(_0x5d621e,_0x2d9a07(0x1b7)+_0x2d9a07(0x1b2)+_0x26230c);return;}}}let _0x769d4f=_0x5aff7f[_0x2d9a07(0x157)]();_0x769d4f=_0x769d4f[_0x2d9a07(0x19b)](/\r?\n/)['filter'](_0x2532d3=>!/^gp[:\s]/i['test'](_0x2532d3))['join']('\x0a')[_0x2d9a07(0x157)]();if(!_0x769d4f){await sendText(_0x5d621e,_0x2d9a07(0x160)+_0x2d9a07(0x197)+'dy');return;}let _0x4bbbef=-0x9e6+0x29*0x22+-0x474*-0x1;for(const _0x1f70f5 of _0x9beae9)if(await saveLeaveToDb(_0x1f70f5,_0x769d4f,0x5d8*0x6+-0x130c+-0x1003*0x1))_0x4bbbef++;await sendText(_0x5d621e,_0x2d9a07(0x172)+_0x4bbbef+'/'+_0x9beae9[_0x2d9a07(0x142)]);return;}return;}if(_0x519fc8){const _0x1e6a74=await isadmin(botRef,_0x2e2054)[_0x2d9a07(0x120)](()=>![]);if(!_0x1e6a74)return;const _0x344fdd=String((_0x3b5db9||'')[_0x2d9a07(0x19b)]('@')[0x263b+0x3*0xa92+-0x1*0x45f1]||''),_0x5a909b=await getDefault(_0x344fdd)[_0x2d9a07(0x120)](()=>null);if(!_0x5a909b){await sendText(_0x17b2e3,_0x2d9a07(0x16d)+_0x2d9a07(0x19c)+'n');return;}const _0x1e16df=Array[_0x2d9a07(0x1a5)](_0x5a909b)?_0x5a909b:[_0x5a909b],_0x5ce76e=[];for(const _0x35f718 of _0x1e16df){const _0x260831=await getConnection(_0x35f718)[_0x2d9a07(0x120)](()=>null);if(Array[_0x2d9a07(0x1a5)](_0x260831))_0x5ce76e[_0x2d9a07(0x1b8)](..._0x260831);else{if(_0x260831)_0x5ce76e['push'](_0x260831);}}if(!_0x5ce76e[_0x2d9a07(0x142)]){await sendText(_0x17b2e3,_0x2d9a07(0x17f)+'resolve\x20de'+_0x2d9a07(0x1b1)+'ections');return;}if(_0x78371==='on'||_0x78371==='off'){const _0x2dd7ee=_0x78371==='on';let _0xed399b=-0x5b4+-0x180c+0x1c0*0x11;for(const _0x3eb636 of _0x5ce76e){const _0xa99d5f=await getLeaveFromDb(_0x3eb636);if(!_0xa99d5f)continue;if(await setLeaveEnabled(_0x3eb636,_0x2dd7ee))_0xed399b++;}await sendText(_0x17b2e3,'✅\x20Leave\x20'+(_0x2dd7ee?_0x2d9a07(0x1aa):_0x2d9a07(0x140))+_0x2d9a07(0x17e)+_0xed399b+'/'+_0x5ce76e[_0x2d9a07(0x142)]);return;}if(_0x78371==='add'){const _0x5728cc=_0x5aff7f[_0x2d9a07(0x157)]();if(!_0x5728cc){await sendText(_0x17b2e3,'Empty\x20mess'+_0x2d9a07(0x119));return;}let _0xd6c481=0x31*-0x6a+-0x21*-0xfb+-0xc11;for(const _0x370d33 of _0x5ce76e)if(await saveLeaveToDb(_0x370d33,_0x5728cc,-0xb*0xc8+-0x2097+0x10*0x293))_0xd6c481++;await sendText(_0x17b2e3,_0x2d9a07(0x172)+_0xd6c481+'/'+_0x5ce76e[_0x2d9a07(0x142)]);return;}}}catch(_0x34e5ee){error(_0x34e5ee,_0x2d9a07(0x194)+'Message\x20er'+_0x2d9a07(0x1a9)+(_0x34e5ee?.[_0x2d9a07(0x1af)]||_0x34e5ee));}}export async function initialize(_0x4b3114){const _0x1f8a3e=_0x9bc729;if(!_0x4b3114)throw new Error('[leave]\x20in'+'itialize\x20r'+_0x1f8a3e(0x182)+_0x1f8a3e(0x125));botRef=_0x4b3114,setupSendApi(),await ensureSchema(),botRef['on'](_0x1f8a3e(0x15c)+_0x1f8a3e(0x14f),handleVoluntaryLeave),info(_0x1f8a3e(0x164)+_0x1f8a3e(0x1ac)+'and\x20attach'+_0x1f8a3e(0x18a)+_0x1f8a3e(0x1b4)+'e\x20event.');}export async function cleanup(){const _0x2a65c9=_0x9bc729;try{botRef&&typeof botRef[_0x2a65c9(0x14a)+_0x2a65c9(0x175)]===_0x2a65c9(0x13d)&&botRef['removeList'+'ener'](_0x2a65c9(0x15c)+_0x2a65c9(0x14f),handleVoluntaryLeave);}catch(_0x5b7a01){error(_0x5b7a01,'[leave]\x20cl'+_0x2a65c9(0x118)+_0x2a65c9(0x14e)+(_0x5b7a01?.[_0x2a65c9(0x1af)]||_0x5b7a01));}finally{processedIds['clear'](),botRef=null,sendApi=null,info(_0x2a65c9(0x153)+_0x2a65c9(0x108));}}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};