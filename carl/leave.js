const _0x1877bd=_0xa0c3;(function(_0x49a783,_0x5d67de){const _0x4b9f85=_0xa0c3,_0x148943=_0x49a783();while(!![]){try{const _0x290487=-parseInt(_0x4b9f85(0x13a))/(-0x11ef*-0x1+0x1715+-0x2903)*(parseInt(_0x4b9f85(0x192))/(-0x2ec*0x4+0x1c96*0x1+-0x10e4))+-parseInt(_0x4b9f85(0x162))/(-0x2*0x11c0+0x147c+0xf07)*(parseInt(_0x4b9f85(0x177))/(0x13*-0x18a+0x5b*0x21+0x1187))+-parseInt(_0x4b9f85(0x173))/(0x256c+0x269c+-0x1d*0x29f)+parseInt(_0x4b9f85(0x19e))/(0x2541+0xf5*-0xd+-0x14e*0x13)+-parseInt(_0x4b9f85(0x139))/(-0x1713+-0x1*0x561+0x1c7b)+-parseInt(_0x4b9f85(0x14e))/(0x26d6+-0x23f6+-0xe*0x34)+parseInt(_0x4b9f85(0x169))/(0x175b*-0x1+-0x5*0x33f+0x279f);if(_0x290487===_0x5d67de)break;else _0x148943['push'](_0x148943['shift']());}catch(_0x18dd51){_0x148943['push'](_0x148943['shift']());}}}(_0x5dd1,0x1*0x49749+0x1c99d+0x9*-0x6385));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';function _0x5dd1(){const _0x17634d=['message\x20bo','match','_jid\x20=\x20?','join','t\x20=\x20?\x20WHER','tchFromFin','length','tLeaveFrom','\x20connectio','E\x20TABLE\x20IF','eanup\x20erro','string','floor','✅\x20Deleted\x20','isCommand','equires\x20bo','type','replace','participan','subject','PM:\x20empty\x20','Unknown\x20gp','exec','UPDATE\x20lea','resolve\x20de','357228TktUpb','HERE\x20group','tLeaveEnab','text','cluded.upd','ata','S\x20leaves\x20(','from','split','ated_at;','sock','up_jid)\x20DO','10848ckKssw','ener','catch','size','itialized\x20','voluntary.','ections','t_pn','removeList','normalizeT','group','\x20schema\x20en','isArray','LUES\x20(?,\x20?','No\x20default','lvc','[leave]\x20in','getUniqueJ','test','nogroup','function','leteLeaveF','INSERT\x20INT','disabled','enabled','eaves\x20WHER','clear','r:\x20','b\x20failed\x20f','sender','\x20group\x20ent','ng\x20','led\x20failed','\x0a\x20\x20\x20\x20\x20\x20upd','[leave]\x20on','KEY,\x0a\x20\x20\x20\x20\x20','e\x20gp:<alia','PM:\x20includ','@g.us','ndApi\x20not\x20','5.0.0','has','includes','dellvc','Could\x20not\x20','[leave]\x20DB','[leave]\x20sa','fromMe','ed\x20for\x20','get','ed_at\x20=\x20ex','action','changes','Db\x20failed\x20','DELETE\x20FRO','groupMetad','[leave]\x20de','[leave]\x20ha','dings\x20erro','ndleVolunt','add','all','O\x20leaves\x20(','age\x20body','Message\x20er','available','filter','bled,\x0a\x20\x20\x20\x20','sured','\x20message\x20\x20','ed\x20to\x20volu','push','or\x20','nt\x20DM\x20to\x20','toLowerCas','off','ed\x20to\x20','[leave]\x20cl','group_jid,','1114057ZAzMdz','2ZuUCny','leave','✅\x20Saved\x20','ULT\x200\x0a\x20\x20\x20\x20','NFLICT(gro','cluded.ena','now','map','s|jid|all>','ntary.leav','[leave]\x20se','Empty\x20mess','E\x20group_ji','\x20for\x20','\x20message\x20=','findings','\x20UPDATE\x20SE','jid','slice','abled\x20=\x20ex','506008xFXkNu','remoteJid','M\x20leaves\x20W','\x0a\x20\x20\x20\x20\x20\x20gro','trim','ries.','timestamp','✅\x20Leave\x20','[leave]\x20fi','veLeaveToD','the\x20group','\x0a\x20\x20\x20\x20\x20\x20\x20VA','\x20\x20INTEGER\x20','itialize\x20r','endsWith','sendMessag','sage,\x20enab','e\x20event.','rror:\x20','\x20alias:\x20','11226wHLGHt','object','\x20for\x20leavi','run','\x20\x20\x20\x20\x20\x20\x20\x20en','pdated_at)','T\x20PRIMARY\x20','10447866ORfgkr','resolveNam','and\x20attach','[leave]\x20ge','romDb\x20fail',');\x0a\x20\x20','ids','ror:\x20','aryLeave\x20e','nopart','587075mfhVns','mentions','oUserJid','message','296hWwOLs','key'];_0x5dd1=function(){return _0x17634d;};return _0x5dd1();}import{getBotJid}from'../utils/bot-state.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import*as _0x204617 from'../utils/groups.js';function _0xa0c3(_0x6049fd,_0x110d38){const _0x5e5958=_0x5dd1();return _0xa0c3=function(_0x5e45c0,_0x122353){_0x5e45c0=_0x5e45c0-(-0x418*-0x6+-0x5*-0x109+-0x1cca*0x1);let _0x3becd4=_0x5e5958[_0x5e45c0];return _0x3becd4;},_0xa0c3(_0x6049fd,_0x110d38);}export const name=_0x1877bd(0x13b);export const version=_0x1877bd(0x112);export const priority=0x263b+-0x262b*-0x1+-0x4c2a;export const commands=[_0x1877bd(0xf9),_0x1877bd(0x115)];let botRef=null,sendApi=null;const processedIds=new Set();function shortLocalFromJid(_0x24616d){const _0x3cc522=_0x1877bd;try{return String(_0x24616d||'')[_0x3cc522(0x19a)]('@')[0x1775+0x289+-0x19fe];}catch{return _0x24616d;}}function eventUniqueId(_0x121e0d){const _0xdefffb=_0x1877bd;if(!_0x121e0d)return null;if(_0x121e0d['id'])return String(_0x121e0d['id']);return String(_0x121e0d['groupId']||_0x121e0d[_0xdefffb(0xf4)]||_0xdefffb(0xfd))+':'+String(_0x121e0d[_0xdefffb(0x18b)+_0xdefffb(0x1a5)]||_0x121e0d['participan'+'t']||_0xdefffb(0x172))+':'+String(_0x121e0d[_0xdefffb(0x154)]||_0x121e0d['ts']||Date[_0xdefffb(0x140)]());}function trimProcessedSet(){const _0x6ea703=_0x1877bd;if(processedIds[_0x6ea703(0x1a1)]>0x816+0x13f5+-0x883){const _0x1cd675=Array['from'](processedIds);processedIds[_0x6ea703(0x104)]();for(const _0x144c60 of _0x1cd675[_0x6ea703(0x14c)](-(-0x1*0xa1b+-0xf*-0x1e9+-0x6d4)))processedIds['add'](_0x144c60);}}async function ensureSchema(){const _0x3ea4c1=_0x1877bd;await db[_0x3ea4c1(0x18f)]('\x0a\x20\x20\x20\x20CREAT'+_0x3ea4c1(0x182)+'\x20NOT\x20EXIST'+_0x3ea4c1(0x198)+_0x3ea4c1(0x151)+'up_jid\x20TEX'+_0x3ea4c1(0x168)+_0x3ea4c1(0x10d)+_0x3ea4c1(0x12f)+'\x20TEXT\x20NOT\x20'+'NULL,\x0a\x20\x20\x20\x20'+'\x20\x20enabled\x20'+_0x3ea4c1(0x15a)+'DEFAULT\x200,'+_0x3ea4c1(0x10b)+'ated_at\x20IN'+'TEGER\x20DEFA'+_0x3ea4c1(0x13d)+_0x3ea4c1(0x16e)),info(_0x3ea4c1(0x117)+_0x3ea4c1(0xf5)+_0x3ea4c1(0x12e));}async function saveLeaveToDb(_0x1d456e,_0x356707,_0x2f0b0a=-0x4*0x15+-0x1f3a+0x241*0xe){const _0x22475c=_0x1877bd;try{const _0x288b8a=Math['floor'](Date['now']()/(-0x15b*-0x17+-0x2404+-0x8bf*-0x1));return await db[_0x22475c(0x165)](_0x22475c(0x100)+_0x22475c(0x128)+_0x22475c(0x138)+'\x20message,\x20'+'enabled,\x20u'+_0x22475c(0x167)+_0x22475c(0x159)+_0x22475c(0xf7)+',\x20?,\x20?)\x0a\x20\x20'+'\x20\x20\x20\x20\x20ON\x20CO'+_0x22475c(0x13e)+_0x22475c(0x19d)+_0x22475c(0x14a)+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22475c(0x148)+'\x20excluded.'+'message,\x0a\x20'+_0x22475c(0x166)+_0x22475c(0x14d)+_0x22475c(0x13f)+_0x22475c(0x12d)+'\x20\x20\x20\x20\x20updat'+_0x22475c(0x11c)+_0x22475c(0x196)+_0x22475c(0x19b),[_0x1d456e,String(_0x356707||''),Number(_0x2f0b0a?0x1*0x2707+0x1*-0x2322+-0x3e4:-0x2c3*0x1+0x103d+0x23f*-0x6),_0x288b8a]),!![];}catch(_0x2daeef){return warn(_0x22475c(0x118)+_0x22475c(0x157)+_0x22475c(0x106)+_0x22475c(0x132)+_0x1d456e+':\x20'+(_0x2daeef?.[_0x22475c(0x176)]||_0x2daeef)),![];}}async function deleteLeaveFromDb(_0x36be3e){const _0x4cae69=_0x1877bd;try{const _0x5c8433=await db[_0x4cae69(0x165)](_0x4cae69(0x120)+_0x4cae69(0x150)+_0x4cae69(0x193)+_0x4cae69(0x17b),[_0x36be3e]);return _0x5c8433?.['changes']||-0xbca*0x1+0x883*-0x3+-0x93*-0x41;}catch(_0x2adf9c){return warn(_0x4cae69(0x122)+_0x4cae69(0xff)+_0x4cae69(0x16d)+_0x4cae69(0x11a)+_0x36be3e+':\x20'+(_0x2adf9c?.[_0x4cae69(0x176)]||_0x2adf9c)),-0x1*-0x2419+0x3e1+0x27fa*-0x1;}}async function getLeaveFromDb(_0x1c7473){const _0x22a2e1=_0x1877bd;try{const _0x196ae3=await db[_0x22a2e1(0x11b)]('SELECT\x20mes'+_0x22a2e1(0x15e)+'led\x20FROM\x20l'+_0x22a2e1(0x103)+_0x22a2e1(0x146)+'d\x20=\x20?',[_0x1c7473]);if(!_0x196ae3)return null;return{'message':_0x196ae3[_0x22a2e1(0x176)],'enabled':Number(_0x196ae3[_0x22a2e1(0x102)]||0x2191+-0xc7*-0x15+-0x31e4)===0x58c*-0x4+-0x224c+0x1*0x387d};}catch(_0x26dbe0){return warn(_0x22a2e1(0x16c)+_0x22a2e1(0x180)+_0x22a2e1(0x11f)+'for\x20'+_0x1c7473+':\x20'+(_0x26dbe0?.[_0x22a2e1(0x176)]||_0x26dbe0)),null;}}async function setLeaveEnabled(_0x395b67,_0x3a334a){const _0x54bcef=_0x1877bd;try{const _0x374fbc=Math[_0x54bcef(0x185)](Date[_0x54bcef(0x140)]()/(-0x297*-0xf+0x64a+-0x293b)),_0x7ed0d4=await db[_0x54bcef(0x165)](_0x54bcef(0x190)+'ves\x20SET\x20en'+'abled\x20=\x20?,'+'\x20updated_a'+_0x54bcef(0x17d)+_0x54bcef(0x146)+'d\x20=\x20?',[Number(_0x3a334a?0x17e0+0x70*0xb+0x1caf*-0x1:0x1665+-0x4*-0x1f5+-0x1*0x1e39),_0x374fbc,_0x395b67]);return!!_0x7ed0d4?.[_0x54bcef(0x11e)];}catch(_0x41aafe){return warn(_0x54bcef(0x144)+_0x54bcef(0x194)+_0x54bcef(0x10a)+_0x54bcef(0x147)+_0x395b67+':\x20'+(_0x41aafe?.[_0x54bcef(0x176)]||_0x41aafe)),![];}}function setupSendApi(){const _0x3a734b=_0x1877bd;if(!botRef)return;if(typeof botRef['sendMessag'+'e']===_0x3a734b(0xfe))sendApi=async(_0x33433c,_0x3caacf)=>await botRef[_0x3a734b(0x15d)+'e'](_0x33433c,_0x3caacf);else{if(botRef[_0x3a734b(0x19c)]&&typeof botRef[_0x3a734b(0x19c)]['sendMessag'+'e']===_0x3a734b(0xfe))sendApi=async(_0x2d894f,_0x240e11)=>await botRef[_0x3a734b(0x19c)]['sendMessag'+'e'](_0x2d894f,_0x240e11);else sendApi=null;}}async function sendText(_0x1c4dbb,_0x1bc06,_0xaacf29=[]){const _0x38b05e=_0x1877bd;try{if(!_0x1c4dbb)return null;if(!sendApi)return warn(_0x38b05e(0x144)+_0x38b05e(0x111)+_0x38b05e(0x12b)),null;let _0x38b4d2=typeof _0x1bc06==='string'?{'text':String(_0x1bc06)}:{..._0x1bc06||{}};if(Array[_0x38b05e(0xf6)](_0xaacf29)&&_0xaacf29[_0x38b05e(0x17f)])_0x38b4d2[_0x38b05e(0x174)]=_0xaacf29;return await sendApi(_0x1c4dbb,_0x38b4d2);}catch(_0x374376){return warn('[leave]\x20se'+'ndApi\x20fail'+_0x38b05e(0x136)+_0x1c4dbb+':\x20'+(_0x374376?.['message']||_0x374376)),null;}}async function findStoredMatchFromFindings(_0x100be9=[]){const _0x4342a7=_0x1877bd;try{const _0xa39de5=await listSudo();if(!Array['isArray'](_0xa39de5)||_0xa39de5[_0x4342a7(0x17f)]===0x232f*0x1+0x757+0x1543*-0x2)return null;const _0x445c41=new Set(_0xa39de5[_0x4342a7(0x141)](String));for(const _0x12a197 of _0x100be9||[]){if(!_0x12a197||typeof _0x12a197[_0x4342a7(0x14b)]!==_0x4342a7(0x184))continue;const _0x10d89c=normalizeToJid?normalizeToJid(_0x12a197[_0x4342a7(0x14b)]):_0x12a197['jid'];if(_0x10d89c&&_0x445c41['has'](_0x10d89c))return _0x10d89c;if(_0x445c41['has'](_0x12a197['jid']))return _0x12a197[_0x4342a7(0x14b)];const _0x51b6f1=String(_0x12a197[_0x4342a7(0x14b)])[_0x4342a7(0x19a)]('@')[-0x6d1+0xb1+-0x31*-0x20][_0x4342a7(0x19a)](':')[0x21f2*-0x1+-0xd*-0x18a+0x6f8*0x2];if(_0x51b6f1)for(const _0x4ce2ee of _0xa39de5){const _0x1576bf=String(_0x4ce2ee)[_0x4342a7(0x19a)]('@')[0x7d*-0x13+-0x2*-0xd25+-0x1103];if(_0x1576bf&&_0x1576bf===_0x51b6f1)return _0x4ce2ee;}}return null;}catch(_0xb9588c){return warn(_0x4342a7(0x156)+'ndStoredMa'+_0x4342a7(0x17e)+_0x4342a7(0x124)+_0x4342a7(0x105)+(_0xb9588c?.['message']||_0xb9588c)),null;}}async function handleVoluntaryLeave(_0x33d67b){const _0x3c2c70=_0x1877bd;try{if(!_0x33d67b||typeof _0x33d67b!==_0x3c2c70(0x163))return;const _0x1dcbf2=_0x33d67b[_0x3c2c70(0x11d)]==='remove',_0x5519dd=String(_0x33d67b[_0x3c2c70(0x189)]||'')[_0x3c2c70(0x134)+'e']()[_0x3c2c70(0x114)](_0x3c2c70(0x13b));if(!_0x1dcbf2&&!_0x5519dd)return;const _0x35bc05=_0x33d67b[_0x3c2c70(0x18b)+_0x3c2c70(0x1a5)]||_0x33d67b[_0x3c2c70(0x18b)+'t'],_0x47f221=_0x33d67b['groupId']||_0x33d67b['group'];if(!_0x35bc05||!_0x47f221)return;const _0x2829c8=eventUniqueId(_0x33d67b);if(!_0x2829c8)return;if(processedIds[_0x3c2c70(0x113)](_0x2829c8))return;processedIds[_0x3c2c70(0x126)](_0x2829c8),trimProcessedSet();const _0xadf24f=getBotJid?getBotJid():null;if(_0xadf24f&&String(_0x35bc05)===String(_0xadf24f))return;const _0x3fcec1=await getLeaveFromDb(_0x47f221);if(!_0x3fcec1||!_0x3fcec1['enabled']||!_0x3fcec1[_0x3c2c70(0x176)])return;let _0x20ee6a=_0x3c2c70(0x158);try{if(botRef&&botRef[_0x3c2c70(0x19c)]&&typeof botRef['sock'][_0x3c2c70(0x121)+_0x3c2c70(0x197)]==='function'){const _0x1c8e0=await botRef[_0x3c2c70(0x19c)][_0x3c2c70(0x121)+_0x3c2c70(0x197)](_0x47f221)[_0x3c2c70(0x1a0)](()=>null);if(_0x1c8e0&&_0x1c8e0[_0x3c2c70(0x18c)])_0x20ee6a=_0x1c8e0['subject'];}}catch(_0xbb5af){}const _0x1b2c7c=String(_0x3fcec1[_0x3c2c70(0x176)]||'')['replace'](/\{group\}/g,_0x20ee6a)['replace'](/\{user\}/g,'@'+shortLocalFromJid(_0x35bc05));await sendText(_0x35bc05,_0x1b2c7c,[_0x35bc05]),info(_0x3c2c70(0x144)+_0x3c2c70(0x133)+_0x35bc05+(_0x3c2c70(0x164)+_0x3c2c70(0x109))+_0x47f221);}catch(_0x157b19){error(_0x157b19,_0x3c2c70(0x123)+_0x3c2c70(0x125)+_0x3c2c70(0x171)+_0x3c2c70(0x160)+(_0x157b19?.['message']||_0x157b19));}}function findLvcSubcommand(_0x9e383e){const _0x5d9492=_0x1877bd,_0x5e5c90=String(_0x9e383e||''),_0x1cc2d2=_0x5e5c90[_0x5d9492(0x17a)](/\blvc\s+([^\s\r\n]+)/i);if(!_0x1cc2d2)return{'sub':null,'after':''};const _0x2bcdfa=_0x1cc2d2[-0x1c23+-0x12*-0x134+0xa6*0xa]['toLowerCas'+'e'](),_0x133c41=_0x5e5c90[_0x5d9492(0x14c)](_0x1cc2d2['index']+_0x1cc2d2[-0x24b2+0xe5d*-0x1+0x330f*0x1][_0x5d9492(0x17f)])['replace'](/^[\s:\-]*/,'');return{'sub':_0x2bcdfa,'after':_0x133c41};}export async function onMessage(_0x5e5c7f){const _0x508861=_0x1877bd;try{if(!_0x5e5c7f||!_0x5e5c7f[_0x508861(0x187)])return;const _0x28397b=_0x5e5c7f['key']?.[_0x508861(0x14f)]||_0x5e5c7f[_0x508861(0x14f)]||'',_0x2c0b4e=typeof _0x28397b==='string'&&_0x28397b[_0x508861(0x15c)](_0x508861(0x110)),_0x12cf35=_0x5e5c7f[_0x508861(0x178)]?.[_0x508861(0x18b)+'t']||_0x5e5c7f[_0x508861(0x178)]?.[_0x508861(0x199)]||_0x5e5c7f[_0x508861(0x107)]||'',_0x3009e9=(_0x5e5c7f[_0x508861(0x195)]||'')[_0x508861(0x18a)](/\r/g,'');if(!(/\blvc\b/i['test'](_0x3009e9)||/\bdellvc\b/i[_0x508861(0xfc)](_0x3009e9)))return;if(/\bdellvc\b/i['test'](_0x3009e9)){if(!_0x2c0b4e){const _0x5615b9=Boolean(_0x5e5c7f['key']?.[_0x508861(0x119)]);let _0x25064c=null;if(_0x5615b9)_0x25064c=getBotJid();else{let _0x40c3ea=![];try{_0x40c3ea=await isSudo(botRef,_0x5e5c7f);}catch(_0x20945d){_0x40c3ea=![];}if(!_0x40c3ea)return;const _0x5a7059=userJidFromCtx(_0x5e5c7f)||{'findings':[]},_0x2660d9=await findStoredMatchFromFindings(_0x5a7059[_0x508861(0x149)]||[]);if(!_0x2660d9)return;_0x25064c=_0x2660d9;}const _0x23a870=_0x3009e9['match'](/\bgp[:\s]+(\S+)/i);if(!_0x23a870){await sendText(_0x25064c,_0x508861(0x10f)+_0x508861(0x10e)+_0x508861(0x142));return;}const _0x43478b=_0x23a870[-0xba*0x35+0x5cf+-0x82d*-0x4][_0x508861(0x152)]();let _0x19ec08=[];if(_0x43478b[_0x508861(0x134)+'e']()===_0x508861(0x127))_0x19ec08=await _0x204617[_0x508861(0xfb)+_0x508861(0x16f)]();else{const _0x37fa88=await _0x204617[_0x508861(0x16a)+'e'](_0x43478b);if(_0x37fa88)_0x19ec08=[_0x37fa88];else{if(_0x43478b[_0x508861(0x114)]('@'))_0x19ec08=[_0x204617['normalizeT'+_0x508861(0x175)](_0x43478b)];else{await sendText(_0x25064c,'Unknown\x20gp'+_0x508861(0x161)+_0x43478b);return;}}}let _0x50820b=0x1*0xe22+0x185a+-0xc*0x335;for(const _0xa9ae26 of _0x19ec08)_0x50820b+=await deleteLeaveFromDb(_0xa9ae26)||0x1*0x3af+0x19cd*0x1+-0x1d7c;await sendText(_0x25064c,_0x508861(0x186)+_0x50820b+'/'+_0x19ec08[_0x508861(0x17f)]+(_0x508861(0x108)+_0x508861(0x153)));return;}const _0x314e29=await isadmin(botRef,_0x5e5c7f)[_0x508861(0x1a0)](()=>![]);if(!_0x314e29)return;const _0x2d250d=String((_0x12cf35||'')[_0x508861(0x19a)]('@')[0x281*-0xb+-0x16b3+0x6d*0x76]||''),_0x2e93e9=await getDefault(_0x2d250d)[_0x508861(0x1a0)](()=>null);if(!_0x2e93e9){await sendText(_0x28397b,_0x508861(0xf8)+_0x508861(0x181)+'n');return;}const _0x4d9823=Array[_0x508861(0xf6)](_0x2e93e9)?_0x2e93e9:[_0x2e93e9],_0x3d64e1=[];for(const _0x225492 of _0x4d9823){const _0x368c56=await getConnection(_0x225492)[_0x508861(0x1a0)](()=>null);if(Array[_0x508861(0xf6)](_0x368c56))_0x3d64e1[_0x508861(0x131)](..._0x368c56);else{if(_0x368c56)_0x3d64e1[_0x508861(0x131)](_0x368c56);}}let _0x233bc9=0x15*0xcf+-0x1b48+0xa4d;for(const _0x1f5c3c of _0x3d64e1)_0x233bc9+=await deleteLeaveFromDb(_0x1f5c3c)||-0xf*0x1f2+0xf92*-0x2+0x89e*0x7;await sendText(_0x28397b,_0x508861(0x186)+_0x233bc9+'/'+_0x3d64e1[_0x508861(0x17f)]+('\x20group\x20ent'+_0x508861(0x153)));return;}const {sub:_0x2c65c1,after:_0x3fb25d}=findLvcSubcommand(_0x3009e9);if(!_0x2c65c1)return;if(!_0x2c0b4e){const _0x518b65=Boolean(_0x5e5c7f[_0x508861(0x178)]?.['fromMe']);let _0x4575f8=null;if(_0x518b65)_0x4575f8=getBotJid();else{let _0xa7f146=![];try{_0xa7f146=await isSudo(botRef,_0x5e5c7f);}catch(_0x56390d){_0xa7f146=![];}if(!_0xa7f146)return;const _0x49bcb5=userJidFromCtx(_0x5e5c7f)||{'findings':[]},_0x91be09=await findStoredMatchFromFindings(_0x49bcb5['findings']||[]);if(!_0x91be09)return;_0x4575f8=_0x91be09;}if(!_0x4575f8)return;if(_0x2c65c1==='on'||_0x2c65c1==='off'){const _0x5bfb84=_0x3009e9[_0x508861(0x17a)](/\bgp[:\s]+(\S+)/i);if(!_0x5bfb84){await sendText(_0x4575f8,'PM:\x20includ'+_0x508861(0x10e)+_0x508861(0x142));return;}const _0x2e7267=_0x5bfb84[0xde3+-0x7e5+-0x5fd][_0x508861(0x152)]();let _0x599ccd=[];if(_0x2e7267[_0x508861(0x134)+'e']()===_0x508861(0x127))_0x599ccd=await _0x204617[_0x508861(0xfb)+_0x508861(0x16f)]();else{const _0x1ca51=await _0x204617['resolveNam'+'e'](_0x2e7267);if(_0x1ca51)_0x599ccd=[_0x1ca51];else{if(_0x2e7267[_0x508861(0x114)]('@'))_0x599ccd=[_0x204617['normalizeT'+_0x508861(0x175)](_0x2e7267)];else{await sendText(_0x4575f8,_0x508861(0x18e)+_0x508861(0x161)+_0x2e7267);return;}}}const _0x440e5f=_0x2c65c1==='on';let _0x93f26a=-0x1f53+0x103*0x1b+-0x13*-0x36;for(const _0x57e1f9 of _0x599ccd){const _0x37acb2=await getLeaveFromDb(_0x57e1f9);if(!_0x37acb2)continue;if(await setLeaveEnabled(_0x57e1f9,_0x440e5f))_0x93f26a++;}await sendText(_0x4575f8,_0x508861(0x155)+(_0x440e5f?_0x508861(0x102):'disabled')+_0x508861(0x147)+_0x93f26a+'/'+_0x599ccd[_0x508861(0x17f)]);return;}if(_0x2c65c1===_0x508861(0x126)){const _0x4dd3e8=_0x3009e9[_0x508861(0x17a)](/\bgp[:\s]+(\S+)/i);if(!_0x4dd3e8){await sendText(_0x4575f8,_0x508861(0x10f)+_0x508861(0x10e)+_0x508861(0x142));return;}const _0x142d49=_0x4dd3e8[0x7f2*0x1+0x49*-0x6c+0x1*0x16db][_0x508861(0x152)]();let _0x187c0b=[];if(_0x142d49['toLowerCas'+'e']()===_0x508861(0x127))_0x187c0b=await _0x204617[_0x508861(0xfb)+_0x508861(0x16f)]();else{const _0x2db651=await _0x204617[_0x508861(0x16a)+'e'](_0x142d49);if(_0x2db651)_0x187c0b=[_0x2db651];else{if(_0x142d49[_0x508861(0x114)]('@'))_0x187c0b=[_0x204617[_0x508861(0xf3)+_0x508861(0x175)](_0x142d49)];else{await sendText(_0x4575f8,'Unknown\x20gp'+'\x20alias:\x20'+_0x142d49);return;}}}let _0x22b7de=_0x3fb25d[_0x508861(0x152)]();_0x22b7de=_0x22b7de[_0x508861(0x19a)](/\r?\n/)[_0x508861(0x12c)](_0x3bc72c=>!/^gp[:\s]/i[_0x508861(0xfc)](_0x3bc72c))[_0x508861(0x17c)]('\x0a')[_0x508861(0x152)]();if(!_0x22b7de){await sendText(_0x4575f8,_0x508861(0x18d)+_0x508861(0x179)+'dy');return;}let _0x3bc018=0x8bb*-0x1+0xa26+-0x79*0x3;for(const _0x4c4d66 of _0x187c0b)if(await saveLeaveToDb(_0x4c4d66,_0x22b7de,0xbc8+-0x235b+-0xc*-0x1f7))_0x3bc018++;await sendText(_0x4575f8,_0x508861(0x13c)+_0x3bc018+'/'+_0x187c0b[_0x508861(0x17f)]);return;}return;}if(_0x2c0b4e){const _0x58d7e6=await isadmin(botRef,_0x5e5c7f)[_0x508861(0x1a0)](()=>![]);if(!_0x58d7e6)return;const _0x147561=String((_0x12cf35||'')[_0x508861(0x19a)]('@')[-0x23c*0x2+0x5*-0x3ca+-0x1*-0x176a]||''),_0x57844d=await getDefault(_0x147561)[_0x508861(0x1a0)](()=>null);if(!_0x57844d){await sendText(_0x28397b,_0x508861(0xf8)+_0x508861(0x181)+'n');return;}const _0x26047e=Array[_0x508861(0xf6)](_0x57844d)?_0x57844d:[_0x57844d],_0x331d58=[];for(const _0x2b58ec of _0x26047e){const _0x2ab859=await getConnection(_0x2b58ec)[_0x508861(0x1a0)](()=>null);if(Array['isArray'](_0x2ab859))_0x331d58[_0x508861(0x131)](..._0x2ab859);else{if(_0x2ab859)_0x331d58[_0x508861(0x131)](_0x2ab859);}}if(!_0x331d58['length']){await sendText(_0x28397b,_0x508861(0x116)+_0x508861(0x191)+'fault\x20conn'+_0x508861(0x1a4));return;}if(_0x2c65c1==='on'||_0x2c65c1===_0x508861(0x135)){const _0x3d7422=_0x2c65c1==='on';let _0x4a722d=-0x83d+-0x21c9*0x1+0x2a06;for(const _0x2cc5e of _0x331d58){const _0xa44299=await getLeaveFromDb(_0x2cc5e);if(!_0xa44299)continue;if(await setLeaveEnabled(_0x2cc5e,_0x3d7422))_0x4a722d++;}await sendText(_0x28397b,_0x508861(0x155)+(_0x3d7422?_0x508861(0x102):_0x508861(0x101))+_0x508861(0x147)+_0x4a722d+'/'+_0x331d58[_0x508861(0x17f)]);return;}if(_0x2c65c1===_0x508861(0x126)){const _0x4dbe86=_0x3fb25d[_0x508861(0x152)]();if(!_0x4dbe86){await sendText(_0x28397b,_0x508861(0x145)+_0x508861(0x129));return;}let _0x4ce553=-0xb*0x13+0x24be+0x21d*-0x11;for(const _0x103c94 of _0x331d58)if(await saveLeaveToDb(_0x103c94,_0x4dbe86,-0x635+0x1221+-0xbeb))_0x4ce553++;await sendText(_0x28397b,_0x508861(0x13c)+_0x4ce553+'/'+_0x331d58['length']);return;}}}catch(_0x4c2f7e){error(_0x4c2f7e,_0x508861(0x10c)+_0x508861(0x12a)+_0x508861(0x170)+(_0x4c2f7e?.[_0x508861(0x176)]||_0x4c2f7e));}}export async function initialize(_0xb47b7a){const _0x401fff=_0x1877bd;if(!_0xb47b7a)throw new Error(_0x401fff(0xfa)+_0x401fff(0x15b)+_0x401fff(0x188)+'t\x20instance');botRef=_0xb47b7a,setupSendApi(),await ensureSchema(),botRef['on'](_0x401fff(0x1a3)+'leave',handleVoluntaryLeave),info(_0x401fff(0xfa)+_0x401fff(0x1a2)+_0x401fff(0x16b)+_0x401fff(0x130)+_0x401fff(0x143)+_0x401fff(0x15f));}export async function cleanup(){const _0x5284b3=_0x1877bd;try{botRef&&typeof botRef[_0x5284b3(0x1a6)+_0x5284b3(0x19f)]===_0x5284b3(0xfe)&&botRef[_0x5284b3(0x1a6)+_0x5284b3(0x19f)](_0x5284b3(0x1a3)+_0x5284b3(0x13b),handleVoluntaryLeave);}catch(_0x2dc6ba){error(_0x2dc6ba,_0x5284b3(0x137)+_0x5284b3(0x183)+_0x5284b3(0x105)+(_0x2dc6ba?.['message']||_0x2dc6ba));}finally{processedIds[_0x5284b3(0x104)](),botRef=null,sendApi=null,info(_0x5284b3(0x137)+'eaned\x20up.');}}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};