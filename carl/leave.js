const _0x3df5f2=_0x5085;function _0x3002(){const _0x4e5194=['NULL,\x0a\x20\x20\x20\x20','timestamp','658CiXSuV','for\x20','No\x20default','sender','subject','nogroup','\x20schema\x20en','ids','237122xxlHjZ','NFLICT(gro','key','normalizeT','jid','\x20UPDATE\x20SE','KEY,\x0a\x20\x20\x20\x20\x20','ata','push','isCommand','5.0.0','findings','\x20TEXT\x20NOT\x20','up_jid\x20TEX','led\x20FROM\x20l','r:\x20','changes','\x20connectio','_jid\x20=\x20?','t\x20=\x20?\x20WHER','\x0a\x20\x20\x20\x20\x20\x20\x20VA','25045LXZBnh','[leave]\x20DB','join','size','\x20updated_a','all','message,\x0a\x20','message','remove','✅\x20Leave\x20','[leave]\x20de','Message\x20er','get','\x20\x20\x20\x20\x20\x20\x20\x20en','ener','✅\x20Saved\x20','ries.','test','rror:\x20','enabled,\x20u','O\x20leaves\x20(','112kgxOIP','message\x20bo','function','SELECT\x20mes','M\x20leaves\x20W','pdated_at)','map','[leave]\x20ha','\x20message\x20\x20','\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20upd','run','TEGER\x20DEFA','eaves\x20WHER','HERE\x20group','Db\x20failed\x20','match','sage,\x20enab','\x0a\x20\x20\x20\x20\x20\x20gro','[leave]\x20on',');\x0a\x20\x20','ndApi\x20fail','resolveNam','E\x20group_ji','removeList','disabled','off','ed\x20to\x20','enabled','eaned\x20up.','from','has','\x20\x20enabled\x20','remoteJid','PM:\x20empty\x20','isArray','6CWOIZY','cluded.ena','groupMetad','s|jid|all>','\x20message\x20=','led\x20failed','includes','bled,\x0a\x20\x20\x20\x20','ated_at\x20IN','t_pn','index','ndStoredMa','730086oCuzRO','ror:\x20','ndleVolunt','sendMessag','@g.us','nt\x20DM\x20to\x20','[leave]\x20se','floor','nopart','group','\x20excluded.','7510092oJqUnU','or\x20','PM:\x20includ','✅\x20Deleted\x20','romDb\x20fail','sock','\x20group\x20ent','itialized\x20','d\x20=\x20?','[leave]\x20ge','fromMe','group_jid,','leave','slice','[leave]\x20in','dings\x20erro','ULT\x200\x0a\x20\x20\x20\x20','ed\x20to\x20volu','replace','split','object','DEFAULT\x200,','abled\x20=\x20?,','\x20\x20INTEGER\x20','voluntary.','length','e\x20gp:<alia','Unknown\x20gp','ed_at\x20=\x20ex','Could\x20not\x20','ections','lvc','LUES\x20(?,\x20?','ntary.leav','\x20\x20\x20\x20\x20updat','11526nHIsRr','now','cluded.upd','[leave]\x20fi','tLeaveEnab','eanup\x20erro','\x20NOT\x20EXIST','trim','ves\x20SET\x20en','ed\x20for\x20','groupId','tchFromFin','equires\x20bo','veLeaveToD','Empty\x20mess','183933dtERMm','ng\x20','813070FZzhju','add','[leave]\x20sa','available','DELETE\x20FRO','644kSbsTH','participan','\x20alias:\x20','ndApi\x20not\x20','string','action','catch','sured','11UuyTtK','toLowerCas','filter','UPDATE\x20lea','type'];_0x3002=function(){return _0x4e5194;};return _0x3002();}(function(_0x2f39cd,_0x107357){const _0x529804=_0x5085,_0x1362d6=_0x2f39cd();while(!![]){try{const _0x42aec4=parseInt(_0x529804(0x148))/(-0x1463+-0x5a*-0x3c+0x24*-0x5)*(parseInt(_0x529804(0x196))/(-0x597+0x1*-0x15dd+0x25*0xbe))+-parseInt(_0x529804(0x1a2))/(-0x1*0xabd+0x5+0xabb)+parseInt(_0x529804(0x131))/(0x182*0x6+-0x6*-0x281+-0x180e)*(-parseInt(_0x529804(0x15d))/(-0x6f3+0x2445+0x1d4d*-0x1))+parseInt(_0x529804(0x1d0))/(0x4ca*0x7+0x1f*-0x127+0x239)*(parseInt(_0x529804(0x140))/(0x2*-0x239+-0x1c*-0x99+0x1*-0xc43))+parseInt(_0x529804(0x172))/(0x1*0xadf+0x1*0x1153+-0x1c2a)*(parseInt(_0x529804(0x12a))/(-0x490+0x26*-0xe5+0x2697))+parseInt(_0x529804(0x12c))/(0xb88+-0x1f2*0x3+-0x2*0x2d4)*(parseInt(_0x529804(0x139))/(0x1a6*-0xb+0x4a*0x7d+0x11f5*-0x1))+parseInt(_0x529804(0x1ad))/(-0x4ed+0x16*0x58+0x297*-0x1);if(_0x42aec4===_0x107357)break;else _0x1362d6['push'](_0x1362d6['shift']());}catch(_0x3ffcda){_0x1362d6['push'](_0x1362d6['shift']());}}}(_0x3002,-0x126be1+0x66a*-0x106+0x25bba0));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import{getBotJid}from'../utils/bot-state.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import*as _0x60f4a4 from'../utils/groups.js';export const name=_0x3df5f2(0x1b9);export const version=_0x3df5f2(0x152);export const priority=-0xba1*-0x3+-0x5a3+-0x1d04;export const commands=[_0x3df5f2(0x1cc),'dellvc'];function _0x5085(_0x17616f,_0x564ad7){const _0x390ec8=_0x3002();return _0x5085=function(_0x264a9c,_0x5a4477){_0x264a9c=_0x264a9c-(0x247d*-0x1+-0x26b8+0x4c5d);let _0x28cf63=_0x390ec8[_0x264a9c];return _0x28cf63;},_0x5085(_0x17616f,_0x564ad7);}let botRef=null,sendApi=null;const processedIds=new Set();function shortLocalFromJid(_0x1896db){const _0xac8663=_0x3df5f2;try{return String(_0x1896db||'')[_0xac8663(0x1c0)]('@')[-0x1e3*-0x8+0xb*0x167+-0x1e85];}catch{return _0x1896db;}}function eventUniqueId(_0x2d1adb){const _0x2a485a=_0x3df5f2;if(!_0x2d1adb)return null;if(_0x2d1adb['id'])return String(_0x2d1adb['id']);return String(_0x2d1adb[_0x2a485a(0x1da)]||_0x2d1adb['group']||_0x2a485a(0x145))+':'+String(_0x2d1adb['participan'+_0x2a485a(0x19f)]||_0x2d1adb[_0x2a485a(0x132)+'t']||_0x2a485a(0x1aa))+':'+String(_0x2d1adb[_0x2a485a(0x13f)]||_0x2d1adb['ts']||Date[_0x2a485a(0x1d1)]());}function trimProcessedSet(){const _0x26883b=_0x3df5f2;if(processedIds[_0x26883b(0x160)]>-0x1*0x2187+-0xe6*0xe+-0x9*-0x74b){const _0x25920b=Array[_0x26883b(0x190)](processedIds);processedIds['clear']();for(const _0x48c401 of _0x25920b[_0x26883b(0x1ba)](-(-0x4*-0x91a+-0x21d2+0x922)))processedIds['add'](_0x48c401);}}async function ensureSchema(){const _0x3a57a8=_0x3df5f2;await db['exec']('\x0a\x20\x20\x20\x20CREAT'+'E\x20TABLE\x20IF'+_0x3a57a8(0x1d6)+'S\x20leaves\x20('+_0x3a57a8(0x184)+_0x3a57a8(0x155)+'T\x20PRIMARY\x20'+_0x3a57a8(0x14e)+_0x3a57a8(0x17a)+_0x3a57a8(0x154)+_0x3a57a8(0x13e)+_0x3a57a8(0x192)+_0x3a57a8(0x1c4)+_0x3a57a8(0x1c2)+_0x3a57a8(0x17c)+_0x3a57a8(0x19e)+_0x3a57a8(0x17e)+_0x3a57a8(0x1bd)+_0x3a57a8(0x186)),info(_0x3a57a8(0x15e)+_0x3a57a8(0x146)+_0x3a57a8(0x138));}async function saveLeaveToDb(_0x3e4bb7,_0x287e67,_0x246d22=-0x1d*0x8e+-0x26*0x5c+0x1dbe){const _0x5ec55d=_0x3df5f2;try{const _0x2355c2=Math[_0x5ec55d(0x1a9)](Date[_0x5ec55d(0x1d1)]()/(-0x2351*0x1+0x5*0x709+0x40c));return await db[_0x5ec55d(0x17d)]('INSERT\x20INT'+_0x5ec55d(0x171)+_0x5ec55d(0x1b8)+'\x20message,\x20'+_0x5ec55d(0x170)+_0x5ec55d(0x177)+_0x5ec55d(0x15c)+_0x5ec55d(0x1cd)+',\x20?,\x20?)\x0a\x20\x20'+'\x20\x20\x20\x20\x20ON\x20CO'+_0x5ec55d(0x149)+'up_jid)\x20DO'+_0x5ec55d(0x14d)+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ec55d(0x19a)+_0x5ec55d(0x1ac)+_0x5ec55d(0x163)+_0x5ec55d(0x16a)+'abled\x20=\x20ex'+_0x5ec55d(0x197)+_0x5ec55d(0x19d)+_0x5ec55d(0x1cf)+_0x5ec55d(0x1c9)+_0x5ec55d(0x1d2)+'ated_at;',[_0x3e4bb7,String(_0x287e67||''),Number(_0x246d22?-0x215d+0x1*0x1466+-0x53*-0x28:-0x3a9*-0x3+0x304+-0xdff),_0x2355c2]),!![];}catch(_0x4c20ab){return warn(_0x5ec55d(0x12e)+_0x5ec55d(0x128)+'b\x20failed\x20f'+_0x5ec55d(0x1ae)+_0x3e4bb7+':\x20'+(_0x4c20ab?.['message']||_0x4c20ab)),![];}}async function deleteLeaveFromDb(_0x25237d){const _0x5cb84b=_0x3df5f2;try{const _0x3a3e7d=await db[_0x5cb84b(0x17d)](_0x5cb84b(0x130)+_0x5cb84b(0x176)+_0x5cb84b(0x180)+_0x5cb84b(0x15a),[_0x25237d]);return _0x3a3e7d?.['changes']||0x971*0x1+-0x176a+-0x49*-0x31;}catch(_0x587353){return warn(_0x5cb84b(0x167)+'leteLeaveF'+_0x5cb84b(0x1b1)+_0x5cb84b(0x1d9)+_0x25237d+':\x20'+(_0x587353?.[_0x5cb84b(0x164)]||_0x587353)),0xfb5+0x10f5+-0x20aa;}}async function getLeaveFromDb(_0x309f3c){const _0x208197=_0x3df5f2;try{const _0x155cf8=await db[_0x208197(0x169)](_0x208197(0x175)+_0x208197(0x183)+_0x208197(0x156)+_0x208197(0x17f)+'E\x20group_ji'+_0x208197(0x1b5),[_0x309f3c]);if(!_0x155cf8)return null;return{'message':_0x155cf8[_0x208197(0x164)],'enabled':Number(_0x155cf8[_0x208197(0x18e)]||-0x1a25*-0x1+0x42*0x5e+-0x3261)===-0x6b*-0x3+0x4f*-0x1a+-0x66*-0x11};}catch(_0x356ea){return warn(_0x208197(0x1b6)+'tLeaveFrom'+_0x208197(0x181)+_0x208197(0x141)+_0x309f3c+':\x20'+(_0x356ea?.[_0x208197(0x164)]||_0x356ea)),null;}}async function setLeaveEnabled(_0x4c4654,_0x5081b3){const _0x85f167=_0x3df5f2;try{const _0x36a2cc=Math['floor'](Date[_0x85f167(0x1d1)]()/(-0x18*0x18c+-0x9fd*0x2+-0x1456*-0x3)),_0x165b55=await db[_0x85f167(0x17d)](_0x85f167(0x13c)+_0x85f167(0x1d8)+_0x85f167(0x1c3)+_0x85f167(0x161)+_0x85f167(0x15b)+_0x85f167(0x189)+_0x85f167(0x1b5),[Number(_0x5081b3?0x1b79+0x41e+0x1f96*-0x1:0x30*-0xa4+-0x20f8+-0x1fdc*-0x2),_0x36a2cc,_0x4c4654]);return!!_0x165b55?.[_0x85f167(0x158)];}catch(_0x459ea7){return warn(_0x85f167(0x1a8)+_0x85f167(0x1d4)+_0x85f167(0x19b)+'\x20for\x20'+_0x4c4654+':\x20'+(_0x459ea7?.[_0x85f167(0x164)]||_0x459ea7)),![];}}function setupSendApi(){const _0x3e24a0=_0x3df5f2;if(!botRef)return;if(typeof botRef[_0x3e24a0(0x1a5)+'e']===_0x3e24a0(0x174))sendApi=async(_0x444d4e,_0x1eb688)=>await botRef['sendMessag'+'e'](_0x444d4e,_0x1eb688);else{if(botRef['sock']&&typeof botRef[_0x3e24a0(0x1b2)][_0x3e24a0(0x1a5)+'e']===_0x3e24a0(0x174))sendApi=async(_0x178e4b,_0x1197f0)=>await botRef[_0x3e24a0(0x1b2)][_0x3e24a0(0x1a5)+'e'](_0x178e4b,_0x1197f0);else sendApi=null;}}async function sendText(_0x39730f,_0x292463,_0xb112f6=[]){const _0x147c69=_0x3df5f2;try{if(!_0x39730f)return null;if(!sendApi)return warn(_0x147c69(0x1a8)+_0x147c69(0x134)+_0x147c69(0x12f)),null;let _0x2ac7d8=typeof _0x292463===_0x147c69(0x135)?{'text':String(_0x292463)}:{..._0x292463||{}};if(Array[_0x147c69(0x195)](_0xb112f6)&&_0xb112f6[_0x147c69(0x1c6)])_0x2ac7d8['mentions']=_0xb112f6;return await sendApi(_0x39730f,_0x2ac7d8);}catch(_0x39eb45){return warn(_0x147c69(0x1a8)+_0x147c69(0x187)+_0x147c69(0x18d)+_0x39730f+':\x20'+(_0x39eb45?.['message']||_0x39eb45)),null;}}async function findStoredMatchFromFindings(_0x2e2df2=[]){const _0x420aab=_0x3df5f2;try{const _0x56d8b1=await listSudo();if(!Array[_0x420aab(0x195)](_0x56d8b1)||_0x56d8b1[_0x420aab(0x1c6)]===0x1d65+-0xead+-0xeb8)return null;const _0x1ace5d=new Set(_0x56d8b1[_0x420aab(0x178)](String));for(const _0x58e715 of _0x2e2df2||[]){if(!_0x58e715||typeof _0x58e715['jid']!==_0x420aab(0x135))continue;const _0x3e334e=normalizeToJid?normalizeToJid(_0x58e715[_0x420aab(0x14c)]):_0x58e715['jid'];if(_0x3e334e&&_0x1ace5d[_0x420aab(0x191)](_0x3e334e))return _0x3e334e;if(_0x1ace5d['has'](_0x58e715[_0x420aab(0x14c)]))return _0x58e715[_0x420aab(0x14c)];const _0xd64a6f=String(_0x58e715['jid'])[_0x420aab(0x1c0)]('@')[0x7ab+-0x424+-0x7*0x81][_0x420aab(0x1c0)](':')[0x18a2+0x2*0x2dc+-0x1e5a];if(_0xd64a6f)for(const _0xf30f33 of _0x56d8b1){const _0x49bbe3=String(_0xf30f33)[_0x420aab(0x1c0)]('@')[0x67*0x3+0x1f08+-0x203d];if(_0x49bbe3&&_0x49bbe3===_0xd64a6f)return _0xf30f33;}}return null;}catch(_0x4984d7){return warn(_0x420aab(0x1d3)+_0x420aab(0x1a1)+_0x420aab(0x1db)+_0x420aab(0x1bc)+_0x420aab(0x157)+(_0x4984d7?.['message']||_0x4984d7)),null;}}async function handleVoluntaryLeave(_0x5c4e6b){const _0xf2c9a=_0x3df5f2;try{if(!_0x5c4e6b||typeof _0x5c4e6b!==_0xf2c9a(0x1c1))return;const _0x44f4ac=_0x5c4e6b[_0xf2c9a(0x136)]===_0xf2c9a(0x165),_0x27776b=String(_0x5c4e6b[_0xf2c9a(0x13d)]||'')['toLowerCas'+'e']()['includes'](_0xf2c9a(0x1b9));if(!_0x44f4ac&&!_0x27776b)return;const _0x45346e=_0x5c4e6b[_0xf2c9a(0x132)+_0xf2c9a(0x19f)]||_0x5c4e6b['participan'+'t'],_0x3ab709=_0x5c4e6b['groupId']||_0x5c4e6b[_0xf2c9a(0x1ab)];if(!_0x45346e||!_0x3ab709)return;const _0x36939e=eventUniqueId(_0x5c4e6b);if(!_0x36939e)return;if(processedIds[_0xf2c9a(0x191)](_0x36939e))return;processedIds[_0xf2c9a(0x12d)](_0x36939e),trimProcessedSet();const _0xf9a5d7=getBotJid?getBotJid():null;if(_0xf9a5d7&&String(_0x45346e)===String(_0xf9a5d7))return;const _0x4cd053=await getLeaveFromDb(_0x3ab709);if(!_0x4cd053||!_0x4cd053[_0xf2c9a(0x18e)]||!_0x4cd053[_0xf2c9a(0x164)])return;let _0x5d2eac='the\x20group';try{if(botRef&&botRef[_0xf2c9a(0x1b2)]&&typeof botRef[_0xf2c9a(0x1b2)][_0xf2c9a(0x198)+'ata']===_0xf2c9a(0x174)){const _0x3a81e7=await botRef[_0xf2c9a(0x1b2)][_0xf2c9a(0x198)+_0xf2c9a(0x14f)](_0x3ab709)[_0xf2c9a(0x137)](()=>null);if(_0x3a81e7&&_0x3a81e7[_0xf2c9a(0x144)])_0x5d2eac=_0x3a81e7[_0xf2c9a(0x144)];}}catch(_0x223c81){}const _0x8f56f7=String(_0x4cd053['message']||'')['replace'](/\{group\}/g,_0x5d2eac)['replace'](/\{user\}/g,'@'+shortLocalFromJid(_0x45346e));await sendText(_0x45346e,_0x8f56f7,[_0x45346e]),info(_0xf2c9a(0x1a8)+_0xf2c9a(0x1a7)+_0x45346e+('\x20for\x20leavi'+_0xf2c9a(0x12b))+_0x3ab709);}catch(_0x3fd82e){error(_0x3fd82e,_0xf2c9a(0x179)+_0xf2c9a(0x1a4)+'aryLeave\x20e'+_0xf2c9a(0x16f)+(_0x3fd82e?.[_0xf2c9a(0x164)]||_0x3fd82e));}}function findLvcSubcommand(_0x4ea6d9){const _0xb8913d=_0x3df5f2,_0x1d4f46=String(_0x4ea6d9||''),_0x2168a1=_0x1d4f46[_0xb8913d(0x182)](/\blvc\s+([^\s\r\n]+)/i);if(!_0x2168a1)return{'sub':null,'after':''};const _0x30e163=_0x2168a1[-0xdf*0x13+0xa*-0x2c3+0x2c2c]['toLowerCas'+'e'](),_0x46bfef=_0x1d4f46[_0xb8913d(0x1ba)](_0x2168a1[_0xb8913d(0x1a0)]+_0x2168a1[-0x13de+0x15a4+0x1c6*-0x1][_0xb8913d(0x1c6)])[_0xb8913d(0x1bf)](/^[\s:\-]*/,'');return{'sub':_0x30e163,'after':_0x46bfef};}export async function onMessage(_0x54a711){const _0x9b3cfe=_0x3df5f2;try{if(!_0x54a711||!_0x54a711[_0x9b3cfe(0x151)])return;const _0x22be0a=_0x54a711[_0x9b3cfe(0x14a)]?.[_0x9b3cfe(0x193)]||_0x54a711['remoteJid']||'',_0xdb41bc=typeof _0x22be0a===_0x9b3cfe(0x135)&&_0x22be0a['endsWith'](_0x9b3cfe(0x1a6)),_0x1c74a4=_0x54a711[_0x9b3cfe(0x14a)]?.[_0x9b3cfe(0x132)+'t']||_0x54a711[_0x9b3cfe(0x14a)]?.[_0x9b3cfe(0x190)]||_0x54a711[_0x9b3cfe(0x143)]||'',_0x19de77=(_0x54a711['text']||'')[_0x9b3cfe(0x1bf)](/\r/g,'');if(!(/\blvc\b/i['test'](_0x19de77)||/\bdellvc\b/i['test'](_0x19de77)))return;if(/\bdellvc\b/i[_0x9b3cfe(0x16e)](_0x19de77)){if(!_0xdb41bc){const _0x3c3fd6=Boolean(_0x54a711['key']?.[_0x9b3cfe(0x1b7)]);let _0x294755=null;if(_0x3c3fd6)_0x294755=getBotJid();else{let _0x8439ba=![];try{_0x8439ba=await isSudo(botRef,_0x54a711);}catch(_0xd16ec1){_0x8439ba=![];}if(!_0x8439ba)return;const _0x14fd38=userJidFromCtx(_0x54a711)||{'findings':[]},_0x2af480=await findStoredMatchFromFindings(_0x14fd38[_0x9b3cfe(0x153)]||[]);if(!_0x2af480)return;_0x294755=_0x2af480;}const _0x537a74=_0x19de77[_0x9b3cfe(0x182)](/\bgp[:\s]+(\S+)/i);if(!_0x537a74){await sendText(_0x294755,_0x9b3cfe(0x1af)+_0x9b3cfe(0x1c7)+_0x9b3cfe(0x199));return;}const _0x32592a=_0x537a74[-0x13e*-0x1b+0x1f43+-0x16*0x2f2][_0x9b3cfe(0x1d7)]();let _0x8b0499=[];if(_0x32592a[_0x9b3cfe(0x13a)+'e']()===_0x9b3cfe(0x162))_0x8b0499=await _0x60f4a4['getUniqueJ'+_0x9b3cfe(0x147)]();else{const _0x4df497=await _0x60f4a4['resolveNam'+'e'](_0x32592a);if(_0x4df497)_0x8b0499=[_0x4df497];else{if(_0x32592a[_0x9b3cfe(0x19c)]('@'))_0x8b0499=[_0x60f4a4[_0x9b3cfe(0x14b)+'oUserJid'](_0x32592a)];else{await sendText(_0x294755,'Unknown\x20gp'+_0x9b3cfe(0x133)+_0x32592a);return;}}}let _0x4e6cea=0x237f+0x2410+-0x478f;for(const _0x4bb7ab of _0x8b0499)_0x4e6cea+=await deleteLeaveFromDb(_0x4bb7ab)||0x1*-0x2015+-0x165d+-0xca*-0x45;await sendText(_0x294755,_0x9b3cfe(0x1b0)+_0x4e6cea+'/'+_0x8b0499['length']+(_0x9b3cfe(0x1b3)+_0x9b3cfe(0x16d)));return;}const _0x48427f=await isadmin(botRef,_0x54a711)[_0x9b3cfe(0x137)](()=>![]);if(!_0x48427f)return;const _0x2f347d=String((_0x1c74a4||'')['split']('@')[-0x716+0x735*-0x1+0xe4b]||''),_0x59af62=await getDefault(_0x2f347d)['catch'](()=>null);if(!_0x59af62){await sendText(_0x22be0a,_0x9b3cfe(0x142)+_0x9b3cfe(0x159)+'n');return;}const _0x516567=Array['isArray'](_0x59af62)?_0x59af62:[_0x59af62],_0x25798d=[];for(const _0x2576d6 of _0x516567){const _0xfaa535=await getConnection(_0x2576d6)[_0x9b3cfe(0x137)](()=>null);if(Array[_0x9b3cfe(0x195)](_0xfaa535))_0x25798d[_0x9b3cfe(0x150)](..._0xfaa535);else{if(_0xfaa535)_0x25798d[_0x9b3cfe(0x150)](_0xfaa535);}}let _0x48d928=-0x9*0x3d+-0x13e5+0x160a;for(const _0x265c45 of _0x25798d)_0x48d928+=await deleteLeaveFromDb(_0x265c45)||0x23fb+0x1d35+-0x4130;await sendText(_0x22be0a,_0x9b3cfe(0x1b0)+_0x48d928+'/'+_0x25798d['length']+(_0x9b3cfe(0x1b3)+_0x9b3cfe(0x16d)));return;}const {sub:_0x2f69eb,after:_0x52423d}=findLvcSubcommand(_0x19de77);if(!_0x2f69eb)return;if(!_0xdb41bc){const _0x27a291=Boolean(_0x54a711[_0x9b3cfe(0x14a)]?.['fromMe']);let _0x480a36=null;if(_0x27a291)_0x480a36=getBotJid();else{let _0x3b5434=![];try{_0x3b5434=await isSudo(botRef,_0x54a711);}catch(_0x2a1bdf){_0x3b5434=![];}if(!_0x3b5434)return;const _0x2dc422=userJidFromCtx(_0x54a711)||{'findings':[]},_0x423171=await findStoredMatchFromFindings(_0x2dc422['findings']||[]);if(!_0x423171)return;_0x480a36=_0x423171;}if(!_0x480a36)return;if(_0x2f69eb==='on'||_0x2f69eb===_0x9b3cfe(0x18c)){const _0x128d2d=_0x19de77[_0x9b3cfe(0x182)](/\bgp[:\s]+(\S+)/i);if(!_0x128d2d){await sendText(_0x480a36,_0x9b3cfe(0x1af)+_0x9b3cfe(0x1c7)+_0x9b3cfe(0x199));return;}const _0x453b8e=_0x128d2d[0x9d4+-0xcd9*0x2+-0xfdf*-0x1][_0x9b3cfe(0x1d7)]();let _0x196986=[];if(_0x453b8e['toLowerCas'+'e']()===_0x9b3cfe(0x162))_0x196986=await _0x60f4a4['getUniqueJ'+_0x9b3cfe(0x147)]();else{const _0x49410a=await _0x60f4a4[_0x9b3cfe(0x188)+'e'](_0x453b8e);if(_0x49410a)_0x196986=[_0x49410a];else{if(_0x453b8e[_0x9b3cfe(0x19c)]('@'))_0x196986=[_0x60f4a4[_0x9b3cfe(0x14b)+'oUserJid'](_0x453b8e)];else{await sendText(_0x480a36,_0x9b3cfe(0x1c8)+_0x9b3cfe(0x133)+_0x453b8e);return;}}}const _0x5053b6=_0x2f69eb==='on';let _0x57a0a2=-0x209*0x11+0x22*0xe7+0x3eb;for(const _0x1a956d of _0x196986){const _0x2f40bb=await getLeaveFromDb(_0x1a956d);if(!_0x2f40bb)continue;if(await setLeaveEnabled(_0x1a956d,_0x5053b6))_0x57a0a2++;}await sendText(_0x480a36,_0x9b3cfe(0x166)+(_0x5053b6?_0x9b3cfe(0x18e):_0x9b3cfe(0x18b))+_0x9b3cfe(0x17b)+_0x57a0a2+'/'+_0x196986[_0x9b3cfe(0x1c6)]);return;}if(_0x2f69eb===_0x9b3cfe(0x12d)){const _0x2c72b5=_0x19de77[_0x9b3cfe(0x182)](/\bgp[:\s]+(\S+)/i);if(!_0x2c72b5){await sendText(_0x480a36,_0x9b3cfe(0x1af)+_0x9b3cfe(0x1c7)+'s|jid|all>');return;}const _0x36759b=_0x2c72b5[-0xb88+0xba7+0x1*-0x1e][_0x9b3cfe(0x1d7)]();let _0x107856=[];if(_0x36759b[_0x9b3cfe(0x13a)+'e']()===_0x9b3cfe(0x162))_0x107856=await _0x60f4a4['getUniqueJ'+_0x9b3cfe(0x147)]();else{const _0x250ae3=await _0x60f4a4[_0x9b3cfe(0x188)+'e'](_0x36759b);if(_0x250ae3)_0x107856=[_0x250ae3];else{if(_0x36759b[_0x9b3cfe(0x19c)]('@'))_0x107856=[_0x60f4a4[_0x9b3cfe(0x14b)+'oUserJid'](_0x36759b)];else{await sendText(_0x480a36,_0x9b3cfe(0x1c8)+'\x20alias:\x20'+_0x36759b);return;}}}let _0x5b5033=_0x52423d['trim']();_0x5b5033=_0x5b5033[_0x9b3cfe(0x1c0)](/\r?\n/)[_0x9b3cfe(0x13b)](_0x25a2f2=>!/^gp[:\s]/i[_0x9b3cfe(0x16e)](_0x25a2f2))[_0x9b3cfe(0x15f)]('\x0a')[_0x9b3cfe(0x1d7)]();if(!_0x5b5033){await sendText(_0x480a36,_0x9b3cfe(0x194)+_0x9b3cfe(0x173)+'dy');return;}let _0x5a7c2c=0x1*0xeae+-0x91*0xd+-0x751;for(const _0x5c7ed8 of _0x107856)if(await saveLeaveToDb(_0x5c7ed8,_0x5b5033,-0x439*0x1+0x13e*-0x10+0x181a))_0x5a7c2c++;await sendText(_0x480a36,_0x9b3cfe(0x16c)+_0x5a7c2c+'/'+_0x107856[_0x9b3cfe(0x1c6)]);return;}return;}if(_0xdb41bc){const _0x3a519c=await isadmin(botRef,_0x54a711)[_0x9b3cfe(0x137)](()=>![]);if(!_0x3a519c)return;const _0x5e7b11=String((_0x1c74a4||'')[_0x9b3cfe(0x1c0)]('@')[-0x1d52+-0x1*0x9ef+0x2741]||''),_0x2f6ef4=await getDefault(_0x5e7b11)[_0x9b3cfe(0x137)](()=>null);if(!_0x2f6ef4){await sendText(_0x22be0a,_0x9b3cfe(0x142)+'\x20connectio'+'n');return;}const _0x490a31=Array['isArray'](_0x2f6ef4)?_0x2f6ef4:[_0x2f6ef4],_0x3684ed=[];for(const _0x165c74 of _0x490a31){const _0x5ebc8d=await getConnection(_0x165c74)['catch'](()=>null);if(Array['isArray'](_0x5ebc8d))_0x3684ed[_0x9b3cfe(0x150)](..._0x5ebc8d);else{if(_0x5ebc8d)_0x3684ed[_0x9b3cfe(0x150)](_0x5ebc8d);}}if(!_0x3684ed[_0x9b3cfe(0x1c6)]){await sendText(_0x22be0a,_0x9b3cfe(0x1ca)+'resolve\x20de'+'fault\x20conn'+_0x9b3cfe(0x1cb));return;}if(_0x2f69eb==='on'||_0x2f69eb===_0x9b3cfe(0x18c)){const _0x4ee542=_0x2f69eb==='on';let _0x23dfcb=-0x156a+0xd38+-0x419*-0x2;for(const _0x379713 of _0x3684ed){const _0x5f38d1=await getLeaveFromDb(_0x379713);if(!_0x5f38d1)continue;if(await setLeaveEnabled(_0x379713,_0x4ee542))_0x23dfcb++;}await sendText(_0x22be0a,'✅\x20Leave\x20'+(_0x4ee542?'enabled':_0x9b3cfe(0x18b))+_0x9b3cfe(0x17b)+_0x23dfcb+'/'+_0x3684ed['length']);return;}if(_0x2f69eb===_0x9b3cfe(0x12d)){const _0x55e59d=_0x52423d[_0x9b3cfe(0x1d7)]();if(!_0x55e59d){await sendText(_0x22be0a,_0x9b3cfe(0x129)+'age\x20body');return;}let _0x556bb1=-0x1025+0x978+0x6ad*0x1;for(const _0x163f38 of _0x3684ed)if(await saveLeaveToDb(_0x163f38,_0x55e59d,0x807*-0x1+-0xc91*-0x1+0x183*-0x3))_0x556bb1++;await sendText(_0x22be0a,_0x9b3cfe(0x16c)+_0x556bb1+'/'+_0x3684ed['length']);return;}}}catch(_0x7f9ec9){error(_0x7f9ec9,_0x9b3cfe(0x185)+_0x9b3cfe(0x168)+_0x9b3cfe(0x1a3)+(_0x7f9ec9?.['message']||_0x7f9ec9));}}export async function initialize(_0x262f22){const _0x1742e8=_0x3df5f2;if(!_0x262f22)throw new Error(_0x1742e8(0x1bb)+'itialize\x20r'+_0x1742e8(0x1dc)+'t\x20instance');botRef=_0x262f22,setupSendApi(),await ensureSchema(),botRef['on'](_0x1742e8(0x1c5)+'leave',handleVoluntaryLeave),info(_0x1742e8(0x1bb)+_0x1742e8(0x1b4)+'and\x20attach'+_0x1742e8(0x1be)+_0x1742e8(0x1ce)+'e\x20event.');}export async function cleanup(){const _0x27890e=_0x3df5f2;try{botRef&&typeof botRef[_0x27890e(0x18a)+_0x27890e(0x16b)]===_0x27890e(0x174)&&botRef[_0x27890e(0x18a)+_0x27890e(0x16b)](_0x27890e(0x1c5)+_0x27890e(0x1b9),handleVoluntaryLeave);}catch(_0x42c8e2){error(_0x42c8e2,'[leave]\x20cl'+_0x27890e(0x1d5)+_0x27890e(0x157)+(_0x42c8e2?.[_0x27890e(0x164)]||_0x42c8e2));}finally{processedIds['clear'](),botRef=null,sendApi=null,info('[leave]\x20cl'+_0x27890e(0x18f));}}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};