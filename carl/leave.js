const _0x1d6a6b=_0x5823;(function(_0x49c1d3,_0x4f533f){const _0x48777a=_0x5823,_0x4ca7a8=_0x49c1d3();while(!![]){try{const _0x557d1f=-parseInt(_0x48777a(0x1b8))/(-0x194*0x1+-0x3*-0x62a+-0x10e9)*(parseInt(_0x48777a(0x22c))/(-0x1107*-0x1+-0x7c0+-0x945))+-parseInt(_0x48777a(0x1bb))/(0x2*0x419+0x17b*0x4+-0xe1b)+-parseInt(_0x48777a(0x223))/(-0xea+-0xa*0x389+0x2448)+-parseInt(_0x48777a(0x1f5))/(0x1122+0x808+0x1*-0x1925)*(-parseInt(_0x48777a(0x20f))/(0x12a6+-0x2164+0xec4))+-parseInt(_0x48777a(0x1aa))/(-0x7*-0x469+0x27f*0x7+-0x3051)+parseInt(_0x48777a(0x20a))/(-0xe88+0x264+0xc2c)*(-parseInt(_0x48777a(0x22e))/(0x7*-0x43a+0x1*0x2702+-0x963))+parseInt(_0x48777a(0x20e))/(0x1*-0x1922+-0x13d6+0x2d02);if(_0x557d1f===_0x4f533f)break;else _0x4ca7a8['push'](_0x4ca7a8['shift']());}catch(_0x47c271){_0x4ca7a8['push'](_0x4ca7a8['shift']());}}}(_0x30c2,-0x137*0x1453+0x72945+-0x1*-0x1de75c));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import{getBotJid}from'../utils/bot-state.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import*as _0x3be956 from'../utils/groups.js';export const name=_0x1d6a6b(0x228);export const version=_0x1d6a6b(0x200);export const priority=-0x20fc*-0x1+-0x177a+0x1*-0x946;export const commands=[_0x1d6a6b(0x1f8),'dellvc'];let botRef=null,sendApi=null;const processedIds=new Set();function shortLocalFromJid(_0x3cf668){const _0x39f108=_0x1d6a6b;try{return String(_0x3cf668||'')[_0x39f108(0x20d)]('@')[-0xc56*0x1+-0x1*-0xf8d+-0x337];}catch{return _0x3cf668;}}function eventUniqueId(_0x321c6a){const _0xc3bec8=_0x1d6a6b;if(!_0x321c6a)return null;if(_0x321c6a['id'])return String(_0x321c6a['id']);return String(_0x321c6a[_0xc3bec8(0x1df)]||_0x321c6a[_0xc3bec8(0x206)]||_0xc3bec8(0x1f4))+':'+String(_0x321c6a[_0xc3bec8(0x211)+_0xc3bec8(0x1bd)]||_0x321c6a[_0xc3bec8(0x211)+'t']||_0xc3bec8(0x210))+':'+String(_0x321c6a[_0xc3bec8(0x1de)]||_0x321c6a['ts']||Date[_0xc3bec8(0x227)]());}function _0x5823(_0x2d0dba,_0x7b0fe9){_0x2d0dba=_0x2d0dba-(0x786*-0x5+-0x14e*0xd+0x3829);const _0x49d0f5=_0x30c2();let _0x57f273=_0x49d0f5[_0x2d0dba];return _0x57f273;}function trimProcessedSet(){const _0x4a4b4c=_0x1d6a6b;if(processedIds[_0x4a4b4c(0x1dd)]>-0x2f*0xa7+0x1*0x3e5+0xb93*0x4){const _0xa58c15=Array[_0x4a4b4c(0x219)](processedIds);processedIds[_0x4a4b4c(0x1d8)]();for(const _0x3fbbb2 of _0xa58c15['slice'](-(-0x211b*-0x1+-0x5*0x6f2+0xd57)))processedIds['add'](_0x3fbbb2);}}async function ensureSchema(){const _0x44be5d=_0x1d6a6b;await db[_0x44be5d(0x1c4)](_0x44be5d(0x195)+_0x44be5d(0x1c7)+'\x20NOT\x20EXIST'+_0x44be5d(0x1b4)+_0x44be5d(0x1f6)+'up_jid\x20TEX'+_0x44be5d(0x1f2)+_0x44be5d(0x1a3)+_0x44be5d(0x214)+_0x44be5d(0x1e9)+_0x44be5d(0x1a7)+'\x20\x20enabled\x20'+_0x44be5d(0x1ea)+_0x44be5d(0x21d)+_0x44be5d(0x232)+_0x44be5d(0x198)+_0x44be5d(0x23a)+'ULT\x200\x0a\x20\x20\x20\x20'+_0x44be5d(0x1fd)),info(_0x44be5d(0x1ae)+_0x44be5d(0x1ab)+'sured');}async function saveLeaveToDb(_0x199b66,_0x14a8ab,_0x4f6e92=-0x2484+-0x1*-0x876+-0x7e*-0x39){const _0x3d4d15=_0x1d6a6b;try{const _0x22c163=Math[_0x3d4d15(0x1ac)](Date[_0x3d4d15(0x227)]()/(-0x1188+0xa47*0x1+0xb29));return await db['run'](_0x3d4d15(0x1c6)+_0x3d4d15(0x234)+'group_jid,'+'\x20message,\x20'+_0x3d4d15(0x21f)+_0x3d4d15(0x22d)+_0x3d4d15(0x213)+_0x3d4d15(0x1fa)+_0x3d4d15(0x1ca)+_0x3d4d15(0x241)+'NFLICT(gro'+'up_jid)\x20DO'+'\x20UPDATE\x20SE'+_0x3d4d15(0x1f7)+'\x20message\x20='+_0x3d4d15(0x1ba)+_0x3d4d15(0x222)+'\x20\x20\x20\x20\x20\x20\x20\x20en'+'abled\x20=\x20ex'+_0x3d4d15(0x1d1)+_0x3d4d15(0x209)+_0x3d4d15(0x233)+'ed_at\x20=\x20ex'+_0x3d4d15(0x1d7)+'ated_at;',[_0x199b66,String(_0x14a8ab||''),Number(_0x4f6e92?0x2710+-0x185b*0x1+0x2*-0x75a:-0x445*-0x1+0x33c+-0x781),_0x22c163]),!![];}catch(_0x584060){return warn(_0x3d4d15(0x239)+_0x3d4d15(0x216)+_0x3d4d15(0x229)+_0x3d4d15(0x1c8)+_0x199b66+':\x20'+(_0x584060?.[_0x3d4d15(0x1e0)]||_0x584060)),![];}}function _0x30c2(){const _0x4e5413=['voluntary.','includes','index','\x20for\x20leavi','all','cluded.upd','clear','Could\x20not\x20','for\x20','action','[leave]\x20in','size','timestamp','groupId','message','isCommand','endsWith','tchFromFin','d\x20=\x20?','changes','filter','trim','HERE\x20group','\x20TEXT\x20NOT\x20','\x20\x20INTEGER\x20','map','s|jid|all>','function','normalizeT','sage,\x20enab','oUserJid','nt\x20DM\x20to\x20','T\x20PRIMARY\x20','✅\x20Deleted\x20','nogroup','45MuCHLm','\x0a\x20\x20\x20\x20\x20\x20gro','T\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lvc','led\x20failed','LUES\x20(?,\x20?','groupMetad','ntary.leav',');\x0a\x20\x20','add','eanup\x20erro','5.0.0','jid','resolve\x20de','run','ndApi\x20not\x20','ata','group','\x20for\x20','\x20connectio','bled,\x0a\x20\x20\x20\x20','8kyeDAe','ndStoredMa','romDb\x20fail','split','29980750cjohZE','174630eSFzbI','nopart','participan','available','\x0a\x20\x20\x20\x20\x20\x20\x20VA','\x20message\x20\x20','ries.','veLeaveToD','match','aryLeave\x20e','from','age\x20body','equires\x20bo','\x20group\x20ent','DEFAULT\x200,','e\x20gp:<alia','enabled,\x20u','getUniqueJ','removeList','message,\x0a\x20','344300GkkWRR','test','dings\x20erro','ves\x20SET\x20en','now','leave','b\x20failed\x20f','remove','ndApi\x20fail','66922IoOZMJ','pdated_at)','1670031qzowas','enabled','replace','t\x20=\x20?\x20WHER','\x0a\x20\x20\x20\x20\x20\x20upd','\x20\x20\x20\x20\x20updat','O\x20leaves\x20(','✅\x20Saved\x20','subject','[leave]\x20se','isArray','[leave]\x20sa','TEGER\x20DEFA','@g.us','join','off','get','[leave]\x20fi','ng\x20','\x20\x20\x20\x20\x20ON\x20CO','\x20alias:\x20','sender','\x0a\x20\x20\x20\x20CREAT','push','e\x20event.','ated_at\x20IN','findings','[leave]\x20de','string','slice','ed\x20to\x20volu','SELECT\x20mes','key','object','[leave]\x20ha','[leave]\x20cl','KEY,\x0a\x20\x20\x20\x20\x20','Message\x20er','sock','PM:\x20includ','NULL,\x0a\x20\x20\x20\x20','itialize\x20r','fault\x20conn','9899785jgEsfv','\x20schema\x20en','floor','fromMe','[leave]\x20DB','Unknown\x20gp','ror:\x20','message\x20bo','ids','[leave]\x20ge','S\x20leaves\x20(','and\x20attach','Db\x20failed\x20','disabled','8rLftHe','r:\x20','\x20excluded.','1486461fccxym','abled\x20=\x20?,','t_pn','catch','remoteJid','E\x20group_ji','ections','eaned\x20up.','UPDATE\x20lea','exec','the\x20group','INSERT\x20INT','E\x20TABLE\x20IF','or\x20','toLowerCas',',\x20?,\x20?)\x0a\x20\x20','length','ndleVolunt','resolveNam','sendMessag','has','✅\x20Leave\x20','cluded.ena'];_0x30c2=function(){return _0x4e5413;};return _0x30c2();}async function deleteLeaveFromDb(_0x12bf8f){const _0x52f644=_0x1d6a6b;try{const _0x3f8538=await db['run']('DELETE\x20FRO'+'M\x20leaves\x20W'+_0x52f644(0x1e8)+'_jid\x20=\x20?',[_0x12bf8f]);return _0x3f8538?.['changes']||-0x1ba0+-0x1e24+0x1*0x39c4;}catch(_0x6f23e3){return warn(_0x52f644(0x19a)+'leteLeaveF'+_0x52f644(0x20c)+'ed\x20for\x20'+_0x12bf8f+':\x20'+(_0x6f23e3?.[_0x52f644(0x1e0)]||_0x6f23e3)),0x2e3+0x1db4+0x67*-0x51;}}async function getLeaveFromDb(_0x4e187a){const _0x1890d0=_0x1d6a6b;try{const _0x3d3fe2=await db[_0x1890d0(0x23e)](_0x1890d0(0x19e)+_0x1890d0(0x1ef)+'led\x20FROM\x20l'+'eaves\x20WHER'+'E\x20group_ji'+_0x1890d0(0x1e4),[_0x4e187a]);if(!_0x3d3fe2)return null;return{'message':_0x3d3fe2[_0x1890d0(0x1e0)],'enabled':Number(_0x3d3fe2[_0x1890d0(0x22f)]||-0x1*-0x251d+-0x268a+0x16d)===-0x4*-0x917+-0x19b2+-0xaa9};}catch(_0x1fc45f){return warn(_0x1890d0(0x1b3)+'tLeaveFrom'+_0x1890d0(0x1b6)+_0x1890d0(0x1da)+_0x4e187a+':\x20'+(_0x1fc45f?.[_0x1890d0(0x1e0)]||_0x1fc45f)),null;}}async function setLeaveEnabled(_0x5dad40,_0x4b7e42){const _0x4cfd8a=_0x1d6a6b;try{const _0x5ebfc7=Math[_0x4cfd8a(0x1ac)](Date[_0x4cfd8a(0x227)]()/(0x7f4*0x2+0xd77+-0x1977)),_0x54a45a=await db[_0x4cfd8a(0x203)](_0x4cfd8a(0x1c3)+_0x4cfd8a(0x226)+_0x4cfd8a(0x1bc)+'\x20updated_a'+_0x4cfd8a(0x231)+_0x4cfd8a(0x1c0)+_0x4cfd8a(0x1e4),[Number(_0x4b7e42?-0x83b+-0x3f1*0x4+0x1800:0x1*-0x851+-0x4*-0x821+0xf*-0x19d),_0x5ebfc7,_0x5dad40]);return!!_0x54a45a?.[_0x4cfd8a(0x1e5)];}catch(_0x1ef3b5){return warn(_0x4cfd8a(0x237)+'tLeaveEnab'+_0x4cfd8a(0x1f9)+_0x4cfd8a(0x207)+_0x5dad40+':\x20'+(_0x1ef3b5?.[_0x4cfd8a(0x1e0)]||_0x1ef3b5)),![];}}function setupSendApi(){const _0x3fddc5=_0x1d6a6b;if(!botRef)return;if(typeof botRef[_0x3fddc5(0x1ce)+'e']===_0x3fddc5(0x1ed))sendApi=async(_0x347278,_0x2e7fc2)=>await botRef['sendMessag'+'e'](_0x347278,_0x2e7fc2);else{if(botRef['sock']&&typeof botRef[_0x3fddc5(0x1a5)]['sendMessag'+'e']===_0x3fddc5(0x1ed))sendApi=async(_0x2e536f,_0x492360)=>await botRef[_0x3fddc5(0x1a5)][_0x3fddc5(0x1ce)+'e'](_0x2e536f,_0x492360);else sendApi=null;}}async function sendText(_0x541fb2,_0x24aa99,_0xe4d7c3=[]){const _0x5ec12f=_0x1d6a6b;try{if(!_0x541fb2)return null;if(!sendApi)return warn(_0x5ec12f(0x237)+_0x5ec12f(0x204)+_0x5ec12f(0x212)),null;let _0x496117=typeof _0x24aa99===_0x5ec12f(0x19b)?{'text':String(_0x24aa99)}:{..._0x24aa99||{}};if(Array['isArray'](_0xe4d7c3)&&_0xe4d7c3[_0x5ec12f(0x1cb)])_0x496117['mentions']=_0xe4d7c3;return await sendApi(_0x541fb2,_0x496117);}catch(_0x500e40){return warn('[leave]\x20se'+_0x5ec12f(0x22b)+'ed\x20to\x20'+_0x541fb2+':\x20'+(_0x500e40?.[_0x5ec12f(0x1e0)]||_0x500e40)),null;}}async function findStoredMatchFromFindings(_0x5bbd00=[]){const _0xebf8e8=_0x1d6a6b;try{const _0x1a2957=await listSudo();if(!Array['isArray'](_0x1a2957)||_0x1a2957['length']===-0x1f07+0x7ae*-0x5+0x456d*0x1)return null;const _0x26af20=new Set(_0x1a2957[_0xebf8e8(0x1eb)](String));for(const _0x239e34 of _0x5bbd00||[]){if(!_0x239e34||typeof _0x239e34[_0xebf8e8(0x201)]!==_0xebf8e8(0x19b))continue;const _0x24b526=normalizeToJid?normalizeToJid(_0x239e34[_0xebf8e8(0x201)]):_0x239e34[_0xebf8e8(0x201)];if(_0x24b526&&_0x26af20[_0xebf8e8(0x1cf)](_0x24b526))return _0x24b526;if(_0x26af20['has'](_0x239e34['jid']))return _0x239e34[_0xebf8e8(0x201)];const _0x2f2e08=String(_0x239e34[_0xebf8e8(0x201)])[_0xebf8e8(0x20d)]('@')[0x1609+-0x1*0x1859+-0x94*-0x4]['split'](':')[-0x1*0xfb6+0x2456+-0x3*0x6e0];if(_0x2f2e08)for(const _0x562fdd of _0x1a2957){const _0x2a36f4=String(_0x562fdd)['split']('@')[0x2291+-0x1*-0x2401+-0x4692];if(_0x2a36f4&&_0x2a36f4===_0x2f2e08)return _0x562fdd;}}return null;}catch(_0x25cb85){return warn(_0xebf8e8(0x23f)+_0xebf8e8(0x20b)+_0xebf8e8(0x1e3)+_0xebf8e8(0x225)+_0xebf8e8(0x1b9)+(_0x25cb85?.[_0xebf8e8(0x1e0)]||_0x25cb85)),null;}}async function handleVoluntaryLeave(_0x43eff9){const _0x3a7bfe=_0x1d6a6b;try{if(!_0x43eff9||typeof _0x43eff9!==_0x3a7bfe(0x1a0))return;const _0x1f166d=_0x43eff9[_0x3a7bfe(0x1db)]===_0x3a7bfe(0x22a),_0x39a682=String(_0x43eff9['type']||'')[_0x3a7bfe(0x1c9)+'e']()[_0x3a7bfe(0x1d3)]('leave');if(!_0x1f166d&&!_0x39a682)return;const _0xbc19a7=_0x43eff9[_0x3a7bfe(0x211)+_0x3a7bfe(0x1bd)]||_0x43eff9[_0x3a7bfe(0x211)+'t'],_0x165c63=_0x43eff9[_0x3a7bfe(0x1df)]||_0x43eff9[_0x3a7bfe(0x206)];if(!_0xbc19a7||!_0x165c63)return;const _0x40eafd=eventUniqueId(_0x43eff9);if(!_0x40eafd)return;if(processedIds[_0x3a7bfe(0x1cf)](_0x40eafd))return;processedIds['add'](_0x40eafd),trimProcessedSet();const _0x21372c=getBotJid?getBotJid():null;if(_0x21372c&&String(_0xbc19a7)===String(_0x21372c))return;const _0x3e11a3=await getLeaveFromDb(_0x165c63);if(!_0x3e11a3||!_0x3e11a3[_0x3a7bfe(0x22f)]||!_0x3e11a3['message'])return;let _0x3ae2b1=_0x3a7bfe(0x1c5);try{if(botRef&&botRef[_0x3a7bfe(0x1a5)]&&typeof botRef[_0x3a7bfe(0x1a5)][_0x3a7bfe(0x1fb)+_0x3a7bfe(0x205)]==='function'){const _0x28b5b0=await botRef[_0x3a7bfe(0x1a5)]['groupMetad'+'ata'](_0x165c63)[_0x3a7bfe(0x1be)](()=>null);if(_0x28b5b0&&_0x28b5b0['subject'])_0x3ae2b1=_0x28b5b0[_0x3a7bfe(0x236)];}}catch(_0x21330a){}const _0x1398d1=String(_0x3e11a3[_0x3a7bfe(0x1e0)]||'')[_0x3a7bfe(0x230)](/\{group\}/g,_0x3ae2b1)[_0x3a7bfe(0x230)](/\{user\}/g,'@'+shortLocalFromJid(_0xbc19a7));await sendText(_0xbc19a7,_0x1398d1,[_0xbc19a7]),info('[leave]\x20se'+_0x3a7bfe(0x1f1)+_0xbc19a7+(_0x3a7bfe(0x1d5)+_0x3a7bfe(0x240))+_0x165c63);}catch(_0x2e92db){error(_0x2e92db,_0x3a7bfe(0x1a1)+_0x3a7bfe(0x1cc)+_0x3a7bfe(0x218)+'rror:\x20'+(_0x2e92db?.[_0x3a7bfe(0x1e0)]||_0x2e92db));}}function findLvcSubcommand(_0x3cdb3c){const _0x4c9d00=_0x1d6a6b,_0x1cb841=String(_0x3cdb3c||''),_0x58a801=_0x1cb841[_0x4c9d00(0x217)](/\blvc\s+([^\s\r\n]+)/i);if(!_0x58a801)return{'sub':null,'after':''};const _0xb640b9=_0x58a801[-0x1ca5+0x907+-0x1*-0x139f][_0x4c9d00(0x1c9)+'e'](),_0x2f248d=_0x1cb841[_0x4c9d00(0x19c)](_0x58a801[_0x4c9d00(0x1d4)]+_0x58a801[0x169*-0x8+0x93b*-0x2+0x1dbe]['length'])[_0x4c9d00(0x230)](/^[\s:\-]*/,'');return{'sub':_0xb640b9,'after':_0x2f248d};}export async function onMessage(_0x5a1ede){const _0x4ea9ac=_0x1d6a6b;try{if(!_0x5a1ede||!_0x5a1ede[_0x4ea9ac(0x1e1)])return;const _0x3135eb=_0x5a1ede[_0x4ea9ac(0x19f)]?.[_0x4ea9ac(0x1bf)]||_0x5a1ede[_0x4ea9ac(0x1bf)]||'',_0x420854=typeof _0x3135eb===_0x4ea9ac(0x19b)&&_0x3135eb[_0x4ea9ac(0x1e2)](_0x4ea9ac(0x23b)),_0xf02b04=_0x5a1ede[_0x4ea9ac(0x19f)]?.['participan'+'t']||_0x5a1ede['key']?.[_0x4ea9ac(0x219)]||_0x5a1ede[_0x4ea9ac(0x243)]||'',_0x44cc96=(_0x5a1ede['text']||'')[_0x4ea9ac(0x230)](/\r/g,'');if(!(/\blvc\b/i[_0x4ea9ac(0x224)](_0x44cc96)||/\bdellvc\b/i[_0x4ea9ac(0x224)](_0x44cc96)))return;if(/\bdellvc\b/i[_0x4ea9ac(0x224)](_0x44cc96)){if(!_0x420854){const _0x187ca1=Boolean(_0x5a1ede['key']?.[_0x4ea9ac(0x1ad)]);let _0xc1359f=null;if(_0x187ca1)_0xc1359f=getBotJid();else{let _0x311267=![];try{_0x311267=await isSudo(botRef,_0x5a1ede);}catch(_0x3c700e){_0x311267=![];}if(!_0x311267)return;const _0x56cb13=userJidFromCtx(_0x5a1ede)||{'findings':[]},_0x51d2a1=await findStoredMatchFromFindings(_0x56cb13['findings']||[]);if(!_0x51d2a1)return;_0xc1359f=_0x51d2a1;}const _0x531fd6=_0x44cc96[_0x4ea9ac(0x217)](/\bgp[:\s]+(\S+)/i);if(!_0x531fd6){await sendText(_0xc1359f,'PM:\x20includ'+_0x4ea9ac(0x21e)+_0x4ea9ac(0x1ec));return;}const _0x4df358=_0x531fd6[-0x184c+0x22b7*0x1+-0x2b*0x3e]['trim']();let _0x209dd1=[];if(_0x4df358['toLowerCas'+'e']()===_0x4ea9ac(0x1d6))_0x209dd1=await _0x3be956[_0x4ea9ac(0x220)+_0x4ea9ac(0x1b2)]();else{const _0x1e341d=await _0x3be956[_0x4ea9ac(0x1cd)+'e'](_0x4df358);if(_0x1e341d)_0x209dd1=[_0x1e341d];else{if(_0x4df358[_0x4ea9ac(0x1d3)]('@'))_0x209dd1=[_0x3be956[_0x4ea9ac(0x1ee)+_0x4ea9ac(0x1f0)](_0x4df358)];else{await sendText(_0xc1359f,_0x4ea9ac(0x1af)+'\x20alias:\x20'+_0x4df358);return;}}}let _0x4f1bdc=-0xc9d+0x12ad+0x308*-0x2;for(const _0x5ce6dd of _0x209dd1)_0x4f1bdc+=await deleteLeaveFromDb(_0x5ce6dd)||-0xb*0x59+-0x1a3e+0x2b*0xb3;await sendText(_0xc1359f,_0x4ea9ac(0x1f3)+_0x4f1bdc+'/'+_0x209dd1[_0x4ea9ac(0x1cb)]+(_0x4ea9ac(0x21c)+_0x4ea9ac(0x215)));return;}const _0x2b76c2=await isadmin(botRef,_0x5a1ede)[_0x4ea9ac(0x1be)](()=>![]);if(!_0x2b76c2)return;const _0x5c85bf=String((_0xf02b04||'')[_0x4ea9ac(0x20d)]('@')[0x1*0xc3f+-0x1c67*0x1+-0x814*-0x2]||''),_0x1c388c=await getDefault(_0x5c85bf)[_0x4ea9ac(0x1be)](()=>null);if(!_0x1c388c){await sendText(_0x3135eb,'No\x20default'+_0x4ea9ac(0x208)+'n');return;}const _0x18b1ed=Array[_0x4ea9ac(0x238)](_0x1c388c)?_0x1c388c:[_0x1c388c],_0x30192b=[];for(const _0x4fdd07 of _0x18b1ed){const _0x53c993=await getConnection(_0x4fdd07)[_0x4ea9ac(0x1be)](()=>null);if(Array[_0x4ea9ac(0x238)](_0x53c993))_0x30192b[_0x4ea9ac(0x196)](..._0x53c993);else{if(_0x53c993)_0x30192b[_0x4ea9ac(0x196)](_0x53c993);}}let _0x523412=0x2*-0x35f+-0x155b+0x1c19;for(const _0x27acb5 of _0x30192b)_0x523412+=await deleteLeaveFromDb(_0x27acb5)||-0x179e+0x1*-0x1382+0x2b20;await sendText(_0x3135eb,'✅\x20Deleted\x20'+_0x523412+'/'+_0x30192b['length']+('\x20group\x20ent'+_0x4ea9ac(0x215)));return;}const {sub:_0x5a4f3b,after:_0x5b30d6}=findLvcSubcommand(_0x44cc96);if(!_0x5a4f3b)return;if(!_0x420854){const _0x37ea75=Boolean(_0x5a1ede[_0x4ea9ac(0x19f)]?.[_0x4ea9ac(0x1ad)]);let _0x509616=null;if(_0x37ea75)_0x509616=getBotJid();else{let _0x141420=![];try{_0x141420=await isSudo(botRef,_0x5a1ede);}catch(_0x7ead7d){_0x141420=![];}if(!_0x141420)return;const _0x1bc5b5=userJidFromCtx(_0x5a1ede)||{'findings':[]},_0x207077=await findStoredMatchFromFindings(_0x1bc5b5[_0x4ea9ac(0x199)]||[]);if(!_0x207077)return;_0x509616=_0x207077;}if(!_0x509616)return;if(_0x5a4f3b==='on'||_0x5a4f3b===_0x4ea9ac(0x23d)){const _0x4339b6=_0x44cc96[_0x4ea9ac(0x217)](/\bgp[:\s]+(\S+)/i);if(!_0x4339b6){await sendText(_0x509616,'PM:\x20includ'+_0x4ea9ac(0x21e)+'s|jid|all>');return;}const _0x41ba18=_0x4339b6[-0x53c+-0x8b9+-0x2*-0x6fb][_0x4ea9ac(0x1e7)]();let _0x299821=[];if(_0x41ba18['toLowerCas'+'e']()==='all')_0x299821=await _0x3be956['getUniqueJ'+_0x4ea9ac(0x1b2)]();else{const _0xea6f4b=await _0x3be956['resolveNam'+'e'](_0x41ba18);if(_0xea6f4b)_0x299821=[_0xea6f4b];else{if(_0x41ba18[_0x4ea9ac(0x1d3)]('@'))_0x299821=[_0x3be956[_0x4ea9ac(0x1ee)+_0x4ea9ac(0x1f0)](_0x41ba18)];else{await sendText(_0x509616,_0x4ea9ac(0x1af)+_0x4ea9ac(0x242)+_0x41ba18);return;}}}const _0x1413ee=_0x5a4f3b==='on';let _0x4a7fbd=-0x1580+-0x68c+-0x167*-0x14;for(const _0x57175d of _0x299821){const _0x28d9bf=await getLeaveFromDb(_0x57175d);if(!_0x28d9bf)continue;if(await setLeaveEnabled(_0x57175d,_0x1413ee))_0x4a7fbd++;}await sendText(_0x509616,_0x4ea9ac(0x1d0)+(_0x1413ee?'enabled':_0x4ea9ac(0x1b7))+_0x4ea9ac(0x207)+_0x4a7fbd+'/'+_0x299821[_0x4ea9ac(0x1cb)]);return;}if(_0x5a4f3b==='add'){const _0x7d863d=_0x44cc96[_0x4ea9ac(0x217)](/\bgp[:\s]+(\S+)/i);if(!_0x7d863d){await sendText(_0x509616,_0x4ea9ac(0x1a6)+_0x4ea9ac(0x21e)+_0x4ea9ac(0x1ec));return;}const _0x24468b=_0x7d863d[0x1638+0x23a0+-0x39d7][_0x4ea9ac(0x1e7)]();let _0x2dff6c=[];if(_0x24468b['toLowerCas'+'e']()==='all')_0x2dff6c=await _0x3be956[_0x4ea9ac(0x220)+_0x4ea9ac(0x1b2)]();else{const _0x23db88=await _0x3be956['resolveNam'+'e'](_0x24468b);if(_0x23db88)_0x2dff6c=[_0x23db88];else{if(_0x24468b['includes']('@'))_0x2dff6c=[_0x3be956[_0x4ea9ac(0x1ee)+_0x4ea9ac(0x1f0)](_0x24468b)];else{await sendText(_0x509616,_0x4ea9ac(0x1af)+_0x4ea9ac(0x242)+_0x24468b);return;}}}let _0x5e5065=_0x5b30d6[_0x4ea9ac(0x1e7)]();_0x5e5065=_0x5e5065[_0x4ea9ac(0x20d)](/\r?\n/)[_0x4ea9ac(0x1e6)](_0x280bf5=>!/^gp[:\s]/i[_0x4ea9ac(0x224)](_0x280bf5))[_0x4ea9ac(0x23c)]('\x0a')[_0x4ea9ac(0x1e7)]();if(!_0x5e5065){await sendText(_0x509616,'PM:\x20empty\x20'+_0x4ea9ac(0x1b1)+'dy');return;}let _0x2d0edb=0x3bc+-0x125f+-0x4e1*-0x3;for(const _0x1600cb of _0x2dff6c)if(await saveLeaveToDb(_0x1600cb,_0x5e5065,0xacc+-0x1ee*-0x8+-0x1a3b))_0x2d0edb++;await sendText(_0x509616,_0x4ea9ac(0x235)+_0x2d0edb+'/'+_0x2dff6c[_0x4ea9ac(0x1cb)]);return;}return;}if(_0x420854){const _0x3ab3fe=await isadmin(botRef,_0x5a1ede)[_0x4ea9ac(0x1be)](()=>![]);if(!_0x3ab3fe)return;const _0x58728f=String((_0xf02b04||'')[_0x4ea9ac(0x20d)]('@')[-0x5*0x2d+0x583+-0x251*0x2]||''),_0x3c3119=await getDefault(_0x58728f)[_0x4ea9ac(0x1be)](()=>null);if(!_0x3c3119){await sendText(_0x3135eb,'No\x20default'+_0x4ea9ac(0x208)+'n');return;}const _0x30f94c=Array['isArray'](_0x3c3119)?_0x3c3119:[_0x3c3119],_0x5f392f=[];for(const _0xb19e44 of _0x30f94c){const _0x5a0db9=await getConnection(_0xb19e44)['catch'](()=>null);if(Array[_0x4ea9ac(0x238)](_0x5a0db9))_0x5f392f[_0x4ea9ac(0x196)](..._0x5a0db9);else{if(_0x5a0db9)_0x5f392f[_0x4ea9ac(0x196)](_0x5a0db9);}}if(!_0x5f392f[_0x4ea9ac(0x1cb)]){await sendText(_0x3135eb,_0x4ea9ac(0x1d9)+_0x4ea9ac(0x202)+_0x4ea9ac(0x1a9)+_0x4ea9ac(0x1c1));return;}if(_0x5a4f3b==='on'||_0x5a4f3b===_0x4ea9ac(0x23d)){const _0x1dfdbc=_0x5a4f3b==='on';let _0x306426=-0x209*-0x3+0xcd*0x1+-0x6e8;for(const _0x4a2fde of _0x5f392f){const _0x2bb287=await getLeaveFromDb(_0x4a2fde);if(!_0x2bb287)continue;if(await setLeaveEnabled(_0x4a2fde,_0x1dfdbc))_0x306426++;}await sendText(_0x3135eb,_0x4ea9ac(0x1d0)+(_0x1dfdbc?_0x4ea9ac(0x22f):'disabled')+_0x4ea9ac(0x207)+_0x306426+'/'+_0x5f392f[_0x4ea9ac(0x1cb)]);return;}if(_0x5a4f3b===_0x4ea9ac(0x1fe)){const _0x4de088=_0x5b30d6[_0x4ea9ac(0x1e7)]();if(!_0x4de088){await sendText(_0x3135eb,'Empty\x20mess'+_0x4ea9ac(0x21a));return;}let _0x5dbde1=0x1a*-0xfc+-0x1075*0x2+-0x1d41*-0x2;for(const _0x9a7107 of _0x5f392f)if(await saveLeaveToDb(_0x9a7107,_0x4de088,0x1813+0x10e8+-0x28fa))_0x5dbde1++;await sendText(_0x3135eb,_0x4ea9ac(0x235)+_0x5dbde1+'/'+_0x5f392f[_0x4ea9ac(0x1cb)]);return;}}}catch(_0x55fa13){error(_0x55fa13,'[leave]\x20on'+_0x4ea9ac(0x1a4)+_0x4ea9ac(0x1b0)+(_0x55fa13?.[_0x4ea9ac(0x1e0)]||_0x55fa13));}}export async function initialize(_0x1d30f9){const _0x386374=_0x1d6a6b;if(!_0x1d30f9)throw new Error(_0x386374(0x1dc)+_0x386374(0x1a8)+_0x386374(0x21b)+'t\x20instance');botRef=_0x1d30f9,setupSendApi(),await ensureSchema(),botRef['on'](_0x386374(0x1d2)+_0x386374(0x228),handleVoluntaryLeave),info(_0x386374(0x1dc)+'itialized\x20'+_0x386374(0x1b5)+_0x386374(0x19d)+_0x386374(0x1fc)+_0x386374(0x197));}export async function cleanup(){const _0x46aa5f=_0x1d6a6b;try{botRef&&typeof botRef[_0x46aa5f(0x221)+'ener']==='function'&&botRef[_0x46aa5f(0x221)+'ener'](_0x46aa5f(0x1d2)+'leave',handleVoluntaryLeave);}catch(_0x4f354e){error(_0x4f354e,_0x46aa5f(0x1a2)+_0x46aa5f(0x1ff)+_0x46aa5f(0x1b9)+(_0x4f354e?.[_0x46aa5f(0x1e0)]||_0x4f354e));}finally{processedIds['clear'](),botRef=null,sendApi=null,info(_0x46aa5f(0x1a2)+_0x46aa5f(0x1c2));}}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};