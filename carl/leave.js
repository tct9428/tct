const _0x5ce7cd=_0x5d98;(function(_0x167016,_0x65b9c2){const _0x53ce99=_0x5d98,_0x14f2b7=_0x167016();while(!![]){try{const _0x478d44=parseInt(_0x53ce99(0x1f3))/(-0x3*-0xb6f+0x1859*-0x1+0x351*-0x3)+parseInt(_0x53ce99(0x210))/(0x3*0x5e7+-0x1694+0x4e1)*(-parseInt(_0x53ce99(0x24c))/(-0x429+-0x180d+-0x1c39*-0x1))+-parseInt(_0x53ce99(0x21a))/(0xbdb*-0x2+-0xe*0x19f+0x2e6c)+parseInt(_0x53ce99(0x22c))/(-0x136f*0x2+-0x333+0x2a16)+-parseInt(_0x53ce99(0x278))/(0x2*-0x5ad+-0xa28+0xd*0x1a8)*(-parseInt(_0x53ce99(0x1f1))/(0x9*0x279+-0x31*0x3d+-0xa8d))+parseInt(_0x53ce99(0x22f))/(0x2*-0x9c7+0x21b0+-0xe1a)*(-parseInt(_0x53ce99(0x28e))/(-0xc9a+-0x1d63+0x2a06))+parseInt(_0x53ce99(0x21b))/(0x166*0x13+0x1fc5+-0x3a4d);if(_0x478d44===_0x65b9c2)break;else _0x14f2b7['push'](_0x14f2b7['shift']());}catch(_0x492009){_0x14f2b7['push'](_0x14f2b7['shift']());}}}(_0x3cf9,-0x1bf2ef+-0x1b01*0x65+0x34e5a9));import{info,warn,error}from'../utils/logger.js';import{db}from'../utils/database.js';import{isadmin}from'../utils/isadmin.js';import{getDefault,getConnection}from'../utils/connection.js';import{getBotJid}from'../utils/bot-state.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import*as _0x26403f from'../utils/groups.js';function _0x3cf9(){const _0x5cc349=['now','LUES\x20(?,\x20?','t\x20instance','toLowerCas','jid','index','off','[leave]\x20cl','resolveNam','led\x20FROM\x20l','or\x20','endsWith','function','catch','1348660xAyENP','[leave]\x20DB','abled\x20=\x20ex','168JnweRn','\x20\x20enabled\x20','\x20UPDATE\x20SE','[leave]\x20on','push','message,\x0a\x20','ULT\x200\x0a\x20\x20\x20\x20','veLeaveToD','NULL,\x0a\x20\x20\x20\x20','5.0.0','ections','the\x20group','✅\x20Saved\x20','Message\x20er','match','groupMetad','ves\x20SET\x20en','length','romDb\x20fail','for\x20','\x20message\x20=','size',',\x20?,\x20?)\x0a\x20\x20','isArray','dellvc','led\x20failed','ata','\x20connectio','string','57wJxXpv','rror:\x20','sender','add','tchFromFin','floor','fault\x20conn','groupId','type','t_pn','sendMessag','sage,\x20enab','changes','NFLICT(gro','E\x20group_ji','join','includes','r:\x20','ndleVolunt','No\x20default','cluded.ena','test','\x0a\x20\x20\x20\x20\x20\x20upd','get','SELECT\x20mes','\x20message\x20\x20','ndStoredMa','leteLeaveF','ated_at;','[leave]\x20fi','\x20\x20\x20\x20\x20\x20\x20\x20en','map','\x20for\x20','all','available','message','eaned\x20up.','\x20updated_a','enabled,\x20u','itialize\x20r','enabled','remove','\x20NOT\x20EXIST','\x20group\x20ent','2124JZeFsK','subject','participan','key','tLeaveEnab','up_jid\x20TEX','Unknown\x20gp','mentions','✅\x20Leave\x20','abled\x20=\x20?,',');\x0a\x20\x20','findings','has','HERE\x20group','\x20alias:\x20','filter','object','disabled','clear','Db\x20failed\x20','remoteJid','up_jid)\x20DO','648495jDruJz','ndApi\x20not\x20','slice','from','TEGER\x20DEFA','ed_at\x20=\x20ex','[leave]\x20in','Empty\x20mess','resolve\x20de','S\x20leaves\x20(','[leave]\x20se','[leave]\x20ha','exec','timestamp','bled,\x0a\x20\x20\x20\x20','action','nogroup','ener','replace','ed\x20for\x20','UPDATE\x20lea','20552qcidvB','@g.us','520173EvaQkv','isCommand','DELETE\x20FRO','run','e\x20gp:<alia','O\x20leaves\x20(','removeList','cluded.upd','ated_at\x20IN','E\x20TABLE\x20IF','sock','INSERT\x20INT','oUserJid','split','equires\x20bo','M\x20leaves\x20W','ndApi\x20fail','lvc','sured','b\x20failed\x20f','trim','s|jid|all>','_jid\x20=\x20?','[leave]\x20de','d\x20=\x20?','eanup\x20erro','voluntary.','\x20message,\x20','✅\x20Deleted\x20','34250YXqhkd','t\x20=\x20?\x20WHER','getUniqueJ','ids','e\x20event.','dings\x20erro','Could\x20not\x20','group','PM:\x20includ','\x20excluded.','5904516ebWBAD','24221990CIGQES','leave','eaves\x20WHER'];_0x3cf9=function(){return _0x5cc349;};return _0x3cf9();}export const name=_0x5ce7cd(0x21c);export const version=_0x5ce7cd(0x238);export const priority=-0xe1*-0x1b+0x4bc+-0x1c3b;export const commands=[_0x5ce7cd(0x204),_0x5ce7cd(0x247)];let botRef=null,sendApi=null;const processedIds=new Set();function shortLocalFromJid(_0x1f7448){const _0x5dad9e=_0x5ce7cd;try{return String(_0x1f7448||'')[_0x5dad9e(0x200)]('@')[0x2514+0x3*0x399+-0x2fdf];}catch{return _0x1f7448;}}function eventUniqueId(_0x3c43ef){const _0x5e1034=_0x5ce7cd;if(!_0x3c43ef)return null;if(_0x3c43ef['id'])return String(_0x3c43ef['id']);return String(_0x3c43ef[_0x5e1034(0x253)]||_0x3c43ef[_0x5e1034(0x217)]||_0x5e1034(0x1ec))+':'+String(_0x3c43ef['participan'+_0x5e1034(0x255)]||_0x3c43ef['participan'+'t']||'nopart')+':'+String(_0x3c43ef[_0x5e1034(0x1e9)]||_0x3c43ef['ts']||Date[_0x5e1034(0x21e)]());}function trimProcessedSet(){const _0x59d08b=_0x5ce7cd;if(processedIds[_0x59d08b(0x244)]>-0x10bd+-0x15f*-0x1a+0x9f){const _0xf85f58=Array[_0x59d08b(0x1df)](processedIds);processedIds[_0x59d08b(0x28a)]();for(const _0x31cc87 of _0xf85f58[_0x59d08b(0x290)](-(0x2c2*-0xa+0xd9*0x7+0x1*0x215d)))processedIds[_0x59d08b(0x24f)](_0x31cc87);}}async function ensureSchema(){const _0x4b693d=_0x5ce7cd;await db[_0x4b693d(0x1e8)]('\x0a\x20\x20\x20\x20CREAT'+_0x4b693d(0x1fc)+_0x4b693d(0x276)+_0x4b693d(0x1e5)+'\x0a\x20\x20\x20\x20\x20\x20gro'+_0x4b693d(0x27d)+'T\x20PRIMARY\x20'+'KEY,\x0a\x20\x20\x20\x20\x20'+_0x4b693d(0x265)+'\x20TEXT\x20NOT\x20'+_0x4b693d(0x237)+_0x4b693d(0x230)+'\x20\x20INTEGER\x20'+'DEFAULT\x200,'+_0x4b693d(0x262)+_0x4b693d(0x1fb)+_0x4b693d(0x1e0)+_0x4b693d(0x235)+_0x4b693d(0x282)),info(_0x4b693d(0x22d)+'\x20schema\x20en'+_0x4b693d(0x205));}async function saveLeaveToDb(_0xd0ea23,_0x5f4378,_0xb66d30=0x416+0x11bd*-0x1+-0xf*-0xe9){const _0x287e90=_0x5ce7cd;try{const _0x3467b4=Math['floor'](Date[_0x287e90(0x21e)]()/(-0x1bd0+-0x2417+0x43cf*0x1));return await db[_0x287e90(0x1f6)](_0x287e90(0x1fe)+_0x287e90(0x1f8)+'group_jid,'+_0x287e90(0x20e)+_0x287e90(0x272)+'pdated_at)'+'\x0a\x20\x20\x20\x20\x20\x20\x20VA'+_0x287e90(0x21f)+_0x287e90(0x245)+'\x20\x20\x20\x20\x20ON\x20CO'+_0x287e90(0x259)+_0x287e90(0x28d)+_0x287e90(0x231)+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x287e90(0x243)+_0x287e90(0x219)+_0x287e90(0x234)+_0x287e90(0x26a)+_0x287e90(0x22e)+_0x287e90(0x260)+_0x287e90(0x1ea)+'\x20\x20\x20\x20\x20updat'+_0x287e90(0x1e1)+_0x287e90(0x1fa)+_0x287e90(0x268),[_0xd0ea23,String(_0x5f4378||''),Number(_0xb66d30?0x192d+-0x1*-0x24bc+-0x3de8:0x33b*0xb+0x1*-0x1b81+-0x202*0x4),_0x3467b4]),!![];}catch(_0x22c42f){return warn('[leave]\x20sa'+_0x287e90(0x236)+_0x287e90(0x206)+_0x287e90(0x228)+_0xd0ea23+':\x20'+(_0x22c42f?.['message']||_0x22c42f)),![];}}async function deleteLeaveFromDb(_0x3cdc71){const _0x231496=_0x5ce7cd;try{const _0x11caa2=await db['run'](_0x231496(0x1f5)+_0x231496(0x202)+_0x231496(0x285)+_0x231496(0x209),[_0x3cdc71]);return _0x11caa2?.[_0x231496(0x258)]||-0x19*0xf1+0x1e*-0xf1+0x33c7;}catch(_0x43ae12){return warn(_0x231496(0x20a)+_0x231496(0x267)+_0x231496(0x241)+_0x231496(0x1ef)+_0x3cdc71+':\x20'+(_0x43ae12?.[_0x231496(0x26f)]||_0x43ae12)),0x18b*-0x5+0x1b7*0x3+0x292;}}async function getLeaveFromDb(_0x3bca36){const _0x34ab=_0x5ce7cd;try{const _0x295a29=await db[_0x34ab(0x263)](_0x34ab(0x264)+_0x34ab(0x257)+_0x34ab(0x227)+_0x34ab(0x21d)+_0x34ab(0x25a)+_0x34ab(0x20b),[_0x3bca36]);if(!_0x295a29)return null;return{'message':_0x295a29[_0x34ab(0x26f)],'enabled':Number(_0x295a29[_0x34ab(0x274)]||0x519+-0x419*-0x9+-0x29fa)===0x0+-0x278*0x4+0x9e1};}catch(_0x4c9224){return warn('[leave]\x20ge'+'tLeaveFrom'+_0x34ab(0x28b)+_0x34ab(0x242)+_0x3bca36+':\x20'+(_0x4c9224?.[_0x34ab(0x26f)]||_0x4c9224)),null;}}async function setLeaveEnabled(_0x1ac821,_0x4749f9){const _0x4c5459=_0x5ce7cd;try{const _0x330460=Math[_0x4c5459(0x251)](Date[_0x4c5459(0x21e)]()/(0x37*-0xd+-0x1c9+0x87c)),_0x54762f=await db[_0x4c5459(0x1f6)](_0x4c5459(0x1f0)+_0x4c5459(0x23f)+_0x4c5459(0x281)+_0x4c5459(0x271)+_0x4c5459(0x211)+_0x4c5459(0x25a)+_0x4c5459(0x20b),[Number(_0x4749f9?0xb8b*-0x3+0xa4c*-0x2+0x373a*0x1:0x23f4+0x338*-0x8+-0xa34),_0x330460,_0x1ac821]);return!!_0x54762f?.[_0x4c5459(0x258)];}catch(_0x5e63bd){return warn('[leave]\x20se'+_0x4c5459(0x27c)+_0x4c5459(0x248)+_0x4c5459(0x26c)+_0x1ac821+':\x20'+(_0x5e63bd?.[_0x4c5459(0x26f)]||_0x5e63bd)),![];}}function setupSendApi(){const _0x5c1e23=_0x5ce7cd;if(!botRef)return;if(typeof botRef['sendMessag'+'e']===_0x5c1e23(0x22a))sendApi=async(_0xee43b0,_0x4e633c)=>await botRef[_0x5c1e23(0x256)+'e'](_0xee43b0,_0x4e633c);else{if(botRef['sock']&&typeof botRef[_0x5c1e23(0x1fd)][_0x5c1e23(0x256)+'e']===_0x5c1e23(0x22a))sendApi=async(_0x14e4a8,_0x5f2cbc)=>await botRef['sock'][_0x5c1e23(0x256)+'e'](_0x14e4a8,_0x5f2cbc);else sendApi=null;}}async function sendText(_0x4fe73e,_0x15d67c,_0x1c8cbd=[]){const _0x1af988=_0x5ce7cd;try{if(!_0x4fe73e)return null;if(!sendApi)return warn(_0x1af988(0x1e6)+_0x1af988(0x28f)+_0x1af988(0x26e)),null;let _0x52e468=typeof _0x15d67c===_0x1af988(0x24b)?{'text':String(_0x15d67c)}:{..._0x15d67c||{}};if(Array[_0x1af988(0x246)](_0x1c8cbd)&&_0x1c8cbd['length'])_0x52e468[_0x1af988(0x27f)]=_0x1c8cbd;return await sendApi(_0x4fe73e,_0x52e468);}catch(_0x183154){return warn('[leave]\x20se'+_0x1af988(0x203)+'ed\x20to\x20'+_0x4fe73e+':\x20'+(_0x183154?.[_0x1af988(0x26f)]||_0x183154)),null;}}async function findStoredMatchFromFindings(_0x4525e5=[]){const _0x403308=_0x5ce7cd;try{const _0x5beccb=await listSudo();if(!Array[_0x403308(0x246)](_0x5beccb)||_0x5beccb[_0x403308(0x240)]===-0x2fd+0x4*-0x5c1+0x1a01)return null;const _0x5bbfb3=new Set(_0x5beccb[_0x403308(0x26b)](String));for(const _0x54723f of _0x4525e5||[]){if(!_0x54723f||typeof _0x54723f[_0x403308(0x222)]!==_0x403308(0x24b))continue;const _0x37d6f6=normalizeToJid?normalizeToJid(_0x54723f[_0x403308(0x222)]):_0x54723f[_0x403308(0x222)];if(_0x37d6f6&&_0x5bbfb3[_0x403308(0x284)](_0x37d6f6))return _0x37d6f6;if(_0x5bbfb3[_0x403308(0x284)](_0x54723f['jid']))return _0x54723f[_0x403308(0x222)];const _0x5c389b=String(_0x54723f['jid'])['split']('@')[0x1ba7+0xf81*0x1+-0x565*0x8][_0x403308(0x200)](':')[0x156b+0x7da+-0x1d45];if(_0x5c389b)for(const _0xd9be79 of _0x5beccb){const _0x397e3f=String(_0xd9be79)['split']('@')[0x141+0x35+0x16*-0x11];if(_0x397e3f&&_0x397e3f===_0x5c389b)return _0xd9be79;}}return null;}catch(_0x81334f){return warn(_0x403308(0x269)+_0x403308(0x266)+_0x403308(0x250)+_0x403308(0x215)+'r:\x20'+(_0x81334f?.[_0x403308(0x26f)]||_0x81334f)),null;}}async function handleVoluntaryLeave(_0x3efd1b){const _0x2d0878=_0x5ce7cd;try{if(!_0x3efd1b||typeof _0x3efd1b!==_0x2d0878(0x288))return;const _0x261be4=_0x3efd1b[_0x2d0878(0x1eb)]===_0x2d0878(0x275),_0x3e15a9=String(_0x3efd1b[_0x2d0878(0x254)]||'')['toLowerCas'+'e']()['includes'](_0x2d0878(0x21c));if(!_0x261be4&&!_0x3e15a9)return;const _0x22ec1e=_0x3efd1b[_0x2d0878(0x27a)+_0x2d0878(0x255)]||_0x3efd1b['participan'+'t'],_0x750fe1=_0x3efd1b[_0x2d0878(0x253)]||_0x3efd1b[_0x2d0878(0x217)];if(!_0x22ec1e||!_0x750fe1)return;const _0x2f264b=eventUniqueId(_0x3efd1b);if(!_0x2f264b)return;if(processedIds['has'](_0x2f264b))return;processedIds['add'](_0x2f264b),trimProcessedSet();const _0x2e75d4=getBotJid?getBotJid():null;if(_0x2e75d4&&String(_0x22ec1e)===String(_0x2e75d4))return;const _0x4f9220=await getLeaveFromDb(_0x750fe1);if(!_0x4f9220||!_0x4f9220[_0x2d0878(0x274)]||!_0x4f9220[_0x2d0878(0x26f)])return;let _0x6b5deb=_0x2d0878(0x23a);try{if(botRef&&botRef[_0x2d0878(0x1fd)]&&typeof botRef['sock'][_0x2d0878(0x23e)+_0x2d0878(0x249)]===_0x2d0878(0x22a)){const _0x229835=await botRef[_0x2d0878(0x1fd)][_0x2d0878(0x23e)+_0x2d0878(0x249)](_0x750fe1)[_0x2d0878(0x22b)](()=>null);if(_0x229835&&_0x229835[_0x2d0878(0x279)])_0x6b5deb=_0x229835['subject'];}}catch(_0x273ad8){}const _0x265cec=String(_0x4f9220[_0x2d0878(0x26f)]||'')[_0x2d0878(0x1ee)](/\{group\}/g,_0x6b5deb)['replace'](/\{user\}/g,'@'+shortLocalFromJid(_0x22ec1e));await sendText(_0x22ec1e,_0x265cec,[_0x22ec1e]),info(_0x2d0878(0x1e6)+'nt\x20DM\x20to\x20'+_0x22ec1e+('\x20for\x20leavi'+'ng\x20')+_0x750fe1);}catch(_0x2d0283){error(_0x2d0283,_0x2d0878(0x1e7)+_0x2d0878(0x25e)+'aryLeave\x20e'+_0x2d0878(0x24d)+(_0x2d0283?.[_0x2d0878(0x26f)]||_0x2d0283));}}function findLvcSubcommand(_0xfde1fc){const _0x224aa0=_0x5ce7cd,_0x383177=String(_0xfde1fc||''),_0x24cffd=_0x383177[_0x224aa0(0x23d)](/\blvc\s+([^\s\r\n]+)/i);if(!_0x24cffd)return{'sub':null,'after':''};const _0x6a3efb=_0x24cffd[0x678+0x83*-0x14+0x3c5][_0x224aa0(0x221)+'e'](),_0x5ba97f=_0x383177[_0x224aa0(0x290)](_0x24cffd[_0x224aa0(0x223)]+_0x24cffd[-0x71*-0x1+0xc69+-0xcda][_0x224aa0(0x240)])['replace'](/^[\s:\-]*/,'');return{'sub':_0x6a3efb,'after':_0x5ba97f};}export async function onMessage(_0x356f79){const _0x1d7b8c=_0x5ce7cd;try{if(!_0x356f79||!_0x356f79[_0x1d7b8c(0x1f4)])return;const _0x43c584=_0x356f79[_0x1d7b8c(0x27b)]?.['remoteJid']||_0x356f79[_0x1d7b8c(0x28c)]||'',_0x1e6cff=typeof _0x43c584===_0x1d7b8c(0x24b)&&_0x43c584[_0x1d7b8c(0x229)](_0x1d7b8c(0x1f2)),_0x42fec1=_0x356f79[_0x1d7b8c(0x27b)]?.[_0x1d7b8c(0x27a)+'t']||_0x356f79['key']?.[_0x1d7b8c(0x1df)]||_0x356f79[_0x1d7b8c(0x24e)]||'',_0x343986=(_0x356f79['text']||'')[_0x1d7b8c(0x1ee)](/\r/g,'');if(!(/\blvc\b/i[_0x1d7b8c(0x261)](_0x343986)||/\bdellvc\b/i['test'](_0x343986)))return;if(/\bdellvc\b/i[_0x1d7b8c(0x261)](_0x343986)){if(!_0x1e6cff){const _0x52bcaf=Boolean(_0x356f79[_0x1d7b8c(0x27b)]?.['fromMe']);let _0x5830a9=null;if(_0x52bcaf)_0x5830a9=getBotJid();else{let _0x3f9f91=![];try{_0x3f9f91=await isSudo(botRef,_0x356f79);}catch(_0x10baee){_0x3f9f91=![];}if(!_0x3f9f91)return;const _0x48b24c=userJidFromCtx(_0x356f79)||{'findings':[]},_0x32a9cf=await findStoredMatchFromFindings(_0x48b24c[_0x1d7b8c(0x283)]||[]);if(!_0x32a9cf)return;_0x5830a9=_0x32a9cf;}const _0x24409e=_0x343986[_0x1d7b8c(0x23d)](/\bgp[:\s]+(\S+)/i);if(!_0x24409e){await sendText(_0x5830a9,'PM:\x20includ'+'e\x20gp:<alia'+_0x1d7b8c(0x208));return;}const _0x220221=_0x24409e[-0x252c+-0x1d7b+-0x1da*-0x24][_0x1d7b8c(0x207)]();let _0x5d7b89=[];if(_0x220221[_0x1d7b8c(0x221)+'e']()===_0x1d7b8c(0x26d))_0x5d7b89=await _0x26403f['getUniqueJ'+_0x1d7b8c(0x213)]();else{const _0x5a3e53=await _0x26403f[_0x1d7b8c(0x226)+'e'](_0x220221);if(_0x5a3e53)_0x5d7b89=[_0x5a3e53];else{if(_0x220221[_0x1d7b8c(0x25c)]('@'))_0x5d7b89=[_0x26403f['normalizeT'+_0x1d7b8c(0x1ff)](_0x220221)];else{await sendText(_0x5830a9,_0x1d7b8c(0x27e)+'\x20alias:\x20'+_0x220221);return;}}}let _0x3b8a0d=0x301*-0x2+-0x7*0x61+0x8a9;for(const _0x90b95a of _0x5d7b89)_0x3b8a0d+=await deleteLeaveFromDb(_0x90b95a)||-0x10d5+-0x26c9+0x7*0x7f2;await sendText(_0x5830a9,_0x1d7b8c(0x20f)+_0x3b8a0d+'/'+_0x5d7b89[_0x1d7b8c(0x240)]+('\x20group\x20ent'+'ries.'));return;}const _0x4c47e8=await isadmin(botRef,_0x356f79)[_0x1d7b8c(0x22b)](()=>![]);if(!_0x4c47e8)return;const _0x210693=String((_0x42fec1||'')[_0x1d7b8c(0x200)]('@')[0x612+0x2363+-0x2975]||''),_0x19fabf=await getDefault(_0x210693)[_0x1d7b8c(0x22b)](()=>null);if(!_0x19fabf){await sendText(_0x43c584,_0x1d7b8c(0x25f)+_0x1d7b8c(0x24a)+'n');return;}const _0x2b1a7e=Array[_0x1d7b8c(0x246)](_0x19fabf)?_0x19fabf:[_0x19fabf],_0x42bcc5=[];for(const _0x130df4 of _0x2b1a7e){const _0x2abaf0=await getConnection(_0x130df4)[_0x1d7b8c(0x22b)](()=>null);if(Array[_0x1d7b8c(0x246)](_0x2abaf0))_0x42bcc5['push'](..._0x2abaf0);else{if(_0x2abaf0)_0x42bcc5[_0x1d7b8c(0x233)](_0x2abaf0);}}let _0xce63ca=-0x10bd+0x10c3*-0x2+0x3243;for(const _0x516071 of _0x42bcc5)_0xce63ca+=await deleteLeaveFromDb(_0x516071)||0x3e+0x29c*-0x1+0x25e;await sendText(_0x43c584,_0x1d7b8c(0x20f)+_0xce63ca+'/'+_0x42bcc5[_0x1d7b8c(0x240)]+(_0x1d7b8c(0x277)+'ries.'));return;}const {sub:_0x23bc3f,after:_0x47c973}=findLvcSubcommand(_0x343986);if(!_0x23bc3f)return;if(!_0x1e6cff){const _0x122d6a=Boolean(_0x356f79['key']?.['fromMe']);let _0x3ab365=null;if(_0x122d6a)_0x3ab365=getBotJid();else{let _0x534b68=![];try{_0x534b68=await isSudo(botRef,_0x356f79);}catch(_0x42f30e){_0x534b68=![];}if(!_0x534b68)return;const _0x1f7880=userJidFromCtx(_0x356f79)||{'findings':[]},_0x520401=await findStoredMatchFromFindings(_0x1f7880[_0x1d7b8c(0x283)]||[]);if(!_0x520401)return;_0x3ab365=_0x520401;}if(!_0x3ab365)return;if(_0x23bc3f==='on'||_0x23bc3f===_0x1d7b8c(0x224)){const _0x1deec6=_0x343986[_0x1d7b8c(0x23d)](/\bgp[:\s]+(\S+)/i);if(!_0x1deec6){await sendText(_0x3ab365,_0x1d7b8c(0x218)+_0x1d7b8c(0x1f7)+_0x1d7b8c(0x208));return;}const _0x350685=_0x1deec6[-0x2*-0xf4d+0x1a77+-0x391*0x10][_0x1d7b8c(0x207)]();let _0x11308b=[];if(_0x350685['toLowerCas'+'e']()===_0x1d7b8c(0x26d))_0x11308b=await _0x26403f[_0x1d7b8c(0x212)+_0x1d7b8c(0x213)]();else{const _0x149b84=await _0x26403f[_0x1d7b8c(0x226)+'e'](_0x350685);if(_0x149b84)_0x11308b=[_0x149b84];else{if(_0x350685[_0x1d7b8c(0x25c)]('@'))_0x11308b=[_0x26403f['normalizeT'+_0x1d7b8c(0x1ff)](_0x350685)];else{await sendText(_0x3ab365,_0x1d7b8c(0x27e)+_0x1d7b8c(0x286)+_0x350685);return;}}}const _0x43827c=_0x23bc3f==='on';let _0x34bbe7=-0xf47*0x1+-0x1*0x1e9d+0xf4c*0x3;for(const _0x3c6538 of _0x11308b){const _0x4009b4=await getLeaveFromDb(_0x3c6538);if(!_0x4009b4)continue;if(await setLeaveEnabled(_0x3c6538,_0x43827c))_0x34bbe7++;}await sendText(_0x3ab365,_0x1d7b8c(0x280)+(_0x43827c?_0x1d7b8c(0x274):_0x1d7b8c(0x289))+_0x1d7b8c(0x26c)+_0x34bbe7+'/'+_0x11308b[_0x1d7b8c(0x240)]);return;}if(_0x23bc3f===_0x1d7b8c(0x24f)){const _0x2e001e=_0x343986[_0x1d7b8c(0x23d)](/\bgp[:\s]+(\S+)/i);if(!_0x2e001e){await sendText(_0x3ab365,'PM:\x20includ'+_0x1d7b8c(0x1f7)+_0x1d7b8c(0x208));return;}const _0x1a2ac1=_0x2e001e[0x167f+-0x1*0x3a1+0x1b7*-0xb]['trim']();let _0x1ae51e=[];if(_0x1a2ac1[_0x1d7b8c(0x221)+'e']()===_0x1d7b8c(0x26d))_0x1ae51e=await _0x26403f[_0x1d7b8c(0x212)+'ids']();else{const _0x961424=await _0x26403f[_0x1d7b8c(0x226)+'e'](_0x1a2ac1);if(_0x961424)_0x1ae51e=[_0x961424];else{if(_0x1a2ac1['includes']('@'))_0x1ae51e=[_0x26403f['normalizeT'+_0x1d7b8c(0x1ff)](_0x1a2ac1)];else{await sendText(_0x3ab365,'Unknown\x20gp'+_0x1d7b8c(0x286)+_0x1a2ac1);return;}}}let _0x5bc624=_0x47c973[_0x1d7b8c(0x207)]();_0x5bc624=_0x5bc624['split'](/\r?\n/)[_0x1d7b8c(0x287)](_0x4653f5=>!/^gp[:\s]/i[_0x1d7b8c(0x261)](_0x4653f5))[_0x1d7b8c(0x25b)]('\x0a')[_0x1d7b8c(0x207)]();if(!_0x5bc624){await sendText(_0x3ab365,'PM:\x20empty\x20'+'message\x20bo'+'dy');return;}let _0x1dbdec=0x1*0x153d+-0x2*0xeae+0x3f*0x21;for(const _0x48be29 of _0x1ae51e)if(await saveLeaveToDb(_0x48be29,_0x5bc624,-0x25e5+0x1*-0x24dd+0x4ac3))_0x1dbdec++;await sendText(_0x3ab365,_0x1d7b8c(0x23b)+_0x1dbdec+'/'+_0x1ae51e['length']);return;}return;}if(_0x1e6cff){const _0x2ad8fe=await isadmin(botRef,_0x356f79)[_0x1d7b8c(0x22b)](()=>![]);if(!_0x2ad8fe)return;const _0x599d67=String((_0x42fec1||'')[_0x1d7b8c(0x200)]('@')[0xdce+0x1*-0xa61+-0x36d]||''),_0x958b03=await getDefault(_0x599d67)[_0x1d7b8c(0x22b)](()=>null);if(!_0x958b03){await sendText(_0x43c584,'No\x20default'+_0x1d7b8c(0x24a)+'n');return;}const _0x2fd04a=Array[_0x1d7b8c(0x246)](_0x958b03)?_0x958b03:[_0x958b03],_0x278e6b=[];for(const _0x1e599a of _0x2fd04a){const _0x13a09a=await getConnection(_0x1e599a)['catch'](()=>null);if(Array['isArray'](_0x13a09a))_0x278e6b['push'](..._0x13a09a);else{if(_0x13a09a)_0x278e6b['push'](_0x13a09a);}}if(!_0x278e6b[_0x1d7b8c(0x240)]){await sendText(_0x43c584,_0x1d7b8c(0x216)+_0x1d7b8c(0x1e4)+_0x1d7b8c(0x252)+_0x1d7b8c(0x239));return;}if(_0x23bc3f==='on'||_0x23bc3f===_0x1d7b8c(0x224)){const _0x447cbb=_0x23bc3f==='on';let _0x477467=-0x1ab6+0x2c3*0x5+-0x44d*-0x3;for(const _0x311ba9 of _0x278e6b){const _0x14421d=await getLeaveFromDb(_0x311ba9);if(!_0x14421d)continue;if(await setLeaveEnabled(_0x311ba9,_0x447cbb))_0x477467++;}await sendText(_0x43c584,_0x1d7b8c(0x280)+(_0x447cbb?_0x1d7b8c(0x274):'disabled')+_0x1d7b8c(0x26c)+_0x477467+'/'+_0x278e6b[_0x1d7b8c(0x240)]);return;}if(_0x23bc3f==='add'){const _0x541053=_0x47c973[_0x1d7b8c(0x207)]();if(!_0x541053){await sendText(_0x43c584,_0x1d7b8c(0x1e3)+'age\x20body');return;}let _0x222448=-0xa*0xd7+0x2329*-0x1+-0x19d*-0x1b;for(const _0x17e908 of _0x278e6b)if(await saveLeaveToDb(_0x17e908,_0x541053,-0x1bd3+-0x6bb+0x228f))_0x222448++;await sendText(_0x43c584,_0x1d7b8c(0x23b)+_0x222448+'/'+_0x278e6b[_0x1d7b8c(0x240)]);return;}}}catch(_0x331412){error(_0x331412,_0x1d7b8c(0x232)+_0x1d7b8c(0x23c)+'ror:\x20'+(_0x331412?.[_0x1d7b8c(0x26f)]||_0x331412));}}export async function initialize(_0x38551d){const _0x398c99=_0x5ce7cd;if(!_0x38551d)throw new Error(_0x398c99(0x1e2)+_0x398c99(0x273)+_0x398c99(0x201)+_0x398c99(0x220));botRef=_0x38551d,setupSendApi(),await ensureSchema(),botRef['on'](_0x398c99(0x20d)+_0x398c99(0x21c),handleVoluntaryLeave),info(_0x398c99(0x1e2)+'itialized\x20'+'and\x20attach'+'ed\x20to\x20volu'+'ntary.leav'+_0x398c99(0x214));}export async function cleanup(){const _0x4d9c01=_0x5ce7cd;try{botRef&&typeof botRef[_0x4d9c01(0x1f9)+_0x4d9c01(0x1ed)]===_0x4d9c01(0x22a)&&botRef['removeList'+_0x4d9c01(0x1ed)](_0x4d9c01(0x20d)+_0x4d9c01(0x21c),handleVoluntaryLeave);}catch(_0x3cbaf2){error(_0x3cbaf2,_0x4d9c01(0x225)+_0x4d9c01(0x20c)+_0x4d9c01(0x25d)+(_0x3cbaf2?.[_0x4d9c01(0x26f)]||_0x3cbaf2));}finally{processedIds[_0x4d9c01(0x28a)](),botRef=null,sendApi=null,info(_0x4d9c01(0x225)+_0x4d9c01(0x270));}}function _0x5d98(_0x4ebd76,_0x46a1ca){const _0x4ca732=_0x3cf9();return _0x5d98=function(_0x3577a2,_0x53e665){_0x3577a2=_0x3577a2-(0x1ef9*0x1+-0x2*-0x737+0x8*-0x571);let _0x10f43b=_0x4ca732[_0x3577a2];return _0x10f43b;},_0x5d98(_0x4ebd76,_0x46a1ca);}export default{'name':name,'version':version,'priority':priority,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};