const _0x5d8ef3=_0x1a6e;(function(_0x469f96,_0x3914e2){const _0x1c866f=_0x1a6e,_0x57ee1c=_0x469f96();while(!![]){try{const _0x1d8f25=parseInt(_0x1c866f(0x146))/(0x1ebe+0x1183*-0x2+-0x449*-0x1)*(-parseInt(_0x1c866f(0x152))/(-0x1a*0xd9+-0xb*0x217+0x2d09))+parseInt(_0x1c866f(0x132))/(-0x7*0x35f+0xa68+0xd34)*(-parseInt(_0x1c866f(0x145))/(-0xdee*0x1+0x1a7e+-0x49*0x2c))+-parseInt(_0x1c866f(0x122))/(0x4*-0x801+0x1838+0x17*0x57)+-parseInt(_0x1c866f(0xf4))/(0x73+0x11fc+-0x1*0x1269)+parseInt(_0x1c866f(0x102))/(0x72e+0x1c38+-0x235f)+parseInt(_0x1c866f(0x12c))/(-0x152f+0x2687+-0x1150)+-parseInt(_0x1c866f(0x148))/(-0x2f*-0x18+0x1*0x55+0x4*-0x12d)*(-parseInt(_0x1c866f(0xf5))/(-0x12d0+-0x1*0x1075+0xbc5*0x3));if(_0x1d8f25===_0x3914e2)break;else _0x57ee1c['push'](_0x57ee1c['shift']());}catch(_0x43196f){_0x57ee1c['push'](_0x57ee1c['shift']());}}}(_0x5ab8,-0xb65b5+0x95394+-0x2*-0x6b0e1));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x5d8ef3(0x15e)+'rt';export const version=_0x5d8ef3(0x15a);export const priority=-0x123*0x4+0x1408+-0xf72;export const commands=[_0x5d8ef3(0x14a),_0x5d8ef3(0xf6)];function _0x1a6e(_0x183a18,_0x18781b){const _0x5d4c4e=_0x5ab8();return _0x1a6e=function(_0x2a2321,_0x4822fe){_0x2a2321=_0x2a2321-(-0x3a*0x56+-0x1cc1+-0x3125*-0x1);let _0x53f755=_0x5d4c4e[_0x2a2321];return _0x53f755;},_0x1a6e(_0x183a18,_0x18781b);}let botInstance=null,respondedMsgIds=new Set(),_mediaDeps=null;async function getMediaDependencies(){const _0x4ffa29=_0x5d8ef3;if(_mediaDeps)return _mediaDeps;try{const _0x4cdadb=await import('@whiskeysockets/baileys'),_0x232ea4=await import('fluent-ffmpeg'),_0x311228=_0x232ea4[_0x4ffa29(0x139)],_0x508bba=(await import('@ffmpeg-installer/ffmpeg'))['path'],_0xd99a01=(await import('fs'))[_0x4ffa29(0x13a)],_0x5a5732=(await import('os'))[_0x4ffa29(0x139)],_0x523cbe=(await import('path'))['default'];return _0x311228[_0x4ffa29(0x120)+_0x4ffa29(0x109)](_0x508bba),_mediaDeps={'downloadContentFromMessage':_0x4cdadb['downloadCo'+_0x4ffa29(0x15b)+_0x4ffa29(0x11b)],'ffmpeg':_0x311228,'fs':_0xd99a01,'os':_0x5a5732,'path':_0x523cbe},info('['+name+(_0x4ffa29(0xf0)+_0x4ffa29(0x14c)+_0x4ffa29(0x10d))),_mediaDeps;}catch(_0x425bd2){error(_0x425bd2,'['+name+(_0x4ffa29(0x126)+_0x4ffa29(0x12d)+_0x4ffa29(0xf2)+_0x4ffa29(0xfd)));throw _0x425bd2;}}async function streamToBuffer(_0x10dd54){const _0x284ed4=_0x5d8ef3,_0x360eb8=[];for await(const _0x325367 of _0x10dd54){_0x360eb8['push'](Buffer[_0x284ed4(0x12e)](_0x325367)?_0x325367:Buffer['from'](_0x325367));}return Buffer[_0x284ed4(0x133)](_0x360eb8);}const getQuotedMessage=_0x43b4bc=>{const _0x27b254=_0x5d8ef3;return _0x43b4bc[_0x27b254(0xe9)]?.[_0x27b254(0x125)+'xtMessage']?.[_0x27b254(0x114)+'o']?.[_0x27b254(0x157)+_0x27b254(0x110)]||_0x43b4bc['quoted']||null;};function _0x5ab8(){const _0x50cada=[']\x20tomp3\x20er','o\x20trim\x20the','libmp3lame','rror','onvert\x20it\x20','in_',']\x20media\x20de','add','ia\x20depende','\x20and\x20use:\x0a','1207188gVLXQZ','152510HJhLGK','cutmp3','your\x20','length','error','o\x20MP3...','videoMessa','ds>\x20<endSe','ncies','✂️\x20Cutting\x20','on\x20failed:','endsWith','join','4042542JSGEHY','g\x20group\x20','unlink','ut\x20it.','writeFile','has','\x20audio\x20fil','ath','ror','.mp3','ng\x20video\x20t','\x20loaded.','nce\x20missin','s>`\x0a','age','format','catch','filter','contextInf','ℹ️\x20Please\x20r','e\x20error','string','Make\x20sure\x20','128k','readFile','essage','delete','ror:\x20','cut_','split','setFfmpegP','edMatch\x20er','3069655lJKRaD','video',']\x20onMessag','extendedTe',']\x20failed\x20t',']\x20cleaned\x20','audioCodec','format.\x20Re','tmpdir','audio/mpeg','5291136RUZXRT','o\x20load\x20med','isBuffer','id\x20audio\x20f','remoteJid','fromMe','15yidfmw','concat','❌\x20Conversi','sendMessag','ove>`','trim','replace','default','promises','audioBitra','now','startSecon','<endSecond','audio','noVideo','bot','.ogg','to\x20MP3.','condsToRem','35764QzCriG','4PBaypj','ile\x20or\x20voi','855lBgLkg','setStartTi','tomp3','jid','pendencies','end','setDuratio','voice\x20note','@g.us','ℹ️\x20Invalid\x20','543314eVrVQS','`.cutmp3\x20<','toLowerCas','clear','key','quotedMess','save',']\x20findStor','1.1.1','ntentFromM','zed.','client','mediaconve','audioMessa','ds>`\x0a','message'];_0x5ab8=function(){return _0x50cada;};return _0x5ab8();}async function findStoredMatchFromFindings(_0x1ea66b=[]){const _0x3cc8c5=_0x5d8ef3;try{const _0x3b138b=await listSudo(),_0x40264c=new Set(_0x3b138b['map'](String));for(const _0x4d3c40 of _0x1ea66b){if(!_0x4d3c40?.['jid']||typeof _0x4d3c40[_0x3cc8c5(0x14b)]!==_0x3cc8c5(0x117))continue;const _0x5534ee=normalizeToJid(_0x4d3c40['jid']);if(_0x5534ee&&_0x40264c['has'](_0x5534ee))return _0x5534ee;if(_0x40264c['has'](_0x4d3c40[_0x3cc8c5(0x14b)]))return _0x4d3c40['jid'];}return null;}catch(_0x4b9c97){return warn('['+name+(_0x3cc8c5(0x159)+_0x3cc8c5(0x121)+_0x3cc8c5(0x11d))+(_0x4b9c97?.[_0x3cc8c5(0xe9)]||_0x4b9c97)),null;}}export async function initialize(_0x1aba74){const _0x114a62=_0x5d8ef3;botInstance=_0x1aba74,info('['+name+(']\x20initiali'+_0x114a62(0x15c)));}export async function cleanup(){const _0x2033b0=_0x5d8ef3;botInstance=null,respondedMsgIds[_0x2033b0(0x155)](),info('['+name+(_0x2033b0(0x127)+'up'));}export async function onMessage(_0x1cb21a){const _0x4db9a7=_0x5d8ef3;try{if(!_0x1cb21a?.[_0x4db9a7(0x156)]||!_0x1cb21a['isCommand'])return;const _0xcb3f55=_0x1cb21a[_0x4db9a7(0x156)]['id'];if(_0xcb3f55&&respondedMsgIds[_0x4db9a7(0x107)](_0xcb3f55))return;_0xcb3f55&&(respondedMsgIds[_0x4db9a7(0xf1)](_0xcb3f55),setTimeout(()=>respondedMsgIds[_0x4db9a7(0x11c)](_0xcb3f55),0x5cbd*-0x2+0x535c+-0x6*-0x248d));const _0x26d939=(_0x1cb21a['text']||'')[_0x4db9a7(0x137)](),[_0xda088b,..._0x1eaa67]=_0x26d939[_0x4db9a7(0x11f)](/\s+/),_0x5da015=_0xda088b[_0x4db9a7(0x154)+'e']();if(!commands['includes'](_0x5da015))return;const _0x3c3cc2=_0x1cb21a['remoteJid']||_0x1cb21a[_0x4db9a7(0x156)][_0x4db9a7(0x130)]||'';if(_0x3c3cc2[_0x4db9a7(0x100)](_0x4db9a7(0x150))){info('['+name+(']:\x20ignorin'+_0x4db9a7(0x103))+_0x3c3cc2);return;}if(!botInstance){botInstance=_0x1cb21a[_0x4db9a7(0x141)]||_0x1cb21a[_0x4db9a7(0x15d)]||null;if(!botInstance){warn('['+name+(']\x20botInsta'+_0x4db9a7(0x10e)+'g.'));return;}}const _0x8eabc9=getBotJid();let _0x114edf=_0x8eabc9;if(!_0x1cb21a[_0x4db9a7(0x156)][_0x4db9a7(0x131)]){const _0x2b1b9f=await isSudo(botInstance,_0x1cb21a)['catch'](()=>![]);if(!_0x2b1b9f)return;const {findings:_0x572afa}=userJidFromCtx(_0x1cb21a),_0xaaee26=await findStoredMatchFromFindings(_0x572afa);if(!_0xaaee26)return;_0x114edf=_0xaaee26;}switch(_0x5da015){case _0x4db9a7(0x14a):await handleVideoToMp3(_0x114edf,_0x1eaa67['join']('\x20'),_0x1cb21a);break;case'cutmp3':await handleCutMp3(_0x114edf,_0x1eaa67,_0x1cb21a);break;}}catch(_0x3ae7ac){error(_0x3ae7ac,'['+name+(_0x4db9a7(0x124)+_0x4db9a7(0x116)));}}async function handleVideoToMp3(_0x4a871f,_0x234442,_0x52d2d4){const _0x29a790=_0x5d8ef3,_0x130733=getQuotedMessage(_0x52d2d4);if(!_0x130733?.['videoMessa'+'ge'])return botInstance[_0x29a790(0x135)+'e'](_0x4a871f,{'text':_0x29a790(0x115)+'eply\x20to\x20a\x20'+'video\x20to\x20c'+_0x29a790(0xee)+_0x29a790(0x143)},{'quoted':_0x52d2d4['ms']});const _0x2df795=(_0x234442||'audio_'+Date[_0x29a790(0x13c)]())[_0x29a790(0x138)](/[^a-z0-9\s-]/gi,'')[_0x29a790(0x137)]()+_0x29a790(0x10b);try{await botInstance[_0x29a790(0x135)+'e'](_0x4a871f,{'text':'📥\x20Converti'+_0x29a790(0x10c)+_0x29a790(0xfa)},{'quoted':_0x52d2d4['ms']});const {downloadContentFromMessage:_0x43d76a,ffmpeg:_0x54bfa0,fs:_0x5464ea,os:_0x47aca3,path:_0x2b07ae}=await getMediaDependencies(),_0x1feebd=await _0x43d76a(_0x130733[_0x29a790(0xfb)+'ge'],_0x29a790(0x123)),_0x1c5517=await streamToBuffer(_0x1feebd),_0xd89b4d=_0x2b07ae[_0x29a790(0x101)](_0x47aca3[_0x29a790(0x12a)](),_0x29a790(0xef)+Date['now']()+'.mp4'),_0x4dbe85=_0x2b07ae[_0x29a790(0x101)](_0x47aca3['tmpdir'](),_0x2df795);await _0x5464ea[_0x29a790(0x106)](_0xd89b4d,_0x1c5517),await new Promise((_0x1de2be,_0x3011b2)=>{const _0xc38ffa=_0x29a790;_0x54bfa0(_0xd89b4d)['noVideo']()[_0xc38ffa(0x128)](_0xc38ffa(0xec))[_0xc38ffa(0x13b)+'te'](_0xc38ffa(0x119))['save'](_0x4dbe85)['on'](_0xc38ffa(0x14d),_0x1de2be)['on'](_0xc38ffa(0xf9),_0x162fc9=>_0x3011b2(_0x162fc9));});const _0x1907ab=await _0x5464ea[_0x29a790(0x11a)](_0x4dbe85);await botInstance['sendMessag'+'e'](_0x4a871f,{'audio':_0x1907ab,'mimetype':_0x29a790(0x12b),'fileName':_0x2df795},{'quoted':_0x52d2d4['ms']}),await _0x5464ea[_0x29a790(0x104)](_0xd89b4d)[_0x29a790(0x112)](()=>{}),await _0x5464ea[_0x29a790(0x104)](_0x4dbe85)['catch'](()=>{});}catch(_0x33ef92){error(_0x33ef92,'['+name+(_0x29a790(0xea)+_0x29a790(0x10a))),await botInstance['sendMessag'+'e'](_0x4a871f,{'text':_0x29a790(0x134)+_0x29a790(0xff)+'\x20'+_0x33ef92[_0x29a790(0xe9)]},{'quoted':_0x52d2d4['ms']});}}async function handleCutMp3(_0x2947fe,_0x19005b,_0xe073ab){const _0x45cf6a=_0x5d8ef3,_0x57175e=getQuotedMessage(_0xe073ab);if(!_0x57175e?.[_0x45cf6a(0x15f)+'ge'])return botInstance['sendMessag'+'e'](_0x2947fe,{'text':'ℹ️\x20Please\x20r'+'eply\x20to\x20an'+_0x45cf6a(0x108)+'e\x20or\x20voice'+'\x20note\x20to\x20c'+_0x45cf6a(0x105)},{'quoted':_0xe073ab['ms']});const _0x2e5bc6=_0x57175e['audioMessa'+'ge']['ptt']===!![],_0x31a967=_0x2e5bc6?_0x45cf6a(0x14f):'audio',_0x51cfdd=_0x19005b['map'](_0x1984bd=>parseFloat(_0x1984bd))['filter'](_0x45ef21=>!isNaN(_0x45ef21)),_0x396640=_0x19005b[_0x45cf6a(0x113)](_0x549b25=>isNaN(parseFloat(_0x549b25)))[_0x45cf6a(0x101)]('\x20')[_0x45cf6a(0x137)](),_0x596f51=(_0x396640||_0x45cf6a(0x11e)+Date[_0x45cf6a(0x13c)]())['replace'](/[^a-z0-9\s-]/gi,'')['trim']()+_0x45cf6a(0x10b);if(_0x51cfdd[_0x45cf6a(0xf8)]===-0x65*-0x3a+-0x1*-0x224d+-0x392f||_0x51cfdd['length']>0x2e7*0x1+0x26b4+-0x2999)return botInstance[_0x45cf6a(0x135)+'e'](_0x2947fe,{'text':_0x45cf6a(0x151)+_0x45cf6a(0x129)+'ply\x20to\x20a\x20'+_0x31a967+_0x45cf6a(0xf3)+(_0x45cf6a(0x153)+_0x45cf6a(0x13d)+_0x45cf6a(0xe8))+('`.cutmp3\x20-'+_0x45cf6a(0x13e)+_0x45cf6a(0x10f))+(_0x45cf6a(0x153)+_0x45cf6a(0x13d)+_0x45cf6a(0xfc)+_0x45cf6a(0x144)+_0x45cf6a(0x136))},{'quoted':_0xe073ab['ms']});try{await botInstance[_0x45cf6a(0x135)+'e'](_0x2947fe,{'text':_0x45cf6a(0xfe)+_0x45cf6a(0xf7)+_0x31a967+'...'},{'quoted':_0xe073ab['ms']});const {downloadContentFromMessage:_0x381534,ffmpeg:_0x2cd12a,fs:_0x4c85ea,os:_0x87d0df,path:_0x151bdf}=await getMediaDependencies(),_0x3f717e=await _0x381534(_0x57175e['audioMessa'+'ge'],_0x45cf6a(0x13f)),_0x24697a=await streamToBuffer(_0x3f717e),_0x3e87d3=_0x2e5bc6?_0x45cf6a(0x142):_0x45cf6a(0x10b),_0x4f414b=_0x151bdf[_0x45cf6a(0x101)](_0x87d0df[_0x45cf6a(0x12a)](),_0x45cf6a(0xef)+Date[_0x45cf6a(0x13c)]()+_0x3e87d3),_0x4cefb9=_0x151bdf[_0x45cf6a(0x101)](_0x87d0df[_0x45cf6a(0x12a)](),_0x596f51);await _0x4c85ea[_0x45cf6a(0x106)](_0x4f414b,_0x24697a);let _0x3a159c=-0x7b6*-0x1+-0x5*0x4db+0x1091;await new Promise((_0x1d486d,_0x20f1f2)=>{_0x2cd12a['ffprobe'](_0x4f414b,(_0x2c9ed1,_0x31f829)=>{const _0x1115c8=_0x1a6e;if(_0x2c9ed1)return _0x20f1f2(_0x2c9ed1);_0x3a159c=_0x31f829[_0x1115c8(0x111)]['duration'],_0x1d486d();});});const _0x14ddd5=_0x2cd12a(_0x4f414b)[_0x45cf6a(0x140)]();if(_0x51cfdd['length']===-0x1*0x2203+0x251*-0x5+0x2d99){const _0x3968d7=_0x51cfdd[0x1*-0xbf1+-0x343*-0x3+0x228];if(_0x3968d7>-0xdd8*-0x2+-0x2160+0x5b0)_0x14ddd5[_0x45cf6a(0x149)+'me'](_0x3968d7);else _0x14ddd5[_0x45cf6a(0x14e)+'n'](_0x3a159c+_0x3968d7);}else{const [_0x3279ac,_0x247ad6]=_0x51cfdd,_0x3e2d5b=_0x3a159c-_0x247ad6;_0x14ddd5[_0x45cf6a(0x149)+'me'](_0x3279ac)[_0x45cf6a(0x14e)+'n'](_0x3e2d5b-_0x3279ac);}await new Promise((_0x95cac5,_0x20df58)=>{const _0x1ee8a2=_0x45cf6a;_0x14ddd5[_0x1ee8a2(0x128)](_0x1ee8a2(0xec))[_0x1ee8a2(0x13b)+'te'](_0x1ee8a2(0x119))[_0x1ee8a2(0x158)](_0x4cefb9)['on'](_0x1ee8a2(0x14d),_0x95cac5)['on'](_0x1ee8a2(0xf9),_0x41ca84=>_0x20df58(_0x41ca84));});const _0x171ea2=await _0x4c85ea[_0x45cf6a(0x11a)](_0x4cefb9);await botInstance[_0x45cf6a(0x135)+'e'](_0x2947fe,{'audio':_0x171ea2,'mimetype':'audio/mpeg','fileName':_0x596f51},{'quoted':_0xe073ab['ms']}),await _0x4c85ea[_0x45cf6a(0x104)](_0x4f414b)[_0x45cf6a(0x112)](()=>{}),await _0x4c85ea[_0x45cf6a(0x104)](_0x4cefb9)[_0x45cf6a(0x112)](()=>{});}catch(_0x4cdcc9){error(_0x4cdcc9,'['+name+(']\x20cutmp3\x20e'+_0x45cf6a(0xed))),await botInstance[_0x45cf6a(0x135)+'e'](_0x2947fe,{'text':'❌\x20Failed\x20t'+_0x45cf6a(0xeb)+'\x20'+_0x31a967+':\x20'+_0x4cdcc9[_0x45cf6a(0xe9)]+'\x0a'+(_0x45cf6a(0x118)+'you\x20replie'+'d\x20to\x20a\x20val'+_0x45cf6a(0x12f)+_0x45cf6a(0x147)+'ce\x20note.')},{'quoted':_0xe073ab['ms']});}}