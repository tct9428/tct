const _0x2ab316=_0x9e57;(function(_0x2c4b86,_0x5218fb){const _0x1c04e8=_0x9e57,_0x391393=_0x2c4b86();while(!![]){try{const _0x26aba6=parseInt(_0x1c04e8(0x1b4))/(0x199*-0xe+0x3*-0x958+0x3267)*(parseInt(_0x1c04e8(0x1b9))/(-0x991+0x17cd+0x25f*-0x6))+parseInt(_0x1c04e8(0x1af))/(-0x6ec*0x1+-0x26a5+0x2d94)+parseInt(_0x1c04e8(0x1ed))/(-0x1d2*0x8+0x1393*0x1+-0x4ff)+parseInt(_0x1c04e8(0x213))/(-0x1831+-0x2*0x99b+0x2b6c)*(parseInt(_0x1c04e8(0x1e3))/(-0x934+-0xb*0x1df+-0x24b*-0xd))+parseInt(_0x1c04e8(0x1ea))/(0x1*-0x137b+-0x1d30+0x30b2)*(parseInt(_0x1c04e8(0x1db))/(-0x1780+-0xc94+0x241c))+parseInt(_0x1c04e8(0x1fc))/(-0x1f51+0x93+-0x1ec7*-0x1)*(parseInt(_0x1c04e8(0x1ad))/(0x1b*0x60+-0x2449+0x1a33))+-parseInt(_0x1c04e8(0x1a5))/(0x1257+0x206*0x8+-0x89f*0x4);if(_0x26aba6===_0x5218fb)break;else _0x391393['push'](_0x391393['shift']());}catch(_0x229956){_0x391393['push'](_0x391393['shift']());}}}(_0x2d7d,-0x17fa6d+0x132e23+0x13d560));import{info,warn,error}from'../utils/logger.js';function _0x9e57(_0x4ba9a2,_0x25faf5){const _0x2b2f2f=_0x2d7d();return _0x9e57=function(_0x49b6fd,_0x495e80){_0x49b6fd=_0x49b6fd-(0x187a+0x79e+-0x1e79);let _0x1e536d=_0x2b2f2f[_0x49b6fd];return _0x1e536d;},_0x9e57(_0x4ba9a2,_0x25faf5);}import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x2ab316(0x211)+'rt';export const version=_0x2ab316(0x1a4);export const priority=-0xe3a+-0x1*0xfec+0x1e3*0x10;export const commands=[_0x2ab316(0x1d5),_0x2ab316(0x20a)];let botInstance=null,respondedMsgIds=new Set(),_mediaDeps=null;async function getMediaDependencies(){const _0xd090e0=_0x2ab316;if(_mediaDeps)return _mediaDeps;try{const _0x5abd92=await import('@whiskeysockets/baileys'),_0x282969=await import('fluent-ffmpeg'),_0x528145=_0x282969[_0xd090e0(0x1d8)],_0x357546=(await import('@ffmpeg-installer/ffmpeg'))[_0xd090e0(0x1bd)],_0x42dc46=(await import('fs'))[_0xd090e0(0x219)],_0x1b0f65=(await import('os'))[_0xd090e0(0x1d8)],_0x47da64=(await import('path'))[_0xd090e0(0x1d8)];return _0x528145['setFfmpegP'+_0xd090e0(0x216)](_0x357546),_mediaDeps={'downloadContentFromMessage':_0x5abd92[_0xd090e0(0x1d6)+'ntentFromM'+_0xd090e0(0x1b6)],'ffmpeg':_0x528145,'fs':_0x42dc46,'os':_0x1b0f65,'path':_0x47da64},info('['+name+(_0xd090e0(0x1df)+'pendencies'+_0xd090e0(0x1ec))),_mediaDeps;}catch(_0x6fb9ec){error(_0x6fb9ec,'['+name+(']\x20failed\x20t'+'o\x20load\x20med'+_0xd090e0(0x1e9)+_0xd090e0(0x214)));throw _0x6fb9ec;}}async function streamToBuffer(_0x304379){const _0x1f97c1=_0x2ab316,_0x112646=[];for await(const _0x373274 of _0x304379){_0x112646['push'](Buffer[_0x1f97c1(0x1d9)](_0x373274)?_0x373274:Buffer[_0x1f97c1(0x1be)](_0x373274));}return Buffer['concat'](_0x112646);}const getQuotedMessage=_0x216816=>{const _0x5ae46b=_0x2ab316;return _0x216816[_0x5ae46b(0x1a1)]?.[_0x5ae46b(0x1a9)+'xtMessage']?.[_0x5ae46b(0x1f6)+'o']?.[_0x5ae46b(0x1ff)+'age']||_0x216816['quoted']||null;};async function findStoredMatchFromFindings(_0x318600=[]){const _0x40f397=_0x2ab316;try{const _0x27675a=await listSudo(),_0x40903b=new Set(_0x27675a[_0x40f397(0x1fb)](String));for(const _0x192c0f of _0x318600){if(!_0x192c0f?.[_0x40f397(0x1ac)]||typeof _0x192c0f[_0x40f397(0x1ac)]!==_0x40f397(0x1e1))continue;const _0x75b8e8=normalizeToJid(_0x192c0f[_0x40f397(0x1ac)]);if(_0x75b8e8&&_0x40903b['has'](_0x75b8e8))return _0x75b8e8;if(_0x40903b['has'](_0x192c0f[_0x40f397(0x1ac)]))return _0x192c0f[_0x40f397(0x1ac)];}return null;}catch(_0x187533){return warn('['+name+(']\x20findStor'+_0x40f397(0x1c5)+_0x40f397(0x20c))+(_0x187533?.[_0x40f397(0x1a1)]||_0x187533)),null;}}export async function initialize(_0x5b2f23){const _0x3287c6=_0x2ab316;botInstance=_0x5b2f23,info('['+name+(_0x3287c6(0x19f)+_0x3287c6(0x1fd)));}export async function cleanup(){const _0x55ff52=_0x2ab316;botInstance=null,respondedMsgIds[_0x55ff52(0x1c3)](),info('['+name+(_0x55ff52(0x217)+'up'));}export async function onMessage(_0x5af314){const _0x5a8455=_0x2ab316;try{if(!_0x5af314?.['key']||!_0x5af314['isCommand'])return;const _0x5cad77=_0x5af314[_0x5a8455(0x1f2)]['id'];if(_0x5cad77&&respondedMsgIds['has'](_0x5cad77))return;_0x5cad77&&(respondedMsgIds[_0x5a8455(0x207)](_0x5cad77),setTimeout(()=>respondedMsgIds[_0x5a8455(0x208)](_0x5cad77),-0x4ceb+0x5*-0x1ab9+0x1*0x147b8));const _0x823554=(_0x5af314[_0x5a8455(0x1f5)]||'')[_0x5a8455(0x1b0)](),[_0x1aa49c,..._0x1e8325]=_0x823554[_0x5a8455(0x1b5)](/\s+/),_0x14884d=_0x1aa49c[_0x5a8455(0x202)+'e']();if(!commands[_0x5a8455(0x1f9)](_0x14884d))return;const _0x12277a=_0x5af314['remoteJid']||_0x5af314['key'][_0x5a8455(0x1b2)]||'';if(_0x12277a[_0x5a8455(0x1ef)](_0x5a8455(0x1b8))){info('['+name+(_0x5a8455(0x1ab)+_0x5a8455(0x20e))+_0x12277a);return;}if(!botInstance){botInstance=_0x5af314[_0x5a8455(0x1e5)]||_0x5af314[_0x5a8455(0x1c8)]||null;if(!botInstance){warn('['+name+(']\x20botInsta'+'nce\x20missin'+'g.'));return;}}const _0x1492e0=getBotJid();let _0x24b993=_0x1492e0;if(!_0x5af314['key']['fromMe']){const _0x2de8c2=await isSudo(botInstance,_0x5af314)[_0x5a8455(0x1de)](()=>![]);if(!_0x2de8c2)return;const {findings:_0x277712}=userJidFromCtx(_0x5af314),_0x36f0f3=await findStoredMatchFromFindings(_0x277712);if(!_0x36f0f3)return;_0x24b993=_0x36f0f3;}switch(_0x14884d){case _0x5a8455(0x1d5):await handleVideoToMp3(_0x24b993,_0x1e8325[_0x5a8455(0x1cd)]('\x20'),_0x5af314);break;case'cutmp3':await handleCutMp3(_0x24b993,_0x1e8325,_0x5af314);break;}}catch(_0x1dd672){error(_0x1dd672,'['+name+(_0x5a8455(0x1a2)+_0x5a8455(0x1e6)));}}async function handleVideoToMp3(_0x30c49c,_0x1c8cc3,_0x417034){const _0x168ce9=_0x2ab316,_0x4d00f4=getQuotedMessage(_0x417034);if(!_0x4d00f4?.[_0x168ce9(0x209)+'ge'])return botInstance['sendMessag'+'e'](_0x30c49c,{'text':_0x168ce9(0x1f1)+_0x168ce9(0x1c2)+'video\x20to\x20c'+'onvert\x20it\x20'+_0x168ce9(0x20b)},{'quoted':_0x417034['ms']});const _0x23d423=(_0x1c8cc3||_0x168ce9(0x1c9)+Date[_0x168ce9(0x1eb)]())[_0x168ce9(0x1d2)](/[^a-z0-9\s-]/gi,'')[_0x168ce9(0x1b0)]()+_0x168ce9(0x1aa);try{await botInstance['sendMessag'+'e'](_0x30c49c,{'text':_0x168ce9(0x1e2)+_0x168ce9(0x1f3)+'o\x20MP3...'},{'quoted':_0x417034['ms']});const {downloadContentFromMessage:_0x37d37b,ffmpeg:_0x1c8bf3,fs:_0x3d8440,os:_0x5bd490,path:_0x4d4c0a}=await getMediaDependencies(),_0x4c826f=await _0x37d37b(_0x4d00f4[_0x168ce9(0x209)+'ge'],_0x168ce9(0x1cc)),_0x59f4f2=await streamToBuffer(_0x4c826f),_0x2606c7=_0x4d4c0a[_0x168ce9(0x1cd)](_0x5bd490[_0x168ce9(0x1b7)](),_0x168ce9(0x1cf)+Date['now']()+_0x168ce9(0x1ca)),_0x4afbae=_0x4d4c0a[_0x168ce9(0x1cd)](_0x5bd490[_0x168ce9(0x1b7)](),_0x23d423);await _0x3d8440[_0x168ce9(0x1e7)](_0x2606c7,_0x59f4f2),await new Promise((_0x5e9195,_0x669d9c)=>{const _0x4bc2d6=_0x168ce9;_0x1c8bf3(_0x2606c7)['noVideo']()[_0x4bc2d6(0x203)](_0x4bc2d6(0x20f))['audioBitra'+'te'](_0x4bc2d6(0x1c7))[_0x4bc2d6(0x206)](_0x4afbae)['on'](_0x4bc2d6(0x1da),_0x5e9195)['on'](_0x4bc2d6(0x1c1),_0x2a4351=>_0x669d9c(_0x2a4351));});const _0x516e06=await _0x3d8440[_0x168ce9(0x1a3)](_0x4afbae);await botInstance[_0x168ce9(0x1c0)+'e'](_0x30c49c,{'audio':_0x516e06,'mimetype':_0x168ce9(0x1dd),'fileName':_0x23d423},{'quoted':_0x417034['ms']}),await _0x3d8440[_0x168ce9(0x215)](_0x2606c7)[_0x168ce9(0x1de)](()=>{}),await _0x3d8440[_0x168ce9(0x215)](_0x4afbae)['catch'](()=>{});}catch(_0x347b7a){error(_0x347b7a,'['+name+(']\x20tomp3\x20er'+_0x168ce9(0x1e8))),await botInstance['sendMessag'+'e'](_0x30c49c,{'text':_0x168ce9(0x1c6)+_0x168ce9(0x1a7)+'\x20'+_0x347b7a[_0x168ce9(0x1a1)]},{'quoted':_0x417034['ms']});}}async function handleCutMp3(_0xc4eb41,_0x202db2,_0x1a702f){const _0x2396ce=_0x2ab316,_0x2f1264=getQuotedMessage(_0x1a702f);if(!_0x2f1264?.[_0x2396ce(0x1c4)+'ge'])return botInstance[_0x2396ce(0x1c0)+'e'](_0xc4eb41,{'text':'ℹ️\x20Please\x20r'+_0x2396ce(0x1e0)+_0x2396ce(0x1a0)+_0x2396ce(0x205)+_0x2396ce(0x1cb)+'ut\x20it.'},{'quoted':_0x1a702f['ms']});const _0x4e666c=_0x2f1264['audioMessa'+'ge'][_0x2396ce(0x1d0)]===!![],_0x1bc99c=_0x4e666c?'voice\x20note':_0x2396ce(0x1f8),_0x112f0b=_0x202db2['map'](_0xffe1e5=>parseFloat(_0xffe1e5))[_0x2396ce(0x1ae)](_0xd71f0a=>!isNaN(_0xd71f0a)),_0x3a2b53=_0x202db2[_0x2396ce(0x1ae)](_0x253eac=>isNaN(parseFloat(_0x253eac)))[_0x2396ce(0x1cd)]('\x20')[_0x2396ce(0x1b0)](),_0x12ce85=(_0x3a2b53||_0x2396ce(0x210)+Date[_0x2396ce(0x1eb)]())[_0x2396ce(0x1d2)](/[^a-z0-9\s-]/gi,'')[_0x2396ce(0x1b0)]()+_0x2396ce(0x1aa);if(_0x112f0b[_0x2396ce(0x201)]===-0x1f83*-0x1+-0x577*0x2+-0x1495||_0x112f0b[_0x2396ce(0x201)]>-0x18ae+-0x14*-0x13+0x1734)return botInstance[_0x2396ce(0x1c0)+'e'](_0xc4eb41,{'text':_0x2396ce(0x1ba)+_0x2396ce(0x1b3)+'ply\x20to\x20a\x20'+_0x1bc99c+'\x20and\x20use:\x0a'+(_0x2396ce(0x1f4)+_0x2396ce(0x1a8)+_0x2396ce(0x1d7))+('`.cutmp3\x20-'+'<endSecond'+'s>`\x0a')+('`.cutmp3\x20<'+_0x2396ce(0x1a8)+_0x2396ce(0x20d)+_0x2396ce(0x1d4)+_0x2396ce(0x1bf))},{'quoted':_0x1a702f['ms']});try{await botInstance[_0x2396ce(0x1c0)+'e'](_0xc4eb41,{'text':'✂️\x20Cutting\x20'+_0x2396ce(0x218)+_0x1bc99c+_0x2396ce(0x1fa)},{'quoted':_0x1a702f['ms']});const {downloadContentFromMessage:_0x4c42e9,ffmpeg:_0x3d7384,fs:_0x3f49e7,os:_0x14adab,path:_0x3c362c}=await getMediaDependencies(),_0x4425c3=await _0x4c42e9(_0x2f1264['audioMessa'+'ge'],_0x2396ce(0x1f8)),_0x257800=await streamToBuffer(_0x4425c3),_0x800a0e=_0x4e666c?_0x2396ce(0x1e4):_0x2396ce(0x1aa),_0x28544b=_0x3c362c[_0x2396ce(0x1cd)](_0x14adab[_0x2396ce(0x1b7)](),_0x2396ce(0x1cf)+Date[_0x2396ce(0x1eb)]()+_0x800a0e),_0x4d2800=_0x3c362c[_0x2396ce(0x1cd)](_0x14adab[_0x2396ce(0x1b7)](),_0x12ce85);await _0x3f49e7[_0x2396ce(0x1e7)](_0x28544b,_0x257800);let _0x3f623c=-0xf8*0x20+0x2*0x822+0x5c*0x29;await new Promise((_0x39c55a,_0x4578e9)=>{const _0x5a466d=_0x2396ce;_0x3d7384[_0x5a466d(0x212)](_0x28544b,(_0x2c2664,_0x3e1ce0)=>{const _0x15b98d=_0x5a466d;if(_0x2c2664)return _0x4578e9(_0x2c2664);_0x3f623c=_0x3e1ce0[_0x15b98d(0x1ce)][_0x15b98d(0x1fe)],_0x39c55a();});});const _0x3e0d1c=_0x3d7384(_0x28544b)[_0x2396ce(0x1a6)]();if(_0x112f0b[_0x2396ce(0x201)]===-0x74*0x14+0x1*-0x192a+-0x1*-0x223b){const _0x5c96cd=_0x112f0b[-0x10b4+0x336+-0xb*-0x13a];if(_0x5c96cd>0xd82+0x1f57+-0x2cd9)_0x3e0d1c['setStartTi'+'me'](_0x5c96cd);else _0x3e0d1c[_0x2396ce(0x204)+'n'](_0x3f623c+_0x5c96cd);}else{const [_0x842074,_0x265305]=_0x112f0b,_0xa33e01=_0x3f623c-_0x265305;_0x3e0d1c['setStartTi'+'me'](_0x842074)[_0x2396ce(0x204)+'n'](_0xa33e01-_0x842074);}await new Promise((_0x4466,_0x171695)=>{const _0x427e18=_0x2396ce;_0x3e0d1c['audioCodec']('libmp3lame')[_0x427e18(0x1dc)+'te']('128k')[_0x427e18(0x206)](_0x4d2800)['on']('end',_0x4466)['on'](_0x427e18(0x1c1),_0x384c20=>_0x171695(_0x384c20));});const _0x16e81d=await _0x3f49e7[_0x2396ce(0x1a3)](_0x4d2800);await botInstance[_0x2396ce(0x1c0)+'e'](_0xc4eb41,{'audio':_0x16e81d,'mimetype':'audio/mpeg','fileName':_0x12ce85},{'quoted':_0x1a702f['ms']}),await _0x3f49e7[_0x2396ce(0x215)](_0x28544b)['catch'](()=>{}),await _0x3f49e7[_0x2396ce(0x215)](_0x4d2800)[_0x2396ce(0x1de)](()=>{});}catch(_0x3b7d95){error(_0x3b7d95,'['+name+(_0x2396ce(0x1ee)+_0x2396ce(0x1b1))),await botInstance[_0x2396ce(0x1c0)+'e'](_0xc4eb41,{'text':_0x2396ce(0x1bb)+_0x2396ce(0x200)+'\x20'+_0x1bc99c+':\x20'+_0x3b7d95[_0x2396ce(0x1a1)]+'\x0a'+(_0x2396ce(0x1f7)+'you\x20replie'+_0x2396ce(0x1bc)+_0x2396ce(0x1f0)+_0x2396ce(0x1d3)+_0x2396ce(0x1d1))},{'quoted':_0x1a702f['ms']});}}function _0x2d7d(){const _0x3fd43e=['catch',']\x20media\x20de','eply\x20to\x20an','string','📥\x20Converti','12ezPKDu','.ogg','bot','e\x20error','writeFile','ror','ia\x20depende','623SRwVTL','now','\x20loaded.','3865732uHsAXT',']\x20cutmp3\x20e','endsWith','id\x20audio\x20f','ℹ️\x20Please\x20r','key','ng\x20video\x20t','`.cutmp3\x20<','text','contextInf','Make\x20sure\x20','audio','includes','...','map','308160NtWqsq','zed.','duration','quotedMess','o\x20trim\x20the','length','toLowerCas','audioCodec','setDuratio','e\x20or\x20voice','save','add','delete','videoMessa','cutmp3','to\x20MP3.','ror:\x20','ds>\x20<endSe','g\x20group\x20','libmp3lame','cut_','mediaconve','ffprobe','1830755qBpyLc','ncies','unlink','ath',']\x20cleaned\x20','your\x20','promises',']\x20initiali','\x20audio\x20fil','message',']\x20onMessag','readFile','1.1.1','52957608odgdha','noVideo','on\x20failed:','startSecon','extendedTe','.mp3',']:\x20ignorin','jid','10EGnuvR','filter','5152836lkYmYQ','trim','rror','remoteJid','format.\x20Re','57jHwQGS','split','essage','tmpdir','@g.us','43880AsbyOw','ℹ️\x20Invalid\x20','❌\x20Failed\x20t','d\x20to\x20a\x20val','path','from','ove>`','sendMessag','error','eply\x20to\x20a\x20','clear','audioMessa','edMatch\x20er','❌\x20Conversi','128k','client','audio_','.mp4','\x20note\x20to\x20c','video','join','format','in_','ptt','ce\x20note.','replace','ile\x20or\x20voi','condsToRem','tomp3','downloadCo','ds>`\x0a','default','isBuffer','end','98744MkPFnD','audioBitra','audio/mpeg'];_0x2d7d=function(){return _0x3fd43e;};return _0x2d7d();}