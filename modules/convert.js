const _0x1e9c38=_0x155e;(function(_0x36fbce,_0x3988a1){const _0x21b559=_0x155e,_0x315389=_0x36fbce();while(!![]){try{const _0x2f0c76=-parseInt(_0x21b559(0x21f))/(0xd*-0x2+-0x556*0x1+0x571)*(-parseInt(_0x21b559(0x238))/(0x149e+-0xf4b+0x1*-0x551))+parseInt(_0x21b559(0x25b))/(-0x593+-0x2a5*0x1+-0x1*-0x83b)*(parseInt(_0x21b559(0x24a))/(-0x4*-0x234+0x1115*-0x1+0x849))+parseInt(_0x21b559(0x20b))/(-0xb0*0x1+0x1*0xe75+-0xdc0)*(parseInt(_0x21b559(0x204))/(-0x18f8+0x1b9c+-0x29e))+parseInt(_0x21b559(0x25d))/(0x33*0x3b+0x1*0x301+-0xebb)+parseInt(_0x21b559(0x220))/(0x2437+0x1*0xaf1+-0x2f20)*(-parseInt(_0x21b559(0x234))/(0x75b+-0x1048+-0x47b*-0x2))+-parseInt(_0x21b559(0x1f2))/(-0x1f23+-0x7f*0x3b+0x3c72)+parseInt(_0x21b559(0x202))/(-0x1*0x1316+-0x1*-0x54e+-0x1*-0xdd3)*(-parseInt(_0x21b559(0x213))/(-0x5cc+0x2*0x1211+-0x1e4a));if(_0x2f0c76===_0x3988a1)break;else _0x315389['push'](_0x315389['shift']());}catch(_0x25bc78){_0x315389['push'](_0x315389['shift']());}}}(_0x1351,0x3c469+-0x12a26+0x5838));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x1e9c38(0x248)+'rt';function _0x155e(_0xb2b42f,_0x5c8132){const _0x2c5206=_0x1351();return _0x155e=function(_0xbd9cc6,_0x42e57b){_0xbd9cc6=_0xbd9cc6-(0x893+0x2685+-0x2d32);let _0x3ba2b4=_0x2c5206[_0xbd9cc6];return _0x3ba2b4;},_0x155e(_0xb2b42f,_0x5c8132);}export const version=_0x1e9c38(0x214);export const priority=-0x1*-0x9ca+-0x1fb5+0x15f5;export const commands=[_0x1e9c38(0x21c),_0x1e9c38(0x230)];let botInstance=null,respondedMsgIds=new Set(),_mediaDeps=null;function _0x1351(){const _0xdc3ab1=['audio','promises','\x20loaded.','sendMessag','downloadCo','audioBitra','ffprobe',']\x20cleaned\x20','ove>`','toLowerCas','o\x20trim\x20the','ds>`\x0a',']\x20initiali','Make\x20sure\x20','@g.us','11CNDayb','essage','1981236UAWQbr','audio_','`.cutmp3\x20-','pendencies','eply\x20to\x20a\x20','endsWith','unlink','5ratZck','from','d\x20to\x20a\x20val','ncies','ℹ️\x20Invalid\x20','❌\x20Failed\x20t','fromMe','split','1235856awugxn','1.1.1','message','path','📥\x20Converti','has','on\x20failed:','age',']\x20media\x20de','tomp3','setDuratio','now','14tROufM','91512wpPGvD','128k','ia\x20depende','ntentFromM','voice\x20note','onvert\x20it\x20','in_','ror:\x20','text','videoMessa','save','ce\x20note.','tmpdir','video\x20to\x20c','\x20and\x20use:\x0a','format.\x20Re','cutmp3','length','setStartTi',']:\x20ignorin','126UhvnHb','startSecon','you\x20replie','error','818QonTmn','catch','string','\x20audio\x20fil','default','condsToRem','remoteJid','id\x20audio\x20f','ath',']\x20tomp3\x20er','audioCodec','ds>\x20<endSe','o\x20load\x20med','end','concat','ut\x20it.','mediaconve','rror','4yIFNTW','contextInf','ng\x20video\x20t','audio/mpeg','clear','.ogg','ply\x20to\x20a\x20','key','noVideo','✂️\x20Cutting\x20',']\x20botInsta','format','eply\x20to\x20an','to\x20MP3.','ptt','filter','delete','233031WFwrYn','isCommand','1220786GcmrJP','map','audioMessa','\x20note\x20to\x20c','quoted','writeFile','...','s>`\x0a','video','e\x20or\x20voice',']\x20failed\x20t','extendedTe','e\x20error','libmp3lame','trim','join',']\x20findStor','jid','`.cutmp3\x20<','push','1317260qvrmdb'];_0x1351=function(){return _0xdc3ab1;};return _0x1351();}async function getMediaDependencies(){const _0x177941=_0x1e9c38;if(_mediaDeps)return _mediaDeps;try{const _0x5dac3f=await import('@whiskeysockets/baileys'),_0x2d7a17=await import('fluent-ffmpeg'),_0x4a9c51=_0x2d7a17[_0x177941(0x23c)],_0x26b39f=(await import('@ffmpeg-installer/ffmpeg'))[_0x177941(0x216)],_0x37f6a9=(await import('fs'))[_0x177941(0x1f4)],_0x3bb16c=(await import('os'))['default'],_0x4feb45=(await import('path'))[_0x177941(0x23c)];return _0x4a9c51['setFfmpegP'+_0x177941(0x240)](_0x26b39f),_mediaDeps={'downloadContentFromMessage':_0x5dac3f[_0x177941(0x1f7)+_0x177941(0x223)+_0x177941(0x203)],'ffmpeg':_0x4a9c51,'fs':_0x37f6a9,'os':_0x3bb16c,'path':_0x4feb45},info('['+name+(_0x177941(0x21b)+_0x177941(0x207)+_0x177941(0x1f5))),_mediaDeps;}catch(_0x1e8f69){error(_0x1e8f69,'['+name+(_0x177941(0x1e8)+_0x177941(0x244)+_0x177941(0x222)+_0x177941(0x20e)));throw _0x1e8f69;}}async function streamToBuffer(_0x16793d){const _0x11ab1d=_0x1e9c38,_0x763f15=[];for await(const _0x4bc9c5 of _0x16793d){_0x763f15[_0x11ab1d(0x1f1)](Buffer['isBuffer'](_0x4bc9c5)?_0x4bc9c5:Buffer[_0x11ab1d(0x20c)](_0x4bc9c5));}return Buffer[_0x11ab1d(0x246)](_0x763f15);}const getQuotedMessage=_0x272ab7=>{const _0xc2d0f5=_0x1e9c38;return _0x272ab7[_0xc2d0f5(0x215)]?.[_0xc2d0f5(0x1e9)+'xtMessage']?.[_0xc2d0f5(0x24b)+'o']?.['quotedMess'+_0xc2d0f5(0x21a)]||_0x272ab7[_0xc2d0f5(0x261)]||null;};async function findStoredMatchFromFindings(_0x23305b=[]){const _0x3dcdb1=_0x1e9c38;try{const _0x332dec=await listSudo(),_0x730353=new Set(_0x332dec[_0x3dcdb1(0x25e)](String));for(const _0x3c9140 of _0x23305b){if(!_0x3c9140?.[_0x3dcdb1(0x1ef)]||typeof _0x3c9140['jid']!==_0x3dcdb1(0x23a))continue;const _0x1287d8=normalizeToJid(_0x3c9140[_0x3dcdb1(0x1ef)]);if(_0x1287d8&&_0x730353[_0x3dcdb1(0x218)](_0x1287d8))return _0x1287d8;if(_0x730353['has'](_0x3c9140[_0x3dcdb1(0x1ef)]))return _0x3c9140[_0x3dcdb1(0x1ef)];}return null;}catch(_0x154f26){return warn('['+name+(_0x3dcdb1(0x1ee)+'edMatch\x20er'+_0x3dcdb1(0x227))+(_0x154f26?.[_0x3dcdb1(0x215)]||_0x154f26)),null;}}export async function initialize(_0x6eb079){const _0x334f54=_0x1e9c38;botInstance=_0x6eb079,info('['+name+(_0x334f54(0x1ff)+'zed.'));}export async function cleanup(){const _0x27a70f=_0x1e9c38;botInstance=null,respondedMsgIds[_0x27a70f(0x24e)](),info('['+name+(_0x27a70f(0x1fa)+'up'));}export async function onMessage(_0x574edc){const _0xa55bbd=_0x1e9c38;try{if(!_0x574edc?.['key']||!_0x574edc[_0xa55bbd(0x25c)])return;const _0x40b0d2=_0x574edc['key']['id'];if(_0x40b0d2&&respondedMsgIds['has'](_0x40b0d2))return;_0x40b0d2&&(respondedMsgIds['add'](_0x40b0d2),setTimeout(()=>respondedMsgIds[_0xa55bbd(0x25a)](_0x40b0d2),-0x2*-0x6c9e+0xc8c2+-0x12cce));const _0x459a14=(_0x574edc[_0xa55bbd(0x228)]||'')[_0xa55bbd(0x1ec)](),[_0x484ea5,..._0x461a2a]=_0x459a14[_0xa55bbd(0x212)](/\s+/),_0x2565a3=_0x484ea5[_0xa55bbd(0x1fc)+'e']();if(!commands['includes'](_0x2565a3))return;const _0x5eb28b=_0x574edc[_0xa55bbd(0x23e)]||_0x574edc[_0xa55bbd(0x251)]['remoteJid']||'';if(_0x5eb28b[_0xa55bbd(0x209)](_0xa55bbd(0x201))){info('['+name+(_0xa55bbd(0x233)+'g\x20group\x20')+_0x5eb28b);return;}if(!botInstance){botInstance=_0x574edc['bot']||_0x574edc['client']||null;if(!botInstance){warn('['+name+(_0xa55bbd(0x254)+'nce\x20missin'+'g.'));return;}}const _0x161339=getBotJid();let _0x10b071=_0x161339;if(!_0x574edc[_0xa55bbd(0x251)][_0xa55bbd(0x211)]){const _0x32856d=await isSudo(botInstance,_0x574edc)[_0xa55bbd(0x239)](()=>![]);if(!_0x32856d)return;const {findings:_0x3ac475}=userJidFromCtx(_0x574edc),_0x497d92=await findStoredMatchFromFindings(_0x3ac475);if(!_0x497d92)return;_0x10b071=_0x497d92;}switch(_0x2565a3){case _0xa55bbd(0x21c):await handleVideoToMp3(_0x10b071,_0x461a2a['join']('\x20'),_0x574edc);break;case _0xa55bbd(0x230):await handleCutMp3(_0x10b071,_0x461a2a,_0x574edc);break;}}catch(_0x219002){error(_0x219002,'['+name+(']\x20onMessag'+_0xa55bbd(0x1ea)));}}async function handleVideoToMp3(_0x19e793,_0x3d3aaf,_0x5b7502){const _0x2c1884=_0x1e9c38,_0x5052d1=getQuotedMessage(_0x5b7502);if(!_0x5052d1?.[_0x2c1884(0x229)+'ge'])return botInstance['sendMessag'+'e'](_0x19e793,{'text':'ℹ️\x20Please\x20r'+_0x2c1884(0x208)+_0x2c1884(0x22d)+_0x2c1884(0x225)+_0x2c1884(0x257)},{'quoted':_0x5b7502['ms']});const _0x378124=(_0x3d3aaf||_0x2c1884(0x205)+Date['now']())['replace'](/[^a-z0-9\s-]/gi,'')[_0x2c1884(0x1ec)]()+'.mp3';try{await botInstance[_0x2c1884(0x1f6)+'e'](_0x19e793,{'text':_0x2c1884(0x217)+_0x2c1884(0x24c)+'o\x20MP3...'},{'quoted':_0x5b7502['ms']});const {downloadContentFromMessage:_0x368d6a,ffmpeg:_0x912866,fs:_0x4b0dec,os:_0x168404,path:_0x5f0532}=await getMediaDependencies(),_0x1e6044=await _0x368d6a(_0x5052d1[_0x2c1884(0x229)+'ge'],_0x2c1884(0x1e6)),_0x38bc41=await streamToBuffer(_0x1e6044),_0x2318f1=_0x5f0532[_0x2c1884(0x1ed)](_0x168404['tmpdir'](),_0x2c1884(0x226)+Date[_0x2c1884(0x21e)]()+'.mp4'),_0x16b0bd=_0x5f0532[_0x2c1884(0x1ed)](_0x168404['tmpdir'](),_0x378124);await _0x4b0dec['writeFile'](_0x2318f1,_0x38bc41),await new Promise((_0x257876,_0x18e8a3)=>{const _0xe1a7fe=_0x2c1884;_0x912866(_0x2318f1)[_0xe1a7fe(0x252)]()['audioCodec'](_0xe1a7fe(0x1eb))[_0xe1a7fe(0x1f8)+'te'](_0xe1a7fe(0x221))[_0xe1a7fe(0x22a)](_0x16b0bd)['on'](_0xe1a7fe(0x245),_0x257876)['on'](_0xe1a7fe(0x237),_0x4fd527=>_0x18e8a3(_0x4fd527));});const _0x5b085b=await _0x4b0dec['readFile'](_0x16b0bd);await botInstance[_0x2c1884(0x1f6)+'e'](_0x19e793,{'audio':_0x5b085b,'mimetype':_0x2c1884(0x24d),'fileName':_0x378124},{'quoted':_0x5b7502['ms']}),await _0x4b0dec[_0x2c1884(0x20a)](_0x2318f1)[_0x2c1884(0x239)](()=>{}),await _0x4b0dec[_0x2c1884(0x20a)](_0x16b0bd)[_0x2c1884(0x239)](()=>{});}catch(_0x1ce149){error(_0x1ce149,'['+name+(_0x2c1884(0x241)+'ror')),await botInstance['sendMessag'+'e'](_0x19e793,{'text':'❌\x20Conversi'+_0x2c1884(0x219)+'\x20'+_0x1ce149[_0x2c1884(0x215)]},{'quoted':_0x5b7502['ms']});}}async function handleCutMp3(_0x31ad4d,_0x32cc2b,_0x323e76){const _0x268d82=_0x1e9c38,_0x3046ef=getQuotedMessage(_0x323e76);if(!_0x3046ef?.['audioMessa'+'ge'])return botInstance['sendMessag'+'e'](_0x31ad4d,{'text':'ℹ️\x20Please\x20r'+_0x268d82(0x256)+_0x268d82(0x23b)+_0x268d82(0x1e7)+_0x268d82(0x260)+_0x268d82(0x247)},{'quoted':_0x323e76['ms']});const _0x3dd096=_0x3046ef['audioMessa'+'ge'][_0x268d82(0x258)]===!![],_0x58cb47=_0x3dd096?_0x268d82(0x224):_0x268d82(0x1f3),_0x415acb=_0x32cc2b[_0x268d82(0x25e)](_0x245cf6=>parseFloat(_0x245cf6))[_0x268d82(0x259)](_0x4b7003=>!isNaN(_0x4b7003)),_0x27c96a=_0x32cc2b[_0x268d82(0x259)](_0x104dfc=>isNaN(parseFloat(_0x104dfc)))[_0x268d82(0x1ed)]('\x20')[_0x268d82(0x1ec)](),_0x22454c=(_0x27c96a||'cut_'+Date['now']())['replace'](/[^a-z0-9\s-]/gi,'')[_0x268d82(0x1ec)]()+'.mp3';if(_0x415acb[_0x268d82(0x231)]===-0x474+-0x46*-0x26+-0x5f0||_0x415acb[_0x268d82(0x231)]>-0xbd2+0x1f7d*0x1+-0x1*0x13a9)return botInstance[_0x268d82(0x1f6)+'e'](_0x31ad4d,{'text':_0x268d82(0x20f)+_0x268d82(0x22f)+_0x268d82(0x250)+_0x58cb47+_0x268d82(0x22e)+(_0x268d82(0x1f0)+_0x268d82(0x235)+_0x268d82(0x1fe))+(_0x268d82(0x206)+'<endSecond'+_0x268d82(0x264))+(_0x268d82(0x1f0)+_0x268d82(0x235)+_0x268d82(0x243)+_0x268d82(0x23d)+_0x268d82(0x1fb))},{'quoted':_0x323e76['ms']});try{await botInstance[_0x268d82(0x1f6)+'e'](_0x31ad4d,{'text':_0x268d82(0x253)+'your\x20'+_0x58cb47+_0x268d82(0x263)},{'quoted':_0x323e76['ms']});const {downloadContentFromMessage:_0x2862b3,ffmpeg:_0x20c3f9,fs:_0x53421c,os:_0x5d7f3f,path:_0x2441bd}=await getMediaDependencies(),_0x48c313=await _0x2862b3(_0x3046ef[_0x268d82(0x25f)+'ge'],_0x268d82(0x1f3)),_0x320555=await streamToBuffer(_0x48c313),_0x4e597e=_0x3dd096?_0x268d82(0x24f):'.mp3',_0x23026b=_0x2441bd[_0x268d82(0x1ed)](_0x5d7f3f[_0x268d82(0x22c)](),_0x268d82(0x226)+Date['now']()+_0x4e597e),_0x2780ee=_0x2441bd[_0x268d82(0x1ed)](_0x5d7f3f[_0x268d82(0x22c)](),_0x22454c);await _0x53421c[_0x268d82(0x262)](_0x23026b,_0x320555);let _0x4091cc=0x2563+0x11e5+-0x3748;await new Promise((_0x4961ba,_0x4907a1)=>{const _0x2afd34=_0x268d82;_0x20c3f9[_0x2afd34(0x1f9)](_0x23026b,(_0x34a9e2,_0x460b7f)=>{const _0xca7709=_0x2afd34;if(_0x34a9e2)return _0x4907a1(_0x34a9e2);_0x4091cc=_0x460b7f[_0xca7709(0x255)]['duration'],_0x4961ba();});});const _0x92d20d=_0x20c3f9(_0x23026b)[_0x268d82(0x252)]();if(_0x415acb[_0x268d82(0x231)]===-0x7*0x5a+-0x12f7+-0x1*-0x156e){const _0x1d7271=_0x415acb[0x332*0x1+-0x5*0x4f+-0x1a7];if(_0x1d7271>0xf38+-0x1212+0x2da)_0x92d20d[_0x268d82(0x232)+'me'](_0x1d7271);else _0x92d20d[_0x268d82(0x21d)+'n'](_0x4091cc+_0x1d7271);}else{const [_0x5e6f7a,_0x4d689c]=_0x415acb,_0x231c0b=_0x4091cc-_0x4d689c;_0x92d20d[_0x268d82(0x232)+'me'](_0x5e6f7a)['setDuratio'+'n'](_0x231c0b-_0x5e6f7a);}await new Promise((_0xdddaf2,_0x1fdb2c)=>{const _0x11a432=_0x268d82;_0x92d20d[_0x11a432(0x242)](_0x11a432(0x1eb))[_0x11a432(0x1f8)+'te']('128k')[_0x11a432(0x22a)](_0x2780ee)['on'](_0x11a432(0x245),_0xdddaf2)['on']('error',_0x760f4c=>_0x1fdb2c(_0x760f4c));});const _0x544172=await _0x53421c['readFile'](_0x2780ee);await botInstance[_0x268d82(0x1f6)+'e'](_0x31ad4d,{'audio':_0x544172,'mimetype':'audio/mpeg','fileName':_0x22454c},{'quoted':_0x323e76['ms']}),await _0x53421c[_0x268d82(0x20a)](_0x23026b)[_0x268d82(0x239)](()=>{}),await _0x53421c['unlink'](_0x2780ee)[_0x268d82(0x239)](()=>{});}catch(_0x3813f6){error(_0x3813f6,'['+name+(']\x20cutmp3\x20e'+_0x268d82(0x249))),await botInstance[_0x268d82(0x1f6)+'e'](_0x31ad4d,{'text':_0x268d82(0x210)+_0x268d82(0x1fd)+'\x20'+_0x58cb47+':\x20'+_0x3813f6[_0x268d82(0x215)]+'\x0a'+(_0x268d82(0x200)+_0x268d82(0x236)+_0x268d82(0x20d)+_0x268d82(0x23f)+'ile\x20or\x20voi'+_0x268d82(0x22b))},{'quoted':_0x323e76['ms']});}}