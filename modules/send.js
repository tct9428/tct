const _0x24e2b7=_0x3364;(function(_0x55f2a0,_0x514e54){const _0x21ae6c=_0x3364,_0x611073=_0x55f2a0();while(!![]){try{const _0x3d54d0=parseInt(_0x21ae6c(0x15b))/(0xf*-0x2f+0x1a2*-0xb+0x14b8)+parseInt(_0x21ae6c(0x179))/(-0x41d+0x455*0x1+-0x6*0x9)+parseInt(_0x21ae6c(0x16c))/(0x1ad*-0x1+-0x2d2+-0x241*-0x2)*(parseInt(_0x21ae6c(0x139))/(-0x1378+0x71+0x130b))+parseInt(_0x21ae6c(0x13d))/(-0x2149*0x1+-0x1afd+0x3c4b)+-parseInt(_0x21ae6c(0x164))/(0x18*-0x4a+-0x2111*-0x1+-0x29*0xa3)*(parseInt(_0x21ae6c(0x128))/(-0x1591+-0x12b2+0x284a))+-parseInt(_0x21ae6c(0x17f))/(-0x83*0xb+0x9a*0x3+0x8d*0x7)*(-parseInt(_0x21ae6c(0x177))/(-0x145c+-0xd4c+0x21b1))+-parseInt(_0x21ae6c(0x13b))/(0x1ccc+0x224c+0x902*-0x7)*(parseInt(_0x21ae6c(0x12a))/(-0x21b6+-0x2027+-0x13*-0x378));if(_0x3d54d0===_0x514e54)break;else _0x611073['push'](_0x611073['shift']());}catch(_0x39569f){_0x611073['push'](_0x611073['shift']());}}}(_0x23b2,-0x63105+-0x97*-0x304+0x2*0x3c229));import{jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x24e2b7(0x131);export const version=_0x24e2b7(0x137);export const priority=-0x9f*-0x23+0x6ef+-0x1c48;export const configKeys=[_0x24e2b7(0x12c)+_0x24e2b7(0x16a)];export const commands=[_0x24e2b7(0x178)];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(0x1*0xdfd+-0xef+-0xcff)*(-0x155d+0x115+0xac*0x24);function markSendProcessed(_0x5c2fce){const _0x8d40cc=_0x24e2b7;if(!_0x5c2fce)return;if(processedSendKeys[_0x8d40cc(0x122)](_0x5c2fce))try{clearTimeout(processedSendKeys['get'](_0x5c2fce));}catch(_0x52fa61){}const _0x2c9630=setTimeout(()=>processedSendKeys['delete'](_0x5c2fce),PROCESSED_SEND_TTL_MS);processedSendKeys[_0x8d40cc(0x16d)](_0x5c2fce,_0x2c9630);}function isSendProcessed(_0x47468f){const _0x32e335=_0x24e2b7;return _0x47468f&&processedSendKeys[_0x32e335(0x122)](_0x47468f);}function clearAllProcessedSends(){const _0x1e6344=_0x24e2b7;for(const _0x6d9d9f of processedSendKeys[_0x1e6344(0x129)]())try{clearTimeout(_0x6d9d9f);}catch(_0x52240d){}processedSendKeys['clear']();}function setupSendApi(){const _0xa86db8=_0x24e2b7;if(!botRef)return;if(typeof botRef[_0xa86db8(0x123)+'e']==='function')sendApi=async(_0x23706d,_0x57dd05,_0x79b507={})=>await botRef[_0xa86db8(0x123)+'e'](_0x23706d,_0x57dd05,_0x79b507);else botRef[_0xa86db8(0x161)]&&typeof botRef[_0xa86db8(0x161)][_0xa86db8(0x123)+'e']===_0xa86db8(0x157)?sendApi=async(_0x5723f7,_0x51eb66,_0xcb7fa0={})=>await botRef['sock']['sendMessag'+'e'](_0x5723f7,_0x51eb66,_0xcb7fa0):sendApi=null;}async function safeSend(_0x465916,_0x5a5261,_0x7b08b3={}){const _0xf1ccfc=_0x24e2b7;if(!sendApi){warn('[send]\x20sen'+_0xf1ccfc(0x160)+_0xf1ccfc(0x134));throw new Error('sendApi\x20no'+'t\x20availabl'+'e');}return await sendApi(_0x465916,_0x5a5261,_0x7b08b3);}function refreshConfig(){const _0x478ec3=_0x24e2b7;try{const _0x4b911c=typeof getConfig===_0x478ec3(0x157)?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x4b911c[_0x478ec3(0x12c)+_0x478ec3(0x16a)],info(_0x478ec3(0x13c)+_0x478ec3(0x17e)+_0x478ec3(0x175)+_0x478ec3(0x186)+ALLOW_GROUP_COMMANDS);}catch(_0x592bce){warn('[send]\x20ref'+_0x478ec3(0x154)+'\x20error:\x20'+(_0x592bce?.[_0x478ec3(0x14e)]||_0x592bce));}}try{typeof hotReloadConfig===_0x24e2b7(0x157)&&hotReloadConfig(()=>{const _0x4872da=_0x24e2b7;try{refreshConfig();}catch(_0x29c175){warn(_0x4872da(0x15a)+_0x4872da(0x173)+_0x4872da(0x165)+_0x4872da(0x18a)+(_0x29c175?.[_0x4872da(0x14e)]||_0x29c175));}});}catch(_0x637b3e){}refreshConfig();function normalizeTarget(_0x279d39){const _0xef513b=_0x24e2b7;if(!_0x279d39)return null;let _0x4503af=String(_0x279d39)[_0xef513b(0x127)]();if(_0x4503af[_0xef513b(0x166)]('@'))try{return jidNormalizedUser(_0x4503af);}catch(_0x48df24){return _0x4503af;}_0x4503af=_0x4503af[_0xef513b(0x188)](/[^\d]/g,'');if(!_0x4503af)return null;if(_0x4503af['length']<-0x821+-0x2*-0x2d5+0x27f||_0x4503af[_0xef513b(0x171)]>0x2*0x739+0x115a+-0xd*0x271)return null;return _0x4503af+(_0xef513b(0x168)+_0xef513b(0x169));}function _0x3364(_0x470f66,_0x6fcfd4){const _0x51577b=_0x23b2();return _0x3364=function(_0x4a3855,_0x382646){_0x4a3855=_0x4a3855-(0x22ad+0xeb2*0x1+-0x35*0xe9);let _0x4816ac=_0x51577b[_0x4a3855];return _0x4816ac;},_0x3364(_0x470f66,_0x6fcfd4);}function _0x23b2(){const _0x8b5fdc=['send','PM\x20default','\x20ignored\x20(','vailable','d\x20<number\x20','test','1.0.0','\x22.\x20Provide','680RvjMoP','up\x20command','10PBoiwX','[send]\x20con','103805nHXodk','\x20admins\x20ma','endsWith','t\x20availabl','key','✅\x20Message\x20','sendApi\x20no','@g.us','extendedTe','[send]\x20isa','string','split','o\x20send\x20a\x20m',')\x20or\x20a\x20val','=false)','\x20internati','led\x20sendin','message','text','licate\x20sen','onal\x20digit','[send]\x20han','conversati','reshConfig','g\x20to\x20','tialized\x20(','function','parse\x20targ','successful','[send]\x20hot','295727FduQGZ','[send]\x20sen','MMANDS=tru','dler\x20error','s\x20only\x20(e.','dApi\x20not\x20a','sock','g.\x202547...','substring','180EzkGpc','ig\x20handler','includes','for\x20','@s.whatsap','p.net','P_COMMANDS','d\x202547XXXX','3369miEsye','set','essage\x20to\x20','to\x20','dmin\x20check','length','[send]\x20cle','ReloadConf','y\x20use\x20`snd','_GROUP_COM','\x20in\x20groups','324YkkzVJ','snd','68888CnniMn','a\x20test\x20mes','xtMessage','self.','Usage:\x20`sn','fig:\x20ALLOW','85496yhSWhs','catch','et\x20\x22',';\x20set\x20ALLO','[send]\x20dup','`\x20(server-','aned\x20up','MANDS=','[send]\x20fai','replace','\x20failed:\x20','\x20error:\x20','has','sendMessag','ly\x20sent\x20to','Only\x20group','t\x20message\x20','trim','47068pmGJbz','values','5735631ZRvOpl','[send]\x20gro','ALLOW_GROU','xample:\x0asn','or\x20JID>\x20<m','essage>`\x0aE','sage.'];_0x23b2=function(){return _0x8b5fdc;};return _0x23b2();}export async function initialize(_0x2d66b5){const _0x41a5cd=_0x24e2b7;if(!_0x2d66b5)throw new Error('send.initi'+'alize\x20requ'+'ires\x20bot\x20i'+'nstance');botRef=_0x2d66b5,setupSendApi(),refreshConfig(),info('[send]\x20ini'+_0x41a5cd(0x156)+_0x41a5cd(0x132)+_0x41a5cd(0x182)+'W_GROUP_CO'+_0x41a5cd(0x15d)+'e\x20to\x20allow'+_0x41a5cd(0x176)+')');}export async function onMessage(_0x16ebb6){const _0x306bbf=_0x24e2b7;try{if(!_0x16ebb6||!_0x16ebb6[_0x306bbf(0x141)]||!_0x16ebb6[_0x306bbf(0x14e)])return;const _0x49b853=typeof _0x16ebb6[_0x306bbf(0x14f)]===_0x306bbf(0x147)&&_0x16ebb6['text'][_0x306bbf(0x127)]()?_0x16ebb6[_0x306bbf(0x14f)][_0x306bbf(0x127)]():_0x16ebb6['message']?.[_0x306bbf(0x153)+'on']||_0x16ebb6[_0x306bbf(0x14e)]?.[_0x306bbf(0x145)+_0x306bbf(0x17b)]?.[_0x306bbf(0x14f)]||'';if(!_0x49b853)return;const _0x3aebed=_0x49b853[_0x306bbf(0x127)](),_0x3d3a17=_0x3aebed[_0x306bbf(0x148)](/\s+/),_0x575838=_0x3d3a17[0x87e+-0x2630+0x1db2]['toLowerCas'+'e']();if(!(_0x575838===_0x306bbf(0x178)||/^\/snd\b/i[_0x306bbf(0x136)](_0x3aebed)))return;const _0x3dcd0b=_0x16ebb6[_0x306bbf(0x141)]['remoteJid'],_0x1ff3d9=typeof _0x3dcd0b===_0x306bbf(0x147)&&_0x3dcd0b[_0x306bbf(0x13f)](_0x306bbf(0x144));if(_0x1ff3d9){if(!ALLOW_GROUP_COMMANDS){info(_0x306bbf(0x12b)+_0x306bbf(0x13a)+_0x306bbf(0x133)+_0x306bbf(0x12c)+_0x306bbf(0x16a)+_0x306bbf(0x14b));return;}let _0x38596b=![];try{_0x38596b=await isadmin(botRef,_0x16ebb6);}catch(_0x585e3c){warn(_0x306bbf(0x146)+_0x306bbf(0x170)+_0x306bbf(0x189)+(_0x585e3c?.[_0x306bbf(0x14e)]||_0x585e3c)),_0x38596b=![];}if(!_0x38596b){if(sendApi)try{await safeSend(_0x3dcd0b,{'text':_0x306bbf(0x125)+_0x306bbf(0x13e)+_0x306bbf(0x174)+_0x306bbf(0x184)+'config\x20res'+'tricted).','quoted':_0x16ebb6[_0x306bbf(0x141)]});}catch(_0x42ed2f){}return;}}const _0xd54d94=_0x3d3a17[0x2139+0x359+-0x2491]||null;let _0x355614='';if(_0xd54d94){const _0x1e42d8=_0x3aebed['indexOf'](_0xd54d94)+_0xd54d94[_0x306bbf(0x171)];_0x355614=_0x3aebed[_0x306bbf(0x163)](_0x1e42d8)[_0x306bbf(0x127)]();}if(!_0xd54d94||!_0x355614){if(sendApi){const _0x461c76=_0x306bbf(0x17d)+_0x306bbf(0x135)+_0x306bbf(0x12e)+_0x306bbf(0x12f)+_0x306bbf(0x12d)+_0x306bbf(0x16b)+'XXXX\x0aHello'+',\x20this\x20is\x20'+_0x306bbf(0x17a)+_0x306bbf(0x130);await safeSend(_0x3dcd0b,{'text':_0x461c76,'quoted':_0x16ebb6[_0x306bbf(0x141)]});}return;}const _0x56e847=normalizeTarget(_0xd54d94);if(!_0x56e847){if(sendApi)await safeSend(_0x3dcd0b,{'text':'Could\x20not\x20'+_0x306bbf(0x158)+_0x306bbf(0x181)+_0xd54d94+(_0x306bbf(0x138)+_0x306bbf(0x14c)+_0x306bbf(0x151)+_0x306bbf(0x15f)+_0x306bbf(0x162)+_0x306bbf(0x14a)+'id\x20JID.'),'quoted':_0x16ebb6[_0x306bbf(0x141)]});return;}try{const _0x4906e2=getBotJid();if(_0x4906e2&&_0x56e847===_0x4906e2){if(sendApi)await safeSend(_0x3dcd0b,{'text':'Refusing\x20t'+_0x306bbf(0x149)+_0x306bbf(0x16e)+'the\x20bot\x20it'+_0x306bbf(0x17c),'quoted':_0x16ebb6[_0x306bbf(0x141)]});return;}}catch(_0x277fe7){}const _0x15e0b8=String(_0x16ebb6['key']['id']||''),_0x416979=_0x15e0b8+'::'+_0x56e847;if(isSendProcessed(_0x416979)){info(_0x306bbf(0x183)+_0x306bbf(0x150)+'d\x20skipped\x20'+_0x306bbf(0x167)+_0x416979);return;}markSendProcessed(_0x416979);const _0x297814={'text':_0x355614};try{if(!sendApi)throw new Error(_0x306bbf(0x143)+_0x306bbf(0x140)+'e');await safeSend(_0x56e847,_0x297814),info(_0x306bbf(0x15c)+_0x306bbf(0x126)+_0x306bbf(0x16f)+_0x56e847),sendApi&&await safeSend(_0x3dcd0b,{'text':_0x306bbf(0x142)+_0x306bbf(0x159)+_0x306bbf(0x124)+'\x20'+_0x56e847+'.','quoted':_0x16ebb6[_0x306bbf(0x141)]})[_0x306bbf(0x180)](()=>{});}catch(_0x53e184){error(_0x53e184,_0x306bbf(0x187)+_0x306bbf(0x14d)+_0x306bbf(0x155)+_0x56e847+':\x20'+(_0x53e184?.[_0x306bbf(0x14e)]||_0x53e184));if(sendApi)await safeSend(_0x3dcd0b,{'text':'❌\x20Failed\x20t'+'o\x20deliver\x20'+_0x306bbf(0x16f)+_0x56e847+':\x20'+(_0x53e184?.[_0x306bbf(0x14e)]||_0x53e184),'quoted':_0x16ebb6['key']})['catch'](()=>{});}}catch(_0x4f47a9){error(_0x4f47a9,_0x306bbf(0x152)+_0x306bbf(0x15e)+':\x20'+(_0x4f47a9?.['message']||_0x4f47a9));}}export async function cleanup(){const _0x4d2064=_0x24e2b7;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x4d2064(0x172)+_0x4d2064(0x185));}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};