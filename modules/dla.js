function _0x3062(){const _0x5030ad=['message','iktok?url=','download/f','\x20Failed\x20to','zed\x20succes','downloaded','audio/mpeg','pin.it','rch\x20term\x20f','vide\x20a\x20URL','Unsupporte','\x0a\x0atct','download/t',']\x20cleaned\x20','1235870nMenpv','jid','trim','one\x20found\x20','string','url','one\x20for\x20\x22','ected\x20erro','download/R','com','ingTone?q=','t\x20find\x20dow','witter?url','download/i',']\x20initiali','includes','Link\x20may\x20b','tct','ror:\x20','5913215iYwxRo','get','e\x20wait...','[ringtone]','nloadable\x20','i.bk9.dev/','.\x20Supporte','ing,\x20pleas','\x20Facebook,','o\x20download','‚ùå\x20Failed\x20t','d\x20for\x20','while\x20sear','r\x20occurred','endsWith','sendMessag','\x22...','Please\x20pro','958477qHIGFk','downloader','one.\x0a\x0atct','delete','_file','\x20get\x20ringt','80424PhjpVO','nce\x20missin','‚ùå\x20An\x20unexp',']\x20botInsta','key','‚ùå\x20Could\x20no','isCommand','startsWith','sfully.','Instagram,',']\x20handler\x20','rl=','data','facebook.c','5UuarIi','123fPGGFI','nstagram?u','\x20occurred\x20','toLowerCas','test','1188693JMIVtv','d:\x20Twitter','fromMe','üì•\x20Download','31092JwkVEy','video','edMatch\x20er','catch','http','d\x20platform','https://ap','download_u','2372838JqYULp','clear','tiktok.com','tone:\x20\x22',',\x20TikTok,\x20','instagram.','download/p','mediafire.','ringtone','split','b?url=','[dla]\x20Down','dla','\x20Pinterest','BK9','@g.us','content\x20at','\x20that\x20URL.','dllink','pinterest.','x.com','add','map','ad\x20from.\x0a\x0a','\x20content.\x20','8AVMqGU','remoteJid','has','g\x20for\x20ring'];_0x3062=function(){return _0x5030ad;};return _0x3062();}const _0x131ee9=_0x1de1;(function(_0x453355,_0x5a095d){const _0x41e3d4=_0x1de1,_0x4678ec=_0x453355();while(!![]){try{const _0x1d3be0=parseInt(_0x41e3d4(0x22a))/(0x1*0x2577+0x6ba*0x3+-0xd9*0x44)+-parseInt(_0x41e3d4(0x1d2))/(-0xab+-0x5a8+-0x1*-0x655)*(parseInt(_0x41e3d4(0x23f))/(-0x1d9f*-0x1+0x1*0x763+-0xc55*0x3))+parseInt(_0x41e3d4(0x230))/(0x18b1+-0xbf2*0x1+-0x1*0xcbb)*(-parseInt(_0x41e3d4(0x23e))/(0x1*0x251+0x60c+-0x858))+-parseInt(_0x41e3d4(0x1da))/(-0x1468+0x18e*-0xe+-0x3d6*-0xb)+parseInt(_0x41e3d4(0x218))/(0x1853+0xa85+-0x22d1)+-parseInt(_0x41e3d4(0x1f3))/(0x208d+0x1e33+-0x3eb8)*(parseInt(_0x41e3d4(0x1ce))/(0x44f*-0x5+-0x245e+0x39f2))+-parseInt(_0x41e3d4(0x205))/(0xd4b+0x1*-0x258d+0x4dc*0x5);if(_0x1d3be0===_0x5a095d)break;else _0x4678ec['push'](_0x4678ec['shift']());}catch(_0x52d111){_0x4678ec['push'](_0x4678ec['shift']());}}}(_0x3062,0xa609*-0x14+0x4cf*-0xb+0x14b99a));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import _0x3a4395 from'axios';export const name=_0x131ee9(0x22b);export const version='1.3.1';export const priority=-0xb1e+-0x844*-0x2+-0x560;export const commands=[_0x131ee9(0x1e6),_0x131ee9(0x1e2)];let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x98b7ca=[]){const _0x210663=_0x131ee9;try{const _0x5027b9=new Set((await listSudo())[_0x210663(0x1f0)](String));for(const _0x33158d of _0x98b7ca){if(!_0x33158d?.[_0x210663(0x206)]||typeof _0x33158d[_0x210663(0x206)]!==_0x210663(0x209))continue;const _0x24a8dd=normalizeToJid(_0x33158d[_0x210663(0x206)]);if(_0x24a8dd&&_0x5027b9['has'](_0x24a8dd))return _0x24a8dd;if(_0x5027b9[_0x210663(0x1f5)](_0x33158d[_0x210663(0x206)]))return _0x33158d[_0x210663(0x206)];}}catch(_0x26e417){warn('['+name+(']\x20findStor'+_0x210663(0x1d4)+_0x210663(0x217))+(_0x26e417[_0x210663(0x1f7)]||_0x26e417));}return null;}function extractDownloadUrl(_0x2342b8){const _0x2892c4=_0x131ee9;if(!_0x2342b8)return null;if(typeof _0x2342b8===_0x2892c4(0x209)&&_0x2342b8[_0x2892c4(0x237)](_0x2892c4(0x1d6)))return _0x2342b8;if(typeof _0x2342b8!=='object')return null;const _0x1a084a=[_0x2892c4(0x1d9)+'rl',_0x2892c4(0x20a),'HD','hd',_0x2892c4(0x1ec),_0x2892c4(0x1d3),'audio','result',_0x2892c4(0x1e8)];for(const _0x23a78c of _0x1a084a){if(_0x2342b8[_0x23a78c]){const _0x1c09f1=extractDownloadUrl(_0x2342b8[_0x23a78c]);if(_0x1c09f1)return _0x1c09f1;}}return null;}export async function initialize(_0x2fd448){const _0x32fefb=_0x131ee9;botInstance=_0x2fd448,info('['+name+(_0x32fefb(0x213)+_0x32fefb(0x1fb)+_0x32fefb(0x238)));}export async function cleanup(){const _0x10642f=_0x131ee9;botInstance=null,respondedMsgIds[_0x10642f(0x1db)](),info('['+name+(_0x10642f(0x204)+'up'));}export async function onMessage(_0x12a2a3){const _0x4abc7c=_0x131ee9;if(!_0x12a2a3?.[_0x4abc7c(0x234)]||!_0x12a2a3[_0x4abc7c(0x236)])return;const _0x295f96=_0x12a2a3[_0x4abc7c(0x234)]['id'];if(_0x295f96&&respondedMsgIds[_0x4abc7c(0x1f5)](_0x295f96))return;_0x295f96&&(respondedMsgIds[_0x4abc7c(0x1ef)](_0x295f96),setTimeout(()=>respondedMsgIds[_0x4abc7c(0x22d)](_0x295f96),0x1*0x1723+0xa3*0xc9+-0xca*0x2b));const _0x5cf76d=(_0x12a2a3['text']||'')[_0x4abc7c(0x207)](),[_0x5687e6,..._0x1ac37f]=_0x5cf76d[_0x4abc7c(0x1e3)](/\s+/),_0x4adb40=_0x5687e6[_0x4abc7c(0x1cc)+'e']();if(!commands[_0x4abc7c(0x214)](_0x4adb40))return;if(!botInstance){botInstance=_0x12a2a3['bot']||_0x12a2a3['client']||null;if(!botInstance){warn('['+name+(_0x4abc7c(0x233)+_0x4abc7c(0x231)+'g.'));return;}}const _0x56e761=getBotJid();let _0x220ad4=_0x56e761;const _0x27842b=_0x12a2a3[_0x4abc7c(0x234)][_0x4abc7c(0x1f4)]||'',_0x12aee9=_0x27842b[_0x4abc7c(0x226)](_0x4abc7c(0x1e9)),_0x2de8e7=Boolean(_0x12a2a3[_0x4abc7c(0x234)][_0x4abc7c(0x1d0)]);if(!_0x2de8e7){if(_0x12aee9){const _0x5dc296=await isadmin(botInstance,_0x12a2a3)[_0x4abc7c(0x1d5)](()=>![]);if(!_0x5dc296)return;_0x220ad4=_0x27842b;}else{const _0x2e23e0=await isSudo(botInstance,_0x12a2a3)['catch'](()=>![]);if(!_0x2e23e0)return;const {findings:_0x778d19}=userJidFromCtx(_0x12a2a3),_0x2754a2=await findStoredMatchFromFindings(_0x778d19);if(!_0x2754a2)return;_0x220ad4=_0x2754a2;}}const _0x56dcaf=_0x1ac37f['join']('\x20');try{switch(_0x4adb40){case _0x4abc7c(0x1e6):await handleUniversalDownloader(_0x220ad4,_0x56dcaf,_0x12a2a3);break;case'ringtone':await handleRingtone(_0x220ad4,_0x56dcaf,_0x12a2a3);break;}}catch(_0x14a6b6){error(_0x14a6b6,'['+name+(_0x4abc7c(0x23a)+'error:\x20')+_0x14a6b6[_0x4abc7c(0x1f7)]),await botInstance[_0x4abc7c(0x227)+'e'](_0x220ad4,{'text':_0x4abc7c(0x232)+_0x4abc7c(0x20c)+_0x4abc7c(0x225)+'.'},{'quoted':_0x12a2a3['ms']});}}async function handleUniversalDownloader(_0x43f1f8,_0x39152f,_0x149272){const _0x5d892f=_0x131ee9;if(!_0x39152f)return botInstance[_0x5d892f(0x227)+'e'](_0x43f1f8,{'text':_0x5d892f(0x229)+_0x5d892f(0x200)+'\x20to\x20downlo'+_0x5d892f(0x1f1)+_0x5d892f(0x216)},{'quoted':_0x149272['ms']});await botInstance[_0x5d892f(0x227)+'e'](_0x43f1f8,{'text':_0x5d892f(0x1d1)+_0x5d892f(0x21f)+_0x5d892f(0x21a)},{'quoted':_0x149272['ms']});let _0x5e5ce0;if(_0x39152f[_0x5d892f(0x214)]('twitter.co'+'m')||_0x39152f['includes'](_0x5d892f(0x1ee)))_0x5e5ce0=_0x5d892f(0x1d8)+_0x5d892f(0x21d)+_0x5d892f(0x203)+_0x5d892f(0x211)+'='+encodeURIComponent(_0x39152f);else{if(_0x39152f[_0x5d892f(0x214)](_0x5d892f(0x1dc)))_0x5e5ce0=_0x5d892f(0x1d8)+_0x5d892f(0x21d)+'download/t'+_0x5d892f(0x1f8)+encodeURIComponent(_0x39152f);else{if(_0x39152f[_0x5d892f(0x214)](_0x5d892f(0x1df)+_0x5d892f(0x20e)))_0x5e5ce0='https://ap'+'i.bk9.dev/'+_0x5d892f(0x212)+_0x5d892f(0x1ca)+_0x5d892f(0x23b)+encodeURIComponent(_0x39152f);else{if(_0x39152f[_0x5d892f(0x214)](_0x5d892f(0x23d)+'om')||_0x39152f[_0x5d892f(0x214)]('fb.watch'))_0x5e5ce0='https://ap'+_0x5d892f(0x21d)+_0x5d892f(0x1f9)+_0x5d892f(0x1e4)+encodeURIComponent(_0x39152f);else{if(_0x39152f[_0x5d892f(0x214)](_0x5d892f(0x1ed)+_0x5d892f(0x20e))||_0x39152f[_0x5d892f(0x214)](_0x5d892f(0x1fe)))_0x5e5ce0='https://ap'+_0x5d892f(0x21d)+_0x5d892f(0x1e0)+'interest?u'+_0x5d892f(0x23b)+encodeURIComponent(_0x39152f);else{if(_0x39152f[_0x5d892f(0x214)](_0x5d892f(0x1e1)+_0x5d892f(0x20e)))_0x5e5ce0='https://ap'+_0x5d892f(0x21d)+'download/m'+'ediafire?u'+'rl='+encodeURIComponent(_0x39152f);else return botInstance[_0x5d892f(0x227)+'e'](_0x43f1f8,{'text':_0x5d892f(0x201)+_0x5d892f(0x1d7)+_0x5d892f(0x21e)+_0x5d892f(0x1cf)+_0x5d892f(0x1de)+_0x5d892f(0x239)+_0x5d892f(0x220)+_0x5d892f(0x1e7)+',\x20Mediafir'+'e.\x0a\x0atct'},{'quoted':_0x149272['ms']});}}}}}try{const _0x27bb89=await _0x3a4395[_0x5d892f(0x219)](_0x5e5ce0,{'timeout':0x7530}),_0x2a810f=extractDownloadUrl(_0x27bb89['data']);if(!_0x2a810f)return botInstance[_0x5d892f(0x227)+'e'](_0x43f1f8,{'text':_0x5d892f(0x235)+_0x5d892f(0x210)+_0x5d892f(0x21c)+_0x5d892f(0x1ea)+_0x5d892f(0x1eb)+_0x5d892f(0x202)},{'quoted':_0x149272['ms']});const _0x5734ab=/\.(mp4|mov)(\?.*)?$/[_0x5d892f(0x1cd)](_0x2a810f);_0x5734ab?await botInstance[_0x5d892f(0x227)+'e'](_0x43f1f8,{'video':{'url':_0x2a810f},'caption':_0x5d892f(0x216)},{'quoted':_0x149272['ms']}):await botInstance[_0x5d892f(0x227)+'e'](_0x43f1f8,{'document':{'url':_0x2a810f},'fileName':_0x5d892f(0x1fc)+_0x5d892f(0x22e),'caption':_0x5d892f(0x216)},{'quoted':_0x149272['ms']});}catch(_0x24811f){error(_0x24811f,_0x5d892f(0x1e5)+'load\x20faile'+_0x5d892f(0x223)+_0x39152f),await botInstance['sendMessag'+'e'](_0x43f1f8,{'text':_0x5d892f(0x222)+_0x5d892f(0x221)+_0x5d892f(0x1f2)+_0x5d892f(0x215)+'e\x20invalid.'+_0x5d892f(0x202)},{'quoted':_0x149272['ms']});}}function _0x1de1(_0x362180,_0x491b29){const _0xc7ef6e=_0x3062();return _0x1de1=function(_0x221f01,_0x43dd6e){_0x221f01=_0x221f01-(-0x1*-0x1a2d+-0x1*-0x15e2+-0x2e45);let _0x2cba4c=_0xc7ef6e[_0x221f01];return _0x2cba4c;},_0x1de1(_0x362180,_0x491b29);}async function handleRingtone(_0x3e8da4,_0x2cffb6,_0x92afda){const _0x2ba152=_0x131ee9;if(!_0x2cffb6)return botInstance[_0x2ba152(0x227)+'e'](_0x3e8da4,{'text':_0x2ba152(0x229)+'vide\x20a\x20sea'+_0x2ba152(0x1ff)+'or\x20a\x20ringt'+_0x2ba152(0x22c)},{'quoted':_0x92afda['ms']});await botInstance[_0x2ba152(0x227)+'e'](_0x3e8da4,{'text':'üîç\x20Searchin'+_0x2ba152(0x1f6)+_0x2ba152(0x1dd)+_0x2cffb6+_0x2ba152(0x228)},{'quoted':_0x92afda['ms']});try{const _0x4f0b4c='https://ap'+_0x2ba152(0x21d)+_0x2ba152(0x20d)+_0x2ba152(0x20f)+encodeURIComponent(_0x2cffb6),_0x54217e=await _0x3a4395[_0x2ba152(0x219)](_0x4f0b4c,{'timeout':0x4e20}),_0x3d7d87=extractDownloadUrl(_0x54217e[_0x2ba152(0x23c)]);if(!_0x3d7d87)return botInstance[_0x2ba152(0x227)+'e'](_0x3e8da4,{'text':'‚ùå\x20No\x20ringt'+_0x2ba152(0x208)+'for\x20\x22'+_0x2cffb6+'\x22.\x0a\x0atct'},{'quoted':_0x92afda['ms']});await botInstance[_0x2ba152(0x227)+'e'](_0x3e8da4,{'audio':{'url':_0x3d7d87},'mimetype':_0x2ba152(0x1fd),'fileName':_0x2cffb6+('_ringtone.'+'mp3')},{'quoted':_0x92afda['ms']});}catch(_0xb74a31){error(_0xb74a31,_0x2ba152(0x21b)+_0x2ba152(0x1fa)+_0x2ba152(0x22f)+_0x2ba152(0x20b)+_0x2cffb6+'\x22'),await botInstance[_0x2ba152(0x227)+'e'](_0x3e8da4,{'text':'‚ùå\x20An\x20error'+_0x2ba152(0x1cb)+_0x2ba152(0x224)+'ching\x20for\x20'+'the\x20ringto'+'ne.\x0a\x0atct'},{'quoted':_0x92afda['ms']});}}