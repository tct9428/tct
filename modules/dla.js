const _0x374f30=_0x2427;function _0x3ccb(){const _0x1f771d=['d:\x20Twitter','3955UDmLlW','3970836bJbIpM','split','data','witter?url','remoteJid','i.bk9.dev/','\x22.\x0a\x0atct','download/i','32950hKrhkY','download/m','121143HytmyS','45sjUlls','_file','\x22...','one\x20found\x20','t\x20find\x20dow','get','\x20to\x20downlo','o\x20download','catch',']\x20botInsta','sendMessag','vide\x20a\x20sea','[ringtone]','key','fromMe','dla','download/t','_ringtone.','url','audio','https://ap','\x20Pinterest','âŒ\x20An\x20error','iktok?url=','1752gTlqSL','pinterest.','âŒ\x20Could\x20no','Instagram,','e.\x0a\x0atct','tct','\x20that\x20URL.',',\x20TikTok,\x20',']\x20cleaned\x20','the\x20ringto','download_u','\x20occurred\x20','includes','download/f','com','join','pin.it','delete','dllink','ringtone','or\x20a\x20ringt',']\x20handler\x20','result','ediafire?u','interest?u','g\x20for\x20ring','test','e\x20wait...','trim','error:\x20','while\x20sear','ðŸ”\x20Searchin','mp3','d\x20platform','vide\x20a\x20URL','twitter.co','Unsupporte','ad\x20from.\x0a\x0a','download/p',']\x20initiali','b?url=','âŒ\x20An\x20unexp','\x20Failed\x20to','Link\x20may\x20b','ne.\x0a\x0atct','nloadable\x20','tone:\x20\x22','@g.us','bot','x.com','ror:\x20',']\x20findStor','one\x20for\x20\x22','3YsNzKA','object','jid','ected\x20erro','text','nce\x20missin','1002166cLYrkc',',\x20Mediafir','fb.watch','Please\x20pro','audio/mpeg','add','[dla]\x20Down','.\x20Supporte','BK9','content\x20at','1nEFUen','e\x20invalid.','sfully.','\x0a\x0atct','downloader','âŒ\x20No\x20ringt','instagram.','ðŸ“¥\x20Download','âŒ\x20Failed\x20t','tiktok.com','isCommand','facebook.c','client','2382pLCwcw','has','clear','2543736shaAJI','110691QQHNDp'];_0x3ccb=function(){return _0x1f771d;};return _0x3ccb();}(function(_0x3e0a40,_0x56eb2e){const _0x28d9b4=_0x2427,_0x482caa=_0x3e0a40();while(!![]){try{const _0x5322c6=-parseInt(_0x28d9b4(0x194))/(-0x2163+-0x1*-0x1878+0x23b*0x4)*(-parseInt(_0x28d9b4(0x18a))/(-0x1*0x267c+-0x1c7f*0x1+0x42fd))+parseInt(_0x28d9b4(0x184))/(-0x37e*0x4+0x13*0x1b5+-0x1274)*(parseInt(_0x28d9b4(0x1a8))/(-0x96c*0x4+-0xcc5*0x2+0x3f3e))+parseInt(_0x28d9b4(0x1a7))/(0x12ce+-0x1*-0x2bf+-0x1588)*(parseInt(_0x28d9b4(0x1a1))/(0x1f3*-0x9+-0x765*-0x5+-0x1368))+-parseInt(_0x28d9b4(0x1a5))/(0x1b5a+0x7b0+-0x2303)+parseInt(_0x28d9b4(0x1a4))/(0xdd7*-0x1+-0x6fb+-0x22*-0x9d)+parseInt(_0x28d9b4(0x1b3))/(0x7*-0x2e1+-0x1417+0x2847)*(parseInt(_0x28d9b4(0x1b0))/(0x23c9+-0x66a+-0x1d55))+-parseInt(_0x28d9b4(0x1b2))/(-0x172f+-0x13*-0x162+-0x30c)*(parseInt(_0x28d9b4(0x1cb))/(-0x456+0x1*0x1615+0xc5*-0x17));if(_0x5322c6===_0x56eb2e)break;else _0x482caa['push'](_0x482caa['shift']());}catch(_0x4bbeec){_0x482caa['push'](_0x482caa['shift']());}}}(_0x3ccb,0xb68f2+-0xaffde+-0x3c041*-0x2));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import _0x584f13 from'axios';export const name=_0x374f30(0x198);export const version='1.3.1';export const priority=-0xc*-0x18+0x61*-0x35+0x1*0x12ff;export const commands=[_0x374f30(0x1c2),'ringtone'];function _0x2427(_0x2ee0b5,_0x55c444){const _0x310f5c=_0x3ccb();return _0x2427=function(_0x172d48,_0x5d7257){_0x172d48=_0x172d48-(-0x4*-0x845+0x2e1*0x4+-0x7*0x62d);let _0x1bd9d9=_0x310f5c[_0x172d48];return _0x1bd9d9;},_0x2427(_0x2ee0b5,_0x55c444);}let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x467f62=[]){const _0x5db766=_0x374f30;try{const _0x4cb39c=new Set((await listSudo())['map'](String));for(const _0x24dd5a of _0x467f62){if(!_0x24dd5a?.['jid']||typeof _0x24dd5a[_0x5db766(0x186)]!=='string')continue;const _0x32ff94=normalizeToJid(_0x24dd5a['jid']);if(_0x32ff94&&_0x4cb39c[_0x5db766(0x1a2)](_0x32ff94))return _0x32ff94;if(_0x4cb39c[_0x5db766(0x1a2)](_0x24dd5a['jid']))return _0x24dd5a[_0x5db766(0x186)];}}catch(_0x5a706a){warn('['+name+(_0x5db766(0x182)+'edMatch\x20er'+_0x5db766(0x181))+(_0x5a706a['message']||_0x5a706a));}return null;}function extractDownloadUrl(_0x46955f){const _0x3c1f1c=_0x374f30;if(!_0x46955f)return null;if(typeof _0x46955f==='string'&&_0x46955f['startsWith']('http'))return _0x46955f;if(typeof _0x46955f!==_0x3c1f1c(0x185))return null;const _0x2dbd9e=[_0x3c1f1c(0x1d5)+'rl',_0x3c1f1c(0x1c5),'HD','hd',_0x3c1f1c(0x161),'video',_0x3c1f1c(0x1c6),_0x3c1f1c(0x165),_0x3c1f1c(0x192)];for(const _0x1520dc of _0x2dbd9e){if(_0x46955f[_0x1520dc]){const _0x435b58=extractDownloadUrl(_0x46955f[_0x1520dc]);if(_0x435b58)return _0x435b58;}}return null;}export async function initialize(_0x3c486b){const _0x470960=_0x374f30;botInstance=_0x3c486b,info('['+name+(_0x470960(0x176)+'zed\x20succes'+_0x470960(0x196)));}export async function cleanup(){const _0x25dced=_0x374f30;botInstance=null,respondedMsgIds[_0x25dced(0x1a3)](),info('['+name+(_0x25dced(0x1d3)+'up'));}export async function onMessage(_0x394067){const _0x4b82b7=_0x374f30;if(!_0x394067?.[_0x4b82b7(0x1c0)]||!_0x394067[_0x4b82b7(0x19e)])return;const _0x5c501a=_0x394067[_0x4b82b7(0x1c0)]['id'];if(_0x5c501a&&respondedMsgIds[_0x4b82b7(0x1a2)](_0x5c501a))return;_0x5c501a&&(respondedMsgIds[_0x4b82b7(0x18f)](_0x5c501a),setTimeout(()=>respondedMsgIds[_0x4b82b7(0x160)](_0x5c501a),-0x6772*-0x1+0x3b92+-0x2dd4));const _0x5ba8a0=(_0x394067[_0x4b82b7(0x188)]||'')[_0x4b82b7(0x16b)](),[_0x548b31,..._0x5f4aaf]=_0x5ba8a0[_0x4b82b7(0x1a9)](/\s+/),_0x53d847=_0x548b31['toLowerCas'+'e']();if(!commands[_0x4b82b7(0x1d7)](_0x53d847))return;if(!botInstance){botInstance=_0x394067[_0x4b82b7(0x17f)]||_0x394067[_0x4b82b7(0x1a0)]||null;if(!botInstance){warn('['+name+(_0x4b82b7(0x1bc)+_0x4b82b7(0x189)+'g.'));return;}}const _0x3901d9=getBotJid();let _0x373d4e=_0x3901d9;const _0x27787e=_0x394067['key'][_0x4b82b7(0x1ac)]||'',_0x202ae5=_0x27787e['endsWith'](_0x4b82b7(0x17e)),_0x49e644=Boolean(_0x394067[_0x4b82b7(0x1c0)][_0x4b82b7(0x1c1)]);if(!_0x49e644){if(_0x202ae5){const _0xb47275=await isadmin(botInstance,_0x394067)[_0x4b82b7(0x1bb)](()=>![]);if(!_0xb47275)return;_0x373d4e=_0x27787e;}else{const _0x2d50cb=await isSudo(botInstance,_0x394067)[_0x4b82b7(0x1bb)](()=>![]);if(!_0x2d50cb)return;const {findings:_0x2307b1}=userJidFromCtx(_0x394067),_0x50423c=await findStoredMatchFromFindings(_0x2307b1);if(!_0x50423c)return;_0x373d4e=_0x50423c;}}const _0x4da8e9=_0x5f4aaf[_0x4b82b7(0x15e)]('\x20');try{switch(_0x53d847){case'dla':await handleUniversalDownloader(_0x373d4e,_0x4da8e9,_0x394067);break;case _0x4b82b7(0x162):await handleRingtone(_0x373d4e,_0x4da8e9,_0x394067);break;}}catch(_0x3a7f88){error(_0x3a7f88,'['+name+(_0x4b82b7(0x164)+_0x4b82b7(0x16c))+_0x3a7f88['message']),await botInstance['sendMessag'+'e'](_0x373d4e,{'text':_0x4b82b7(0x178)+_0x4b82b7(0x187)+'r\x20occurred'+'.'},{'quoted':_0x394067['ms']});}}async function handleUniversalDownloader(_0x1d3d8c,_0xa02880,_0x555af5){const _0x463d3f=_0x374f30;if(!_0xa02880)return botInstance[_0x463d3f(0x1bd)+'e'](_0x1d3d8c,{'text':'Please\x20pro'+_0x463d3f(0x171)+_0x463d3f(0x1b9)+_0x463d3f(0x174)+'tct'},{'quoted':_0x555af5['ms']});await botInstance[_0x463d3f(0x1bd)+'e'](_0x1d3d8c,{'text':_0x463d3f(0x19b)+'ing,\x20pleas'+_0x463d3f(0x16a)},{'quoted':_0x555af5['ms']});let _0x49127f;if(_0xa02880[_0x463d3f(0x1d7)](_0x463d3f(0x172)+'m')||_0xa02880['includes'](_0x463d3f(0x180)))_0x49127f=_0x463d3f(0x1c7)+_0x463d3f(0x1ad)+_0x463d3f(0x1c3)+_0x463d3f(0x1ab)+'='+encodeURIComponent(_0xa02880);else{if(_0xa02880['includes'](_0x463d3f(0x19d)))_0x49127f='https://ap'+_0x463d3f(0x1ad)+'download/t'+_0x463d3f(0x1ca)+encodeURIComponent(_0xa02880);else{if(_0xa02880[_0x463d3f(0x1d7)](_0x463d3f(0x19a)+_0x463d3f(0x15d)))_0x49127f=_0x463d3f(0x1c7)+'i.bk9.dev/'+_0x463d3f(0x1af)+'nstagram?u'+'rl='+encodeURIComponent(_0xa02880);else{if(_0xa02880[_0x463d3f(0x1d7)](_0x463d3f(0x19f)+'om')||_0xa02880[_0x463d3f(0x1d7)](_0x463d3f(0x18c)))_0x49127f=_0x463d3f(0x1c7)+'i.bk9.dev/'+_0x463d3f(0x1d8)+_0x463d3f(0x177)+encodeURIComponent(_0xa02880);else{if(_0xa02880[_0x463d3f(0x1d7)](_0x463d3f(0x1cc)+_0x463d3f(0x15d))||_0xa02880[_0x463d3f(0x1d7)](_0x463d3f(0x15f)))_0x49127f=_0x463d3f(0x1c7)+'i.bk9.dev/'+_0x463d3f(0x175)+_0x463d3f(0x167)+'rl='+encodeURIComponent(_0xa02880);else{if(_0xa02880[_0x463d3f(0x1d7)]('mediafire.'+_0x463d3f(0x15d)))_0x49127f=_0x463d3f(0x1c7)+'i.bk9.dev/'+_0x463d3f(0x1b1)+_0x463d3f(0x166)+'rl='+encodeURIComponent(_0xa02880);else return botInstance[_0x463d3f(0x1bd)+'e'](_0x1d3d8c,{'text':_0x463d3f(0x173)+_0x463d3f(0x170)+_0x463d3f(0x191)+_0x463d3f(0x1a6)+_0x463d3f(0x1d2)+_0x463d3f(0x1ce)+'\x20Facebook,'+_0x463d3f(0x1c8)+_0x463d3f(0x18b)+_0x463d3f(0x1cf)},{'quoted':_0x555af5['ms']});}}}}}try{const _0xcecb01=await _0x584f13[_0x463d3f(0x1b8)](_0x49127f,{'timeout':0x7530}),_0x35c17c=extractDownloadUrl(_0xcecb01[_0x463d3f(0x1aa)]);if(!_0x35c17c)return botInstance['sendMessag'+'e'](_0x1d3d8c,{'text':_0x463d3f(0x1cd)+_0x463d3f(0x1b7)+_0x463d3f(0x17c)+_0x463d3f(0x193)+_0x463d3f(0x1d1)+_0x463d3f(0x197)},{'quoted':_0x555af5['ms']});const _0xec3e06=/\.(mp4|mov)(\?.*)?$/[_0x463d3f(0x169)](_0x35c17c);_0xec3e06?await botInstance['sendMessag'+'e'](_0x1d3d8c,{'video':{'url':_0x35c17c},'caption':_0x463d3f(0x1d0)},{'quoted':_0x555af5['ms']}):await botInstance[_0x463d3f(0x1bd)+'e'](_0x1d3d8c,{'document':{'url':_0x35c17c},'fileName':'downloaded'+_0x463d3f(0x1b4),'caption':_0x463d3f(0x1d0)},{'quoted':_0x555af5['ms']});}catch(_0xc4bc90){error(_0xc4bc90,_0x463d3f(0x190)+'load\x20faile'+'d\x20for\x20'+_0xa02880),await botInstance[_0x463d3f(0x1bd)+'e'](_0x1d3d8c,{'text':_0x463d3f(0x19c)+_0x463d3f(0x1ba)+'\x20content.\x20'+_0x463d3f(0x17a)+_0x463d3f(0x195)+'\x0a\x0atct'},{'quoted':_0x555af5['ms']});}}async function handleRingtone(_0x42d845,_0x5048d7,_0x22d72a){const _0x599db4=_0x374f30;if(!_0x5048d7)return botInstance[_0x599db4(0x1bd)+'e'](_0x42d845,{'text':_0x599db4(0x18d)+_0x599db4(0x1be)+'rch\x20term\x20f'+_0x599db4(0x163)+'one.\x0a\x0atct'},{'quoted':_0x22d72a['ms']});await botInstance[_0x599db4(0x1bd)+'e'](_0x42d845,{'text':_0x599db4(0x16e)+_0x599db4(0x168)+_0x599db4(0x17d)+_0x5048d7+_0x599db4(0x1b5)},{'quoted':_0x22d72a['ms']});try{const _0x16ab8f='https://ap'+'i.bk9.dev/'+'download/R'+'ingTone?q='+encodeURIComponent(_0x5048d7),_0xed4453=await _0x584f13[_0x599db4(0x1b8)](_0x16ab8f,{'timeout':0x4e20}),_0x5e4283=extractDownloadUrl(_0xed4453[_0x599db4(0x1aa)]);if(!_0x5e4283)return botInstance['sendMessag'+'e'](_0x42d845,{'text':_0x599db4(0x199)+_0x599db4(0x1b6)+'for\x20\x22'+_0x5048d7+_0x599db4(0x1ae)},{'quoted':_0x22d72a['ms']});await botInstance[_0x599db4(0x1bd)+'e'](_0x42d845,{'audio':{'url':_0x5e4283},'mimetype':_0x599db4(0x18e),'fileName':_0x5048d7+(_0x599db4(0x1c4)+_0x599db4(0x16f))},{'quoted':_0x22d72a['ms']});}catch(_0x130f8a){error(_0x130f8a,_0x599db4(0x1bf)+_0x599db4(0x179)+'\x20get\x20ringt'+_0x599db4(0x183)+_0x5048d7+'\x22'),await botInstance['sendMessag'+'e'](_0x42d845,{'text':_0x599db4(0x1c9)+_0x599db4(0x1d6)+_0x599db4(0x16d)+'ching\x20for\x20'+_0x599db4(0x1d4)+_0x599db4(0x17b)},{'quoted':_0x22d72a['ms']});}}