const _0x2c1c6e=_0x246f;(function(_0x1d928e,_0x151606){const _0x28f910=_0x246f,_0x39b3f2=_0x1d928e();while(!![]){try{const _0x572449=-parseInt(_0x28f910(0xd0))/(0xbbe+-0x1*0xf34+0x377)*(-parseInt(_0x28f910(0xec))/(-0x3*-0xbca+0x8*0x3ee+-0x42cc))+-parseInt(_0x28f910(0xcb))/(0x1a0d+0x77e+0x74*-0x4a)*(-parseInt(_0x28f910(0x11f))/(-0x7a3+-0x2159+0x2900))+parseInt(_0x28f910(0xcc))/(0x1*-0x11ef+0x5*-0x33c+0x2220)*(parseInt(_0x28f910(0xf6))/(-0x165d+0x265*0x1+0x13fe))+-parseInt(_0x28f910(0x106))/(0x1bee+0x16*-0x3a+0x16eb*-0x1)+-parseInt(_0x28f910(0xf5))/(-0x3*0xbb5+-0x12ae+0x35d5*0x1)*(-parseInt(_0x28f910(0xbd))/(-0x59*0x35+0x1191+-0xe5*-0x1))+parseInt(_0x28f910(0x115))/(-0x425+-0xaa9+0xed8)+-parseInt(_0x28f910(0xc0))/(-0x138+-0x1c5*-0xb+-0x1234);if(_0x572449===_0x151606)break;else _0x39b3f2['push'](_0x39b3f2['shift']());}catch(_0xe5d3ab){_0x39b3f2['push'](_0x39b3f2['shift']());}}}(_0x35f3,-0x7df3*-0xf+0x7bea1*-0x1+-0xdb*-0xd15));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import _0x3aecd9 from'axios';export const name=_0x2c1c6e(0x120);export const version=_0x2c1c6e(0xe3);export const priority=-0x584+-0x1*0x9a7+-0x1*-0xf35;function _0x246f(_0x2b9566,_0x3047df){const _0x8f51f6=_0x35f3();return _0x246f=function(_0x28f4de,_0x23e826){_0x28f4de=_0x28f4de-(-0x1*-0x1f2a+-0x574*0x4+-0x8a1);let _0xbce09b=_0x8f51f6[_0x28f4de];return _0xbce09b;},_0x246f(_0x2b9566,_0x3047df);}function _0x35f3(){const _0x224e99=['interest?u','audio/mpeg','endsWith','tiktok.com','dla','while\x20sear','mediafire.',',\x20Mediafir','522WVNWdw','❌\x20Failed\x20t','fb.watch','29263487YiGoqL','com','jid','e\x20invalid.','[ringtone]','tct','startsWith','content\x20at','for\x20\x22','or\x20a\x20ringt','add','10173jYOsvi','65dvtGmw','bot','iktok?url=','ringtone','1116313tOzXoc','nce\x20missin','one\x20found\x20','key','BK9','ror:\x20','data','vide\x20a\x20sea','facebook.c','\x22...','download/f','error:\x20','🔍\x20Searchin','Please\x20pro','[dla]\x20Down','result','toLowerCas','\x20to\x20downlo','t\x20find\x20dow','1.3.1','download/t','download_u','\x0a\x0atct','includes','https://ap','witter?url','r\x20occurred','❌\x20An\x20unexp','2Xztroo','tone:\x20\x22','ing,\x20pleas','has','video','zed\x20succes','nloadable\x20','❌\x20An\x20error','\x20Facebook,','139448DLrynD','523266hQJSOQ','join','❌\x20Could\x20no','one\x20for\x20\x22','delete','pin.it','o\x20download','get','Link\x20may\x20b','download/m','@g.us','\x20occurred\x20','rch\x20term\x20f','ingTone?q=','i.bk9.dev/','download/i','976717yDKhNS',']\x20handler\x20','ected\x20erro','\x20Failed\x20to','ad\x20from.\x0a\x0a','vide\x20a\x20URL','e\x20wait...',',\x20TikTok,\x20','d\x20for\x20','\x20Pinterest','trim',']\x20cleaned\x20','split','clear','.\x20Supporte','652030WVnnDq','instagram.','one.\x0a\x0atct','catch','text','downloaded','x.com','sendMessag','rl=','client','216CLCkpL','downloader','map','string','_ringtone.','ching\x20for\x20','Instagram,','mp3','isCommand'];_0x35f3=function(){return _0x224e99;};return _0x35f3();}export const commands=[_0x2c1c6e(0xb9),_0x2c1c6e(0xcf)];let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x56d52a=[]){const _0x499c7c=_0x2c1c6e;try{const _0x5d29d8=new Set((await listSudo())[_0x499c7c(0x121)](String));for(const _0x1a801a of _0x56d52a){if(!_0x1a801a?.[_0x499c7c(0xc2)]||typeof _0x1a801a['jid']!==_0x499c7c(0x122))continue;const _0x14f9ca=normalizeToJid(_0x1a801a[_0x499c7c(0xc2)]);if(_0x14f9ca&&_0x5d29d8[_0x499c7c(0xef)](_0x14f9ca))return _0x14f9ca;if(_0x5d29d8[_0x499c7c(0xef)](_0x1a801a[_0x499c7c(0xc2)]))return _0x1a801a[_0x499c7c(0xc2)];}}catch(_0x23e546){warn('['+name+(']\x20findStor'+'edMatch\x20er'+_0x499c7c(0xd5))+(_0x23e546['message']||_0x23e546));}return null;}function extractDownloadUrl(_0x270db7){const _0x4646af=_0x2c1c6e;if(!_0x270db7)return null;if(typeof _0x270db7===_0x4646af(0x122)&&_0x270db7[_0x4646af(0xc6)]('http'))return _0x270db7;if(typeof _0x270db7!=='object')return null;const _0x2a3468=[_0x4646af(0xe5)+'rl','url','HD','hd','dllink',_0x4646af(0xf0),'audio',_0x4646af(0xdf),_0x4646af(0xd4)];for(const _0x5b6dfc of _0x2a3468){if(_0x270db7[_0x5b6dfc]){const _0x3c63b0=extractDownloadUrl(_0x270db7[_0x5b6dfc]);if(_0x3c63b0)return _0x3c63b0;}}return null;}export async function initialize(_0x4fa6a7){const _0x393fea=_0x2c1c6e;botInstance=_0x4fa6a7,info('['+name+(']\x20initiali'+_0x393fea(0xf1)+'sfully.'));}export async function cleanup(){const _0x557c02=_0x2c1c6e;botInstance=null,respondedMsgIds[_0x557c02(0x113)](),info('['+name+(_0x557c02(0x111)+'up'));}export async function onMessage(_0x337f92){const _0x559286=_0x2c1c6e;if(!_0x337f92?.[_0x559286(0xd3)]||!_0x337f92[_0x559286(0x127)])return;const _0x4f65a5=_0x337f92[_0x559286(0xd3)]['id'];if(_0x4f65a5&&respondedMsgIds['has'](_0x4f65a5))return;_0x4f65a5&&(respondedMsgIds[_0x559286(0xca)](_0x4f65a5),setTimeout(()=>respondedMsgIds[_0x559286(0xfa)](_0x4f65a5),-0xbfe9*0x1+0x60ae+0xd46b));const _0x58ae81=(_0x337f92[_0x559286(0x119)]||'')[_0x559286(0x110)](),[_0x4dd48e,..._0x5baa15]=_0x58ae81[_0x559286(0x112)](/\s+/),_0x137f28=_0x4dd48e[_0x559286(0xe0)+'e']();if(!commands[_0x559286(0xe7)](_0x137f28))return;if(!botInstance){botInstance=_0x337f92[_0x559286(0xcd)]||_0x337f92[_0x559286(0x11e)]||null;if(!botInstance){warn('['+name+(']\x20botInsta'+_0x559286(0xd1)+'g.'));return;}}const _0x1cd5f1=getBotJid();let _0x1cf797=_0x1cd5f1;const _0x26a61a=_0x337f92[_0x559286(0xd3)]['remoteJid']||'',_0x12d60e=_0x26a61a[_0x559286(0x12a)](_0x559286(0x100)),_0x3bac74=Boolean(_0x337f92['key']['fromMe']);if(!_0x3bac74){if(_0x12d60e){const _0x5b0277=await isadmin(botInstance,_0x337f92)[_0x559286(0x118)](()=>![]);if(!_0x5b0277)return;_0x1cf797=_0x26a61a;}else{const _0x5ed0b9=await isSudo(botInstance,_0x337f92)[_0x559286(0x118)](()=>![]);if(!_0x5ed0b9)return;const {findings:_0x32b749}=userJidFromCtx(_0x337f92),_0x154106=await findStoredMatchFromFindings(_0x32b749);if(!_0x154106)return;_0x1cf797=_0x154106;}}const _0xd236b9=_0x5baa15[_0x559286(0xf7)]('\x20');try{switch(_0x137f28){case'dla':await handleUniversalDownloader(_0x1cf797,_0xd236b9,_0x337f92);break;case'ringtone':await handleRingtone(_0x1cf797,_0xd236b9,_0x337f92);break;}}catch(_0x257d1f){error(_0x257d1f,'['+name+(_0x559286(0x107)+_0x559286(0xdb))+_0x257d1f['message']),await botInstance['sendMessag'+'e'](_0x1cf797,{'text':_0x559286(0xeb)+_0x559286(0x108)+_0x559286(0xea)+'.'},{'quoted':_0x337f92['ms']});}}async function handleUniversalDownloader(_0x43e036,_0x477d19,_0x530e21){const _0x54bb6f=_0x2c1c6e;if(!_0x477d19)return botInstance[_0x54bb6f(0x11c)+'e'](_0x43e036,{'text':_0x54bb6f(0xdd)+_0x54bb6f(0x10b)+_0x54bb6f(0xe1)+_0x54bb6f(0x10a)+'tct'},{'quoted':_0x530e21['ms']});await botInstance[_0x54bb6f(0x11c)+'e'](_0x43e036,{'text':'📥\x20Download'+_0x54bb6f(0xee)+_0x54bb6f(0x10c)},{'quoted':_0x530e21['ms']});let _0x1c5dc6;if(_0x477d19[_0x54bb6f(0xe7)]('twitter.co'+'m')||_0x477d19[_0x54bb6f(0xe7)](_0x54bb6f(0x11b)))_0x1c5dc6='https://ap'+_0x54bb6f(0x104)+_0x54bb6f(0xe4)+_0x54bb6f(0xe9)+'='+encodeURIComponent(_0x477d19);else{if(_0x477d19[_0x54bb6f(0xe7)](_0x54bb6f(0x12b)))_0x1c5dc6=_0x54bb6f(0xe8)+_0x54bb6f(0x104)+'download/t'+_0x54bb6f(0xce)+encodeURIComponent(_0x477d19);else{if(_0x477d19[_0x54bb6f(0xe7)](_0x54bb6f(0x116)+_0x54bb6f(0xc1)))_0x1c5dc6=_0x54bb6f(0xe8)+_0x54bb6f(0x104)+_0x54bb6f(0x105)+'nstagram?u'+'rl='+encodeURIComponent(_0x477d19);else{if(_0x477d19['includes'](_0x54bb6f(0xd8)+'om')||_0x477d19[_0x54bb6f(0xe7)](_0x54bb6f(0xbf)))_0x1c5dc6=_0x54bb6f(0xe8)+'i.bk9.dev/'+_0x54bb6f(0xda)+'b?url='+encodeURIComponent(_0x477d19);else{if(_0x477d19[_0x54bb6f(0xe7)]('pinterest.'+_0x54bb6f(0xc1))||_0x477d19[_0x54bb6f(0xe7)](_0x54bb6f(0xfb)))_0x1c5dc6=_0x54bb6f(0xe8)+_0x54bb6f(0x104)+'download/p'+_0x54bb6f(0x128)+'rl='+encodeURIComponent(_0x477d19);else{if(_0x477d19[_0x54bb6f(0xe7)](_0x54bb6f(0xbb)+'com'))_0x1c5dc6='https://ap'+_0x54bb6f(0x104)+_0x54bb6f(0xff)+'ediafire?u'+_0x54bb6f(0x11d)+encodeURIComponent(_0x477d19);else return botInstance[_0x54bb6f(0x11c)+'e'](_0x43e036,{'text':'Unsupporte'+'d\x20platform'+_0x54bb6f(0x114)+'d:\x20Twitter'+_0x54bb6f(0x10d)+_0x54bb6f(0x125)+_0x54bb6f(0xf4)+_0x54bb6f(0x10f)+_0x54bb6f(0xbc)+'e.\x0a\x0atct'},{'quoted':_0x530e21['ms']});}}}}}try{const _0x2452eb=await _0x3aecd9[_0x54bb6f(0xfd)](_0x1c5dc6,{'timeout':0x7530}),_0x563599=extractDownloadUrl(_0x2452eb[_0x54bb6f(0xd6)]);if(!_0x563599)return botInstance['sendMessag'+'e'](_0x43e036,{'text':_0x54bb6f(0xf8)+_0x54bb6f(0xe2)+_0x54bb6f(0xf2)+_0x54bb6f(0xc7)+'\x20that\x20URL.'+'\x0a\x0atct'},{'quoted':_0x530e21['ms']});const _0x354463=/\.(mp4|mov)(\?.*)?$/['test'](_0x563599);_0x354463?await botInstance[_0x54bb6f(0x11c)+'e'](_0x43e036,{'video':{'url':_0x563599},'caption':_0x54bb6f(0xc5)},{'quoted':_0x530e21['ms']}):await botInstance[_0x54bb6f(0x11c)+'e'](_0x43e036,{'document':{'url':_0x563599},'fileName':_0x54bb6f(0x11a)+'_file','caption':_0x54bb6f(0xc5)},{'quoted':_0x530e21['ms']});}catch(_0x5833be){error(_0x5833be,_0x54bb6f(0xde)+'load\x20faile'+_0x54bb6f(0x10e)+_0x477d19),await botInstance[_0x54bb6f(0x11c)+'e'](_0x43e036,{'text':_0x54bb6f(0xbe)+_0x54bb6f(0xfc)+'\x20content.\x20'+_0x54bb6f(0xfe)+_0x54bb6f(0xc3)+_0x54bb6f(0xe6)},{'quoted':_0x530e21['ms']});}}async function handleRingtone(_0x2a7147,_0x525bc5,_0x268e00){const _0x4b54e9=_0x2c1c6e;if(!_0x525bc5)return botInstance[_0x4b54e9(0x11c)+'e'](_0x2a7147,{'text':_0x4b54e9(0xdd)+_0x4b54e9(0xd7)+_0x4b54e9(0x102)+_0x4b54e9(0xc9)+_0x4b54e9(0x117)},{'quoted':_0x268e00['ms']});await botInstance['sendMessag'+'e'](_0x2a7147,{'text':_0x4b54e9(0xdc)+'g\x20for\x20ring'+_0x4b54e9(0xed)+_0x525bc5+_0x4b54e9(0xd9)},{'quoted':_0x268e00['ms']});try{const _0x4267a2=_0x4b54e9(0xe8)+_0x4b54e9(0x104)+'download/R'+_0x4b54e9(0x103)+encodeURIComponent(_0x525bc5),_0x4f5315=await _0x3aecd9[_0x4b54e9(0xfd)](_0x4267a2,{'timeout':0x4e20}),_0x1b9bf3=extractDownloadUrl(_0x4f5315[_0x4b54e9(0xd6)]);if(!_0x1b9bf3)return botInstance[_0x4b54e9(0x11c)+'e'](_0x2a7147,{'text':'❌\x20No\x20ringt'+_0x4b54e9(0xd2)+_0x4b54e9(0xc8)+_0x525bc5+'\x22.\x0a\x0atct'},{'quoted':_0x268e00['ms']});await botInstance[_0x4b54e9(0x11c)+'e'](_0x2a7147,{'audio':{'url':_0x1b9bf3},'mimetype':_0x4b54e9(0x129),'fileName':_0x525bc5+(_0x4b54e9(0x123)+_0x4b54e9(0x126))},{'quoted':_0x268e00['ms']});}catch(_0x2ddc08){error(_0x2ddc08,_0x4b54e9(0xc4)+_0x4b54e9(0x109)+'\x20get\x20ringt'+_0x4b54e9(0xf9)+_0x525bc5+'\x22'),await botInstance[_0x4b54e9(0x11c)+'e'](_0x2a7147,{'text':_0x4b54e9(0xf3)+_0x4b54e9(0x101)+_0x4b54e9(0xba)+_0x4b54e9(0x124)+'the\x20ringto'+'ne.\x0a\x0atct'},{'quoted':_0x268e00['ms']});}}