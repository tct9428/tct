const _0x128097=_0x478e;(function(_0x192d30,_0x4fdb8b){const _0x406117=_0x478e,_0x3aa461=_0x192d30();while(!![]){try{const _0x22a391=parseInt(_0x406117(0x21a))/(0x10*0x11+0x2*-0x23f+0x3*0x125)+parseInt(_0x406117(0x216))/(-0x5*-0x323+0x1acd*0x1+-0x2a7a)+-parseInt(_0x406117(0x21f))/(0xead*-0x2+-0xf*0x1ab+0x3662)+parseInt(_0x406117(0x1f3))/(0x7*-0xde+-0x1*-0x8d3+-0x2bd*0x1)+-parseInt(_0x406117(0x225))/(-0x1*-0x41f+0x19ce*-0x1+0x15b4)+-parseInt(_0x406117(0x23c))/(0xea7+-0x1ad0+0xc2f)*(-parseInt(_0x406117(0x22f))/(0x6ec+-0x1*0x25bd+-0x7b6*-0x4))+-parseInt(_0x406117(0x22e))/(0x9bd*-0x2+-0x1380+0x2702*0x1)*(parseInt(_0x406117(0x23d))/(0xda3+-0x12*-0xa4+-0x1922));if(_0x22a391===_0x4fdb8b)break;else _0x3aa461['push'](_0x3aa461['shift']());}catch(_0x9ae1bf){_0x3aa461['push'](_0x3aa461['shift']());}}}(_0x4e63,0x4a70e*0x5+0x21a35+-0x4*0x355d1));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';import _0x118948 from'axios';export const name=_0x128097(0x245);export const version=_0x128097(0x210);export const priority=-0x119*-0x7+-0x20*-0x12+-0x1*0x9e5;export const commands=['dla',_0x128097(0x231)];let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x9ca6a5=[]){const _0x4a7901=_0x128097;try{const _0x44f544=new Set((await listSudo())['map'](String));for(const _0x347298 of _0x9ca6a5){if(!_0x347298?.[_0x4a7901(0x23b)]||typeof _0x347298['jid']!==_0x4a7901(0x25e))continue;const _0x1e60f8=normalizeToJid(_0x347298[_0x4a7901(0x23b)]);if(_0x1e60f8&&_0x44f544[_0x4a7901(0x260)](_0x1e60f8))return _0x1e60f8;if(_0x44f544['has'](_0x347298[_0x4a7901(0x23b)]))return _0x347298[_0x4a7901(0x23b)];}}catch(_0x31acae){warn('['+name+(_0x4a7901(0x240)+'edMatch\x20er'+_0x4a7901(0x242))+(_0x31acae[_0x4a7901(0x213)]||_0x31acae));}return null;}function extractDownloadUrl(_0x390e1a){const _0x1e53a3=_0x128097;if(!_0x390e1a)return null;if(typeof _0x390e1a===_0x1e53a3(0x25e)&&_0x390e1a['startsWith'](_0x1e53a3(0x218)))return _0x390e1a;if(typeof _0x390e1a!==_0x1e53a3(0x1f9))return null;const _0x4a5464=[_0x1e53a3(0x25a)+'rl',_0x1e53a3(0x24d),'HD','hd',_0x1e53a3(0x206),_0x1e53a3(0x20b),_0x1e53a3(0x224),_0x1e53a3(0x257),_0x1e53a3(0x261)];for(const _0x2ffbba of _0x4a5464){if(_0x390e1a[_0x2ffbba]){const _0x115875=extractDownloadUrl(_0x390e1a[_0x2ffbba]);if(_0x115875)return _0x115875;}}return null;}function _0x4e63(){const _0x560399=['ediafire?u','add','audio','6806720DrDaRE',',\x20Mediafir','rch\x20term\x20f','[dla]\x20Down','o\x20download','load\x20faile','\x0a\x0atct','key','.\x20Supporte','16397992pcHipr','10436041pOQtYY','audio/mpeg','ringtone','instagram.','content\x20at','üì•\x20Download','download/t','zed\x20succes','or\x20a\x20ringt','‚ùå\x20Could\x20no','while\x20sear','sfully.','jid','6mkitHa','9VsYDtj','\x20to\x20downlo','\x20content.\x20',']\x20findStor','x.com','ror:\x20','endsWith','r\x20occurred','downloader','data','e\x20invalid.','facebook.c','Instagram,','twitter.co','https://ap','ching\x20for\x20','url','d:\x20Twitter',']\x20initiali','üîç\x20Searchin','isCommand','catch','remoteJid','tct','pinterest.','t\x20find\x20dow','result',']\x20cleaned\x20','vide\x20a\x20URL','download_u','d\x20for\x20','e\x20wait...','com','string','nce\x20missin','has','BK9','includes','‚ùå\x20An\x20unexp','g\x20for\x20ring','trim','clear','pin.it','join','ing,\x20pleas','e.\x0a\x0atct','error:\x20','@g.us','toLowerCas','3016116UlhnrQ','b?url=','download/R','nstagram?u','ne.\x0a\x0atct','one\x20for\x20\x22','object','split','[ringtone]','i.bk9.dev/','\x22.\x0a\x0atct','\x22...','rl=','Unsupporte','mp3','get','\x20Failed\x20to','d\x20platform','download/i','dllink','nloadable\x20','one\x20found\x20','text','Please\x20pro','video','‚ùå\x20No\x20ringt','dla','one.\x0a\x0atct','_file','1.3.1','‚ùå\x20Failed\x20t','test','message',']\x20handler\x20','downloaded','1737076qHdayS','interest?u','http','download/m','1453502pFbEYG','delete','sendMessag','mediafire.','\x20occurred\x20','1103448WuXjrN','Link\x20may\x20b','witter?url'];_0x4e63=function(){return _0x560399;};return _0x4e63();}export async function initialize(_0x43499e){const _0x2be0bc=_0x128097;botInstance=_0x43499e,info('['+name+(_0x2be0bc(0x24f)+_0x2be0bc(0x236)+_0x2be0bc(0x23a)));}export async function cleanup(){const _0x4abcc2=_0x128097;botInstance=null,respondedMsgIds[_0x4abcc2(0x1eb)](),info('['+name+(_0x4abcc2(0x258)+'up'));}export async function onMessage(_0x459254){const _0x808736=_0x128097;if(!_0x459254?.[_0x808736(0x22c)]||!_0x459254[_0x808736(0x251)])return;const _0x2f3696=_0x459254[_0x808736(0x22c)]['id'];if(_0x2f3696&&respondedMsgIds[_0x808736(0x260)](_0x2f3696))return;_0x2f3696&&(respondedMsgIds[_0x808736(0x223)](_0x2f3696),setTimeout(()=>respondedMsgIds[_0x808736(0x21b)](_0x2f3696),-0xa583+0x17*-0x55d+-0x2d1e*-0x9));const _0x341b4c=(_0x459254[_0x808736(0x209)]||'')[_0x808736(0x1ea)](),[_0x53ea8a,..._0xede284]=_0x341b4c[_0x808736(0x1fa)](/\s+/),_0x4e814e=_0x53ea8a[_0x808736(0x1f2)+'e']();if(!commands['includes'](_0x4e814e))return;if(!botInstance){botInstance=_0x459254['bot']||_0x459254['client']||null;if(!botInstance){warn('['+name+(']\x20botInsta'+_0x808736(0x25f)+'g.'));return;}}const _0x132dd9=getBotJid();let _0x31478c=_0x132dd9;const _0x1905f7=_0x459254[_0x808736(0x22c)][_0x808736(0x253)]||'',_0x50766e=_0x1905f7[_0x808736(0x243)](_0x808736(0x1f1)),_0x265cc7=Boolean(_0x459254[_0x808736(0x22c)]['fromMe']);if(!_0x265cc7){if(_0x50766e){const _0x17f8c5=await isadmin(botInstance,_0x459254)[_0x808736(0x252)](()=>![]);if(!_0x17f8c5)return;_0x31478c=_0x1905f7;}else{const _0x3151c5=await isSudo(botInstance,_0x459254)[_0x808736(0x252)](()=>![]);if(!_0x3151c5)return;const {findings:_0x8dd67a}=userJidFromCtx(_0x459254),_0x3668e3=await findStoredMatchFromFindings(_0x8dd67a);if(!_0x3668e3)return;_0x31478c=_0x3668e3;}}const _0x1cd6d6=_0xede284[_0x808736(0x1ed)]('\x20');try{switch(_0x4e814e){case _0x808736(0x20d):await handleUniversalDownloader(_0x31478c,_0x1cd6d6,_0x459254);break;case _0x808736(0x231):await handleRingtone(_0x31478c,_0x1cd6d6,_0x459254);break;}}catch(_0x2fa230){error(_0x2fa230,'['+name+(_0x808736(0x214)+_0x808736(0x1f0))+_0x2fa230['message']),await botInstance[_0x808736(0x21c)+'e'](_0x31478c,{'text':_0x808736(0x1e8)+'ected\x20erro'+_0x808736(0x244)+'.'},{'quoted':_0x459254['ms']});}}function _0x478e(_0x8359cf,_0x49aa11){_0x8359cf=_0x8359cf-(0xf29*0x1+-0xc5b+-0xb*0x15);const _0x57c31c=_0x4e63();let _0x3910d7=_0x57c31c[_0x8359cf];return _0x3910d7;}async function handleUniversalDownloader(_0x54ce6a,_0x487036,_0x735c87){const _0x43f1e8=_0x128097;if(!_0x487036)return botInstance[_0x43f1e8(0x21c)+'e'](_0x54ce6a,{'text':_0x43f1e8(0x20a)+_0x43f1e8(0x259)+_0x43f1e8(0x23e)+'ad\x20from.\x0a\x0a'+_0x43f1e8(0x254)},{'quoted':_0x735c87['ms']});await botInstance[_0x43f1e8(0x21c)+'e'](_0x54ce6a,{'text':_0x43f1e8(0x234)+_0x43f1e8(0x1ee)+_0x43f1e8(0x25c)},{'quoted':_0x735c87['ms']});let _0x3e589c;if(_0x487036['includes'](_0x43f1e8(0x24a)+'m')||_0x487036[_0x43f1e8(0x1e7)](_0x43f1e8(0x241)))_0x3e589c=_0x43f1e8(0x24b)+'i.bk9.dev/'+'download/t'+_0x43f1e8(0x221)+'='+encodeURIComponent(_0x487036);else{if(_0x487036[_0x43f1e8(0x1e7)]('tiktok.com'))_0x3e589c='https://ap'+_0x43f1e8(0x1fc)+_0x43f1e8(0x235)+'iktok?url='+encodeURIComponent(_0x487036);else{if(_0x487036[_0x43f1e8(0x1e7)](_0x43f1e8(0x232)+_0x43f1e8(0x25d)))_0x3e589c=_0x43f1e8(0x24b)+'i.bk9.dev/'+_0x43f1e8(0x205)+_0x43f1e8(0x1f6)+_0x43f1e8(0x1ff)+encodeURIComponent(_0x487036);else{if(_0x487036[_0x43f1e8(0x1e7)](_0x43f1e8(0x248)+'om')||_0x487036[_0x43f1e8(0x1e7)]('fb.watch'))_0x3e589c='https://ap'+_0x43f1e8(0x1fc)+'download/f'+_0x43f1e8(0x1f4)+encodeURIComponent(_0x487036);else{if(_0x487036[_0x43f1e8(0x1e7)](_0x43f1e8(0x255)+_0x43f1e8(0x25d))||_0x487036[_0x43f1e8(0x1e7)](_0x43f1e8(0x1ec)))_0x3e589c=_0x43f1e8(0x24b)+'i.bk9.dev/'+'download/p'+_0x43f1e8(0x217)+'rl='+encodeURIComponent(_0x487036);else{if(_0x487036[_0x43f1e8(0x1e7)](_0x43f1e8(0x21d)+'com'))_0x3e589c=_0x43f1e8(0x24b)+_0x43f1e8(0x1fc)+_0x43f1e8(0x219)+_0x43f1e8(0x222)+_0x43f1e8(0x1ff)+encodeURIComponent(_0x487036);else return botInstance[_0x43f1e8(0x21c)+'e'](_0x54ce6a,{'text':_0x43f1e8(0x200)+_0x43f1e8(0x204)+_0x43f1e8(0x22d)+_0x43f1e8(0x24e)+',\x20TikTok,\x20'+_0x43f1e8(0x249)+'\x20Facebook,'+'\x20Pinterest'+_0x43f1e8(0x226)+_0x43f1e8(0x1ef)},{'quoted':_0x735c87['ms']});}}}}}try{const _0x430f17=await _0x118948[_0x43f1e8(0x202)](_0x3e589c,{'timeout':0x7530}),_0x410a66=extractDownloadUrl(_0x430f17[_0x43f1e8(0x246)]);if(!_0x410a66)return botInstance[_0x43f1e8(0x21c)+'e'](_0x54ce6a,{'text':_0x43f1e8(0x238)+_0x43f1e8(0x256)+_0x43f1e8(0x207)+_0x43f1e8(0x233)+'\x20that\x20URL.'+'\x0a\x0atct'},{'quoted':_0x735c87['ms']});const _0x482b1f=/\.(mp4|mov)(\?.*)?$/[_0x43f1e8(0x212)](_0x410a66);_0x482b1f?await botInstance['sendMessag'+'e'](_0x54ce6a,{'video':{'url':_0x410a66},'caption':'tct'},{'quoted':_0x735c87['ms']}):await botInstance['sendMessag'+'e'](_0x54ce6a,{'document':{'url':_0x410a66},'fileName':_0x43f1e8(0x215)+_0x43f1e8(0x20f),'caption':'tct'},{'quoted':_0x735c87['ms']});}catch(_0xd7289b){error(_0xd7289b,_0x43f1e8(0x228)+_0x43f1e8(0x22a)+_0x43f1e8(0x25b)+_0x487036),await botInstance[_0x43f1e8(0x21c)+'e'](_0x54ce6a,{'text':_0x43f1e8(0x211)+_0x43f1e8(0x229)+_0x43f1e8(0x23f)+_0x43f1e8(0x220)+_0x43f1e8(0x247)+_0x43f1e8(0x22b)},{'quoted':_0x735c87['ms']});}}async function handleRingtone(_0x5c71f6,_0x1a3fa0,_0x38ea38){const _0x56d289=_0x128097;if(!_0x1a3fa0)return botInstance[_0x56d289(0x21c)+'e'](_0x5c71f6,{'text':_0x56d289(0x20a)+'vide\x20a\x20sea'+_0x56d289(0x227)+_0x56d289(0x237)+_0x56d289(0x20e)},{'quoted':_0x38ea38['ms']});await botInstance[_0x56d289(0x21c)+'e'](_0x5c71f6,{'text':_0x56d289(0x250)+_0x56d289(0x1e9)+'tone:\x20\x22'+_0x1a3fa0+_0x56d289(0x1fe)},{'quoted':_0x38ea38['ms']});try{const _0x25f88a=_0x56d289(0x24b)+_0x56d289(0x1fc)+_0x56d289(0x1f5)+'ingTone?q='+encodeURIComponent(_0x1a3fa0),_0x22d3a6=await _0x118948[_0x56d289(0x202)](_0x25f88a,{'timeout':0x4e20}),_0x3a6ec4=extractDownloadUrl(_0x22d3a6[_0x56d289(0x246)]);if(!_0x3a6ec4)return botInstance[_0x56d289(0x21c)+'e'](_0x5c71f6,{'text':_0x56d289(0x20c)+_0x56d289(0x208)+'for\x20\x22'+_0x1a3fa0+_0x56d289(0x1fd)},{'quoted':_0x38ea38['ms']});await botInstance[_0x56d289(0x21c)+'e'](_0x5c71f6,{'audio':{'url':_0x3a6ec4},'mimetype':_0x56d289(0x230),'fileName':_0x1a3fa0+('_ringtone.'+_0x56d289(0x201))},{'quoted':_0x38ea38['ms']});}catch(_0x9bdca5){error(_0x9bdca5,_0x56d289(0x1fb)+_0x56d289(0x203)+'\x20get\x20ringt'+_0x56d289(0x1f8)+_0x1a3fa0+'\x22'),await botInstance[_0x56d289(0x21c)+'e'](_0x5c71f6,{'text':'‚ùå\x20An\x20error'+_0x56d289(0x21e)+_0x56d289(0x239)+_0x56d289(0x24c)+'the\x20ringto'+_0x56d289(0x1f7)},{'quoted':_0x38ea38['ms']});}}