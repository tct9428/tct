function _0x378f(_0x5d34f,_0x577acf){const _0x515d49=_0x79ad();return _0x378f=function(_0x509441,_0x4a696b){_0x509441=_0x509441-(-0x26bb+-0x1*-0x22fb+0x2b*0x1f);let _0xe9de0e=_0x515d49[_0x509441];return _0xe9de0e;},_0x378f(_0x5d34f,_0x577acf);}const _0x1af9eb=_0x378f;(function(_0x57c565,_0x55ddff){const _0x33a6f3=_0x378f,_0x4587de=_0x57c565();while(!![]){try{const _0x5ec86e=-parseInt(_0x33a6f3(0x1a7))/(0x6b7+0x1c4a+-0x2300)*(-parseInt(_0x33a6f3(0x1e8))/(-0x1*0x238c+0x7ab+0xb*0x289))+parseInt(_0x33a6f3(0x1cd))/(0x19d9+-0x1*-0x4f3+0xd5*-0x25)*(parseInt(_0x33a6f3(0x1ed))/(0x14c4+0x1a78+-0x2f38))+parseInt(_0x33a6f3(0x195))/(-0x1fbc+-0x200+-0x1*-0x21c1)*(-parseInt(_0x33a6f3(0x19e))/(-0x1597*-0x1+-0x3*-0x287+-0x1*0x1d26))+parseInt(_0x33a6f3(0x1bb))/(0x274+-0x34*-0x7f+-0x1c39)*(parseInt(_0x33a6f3(0x19a))/(-0x1*0xf54+-0x902+0x185e))+-parseInt(_0x33a6f3(0x205))/(0x1cd4+-0x17db+-0x4f0)*(-parseInt(_0x33a6f3(0x1a9))/(0x24*-0x111+0x1*-0x23b7+0x4a25))+-parseInt(_0x33a6f3(0x184))/(0x2563+0x1b96+-0x1*0x40ee)+parseInt(_0x33a6f3(0x1df))/(0x3*-0x8a5+-0x19*-0x18e+-0xce3)*(-parseInt(_0x33a6f3(0x1a5))/(-0x267e+0x2*-0x11d5+0x4a35*0x1));if(_0x5ec86e===_0x55ddff)break;else _0x4587de['push'](_0x4587de['shift']());}catch(_0x4dc142){_0x4587de['push'](_0x4587de['shift']());}}}(_0x79ad,0x5*0x4d39b+0x6bd11+-0x12a92c));function _0x79ad(){const _0x5d08de=['toLocaleSt','clear','1.1.0','g;\x20cannot\x20','\x20or\x20`time\x20','240EdlEBw','mezone',':\x20replied\x20','Europe/Lon','jid','now','client','text','major\x20city','37568NnvaPZ','zoneName','country_ti','message','\x20to\x20know\x20i','729076qVZktL','ry\x20name\x20(e','Error\x20form','dConfig\x20re','imezone\x20ma','fromMe','ly\x20resolve',':\x20initiali','\x0a╰════════','\x20an\x20IANA\x20t','America/Ne','\x0a│\x20⌚\x20Zone:','add','chatId;\x20sk','trim','slice','length','w_York','\x20cleaned\x20u','\x20—\x20ignorin','don`','isArray','Invalid\x20ti','findings','19107OEeaCp','\x20in\x20group\x20','cessfully','\x20failed:\x20','robi',':\x20unknown\x20','name\x20of\x20th','remoteJid','ajor\x20city\x20','function',':\x20findStor','toISO','.g.\x20\x22Afric',',\x20botJidRa','sendMessag','imezone\x20/\x20','\x20handler\x20e','10394945GuAMLA','\x20send\x20PM-s','(or\x20IANA\x20t','edMatchFro','d\x20date.\x0a\x0aE','parse','normalize','onfig\x20erro','xample:\x20`t','cwd','ezone.\x0aPle','ck\x20failed:','nce\x20missin','a/Nairobi\x22',':\x20botJid\x20n',')\x20you\x20want','unknown','63740MbHRAD','atting\x20tim','ime\x20Kenya`','╭─❏\x20time\x20❏','proceed.','528OcMKXh','for\x20','NFD','══⊷\x0a\x0a(.)','618NljDgw','ppings\x20suc','string','time.json','\x22),\x0a\x20•\x20a\x20m','DATETIME_M','ase\x20provid','945425fyztRH','utf8','44pAmxuT','dConfig\x20ha','7050DyeAPj','bot','ipping.','\x20(origin=','don','mFindings\x20','toLowerCas',':\x20timezone','isValid','r:\x20',':\x20Loaded\x20t','robi\x22),\x0a\x20•','zed.','TIMEZONE','g\x20(PM-only','CONDS','tyle\x20reply','data','77574AQKFdc',':\x20hotReloa','ts\x20time\x20an','rror','from','key','\x20•\x20a\x20count',':\x20Failed\x20t','has','\x20cleanup\x20e','gistration',':\x20botInsta','Enter\x20the\x20','ndler\x20erro','le;\x20cannot','rror:\x20','\x20set\x20to\x20','I\x20couldn\x27t','24goDTqI','.g.\x20\x22Kenya','with\x20time\x20','human',':\x20refreshC','ot\x20availab','_bot','\x20confident','replace','time','Africa/Nai','ezone\x20mapp','endsWith'];_0x79ad=function(){return _0x5d08de;};return _0x79ad();}import{readFileSync}from'fs';import{join}from'path';import{DateTime}from'luxon';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid,getBotJidRaw}from'../utils/bot-state.js';export const name=_0x1af9eb(0x1d6);export const version=_0x1af9eb(0x1dc);export const priority=0x1af3+0x15e5+-0x2*0x1867;let botInstance=null,respondedMsgIds=new Set(),DEFAULT_TIMEZONE=_0x1af9eb(0x1d7)+_0x1af9eb(0x177);const timeDataPath=join(process[_0x1af9eb(0x18d)](),_0x1af9eb(0x1ba),_0x1af9eb(0x1d6),_0x1af9eb(0x1a1));let COUNTRY_TIMEZONES={},CITY_MAP={};try{const timeData=JSON[_0x1af9eb(0x189)](readFileSync(timeDataPath,_0x1af9eb(0x1a6)));COUNTRY_TIMEZONES=timeData[_0x1af9eb(0x1ea)+'mezones']||{},CITY_MAP=timeData['city_map']||{},info(name+(_0x1af9eb(0x1b3)+_0x1af9eb(0x1f1)+_0x1af9eb(0x19f)+_0x1af9eb(0x175)));}catch(_0x214734){warn(name+(_0x1af9eb(0x1c2)+'o\x20load\x20tim'+_0x1af9eb(0x1d8)+'ings:\x20')+_0x214734[_0x1af9eb(0x1eb)]),COUNTRY_TIMEZONES={'kenya':'Africa/Nai'+_0x1af9eb(0x177),'uk':'Europe/Lon'+_0x1af9eb(0x1ad),'usa':_0x1af9eb(0x1f7)+'w_York'},CITY_MAP={'nairobi':_0x1af9eb(0x1d7)+'robi','london':_0x1af9eb(0x1e2)+_0x1af9eb(0x1ad),'new\x20york':_0x1af9eb(0x1f7)+_0x1af9eb(0x1fe)};}function refreshConfig(){const _0x503da7=_0x1af9eb;try{const _0x3329b2=typeof getConfig===_0x503da7(0x17c)?getConfig()||{}:{};DEFAULT_TIMEZONE=_0x3329b2[_0x503da7(0x1b6)]||_0x3329b2['TIMEZONE_N'+'AME']||DEFAULT_TIMEZONE,info(name+(_0x503da7(0x1b0)+_0x503da7(0x1cb))+DEFAULT_TIMEZONE);}catch(_0x2cdabb){warn(name+(_0x503da7(0x1d1)+_0x503da7(0x18b)+_0x503da7(0x1b2))+(_0x2cdabb?.['message']||_0x2cdabb));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0x4da9d7=_0x1af9eb;try{refreshConfig();}catch(_0x157339){warn(name+(_0x4da9d7(0x1bc)+_0x4da9d7(0x1a8)+_0x4da9d7(0x1c8)+'r:\x20')+(_0x157339?.[_0x4da9d7(0x1eb)]||_0x157339));}});}catch(_0x4ff71f){warn(name+(_0x1af9eb(0x1bc)+_0x1af9eb(0x1f0)+_0x1af9eb(0x1c5)+_0x1af9eb(0x176))+(_0x4ff71f?.[_0x1af9eb(0x1eb)]||_0x4ff71f));}refreshConfig();function normalizeKey(_0x1e2bcf){const _0x593548=_0x1af9eb;if(!_0x1e2bcf||typeof _0x1e2bcf!=='string')return'';let _0x208c73=_0x1e2bcf[_0x593548(0x1af)+'e']()['trim']();return _0x208c73=_0x208c73[_0x593548(0x18a)](_0x593548(0x19c))[_0x593548(0x1d5)](/\p{Diacritic}/gu,''),_0x208c73=_0x208c73[_0x593548(0x1d5)](/[._/\\-]+/g,'\x20'),_0x208c73=_0x208c73[_0x593548(0x1d5)](/\s+/g,'\x20')[_0x593548(0x1fb)](),_0x208c73;}function formatTimestampForZone(_0x17eb23){const _0x2edce3=_0x1af9eb;try{const _0x289fb8=DateTime[_0x2edce3(0x1e4)]()['setZone'](_0x17eb23);if(!_0x289fb8[_0x2edce3(0x1b1)])return{'human':_0x2edce3(0x203)+_0x2edce3(0x1e0),'iso':null,'zoneName':_0x17eb23};return{'human':_0x289fb8[_0x2edce3(0x1da)+'ring'](DateTime[_0x2edce3(0x1a3)+'ED_WITH_SE'+_0x2edce3(0x1b8)]),'iso':_0x289fb8[_0x2edce3(0x17e)](),'zoneName':_0x289fb8[_0x2edce3(0x1e9)]};}catch(_0x154a27){return{'human':_0x2edce3(0x1ef)+_0x2edce3(0x196)+'e','iso':null,'zoneName':_0x17eb23};}}function buildBoxForTime(_0x336cae,_0x3803c2,_0x136935){const _0x37b601=_0x1af9eb;return _0x37b601(0x198)+'═══⊷\x0a│\x20📍\x20'+_0x336cae+'\x0a│\x20🕒\x20'+_0x3803c2+(_0x37b601(0x1f8)+'\x20')+_0x136935+(_0x37b601(0x1f5)+_0x37b601(0x19d));}export async function initialize(_0x4b9def){const _0x64702b=_0x1af9eb;botInstance=_0x4b9def,info(name+(_0x64702b(0x1f4)+_0x64702b(0x1b5))),refreshConfig();}async function findStoredMatchFromFindings(_0x39a74a=[]){const _0x5765d3=_0x1af9eb;try{if(!Array[_0x5765d3(0x202)](_0x39a74a)||_0x39a74a['length']===0x1709+0x1bef+-0x32f8)return null;const _0x40283f=await listSudo();if(!Array[_0x5765d3(0x202)](_0x40283f)||_0x40283f[_0x5765d3(0x1fd)]===0x6*0x2c3+0x1c00+-0x2c92)return null;const _0x359759=new Set(_0x40283f['map'](_0x7cd1f2=>String(_0x7cd1f2)));for(const _0x325236 of _0x39a74a){if(!_0x325236||!_0x325236[_0x5765d3(0x1e3)]||typeof _0x325236['jid']!==_0x5765d3(0x1a0))continue;try{const _0x434592=normalizeToJid(_0x325236['jid']);if(_0x434592&&_0x359759[_0x5765d3(0x1c3)](_0x434592))return _0x434592;if(_0x359759[_0x5765d3(0x1c3)](_0x325236[_0x5765d3(0x1e3)]))return _0x325236['jid'];}catch(_0x28fbd0){}}return null;}catch(_0x4b0d83){return warn(name+(_0x5765d3(0x17d)+_0x5765d3(0x187)+_0x5765d3(0x1ae)+'error:\x20')+(_0x4b0d83?.[_0x5765d3(0x1eb)]||_0x4b0d83)),null;}}export async function onMessage(_0x5caec6){const _0x972f96=_0x1af9eb;try{if(!_0x5caec6||!_0x5caec6['key'])return;const _0x3b87e8=_0x5caec6[_0x972f96(0x1c0)]?.['id'];if(_0x3b87e8&&respondedMsgIds['has'](_0x3b87e8))return;if(!_0x5caec6['isCommand'])return;const _0x1434ac=(_0x5caec6[_0x972f96(0x1e6)]||'')[_0x972f96(0x1fb)]();if(!_0x1434ac)return;const _0x2e4c1c=_0x1434ac['toLowerCas'+'e']();if(!_0x2e4c1c['startsWith'](_0x972f96(0x1d6)))return;const _0x38b081=_0x2e4c1c===_0x972f96(0x1d6)?'':_0x1434ac['replace'](/^time\s+/i,'')[_0x972f96(0x1fb)]();if(_0x3b87e8)respondedMsgIds[_0x972f96(0x1f9)](_0x3b87e8);const _0x48a6d8=_0x5caec6[_0x972f96(0x17a)]||_0x5caec6[_0x972f96(0x1c0)]?.[_0x972f96(0x17a)]||_0x972f96(0x194);if(_0x48a6d8===_0x972f96(0x194)){warn(name+(_0x972f96(0x178)+_0x972f96(0x1fa)+_0x972f96(0x1ab)));return;}const _0x2035f8=String(_0x48a6d8)[_0x972f96(0x1d9)]('@g.us');if(_0x2035f8){info(name+(':\x20received'+_0x972f96(0x206))+_0x48a6d8+(_0x972f96(0x200)+_0x972f96(0x1b7)+'\x20command).'));return;}if(!botInstance){botInstance=_0x5caec6[_0x972f96(0x1aa)]||_0x5caec6[_0x972f96(0x1e5)]||_0x5caec6[_0x972f96(0x1d3)]||null;if(!botInstance){warn(name+(_0x972f96(0x1c6)+_0x972f96(0x190)+_0x972f96(0x1dd)+_0x972f96(0x199)));return;}}const _0x3b1243=getBotJid(),_0x22cc79=getBotJidRaw();if(!_0x3b1243){warn(name+(_0x972f96(0x192)+_0x972f96(0x1d2)+_0x972f96(0x1c9)+_0x972f96(0x185)+_0x972f96(0x1b9)+'.'));return;}let _0xfbbb9e=_0x3b1243;const _0x1207a1=Boolean(_0x5caec6[_0x972f96(0x1c0)]?.[_0x972f96(0x1f2)]);if(!_0x1207a1)try{const _0xa03323=await isSudo(botInstance,_0x5caec6);if(_0xa03323){const _0x42f3bd=userJidFromCtx(_0x5caec6),_0x464619=await findStoredMatchFromFindings(_0x42f3bd[_0x972f96(0x204)]);if(_0x464619)_0xfbbb9e=_0x464619;else return;}else return;}catch(_0x46b09b){warn(name+(':\x20Sudo\x20che'+_0x972f96(0x18f)+'\x20')+_0x46b09b[_0x972f96(0x1eb)]);return;}if(!_0x38b081){await botInstance[_0x972f96(0x181)+'e'](_0xfbbb9e,{'text':_0x972f96(0x1c7)+_0x972f96(0x179)+'e\x20country\x20'+_0x972f96(0x186)+_0x972f96(0x182)+_0x972f96(0x1e7)+_0x972f96(0x193)+_0x972f96(0x1ec)+_0x972f96(0x1bd)+_0x972f96(0x188)+_0x972f96(0x18c)+_0x972f96(0x197)+_0x972f96(0x1de)+'Europe/Lon'+_0x972f96(0x201)});return;}let _0x491db6=null;const _0x3dbf37=normalizeKey(_0x38b081);if(COUNTRY_TIMEZONES[_0x3dbf37])_0x491db6=COUNTRY_TIMEZONES[_0x3dbf37];if(!_0x491db6){const _0xf72692=_0x3dbf37[_0x972f96(0x1d5)](/\s+/g,'\x20');if(CITY_MAP[_0xf72692])_0x491db6=CITY_MAP[_0xf72692];}if(!_0x491db6)try{const _0x912c68=_0x38b081[_0x972f96(0x1fb)](),_0x57e49c=DateTime[_0x972f96(0x1e4)]()['setZone'](_0x912c68);if(_0x57e49c&&_0x57e49c[_0x972f96(0x1b1)])_0x491db6=_0x912c68;}catch(_0x4d89ba){}if(!_0x491db6){await botInstance[_0x972f96(0x181)+'e'](_0xfbbb9e,{'text':_0x972f96(0x1cc)+_0x972f96(0x1d4)+_0x972f96(0x1f3)+'\x20\x22'+_0x38b081+('\x22\x20to\x20a\x20tim'+_0x972f96(0x18e)+_0x972f96(0x1a4)+'e\x20either:\x0a'+_0x972f96(0x1c1)+_0x972f96(0x1ee)+_0x972f96(0x1ce)+_0x972f96(0x1a2)+_0x972f96(0x17b)+'(e.g.\x20\x22Nai'+_0x972f96(0x1b4)+_0x972f96(0x1f6)+'imezone\x20(e'+_0x972f96(0x17f)+_0x972f96(0x191)+'\x20or\x20\x22Europ'+'e/London\x22)'+'.')});return;}const _0x140172=formatTimestampForZone(_0x491db6),_0x1adc6d=_0x38b081+'\x20('+_0x491db6+')',_0x5f01d8=buildBoxForTime(_0x1adc6d,_0x140172[_0x972f96(0x1d0)],_0x140172['zoneName']);await botInstance[_0x972f96(0x181)+'e'](_0xfbbb9e,{'text':_0x5f01d8}),info(name+(_0x972f96(0x1e1)+_0x972f96(0x1cf)+_0x972f96(0x19b))+_0x491db6+_0x972f96(0x1ac)+_0x48a6d8+',\x20sentTo='+_0xfbbb9e+(_0x972f96(0x180)+'w=')+_0x22cc79+')');if(respondedMsgIds['size']>-0x9*0x1dd+-0x8f5*0x1+0x2d42){const _0x21c16c=Array[_0x972f96(0x1bf)](respondedMsgIds);respondedMsgIds=new Set(_0x21c16c[_0x972f96(0x1fc)](-(-0x1*0x21a3+0x5*-0x564+-0x1*-0x484f)));}}catch(_0x177179){error(_0x177179,name+(_0x972f96(0x183)+_0x972f96(0x1be)));}}export async function cleanup(){const _0x4bf09e=_0x1af9eb;try{botInstance=null,respondedMsgIds[_0x4bf09e(0x1db)]&&respondedMsgIds['clear'](),info(name+(_0x4bf09e(0x1ff)+'p'));}catch(_0xec0947){warn(name+(_0x4bf09e(0x1c4)+_0x4bf09e(0x1ca))+(_0xec0947?.[_0x4bf09e(0x1eb)]||_0xec0947));}}