const _0x58bbb1=_0x16a5;(function(_0x3759a7,_0x18bdc0){const _0x4e9771=_0x16a5,_0x535fab=_0x3759a7();while(!![]){try{const _0x411b38=-parseInt(_0x4e9771(0x157))/(0x24dc+0x23c1+-0x6*0xc1a)+-parseInt(_0x4e9771(0x1b8))/(-0x122f+0x2*-0xfa+-0x23d*-0x9)*(-parseInt(_0x4e9771(0x181))/(-0x65*0x53+-0x1520+0x39*0xf2))+-parseInt(_0x4e9771(0x163))/(-0xfbb*-0x2+-0x2*0x115f+0x34c)+-parseInt(_0x4e9771(0x13d))/(-0x3fe+-0x9f1*0x1+-0xbc*-0x13)+parseInt(_0x4e9771(0x18a))/(-0xe48+-0x90*0x16+0x1aae)+-parseInt(_0x4e9771(0x213))/(-0x3b6+0xc64+-0x8a7*0x1)*(-parseInt(_0x4e9771(0x143))/(0xd87*-0x1+0x1a91+0x3*-0x456))+parseInt(_0x4e9771(0x200))/(0x1c86+0x6a0+-0x231d)*(parseInt(_0x4e9771(0x207))/(-0x683*-0x5+0x789+-0x280e));if(_0x411b38===_0x18bdc0)break;else _0x535fab['push'](_0x535fab['shift']());}catch(_0x2d98a6){_0x535fab['push'](_0x535fab['shift']());}}}(_0x5cb3,-0x68d6f*0x1+-0x7a34a+0x178093));import _0x53240e from'fs';import _0x5a3eaf from'path';import _0x559bd0 from'os';function _0x5cb3(){const _0x227bfa=['data','toString','caption','ith\x20captio','createWrit','.mp4','Conversion','writeFile','\x20present\x20a','[cc]\x20strea','-level','3.0','47XXXXXXXX','\x20sent\x20to\x20','text','tance','get','Please\x20rep','e\x20media\x20is','o\x20with\x20cap','\x20failed:\x20','-shortest',':(oh-ih)/2','alized\x20(bo','ly).\x20Examp','.\x20(You\x20sen','rror:\x20','3oArYQG','us`','\x20video-not','age','eo\x20or\x20is\x20a','mimetype','promises','e\x20with\x20`cc','64k','6392664oPmygG','skipped\x20fo','NDS=','delete','ideo\x20messa','set','ALLOW_GROU','node','\x20to\x20','gt(a,1),','eos*\x20only.','OR\x20send\x20a\x20','[cc]\x20clean','function','\x20it\x20into\x20a','may\x20be\x20emp','documentMe','d\x20document','ailed:\x20','\x20caption\x20`','ber>`)\x20to\x20','xpects\x20a\x20v','\x20an\x20audio\x20','messageCon','extendedTe','ase\x20reply\x20','now','isBuffer','mQuotedMed','cc\x20<number','cted).','type','a\x20video\x20me','ideo\x20docum','\x20an\x20image\x20','split','.png','gt(a,1),-2','webm','conversati','jpegThumbn','in_','@s.whatsap','iaToFile\x20f','eStream','\x20message\x20t','400744iDSHVQ','Could\x20not\x20','n\x20groups).','deo\x20messag','\x20*videos*\x20','shConfig\x20e','file.\x20cc\x20c','ty\x20or\x20inac','pi\x20not\x20ava',',setsar=1','deo-note.','keys','verted\x20to\x20','sendMessag','ply\x20to\x20a\x20v','to\x20a\x20video','-c:a','audio_cove','alized\x20(PM','thumb.jpg','[cc]\x20confi','g:\x20ALLOW_G','message.','stickerMes','\x20a\x20video\x20w','loadConfig','`\x20or\x20`cc\x201','contextInf','k:s=','mp4','from','2467155@g.','[cc]\x20isadm','fileName','Converted\x20','unlink','<unknown>','clear','sendApi\x20no','onal\x20digit','ly\x20to\x20a\x20vi','[cc]\x20sendA','ted\x20media\x20','startsWith','ssage','rmediate_','The\x20replie','2036338072','e\x20to\x20the\x20b',')\x27,pad=','-crf','o\x20send\x20the','@g.us','y\x20use\x20cc\x20(','[cc]\x20initi','textInfo','message','quotedMess','[cc]\x20sent\x20','\x20<number\x20o','d\x20media\x20is','tmpdir','videoMessa','test','close','in\x20check\x20f','sock','LOW_GROUP_','pipe','parse\x20targ','tion.)','map','108AcFhki','1.8.1-fixe',':(ow-iw)/2','ge.\x20cc\x20con','ge\x20(or\x20a\x20v','d\x20sending\x20','veryfast','172310tCesvg','includes','ge.','et\x20\x22','s\x20only\x20(e.','video/mp4','key','string','ilable','endsWith','-b:a','\x20botJid=','7177184auStZC','\x20into\x20a\x20vi','-preset','tJid\x20unkno','length','video','GROUP_COMM','mkdtemp','g.\x202547...','ROUP_COMMA','deliver\x20to','wn)','participan','not\x20be\x20con','se\x20reply\x20t','cessible).','c\x20converts','ANDS=true\x20','\x20is\x20an\x20ima','to\x20allow\x20i','-c:v','nd\x20try\x20aga','t\x20availabl','scale=\x27if(','video\x20(it\x20','\x20a\x20sticker','verts\x20*vid','toLowerCas','ease\x20reply','join','catch','\x20reply\x20to\x20','[cc]\x20refre','\x20command\x20i','libx264','3683125KHZYXO','COMMANDS=f','dirname','aac','\x22.\x20Provide','set\x20ALLOW_','8xoLCDb','video\x20with','fig\x20restri','filter','\x20generated','video-note','cc.initial','p.net','quoted','trim',',-2)\x27:\x27if(','pop','into\x20video','ail','xtMessage','\x20Please\x20re','\x20admins\x20ma','he\x20quoted\x20','download\x20t','has','23769BtJERw','sage','shape.\x20Ple','gnored\x20(AL','video\x20note','\x20handler\x20e','server-con','Failed\x20to\x20','[cc]\x20handl','to\x20convert','ssage.','[cc]\x20group','4508960zjaWFc','ignore','[cc]\x20inter'];_0x5cb3=function(){return _0x227bfa;};return _0x5cb3();}import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x445458}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0x445458),mkdtemp=_0x53240e[_0x58bbb1(0x187)][_0x58bbb1(0x121)],writeFileAsync=_0x53240e[_0x58bbb1(0x187)][_0x58bbb1(0x16d)],unlink=_0x53240e['promises'][_0x58bbb1(0x1db)],rm=_0x53240e[_0x58bbb1(0x187)]['rm'],DEFAULT_SIZE=-0x868+0x25fd+0x1*-0x1b15;function _0x16a5(_0x42e30c,_0x3e42dc){const _0x442c27=_0x5cb3();return _0x16a5=function(_0x30d885,_0x335a3e){_0x30d885=_0x30d885-(0x2630+0x1e63+-0x4376);let _0x256d74=_0x442c27[_0x30d885];return _0x256d74;},_0x16a5(_0x42e30c,_0x3e42dc);}export const name='cc';export const version=_0x58bbb1(0x201)+'d';export const priority=0x64b+-0x1aff*-0x1+-0x106e*0x2;export const configKeys=['ALLOW_GROU'+'P_COMMANDS'];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(-0x355+0x1763+-0x13ff)*(-0x1e7e+0x7dd+-0x1a89*-0x1);function markSendProcessed(_0x4b4c43){const _0x1f75ca=_0x58bbb1;if(!_0x4b4c43)return;if(processedSendKeys['has'](_0x4b4c43))try{clearTimeout(processedSendKeys[_0x1f75ca(0x176)](_0x4b4c43));}catch(_0x59d4a6){}const _0x17f1fa=setTimeout(()=>processedSendKeys[_0x1f75ca(0x18d)](_0x4b4c43),PROCESSED_SEND_TTL_MS);processedSendKeys[_0x1f75ca(0x18f)](_0x4b4c43,_0x17f1fa);}function isSendProcessed(_0x1afa2e){const _0x3c0732=_0x58bbb1;return _0x1afa2e&&processedSendKeys[_0x3c0732(0x156)](_0x1afa2e);}function clearAllProcessedSends(){const _0x4a63f8=_0x58bbb1;for(const _0x242b43 of processedSendKeys['values']())try{clearTimeout(_0x242b43);}catch(_0x394314){}processedSendKeys[_0x4a63f8(0x1dd)]();}function setupSendApi(){const _0x386447=_0x58bbb1;if(!botRef)return;if(typeof botRef[_0x386447(0x1c5)+'e']==='function')sendApi=async(_0x19d56b,_0x35482e,_0x25e122={})=>await botRef['sendMessag'+'e'](_0x19d56b,_0x35482e,_0x25e122);else botRef[_0x386447(0x1fa)]&&typeof botRef[_0x386447(0x1fa)]['sendMessag'+'e']===_0x386447(0x197)?sendApi=async(_0x3b2333,_0x279570,_0x3c3b19={})=>await botRef['sock'][_0x386447(0x1c5)+'e'](_0x3b2333,_0x279570,_0x3c3b19):sendApi=null;}async function safeSend(_0xaa032d,_0x41b431,_0x2037a3={}){const _0x3ab92d=_0x58bbb1;if(!sendApi){warn(_0x3ab92d(0x1e1)+_0x3ab92d(0x1c0)+_0x3ab92d(0x20f));throw new Error(_0x3ab92d(0x1de)+_0x3ab92d(0x130)+'e');}return await sendApi(_0xaa032d,_0x41b431,_0x2037a3);}function refreshConfig(){const _0x3d1b0f=_0x58bbb1;try{const _0x57e164=typeof getConfig==='function'?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x57e164[_0x3d1b0f(0x190)+'P_COMMANDS'],info(_0x3d1b0f(0x1cc)+_0x3d1b0f(0x1cd)+_0x3d1b0f(0x123)+_0x3d1b0f(0x18c)+ALLOW_GROUP_COMMANDS);}catch(_0x1150e5){warn(_0x3d1b0f(0x13a)+_0x3d1b0f(0x1bd)+_0x3d1b0f(0x180)+(_0x1150e5?.[_0x3d1b0f(0x1f0)]||_0x1150e5));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0x286c42=_0x58bbb1;try{refreshConfig();}catch(_0x1bf3a7){warn('[cc]\x20hotRe'+_0x286c42(0x1d1)+_0x286c42(0x15c)+'rror:\x20'+(_0x1bf3a7?.[_0x286c42(0x1f0)]||_0x1bf3a7));}});}catch(_0x2a679b){}refreshConfig();function getQuotedWrap(_0x16b99d){const _0x1b3790=_0x58bbb1;if(!_0x16b99d||!_0x16b99d['message'])return null;const _0x524039=_0x16b99d['message']?.[_0x1b3790(0x1a2)+_0x1b3790(0x151)]?.['contextInf'+'o'];if(_0x524039&&_0x524039[_0x1b3790(0x1f1)+_0x1b3790(0x184)])return{'quoted':_0x524039[_0x1b3790(0x1f1)+_0x1b3790(0x184)],'quotedKey':_0x524039};for(const _0x16d3ab of Object[_0x1b3790(0x1c3)](_0x16b99d[_0x1b3790(0x1f0)]||{})){const _0x5a5b14=_0x16b99d[_0x1b3790(0x1f0)][_0x16d3ab];if(_0x5a5b14&&_0x5a5b14[_0x1b3790(0x1d3)+'o']&&_0x5a5b14[_0x1b3790(0x1d3)+'o'][_0x1b3790(0x1f1)+'age'])return{'quoted':_0x5a5b14[_0x1b3790(0x1d3)+'o'][_0x1b3790(0x1f1)+_0x1b3790(0x184)],'quotedKey':_0x5a5b14['contextInf'+'o']};}const _0x27cead=_0x16b99d[_0x1b3790(0x1f0)]?.[_0x1b3790(0x1d3)+'o']?.[_0x1b3790(0x1f1)+'age']||_0x16b99d['message']?.[_0x1b3790(0x1a1)+_0x1b3790(0x1ef)]?.[_0x1b3790(0x1f1)+_0x1b3790(0x184)],_0x19cd88=_0x16b99d['message']?.[_0x1b3790(0x1d3)+'o']?.[_0x1b3790(0x126)+'t']||_0x16b99d[_0x1b3790(0x1f0)]?.[_0x1b3790(0x1a1)+_0x1b3790(0x1ef)]?.[_0x1b3790(0x126)+'t']||null;if(_0x27cead)return{'quoted':_0x27cead,'quotedKey':{'participant':_0x19cd88}};return null;}function isVideoNode(_0x26005e){const _0x57274e=_0x58bbb1;if(!_0x26005e)return![];if(_0x26005e[_0x57274e(0x1f6)+'ge'])return!![];if(_0x26005e['message']&&_0x26005e[_0x57274e(0x1f0)][_0x57274e(0x1f6)+'ge'])return!![];if(_0x26005e[_0x57274e(0x19a)+_0x57274e(0x1e4)]&&typeof _0x26005e[_0x57274e(0x19a)+_0x57274e(0x1e4)][_0x57274e(0x186)]===_0x57274e(0x20e)&&_0x26005e['documentMe'+'ssage']['mimetype'][_0x57274e(0x1e3)]('video'))return!![];return![];}async function streamQuotedMediaToFile(_0x29948c,_0x342ac1){const _0x16943d=_0x58bbb1;try{const _0x2502d7=[{'node':_0x29948c['videoMessa'+'ge'],'type':'video'},{'node':_0x29948c['documentMe'+'ssage']&&String(_0x29948c[_0x16943d(0x19a)+'ssage'][_0x16943d(0x186)]||'')[_0x16943d(0x1e3)](_0x16943d(0x11f))?_0x29948c['documentMe'+'ssage']:null,'type':_0x16943d(0x11f)},{'node':_0x29948c[_0x16943d(0x1f0)]?.[_0x16943d(0x1f6)+'ge'],'type':_0x16943d(0x11f)},{'node':_0x29948c[_0x16943d(0x1f0)]?.[_0x16943d(0x19a)+_0x16943d(0x1e4)]&&String(_0x29948c[_0x16943d(0x1f0)][_0x16943d(0x19a)+_0x16943d(0x1e4)][_0x16943d(0x186)]||'')[_0x16943d(0x1e3)]('video')?_0x29948c[_0x16943d(0x1f0)][_0x16943d(0x19a)+_0x16943d(0x1e4)]:null,'type':_0x16943d(0x11f)}];let _0x4dd9b7=null,_0x24f8f2=null;for(const _0x52ca21 of _0x2502d7){if(_0x52ca21[_0x16943d(0x191)]){_0x4dd9b7=_0x52ca21[_0x16943d(0x191)],_0x24f8f2=_0x52ca21[_0x16943d(0x1a9)];break;}}if(!_0x4dd9b7||!_0x24f8f2)return null;let _0x567ffd='mp4';if(_0x24f8f2===_0x16943d(0x11f))_0x567ffd='mp4';if(_0x4dd9b7[_0x16943d(0x1d9)]){const _0x83c565=String(_0x4dd9b7[_0x16943d(0x1d9)])[_0x16943d(0x1ad)]('.')[_0x16943d(0x14e)]();if(_0x83c565&&_0x83c565[_0x16943d(0x11e)]<=0x1a05+0x1*0x17+0x685*-0x4)_0x567ffd=_0x83c565;}else{if(_0x4dd9b7[_0x16943d(0x186)]){if(_0x4dd9b7['mimetype'][_0x16943d(0x208)](_0x16943d(0x1d5)))_0x567ffd=_0x16943d(0x1d5);else{if(_0x4dd9b7['mimetype'][_0x16943d(0x208)](_0x16943d(0x1b0)))_0x567ffd=_0x16943d(0x1b0);}}}const _0xecb5f=_0x5a3eaf[_0x16943d(0x137)](_0x342ac1,_0x16943d(0x1b3)+Date[_0x16943d(0x1a4)]()+'.'+_0x567ffd),_0x4f7d03=await downloadContentFromMessage(_0x4dd9b7,_0x24f8f2);if(!_0x4f7d03)return null;const _0x16c938=_0x53240e[_0x16943d(0x16a)+_0x16943d(0x1b6)](_0xecb5f);return await pipeline(_0x4f7d03,_0x16c938),{'path':_0xecb5f,'type':_0x24f8f2,'contentNode':_0x4dd9b7};}catch(_0x480f6a){return warn(_0x16943d(0x16f)+_0x16943d(0x1a6)+_0x16943d(0x1b5)+_0x16943d(0x19c)+(_0x480f6a?.[_0x16943d(0x1f0)]||_0x480f6a)),null;}}function spawnFFmpeg(_0x477f65,_0x2de0cd){return new Promise((_0x3058cc,_0x421e4f)=>{const _0x35b27a=_0x16a5,_0x36e994=spawn('ffmpeg',_0x477f65,{'stdio':[_0x35b27a(0x164),_0x35b27a(0x1fc),_0x35b27a(0x1fc)]});let _0x7e773a='';_0x36e994['stderr']['on'](_0x35b27a(0x166),_0x48a36d=>{const _0x479933=_0x35b27a;_0x7e773a+=_0x48a36d[_0x479933(0x167)]();if(_0x2de0cd)_0x2de0cd(_0x48a36d);}),_0x36e994['on'](_0x35b27a(0x1f8),_0x2843f3=>{if(_0x2843f3===-0x56*-0xd+0xb*-0x1eb+0x10bb)_0x3058cc(_0x7e773a);else _0x421e4f(new Error('ffmpeg\x20exi'+'t\x20code\x20'+_0x2843f3+'\x0a'+_0x7e773a));}),_0x36e994['on']('error',_0x535b8e=>_0x421e4f(_0x535b8e));});}async function transcodeToVideoNote(_0x3ae85e,_0x3835cd,_0x583a41=DEFAULT_SIZE){const _0x26d20a=_0x58bbb1,_0x2db192=['-y','-i',_0x3ae85e,'-t','60','-vf',_0x26d20a(0x131)+_0x26d20a(0x193)+_0x583a41+(_0x26d20a(0x14d)+_0x26d20a(0x1af)+',')+_0x583a41+_0x26d20a(0x1e9)+_0x583a41+':'+_0x583a41+(_0x26d20a(0x202)+_0x26d20a(0x17c)+_0x26d20a(0x1c1)),'-r','30','-c:v',_0x26d20a(0x13c),'-profile:v','baseline',_0x26d20a(0x170),_0x26d20a(0x171),'-preset',_0x26d20a(0x206),_0x26d20a(0x1ea),'28',_0x26d20a(0x1c8),_0x26d20a(0x140),_0x26d20a(0x211),_0x26d20a(0x189),_0x3835cd];return await spawnFFmpeg(_0x2db192),_0x3835cd;}async function audioToVideoNote(_0x31dccb,_0x136d79,_0x410005=null,_0x23e960=DEFAULT_SIZE){const _0x5b6959=_0x58bbb1,_0x15f2dc=_0x5a3eaf[_0x5b6959(0x13f)](_0x136d79),_0x309995=_0x5a3eaf[_0x5b6959(0x137)](_0x15f2dc,'audio_inte'+_0x5b6959(0x1e5)+Date['now']()+_0x5b6959(0x16b)),_0xef6de0=_0x410005||_0x5a3eaf[_0x5b6959(0x137)](_0x15f2dc,_0x5b6959(0x1c9)+'r_'+Date['now']()+_0x5b6959(0x1ae));!_0x410005&&await spawnFFmpeg(['-y','-f','lavfi','-i','color=blac'+_0x5b6959(0x1d4)+_0x23e960+'x'+_0x23e960,_0xef6de0]);await spawnFFmpeg(['-y','-loop','1','-i',_0xef6de0,'-i',_0x31dccb,_0x5b6959(0x12e),_0x5b6959(0x13c),'-t','60',_0x5b6959(0x1c8),_0x5b6959(0x140),_0x5b6959(0x211),_0x5b6959(0x189),_0x5b6959(0x17b),_0x5b6959(0x215),_0x5b6959(0x206),_0x309995]),await transcodeToVideoNote(_0x309995,_0x136d79,_0x23e960);try{await unlink(_0x309995);}catch(_0x25c809){}if(!_0x410005)try{await unlink(_0xef6de0);}catch(_0x373be1){}return _0x136d79;}function normalizeTarget(_0x2b69a5){const _0x36dbf8=_0x58bbb1;if(!_0x2b69a5)return null;let _0x25d027=String(_0x2b69a5)['trim']();if(_0x25d027[_0x36dbf8(0x208)]('@'))try{return jidNormalizedUser(_0x25d027);}catch(_0xf2b3c1){return _0x25d027;}_0x25d027=_0x25d027['replace'](/[^\d]/g,'');if(!_0x25d027)return null;if(_0x25d027[_0x36dbf8(0x11e)]<-0x7*0x329+0xf*-0x15b+0x2a7c||_0x25d027['length']>-0x12e2*-0x1+0x96e+-0x3*0x96b)return null;return _0x25d027+(_0x36dbf8(0x1b4)+_0x36dbf8(0x14a));}export async function initialize(_0x51a2ee){const _0x16fc96=_0x58bbb1;if(!_0x51a2ee)throw new Error(_0x16fc96(0x149)+'ize\x20requir'+'es\x20bot\x20ins'+_0x16fc96(0x175));botRef=_0x51a2ee,setupSendApi(),refreshConfig();try{const _0x4b54f1=getBotJid();info(_0x16fc96(0x1ee)+_0x16fc96(0x1ca)+'\x20default;\x20'+_0x16fc96(0x142)+_0x16fc96(0x120)+_0x16fc96(0x12b)+_0x16fc96(0x12d)+_0x16fc96(0x1ba)+_0x16fc96(0x212)+(_0x4b54f1||_0x16fc96(0x1dc)));}catch(_0x143a0f){info(_0x16fc96(0x1ee)+_0x16fc96(0x17d)+_0x16fc96(0x11d)+_0x16fc96(0x125));}}export async function onMessage(_0x4b8d59){const _0x13b3a1=_0x58bbb1;try{if(!_0x4b8d59||!_0x4b8d59[_0x13b3a1(0x20d)]||!_0x4b8d59[_0x13b3a1(0x1f0)])return;const _0x236da3=typeof _0x4b8d59[_0x13b3a1(0x174)]==='string'&&_0x4b8d59['text'][_0x13b3a1(0x14c)]()?_0x4b8d59[_0x13b3a1(0x174)]['trim']():_0x4b8d59[_0x13b3a1(0x1f0)]?.[_0x13b3a1(0x1b1)+'on']||_0x4b8d59[_0x13b3a1(0x1f0)]?.[_0x13b3a1(0x1a2)+_0x13b3a1(0x151)]?.['text']||_0x4b8d59['message']?.[_0x13b3a1(0x1f6)+'ge']?.[_0x13b3a1(0x168)]||_0x4b8d59[_0x13b3a1(0x1f0)]?.['imageMessa'+'ge']?.[_0x13b3a1(0x168)]||_0x4b8d59['message']?.['documentMe'+'ssage']?.[_0x13b3a1(0x168)]||'';if(!_0x236da3)return;const _0x505065=_0x236da3['trim'](),_0x4d7c75=_0x505065[_0x13b3a1(0x1ad)](/\s+/),_0x568de9=_0x4d7c75[0x789*0x5+0x5*-0x322+0x325*-0x7][_0x13b3a1(0x135)+'e']();if(!(_0x568de9==='cc'||/^\/cc\b/i[_0x13b3a1(0x1f7)](_0x505065)))return;const _0x30d408=_0x4b8d59['key']['remoteJid'],_0x52b5c6=typeof _0x30d408===_0x13b3a1(0x20e)&&_0x30d408[_0x13b3a1(0x210)](_0x13b3a1(0x1ec));if(_0x52b5c6){if(!ALLOW_GROUP_COMMANDS){info(_0x13b3a1(0x162)+_0x13b3a1(0x13b)+_0x13b3a1(0x15a)+_0x13b3a1(0x1fb)+_0x13b3a1(0x13e)+'alse)');return;}let _0xd1c52b=![];try{_0xd1c52b=await isadmin(botRef,_0x4b8d59);}catch(_0x8cee1c){warn(_0x13b3a1(0x1d8)+_0x13b3a1(0x1f9)+'ailed:\x20'+(_0x8cee1c?.[_0x13b3a1(0x1f0)]||_0x8cee1c)),_0xd1c52b=![];}if(!_0xd1c52b){if(sendApi)try{await safeSend(_0x30d408,{'text':'Only\x20group'+_0x13b3a1(0x153)+_0x13b3a1(0x1ed)+_0x13b3a1(0x15d)+_0x13b3a1(0x145)+_0x13b3a1(0x1a8),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]});}catch(_0x22d486){}return;}}let _0x252f1e=_0x4d7c75[0x184a+0xf61+0x2*-0x13d5]||null;if(!_0x252f1e&&_0x236da3['includes']('\x0a')){const _0x34f5cb=_0x236da3['split'](/\r?\n/)[_0x13b3a1(0x1ff)](_0x4cf855=>_0x4cf855['trim']())[_0x13b3a1(0x146)](Boolean);if(_0x34f5cb[_0x13b3a1(0x11e)]>=-0x6d*0x2f+0x2*0xadc+-0x3*0x91)_0x252f1e=_0x34f5cb[-0x1576+0x1091*0x2+0xbab*-0x1][_0x13b3a1(0x1ad)](/\s+/)[-0x17a0+-0xd*-0xf9+-0x1*-0xafb];}let _0x404d0d=getQuotedWrap(_0x4b8d59),_0xfcaaa6=![];!_0x404d0d&&((_0x4b8d59[_0x13b3a1(0x1f0)]?.[_0x13b3a1(0x1f6)+'ge']||_0x4b8d59[_0x13b3a1(0x1f0)]?.['documentMe'+_0x13b3a1(0x1e4)]&&String(_0x4b8d59[_0x13b3a1(0x1f0)]['documentMe'+_0x13b3a1(0x1e4)][_0x13b3a1(0x186)]||'')[_0x13b3a1(0x1e3)](_0x13b3a1(0x11f)))&&(_0x404d0d={'quoted':_0x4b8d59['message'],'quotedKey':_0x4b8d59[_0x13b3a1(0x1f0)]?.[_0x13b3a1(0x1d3)+'o']||{}},_0xfcaaa6=!![]));if(!_0x252f1e){const _0x5a6d2e=_0x30d408;sendApi&&await safeSend(_0x5a6d2e,{'text':'Usage:\x20rep'+_0x13b3a1(0x1e0)+_0x13b3a1(0x1bb)+_0x13b3a1(0x188)+_0x13b3a1(0x1f3)+'r\x20JID>`\x20—\x20'+_0x13b3a1(0x195)+_0x13b3a1(0x144)+_0x13b3a1(0x19d)+_0x13b3a1(0x1a7)+'>`\x20(no\x20rep'+_0x13b3a1(0x17e)+'le:\x20`cc\x2025'+_0x13b3a1(0x172)+_0x13b3a1(0x1d2)+_0x13b3a1(0x1e7)+_0x13b3a1(0x1d7)+_0x13b3a1(0x182),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]});return;}if(!_0x404d0d||!_0x404d0d[_0x13b3a1(0x14b)]){if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x177)+'ly\x20to\x20a\x20vi'+_0x13b3a1(0x1bb)+'e\x20(or\x20send'+_0x13b3a1(0x1d0)+_0x13b3a1(0x169)+'n\x20`cc\x20<num'+_0x13b3a1(0x19e)+'convert\x20it'+_0x13b3a1(0x214)+_0x13b3a1(0x1c2),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]});return;}if(!isVideoNode(_0x404d0d[_0x13b3a1(0x14b)])){const _0x12f15c=_0x404d0d[_0x13b3a1(0x14b)];if(_0x12f15c['imageMessa'+'ge']){if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x1e6)+_0x13b3a1(0x1f4)+_0x13b3a1(0x1ac)+'(photo).\x20c'+_0x13b3a1(0x12a)+_0x13b3a1(0x1bc)+_0x13b3a1(0x14f)+'-notes.\x20Pl'+_0x13b3a1(0x136)+'\x20to\x20a\x20vide'+'o\x20message\x20'+_0x13b3a1(0x160)+_0x13b3a1(0x198)+_0x13b3a1(0x183)+'e.','quoted':_0x4b8d59[_0x13b3a1(0x20d)]})[_0x13b3a1(0x138)](()=>{});}else{if(_0x12f15c[_0x13b3a1(0x1cf)+_0x13b3a1(0x158)]){if(sendApi)await safeSend(_0x30d408,{'text':'The\x20replie'+_0x13b3a1(0x1f4)+_0x13b3a1(0x133)+'\x20which\x20can'+_0x13b3a1(0x127)+_0x13b3a1(0x1c4)+'a\x20video-no'+'te.\x20Please'+_0x13b3a1(0x139)+_0x13b3a1(0x1aa)+_0x13b3a1(0x161),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]})[_0x13b3a1(0x138)](()=>{});}else{if(_0x12f15c['audioMessa'+'ge']){if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x1e6)+_0x13b3a1(0x1f4)+_0x13b3a1(0x1a0)+_0x13b3a1(0x1be)+'urrently\x20e'+_0x13b3a1(0x19f)+_0x13b3a1(0x18e)+_0x13b3a1(0x204)+_0x13b3a1(0x1ab)+'ent).\x20Plea'+_0x13b3a1(0x128)+'o\x20a\x20video\x20'+_0x13b3a1(0x1ce),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]})[_0x13b3a1(0x138)](()=>{});}else{if(_0x12f15c[_0x13b3a1(0x19a)+_0x13b3a1(0x1e4)]&&_0x12f15c[_0x13b3a1(0x19a)+_0x13b3a1(0x1e4)][_0x13b3a1(0x186)]&&_0x12f15c[_0x13b3a1(0x19a)+'ssage'][_0x13b3a1(0x186)][_0x13b3a1(0x1e3)]('image')){if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x1e6)+_0x13b3a1(0x19b)+_0x13b3a1(0x12c)+_0x13b3a1(0x203)+_0x13b3a1(0x134)+_0x13b3a1(0x194)+_0x13b3a1(0x152)+_0x13b3a1(0x1c6)+_0x13b3a1(0x18e)+_0x13b3a1(0x209),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]})[_0x13b3a1(0x138)](()=>{});}else{if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x1e6)+'d\x20media\x20is'+'\x20not\x20a\x20vid'+_0x13b3a1(0x185)+'n\x20unsuppor'+_0x13b3a1(0x1e2)+_0x13b3a1(0x159)+_0x13b3a1(0x1a3)+_0x13b3a1(0x1c7)+_0x13b3a1(0x1b7)+'o\x20convert\x20'+'it\x20into\x20a\x20'+_0x13b3a1(0x148)+'.','quoted':_0x4b8d59[_0x13b3a1(0x20d)]})['catch'](()=>{});}}}}return;}const _0x1080e9=normalizeTarget(_0x252f1e);if(!_0x1080e9){if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x1b9)+_0x13b3a1(0x1fd)+_0x13b3a1(0x20a)+_0x252f1e+(_0x13b3a1(0x141)+'\x20internati'+_0x13b3a1(0x1df)+_0x13b3a1(0x20b)+_0x13b3a1(0x122)+')\x20or\x20a\x20val'+'id\x20JID.'),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]});return;}try{const _0xef3fe9=getBotJid();if(_0xef3fe9&&_0x1080e9===_0xef3fe9){if(sendApi)await safeSend(_0x30d408,{'text':'Refusing\x20t'+_0x13b3a1(0x1eb)+_0x13b3a1(0x147)+_0x13b3a1(0x183)+_0x13b3a1(0x1e8)+'ot\x20itself.','quoted':_0x4b8d59['key']});return;}}catch(_0x171bb0){}const _0x35eb68=String(_0x4b8d59[_0x13b3a1(0x20d)]['id']||''),_0xe6c509=_0x35eb68+'::'+_0x1080e9;if(isSendProcessed(_0xe6c509)){info('[cc]\x20dupli'+'cate\x20send\x20'+_0x13b3a1(0x18b)+'r\x20'+_0xe6c509);return;}markSendProcessed(_0xe6c509);const _0x35db9b=await mkdtemp(_0x5a3eaf[_0x13b3a1(0x137)](_0x559bd0[_0x13b3a1(0x1f5)](),'cc-'));let _0x12bcac=null;try{const _0x1e8532=_0x404d0d[_0x13b3a1(0x14b)],_0x1e9e03=_0x1e8532?.[_0x13b3a1(0x1f6)+'ge']?.[_0x13b3a1(0x1b2)+'ail']||_0x1e8532?.[_0x13b3a1(0x19a)+_0x13b3a1(0x1e4)]?.[_0x13b3a1(0x1b2)+_0x13b3a1(0x150)]||_0x1e8532?.['message']?.[_0x13b3a1(0x1f6)+'ge']?.[_0x13b3a1(0x1b2)+_0x13b3a1(0x150)]||null;_0x1e9e03&&(Buffer[_0x13b3a1(0x1a5)](_0x1e9e03)||_0x1e9e03 instanceof Uint8Array)&&(_0x12bcac=_0x5a3eaf['join'](_0x35db9b,_0x13b3a1(0x1cb)),await writeFileAsync(_0x12bcac,Buffer[_0x13b3a1(0x1d6)](_0x1e9e03)));const _0x17d025=await streamQuotedMediaToFile(_0x1e8532,_0x35db9b);if(!_0x17d025){if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x15e)+_0x13b3a1(0x155)+_0x13b3a1(0x154)+_0x13b3a1(0x132)+_0x13b3a1(0x199)+_0x13b3a1(0x1bf)+_0x13b3a1(0x129)+'\x20Ensure\x20th'+_0x13b3a1(0x178)+_0x13b3a1(0x16e)+_0x13b3a1(0x12f)+'in.','quoted':_0x4b8d59[_0x13b3a1(0x20d)]});await rm(_0x35db9b,{'recursive':!![],'force':!![]})[_0x13b3a1(0x138)](()=>{});return;}const {path:_0x16fcdb,type:_0x3e5121}=_0x17d025,_0x44dea7=_0x5a3eaf[_0x13b3a1(0x137)](_0x35db9b,'out_'+Date['now']()+'.mp4');await transcodeToVideoNote(_0x16fcdb,_0x44dea7);const _0x1b7f68={'video':{'url':_0x44dea7},'mimetype':_0x13b3a1(0x20c),'fileName':'video_note'+_0x13b3a1(0x16b),'ptv':!![]};try{if(!sendApi)throw new Error('sendApi\x20no'+_0x13b3a1(0x130)+'e');await safeSend(_0x1080e9,_0x1b7f68),info(_0x13b3a1(0x1f2)+_0x13b3a1(0x15b)+_0x13b3a1(0x192)+_0x1080e9);if(sendApi){const _0x376aef=_0xfcaaa6?_0x13b3a1(0x1da)+_0x13b3a1(0x148)+_0x13b3a1(0x173)+_0x1080e9+(_0x13b3a1(0x17f)+'t\x20the\x20vide'+_0x13b3a1(0x179)+_0x13b3a1(0x1fe)):_0x13b3a1(0x1da)+_0x13b3a1(0x148)+_0x13b3a1(0x173)+_0x1080e9+'.';await safeSend(_0x30d408,{'text':_0x376aef,'quoted':_0x4b8d59[_0x13b3a1(0x20d)]})[_0x13b3a1(0x138)](()=>{});}}catch(_0x500c48){error(_0x500c48,'[cc]\x20faile'+_0x13b3a1(0x205)+'to\x20'+_0x1080e9+':\x20'+(_0x500c48?.[_0x13b3a1(0x1f0)]||_0x500c48));if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x15e)+_0x13b3a1(0x124)+'\x20'+_0x1080e9+':\x20'+(_0x500c48?.[_0x13b3a1(0x1f0)]||_0x500c48),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]})[_0x13b3a1(0x138)](()=>{});}try{await unlink(_0x16fcdb)[_0x13b3a1(0x138)](()=>{}),await unlink(_0x44dea7)['catch'](()=>{});if(_0x12bcac)await unlink(_0x12bcac)[_0x13b3a1(0x138)](()=>{});await rm(_0x35db9b,{'recursive':!![],'force':!![]});}catch(_0x397802){}}catch(_0x2845e2){error(_0x2845e2,_0x13b3a1(0x165)+'nal\x20error:'+'\x20'+(_0x2845e2?.[_0x13b3a1(0x1f0)]||_0x2845e2));if(sendApi)await safeSend(_0x30d408,{'text':_0x13b3a1(0x16c)+_0x13b3a1(0x17a)+(_0x2845e2?.[_0x13b3a1(0x1f0)]||_0x2845e2),'quoted':_0x4b8d59[_0x13b3a1(0x20d)]})[_0x13b3a1(0x138)](()=>{});await rm(_0x35db9b,{'recursive':!![],'force':!![]})['catch'](()=>{});}}catch(_0x163a74){error(_0x163a74,_0x13b3a1(0x15f)+'er\x20error:\x20'+(_0x163a74?.[_0x13b3a1(0x1f0)]||_0x163a74));}}export async function cleanup(){const _0x42b4f0=_0x58bbb1;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x42b4f0(0x196)+'ed\x20up');}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};