const _0x8d48d6=_0x279b;(function(_0x985ad2,_0x411988){const _0x3a3333=_0x279b,_0x473561=_0x985ad2();while(!![]){try{const _0x5727e0=-parseInt(_0x3a3333(0xfa))/(0x536+0x1e2a+-0x5*0x713)+-parseInt(_0x3a3333(0x107))/(-0x2674+-0x25c3+0xd*0x5dd)+parseInt(_0x3a3333(0x1a4))/(-0x1087*0x1+-0xa91+-0x1*-0x1b1b)*(-parseInt(_0x3a3333(0x152))/(0x16c4+-0x1910+0x250))+parseInt(_0x3a3333(0x1b0))/(-0xeb0+-0x2092+0x2f47)+-parseInt(_0x3a3333(0x1cb))/(0x313*-0x5+-0x1f*-0xc7+-0x8b4)*(-parseInt(_0x3a3333(0x105))/(0xe92+0xbcf*-0x1+-0x2bc))+parseInt(_0x3a3333(0xe9))/(0x112a+0x1*-0x1e97+-0x35*-0x41)*(parseInt(_0x3a3333(0x163))/(0xd62+-0x145+-0xc14))+-parseInt(_0x3a3333(0x1ca))/(0xa5*0x1+-0xaa1*0x1+0x503*0x2);if(_0x5727e0===_0x411988)break;else _0x473561['push'](_0x473561['shift']());}catch(_0xc19423){_0x473561['push'](_0x473561['shift']());}}}(_0x22d8,-0x2a6b+0x5*0x3b085+-0x384ce));import _0x5bb8e9 from'fs';import _0x2e82c7 from'path';import _0x18342e from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x52e212}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0x52e212),mkdtemp=_0x5bb8e9['promises'][_0x8d48d6(0xf6)],writeFileAsync=_0x5bb8e9[_0x8d48d6(0x13c)][_0x8d48d6(0x127)],unlink=_0x5bb8e9[_0x8d48d6(0x13c)][_0x8d48d6(0x121)],rm=_0x5bb8e9[_0x8d48d6(0x13c)]['rm'],DEFAULT_SIZE=-0x2337+0x1b62+0x5*0x211;export const name='cc';export const version=_0x8d48d6(0x18c)+'d';export const priority=0x2276+-0x4cf*0x7+-0x5f;function _0x279b(_0x105849,_0x3298e3){const _0x1e1dd2=_0x22d8();return _0x279b=function(_0x1e583e,_0x4b5811){_0x1e583e=_0x1e583e-(-0x31b+0x21d4+-0x1dd1*0x1);let _0x511bd0=_0x1e1dd2[_0x1e583e];return _0x511bd0;},_0x279b(_0x105849,_0x3298e3);}export const configKeys=[_0x8d48d6(0x146)+_0x8d48d6(0x169)];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(-0x1*-0xa81+-0x4*0x8b8+0xc37*0x2)*(0x9*-0x1ea+-0x17*0xba+-0x7*-0x568);function markSendProcessed(_0x500130){const _0x170fd0=_0x8d48d6;if(!_0x500130)return;if(processedSendKeys['has'](_0x500130))try{clearTimeout(processedSendKeys[_0x170fd0(0x174)](_0x500130));}catch(_0x1bf08f){}const _0x5aaf75=setTimeout(()=>processedSendKeys[_0x170fd0(0x1c8)](_0x500130),PROCESSED_SEND_TTL_MS);processedSendKeys[_0x170fd0(0x137)](_0x500130,_0x5aaf75);}function isSendProcessed(_0x59a103){const _0x43f2d3=_0x8d48d6;return _0x59a103&&processedSendKeys[_0x43f2d3(0x17b)](_0x59a103);}function clearAllProcessedSends(){const _0x138332=_0x8d48d6;for(const _0x2d0fc6 of processedSendKeys[_0x138332(0x10b)]())try{clearTimeout(_0x2d0fc6);}catch(_0x3f04f2){}processedSendKeys['clear']();}function _0x22d8(){const _0x4683cc=['tJid\x20unkno','get','set\x20ALLOW_','e\x20to\x20the\x20b','map','sendApi\x20no','ly).\x20Examp','o\x20send\x20the','has','he\x20quoted\x20','lavfi','\x20an\x20audio\x20','video\x20with','nd\x20try\x20aga','createWrit','\x20generated','jpegThumbn','catch','toString','2467155@g.','messageCon','split','se\x20reply\x20t','LOW_GROUP_','includes','1.8.1-fixe','\x20command\x20i','n\x20unsuppor','rror:\x20','-shortest','cessible).','shConfig\x20e','tmpdir','loadConfig','[cc]\x20group','wn)','isBuffer','OR\x20send\x20a\x20','out_','skipped\x20fo',':(ow-iw)/2','onal\x20digit','\x20video-not','gnored\x20(AL','\x20admins\x20ma','ssage.','audioMessa','ideo\x20docum','g:\x20ALLOW_G','12vFRCFY','d\x20media\x20is','o\x20convert\x20','[cc]\x20handl',',-2)\x27:\x27if(','node','function','ge.','textInfo','us`','video-note','ail','7638090quDvQh','ply\x20to\x20a\x20v','join','in.','[cc]\x20dupli','-c:a','ase\x20reply\x20','-c:v','tance','ease\x20reply','shape.\x20Ple','toLowerCas','color=blac','\x20botJid=','\x20which\x20can','extendedTe',')\x20or\x20a\x20val','ty\x20or\x20inac','k:s=','video\x20note','scale=\x27if(','caption','ailed:\x20','not\x20be\x20con','delete','alized\x20(bo','5072550yLcyET','1354662OFWJXe',':(oh-ih)/2','eo\x20or\x20is\x20a','it\x20into\x20a\x20',',setsar=1','dirname','into\x20video','Refusing\x20t','a\x20video\x20me','s\x20only\x20(e.','gt(a,1),-2','[cc]\x20confi','message','ROUP_COMMA','age','ffmpeg','audio_cove','remoteJid','trim','t\x20code\x20','a\x20video-no','parse\x20targ','\x20failed:\x20','es\x20bot\x20ins','\x20message\x20t','in_','ot\x20itself.','48ldsLdS','thumb.jpg','ize\x20requir','ilable','filter','videoMessa','d\x20document','pipe','ideo\x20messa','server-con','participan','\x20reply\x20to\x20','text','mkdtemp','image','-loop','imageMessa','1209291QTueYa','ffmpeg\x20exi','n\x20`cc\x20<num','startsWith','47XXXXXXXX','now','t\x20availabl','video','\x22.\x20Provide','ith\x20captio','in\x20check\x20f','35NEIIDX','c\x20converts','398514OcZzRi','may\x20be\x20emp','ANDS=true\x20','quoted','values','to\x20allow\x20i','\x20is\x20an\x20ima','sock','iaToFile\x20f','type','documentMe','@g.us','ly\x20to\x20a\x20vi','sage','stderr','webm','\x20an\x20image\x20','pop','-preset','endsWith','conversati','mimetype','e\x20(or\x20send','nal\x20error:','xtMessage','ed\x20up','unlink','to\x20a\x20video','d\x20sending\x20','[cc]\x20initi','-level','aac','writeFile','NDS=','GROUP_COMM','string','xpects\x20a\x20v','\x20present\x20a','mp4','o\x20a\x20video\x20','length','te.\x20Please','Please\x20rep','ge.\x20cc\x20con','deo-note.','convert\x20it','contextInf','Only\x20group','set','er\x20error:\x20','-crf','to\x20','The\x20replie','promises','[cc]\x20clean','o\x20with\x20cap','>`\x20(no\x20rep','e\x20media\x20is','(photo).\x20c','gt(a,1),','video_note','sendMessag','.\x20(You\x20sen','ALLOW_GROU','.mp4','et\x20\x22','from','.png','ent).\x20Plea','64k','3.0','g.\x202547...','\x20<number\x20o','COMMANDS=f','quotedMess','1496032bMfaQq','alized\x20(PM','le:\x20`cc\x2025','ssage','Converted\x20','key','verted\x20to\x20','download\x20t','o\x20message\x20','<unknown>','libx264','y\x20use\x20cc\x20(','\x20to\x20','\x20*videos*\x20','Usage:\x20rep','fileName','\x20caption\x20`','2584278QzdlIX','p.net','to\x20convert','eStream','t\x20the\x20vide','audio_inte','P_COMMANDS','verts\x20*vid','\x20a\x20video\x20w','r\x20JID>`\x20â€”\x20','\x20Please\x20re','@s.whatsap','deo\x20messag','\x20to\x20a\x20vide','Conversion','-b:a'];_0x22d8=function(){return _0x4683cc;};return _0x22d8();}function setupSendApi(){const _0x5599f1=_0x8d48d6;if(!botRef)return;if(typeof botRef[_0x5599f1(0x144)+'e']===_0x5599f1(0x1aa))sendApi=async(_0x1d816a,_0x576552,_0x4c20a7={})=>await botRef[_0x5599f1(0x144)+'e'](_0x1d816a,_0x576552,_0x4c20a7);else botRef[_0x5599f1(0x10e)]&&typeof botRef['sock']['sendMessag'+'e']===_0x5599f1(0x1aa)?sendApi=async(_0x227451,_0x492a82,_0x3f99fc={})=>await botRef['sock'][_0x5599f1(0x144)+'e'](_0x227451,_0x492a82,_0x3f99fc):sendApi=null;}async function safeSend(_0x202e64,_0x548877,_0x1fa832={}){const _0x2cbd8e=_0x8d48d6;if(!sendApi){warn('[cc]\x20sendA'+'pi\x20not\x20ava'+_0x2cbd8e(0xec));throw new Error(_0x2cbd8e(0x178)+_0x2cbd8e(0x100)+'e');}return await sendApi(_0x202e64,_0x548877,_0x1fa832);}function refreshConfig(){const _0x5e51ac=_0x8d48d6;try{const _0x1c7f42=typeof getConfig===_0x5e51ac(0x1aa)?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x1c7f42[_0x5e51ac(0x146)+'P_COMMANDS'],info(_0x5e51ac(0x1d6)+_0x5e51ac(0x1a3)+_0x5e51ac(0x1d8)+_0x5e51ac(0x128)+ALLOW_GROUP_COMMANDS);}catch(_0x2a265){warn('[cc]\x20refre'+_0x5e51ac(0x192)+_0x5e51ac(0x18f)+(_0x2a265?.['message']||_0x2a265));}}try{typeof hotReloadConfig===_0x8d48d6(0x1aa)&&hotReloadConfig(()=>{const _0x4e0ed3=_0x8d48d6;try{refreshConfig();}catch(_0x192f71){warn('[cc]\x20hotRe'+_0x4e0ed3(0x194)+'\x20handler\x20e'+_0x4e0ed3(0x18f)+(_0x192f71?.[_0x4e0ed3(0x1d7)]||_0x192f71));}});}catch(_0x58427e){}refreshConfig();function getQuotedWrap(_0x30805e){const _0x5c893c=_0x8d48d6;if(!_0x30805e||!_0x30805e[_0x5c893c(0x1d7)])return null;const _0x416520=_0x30805e[_0x5c893c(0x1d7)]?.[_0x5c893c(0x1bf)+_0x5c893c(0x11f)]?.[_0x5c893c(0x135)+'o'];if(_0x416520&&_0x416520[_0x5c893c(0x151)+_0x5c893c(0x1d9)])return{'quoted':_0x416520[_0x5c893c(0x151)+_0x5c893c(0x1d9)],'quotedKey':_0x416520};for(const _0xf25681 of Object['keys'](_0x30805e[_0x5c893c(0x1d7)]||{})){const _0x3a83cd=_0x30805e[_0x5c893c(0x1d7)][_0xf25681];if(_0x3a83cd&&_0x3a83cd[_0x5c893c(0x135)+'o']&&_0x3a83cd['contextInf'+'o']['quotedMess'+'age'])return{'quoted':_0x3a83cd[_0x5c893c(0x135)+'o'][_0x5c893c(0x151)+_0x5c893c(0x1d9)],'quotedKey':_0x3a83cd['contextInf'+'o']};}const _0x15bf26=_0x30805e['message']?.['contextInf'+'o']?.[_0x5c893c(0x151)+_0x5c893c(0x1d9)]||_0x30805e[_0x5c893c(0x1d7)]?.[_0x5c893c(0x187)+_0x5c893c(0x1ac)]?.[_0x5c893c(0x151)+_0x5c893c(0x1d9)],_0x43a420=_0x30805e[_0x5c893c(0x1d7)]?.['contextInf'+'o']?.[_0x5c893c(0xf3)+'t']||_0x30805e[_0x5c893c(0x1d7)]?.[_0x5c893c(0x187)+_0x5c893c(0x1ac)]?.[_0x5c893c(0xf3)+'t']||null;if(_0x15bf26)return{'quoted':_0x15bf26,'quotedKey':{'participant':_0x43a420}};return null;}function isVideoNode(_0x5dd7b0){const _0x4ad593=_0x8d48d6;if(!_0x5dd7b0)return![];if(_0x5dd7b0['videoMessa'+'ge'])return!![];if(_0x5dd7b0[_0x4ad593(0x1d7)]&&_0x5dd7b0['message'][_0x4ad593(0xee)+'ge'])return!![];if(_0x5dd7b0['documentMe'+_0x4ad593(0x155)]&&typeof _0x5dd7b0['documentMe'+_0x4ad593(0x155)][_0x4ad593(0x11c)]===_0x4ad593(0x12a)&&_0x5dd7b0[_0x4ad593(0x111)+_0x4ad593(0x155)][_0x4ad593(0x11c)][_0x4ad593(0xfd)](_0x4ad593(0x101)))return!![];return![];}async function streamQuotedMediaToFile(_0x3c7f3e,_0x373b02){const _0x1a96e1=_0x8d48d6;try{const _0x50d14f=[{'node':_0x3c7f3e[_0x1a96e1(0xee)+'ge'],'type':'video'},{'node':_0x3c7f3e['documentMe'+_0x1a96e1(0x155)]&&String(_0x3c7f3e[_0x1a96e1(0x111)+_0x1a96e1(0x155)][_0x1a96e1(0x11c)]||'')[_0x1a96e1(0xfd)](_0x1a96e1(0x101))?_0x3c7f3e[_0x1a96e1(0x111)+_0x1a96e1(0x155)]:null,'type':_0x1a96e1(0x101)},{'node':_0x3c7f3e['message']?.['videoMessa'+'ge'],'type':_0x1a96e1(0x101)},{'node':_0x3c7f3e[_0x1a96e1(0x1d7)]?.[_0x1a96e1(0x111)+_0x1a96e1(0x155)]&&String(_0x3c7f3e[_0x1a96e1(0x1d7)][_0x1a96e1(0x111)+_0x1a96e1(0x155)][_0x1a96e1(0x11c)]||'')[_0x1a96e1(0xfd)]('video')?_0x3c7f3e[_0x1a96e1(0x1d7)][_0x1a96e1(0x111)+_0x1a96e1(0x155)]:null,'type':'video'}];let _0x4665e1=null,_0x134438=null;for(const _0x58360d of _0x50d14f){if(_0x58360d[_0x1a96e1(0x1a9)]){_0x4665e1=_0x58360d[_0x1a96e1(0x1a9)],_0x134438=_0x58360d[_0x1a96e1(0x110)];break;}}if(!_0x4665e1||!_0x134438)return null;let _0xad04e=_0x1a96e1(0x12d);if(_0x134438===_0x1a96e1(0x101))_0xad04e=_0x1a96e1(0x12d);if(_0x4665e1[_0x1a96e1(0x161)]){const _0x10c388=String(_0x4665e1[_0x1a96e1(0x161)])[_0x1a96e1(0x188)]('.')[_0x1a96e1(0x118)]();if(_0x10c388&&_0x10c388[_0x1a96e1(0x12f)]<=0x3*0x413+0x2aa+0xedb*-0x1)_0xad04e=_0x10c388;}else{if(_0x4665e1['mimetype']){if(_0x4665e1[_0x1a96e1(0x11c)][_0x1a96e1(0x18b)]('mp4'))_0xad04e='mp4';else{if(_0x4665e1[_0x1a96e1(0x11c)][_0x1a96e1(0x18b)](_0x1a96e1(0x116)))_0xad04e=_0x1a96e1(0x116);}}}const _0x334e3f=_0x2e82c7[_0x1a96e1(0x1b2)](_0x373b02,_0x1a96e1(0x1e4)+Date['now']()+'.'+_0xad04e),_0x3b98a8=await downloadContentFromMessage(_0x4665e1,_0x134438);if(!_0x3b98a8)return null;const _0xb068ea=_0x5bb8e9[_0x1a96e1(0x181)+_0x1a96e1(0x166)](_0x334e3f);return await pipeline(_0x3b98a8,_0xb068ea),{'path':_0x334e3f,'type':_0x134438,'contentNode':_0x4665e1};}catch(_0x3eacb5){return warn('[cc]\x20strea'+'mQuotedMed'+_0x1a96e1(0x10f)+_0x1a96e1(0x1c6)+(_0x3eacb5?.[_0x1a96e1(0x1d7)]||_0x3eacb5)),null;}}function spawnFFmpeg(_0x4094c1,_0x3c8578){return new Promise((_0x22b028,_0x186059)=>{const _0x2cd27f=_0x279b,_0x19984f=spawn(_0x2cd27f(0x1da),_0x4094c1,{'stdio':['ignore',_0x2cd27f(0xf0),_0x2cd27f(0xf0)]});let _0x3cfe12='';_0x19984f[_0x2cd27f(0x115)]['on']('data',_0x3cc780=>{const _0x2a52f8=_0x2cd27f;_0x3cfe12+=_0x3cc780[_0x2a52f8(0x185)]();if(_0x3c8578)_0x3c8578(_0x3cc780);}),_0x19984f['on']('close',_0x26cd0e=>{const _0x2ecc93=_0x2cd27f;if(_0x26cd0e===0x1*0xfd1+-0x157*-0x17+-0x2ea2)_0x22b028(_0x3cfe12);else _0x186059(new Error(_0x2ecc93(0xfb)+_0x2ecc93(0x1de)+_0x26cd0e+'\x0a'+_0x3cfe12));}),_0x19984f['on']('error',_0x18ac03=>_0x186059(_0x18ac03));});}async function transcodeToVideoNote(_0x3b089b,_0x3f911b,_0x11396b=DEFAULT_SIZE){const _0x3057e4=_0x8d48d6,_0x4d6be1=['-y','-i',_0x3b089b,'-t','60','-vf',_0x3057e4(0x1c4)+_0x3057e4(0x142)+_0x11396b+(_0x3057e4(0x1a8)+_0x3057e4(0x1d5)+',')+_0x11396b+')\x27,pad='+_0x11396b+':'+_0x11396b+(_0x3057e4(0x19b)+_0x3057e4(0x1cc)+_0x3057e4(0x1cf)),'-r','30',_0x3057e4(0x1b7),'libx264','-profile:v','baseline',_0x3057e4(0x125),_0x3057e4(0x14d),_0x3057e4(0x119),'veryfast',_0x3057e4(0x139),'28',_0x3057e4(0x1b5),_0x3057e4(0x126),'-b:a','64k',_0x3f911b];return await spawnFFmpeg(_0x4d6be1),_0x3f911b;}async function audioToVideoNote(_0x2bbbed,_0x311756,_0x1cd9cf=null,_0x12f912=DEFAULT_SIZE){const _0x43cc63=_0x8d48d6,_0x4bea68=_0x2e82c7[_0x43cc63(0x1d0)](_0x311756),_0x67a6c=_0x2e82c7[_0x43cc63(0x1b2)](_0x4bea68,_0x43cc63(0x168)+'rmediate_'+Date[_0x43cc63(0xff)]()+_0x43cc63(0x147)),_0x549de1=_0x1cd9cf||_0x2e82c7[_0x43cc63(0x1b2)](_0x4bea68,_0x43cc63(0x1db)+'r_'+Date[_0x43cc63(0xff)]()+_0x43cc63(0x14a));!_0x1cd9cf&&await spawnFFmpeg(['-y','-f',_0x43cc63(0x17d),'-i',_0x43cc63(0x1bc)+_0x43cc63(0x1c2)+_0x12f912+'x'+_0x12f912,_0x549de1]);await spawnFFmpeg(['-y',_0x43cc63(0xf8),'1','-i',_0x549de1,'-i',_0x2bbbed,_0x43cc63(0x1b7),_0x43cc63(0x15c),'-t','60','-c:a','aac',_0x43cc63(0x172),_0x43cc63(0x14c),_0x43cc63(0x190),'-preset','veryfast',_0x67a6c]),await transcodeToVideoNote(_0x67a6c,_0x311756,_0x12f912);try{await unlink(_0x67a6c);}catch(_0x239f26){}if(!_0x1cd9cf)try{await unlink(_0x549de1);}catch(_0x4b3825){}return _0x311756;}function normalizeTarget(_0x18bc37){const _0x48e470=_0x8d48d6;if(!_0x18bc37)return null;let _0x386244=String(_0x18bc37)[_0x48e470(0x1dd)]();if(_0x386244[_0x48e470(0x18b)]('@'))try{return jidNormalizedUser(_0x386244);}catch(_0x20585b){return _0x386244;}_0x386244=_0x386244['replace'](/[^\d]/g,'');if(!_0x386244)return null;if(_0x386244[_0x48e470(0x12f)]<0x432+-0x168d+0x1263||_0x386244[_0x48e470(0x12f)]>0x432+-0x825*0x1+0x26*0x1b)return null;return _0x386244+(_0x48e470(0x16e)+_0x48e470(0x164));}export async function initialize(_0x22a82a){const _0x69f55c=_0x8d48d6;if(!_0x22a82a)throw new Error('cc.initial'+_0x69f55c(0xeb)+_0x69f55c(0x1e2)+_0x69f55c(0x1b8));botRef=_0x22a82a,setupSendApi(),refreshConfig();try{const _0xae56ed=getBotJid();info('[cc]\x20initi'+_0x69f55c(0x153)+'\x20default;\x20'+_0x69f55c(0x175)+_0x69f55c(0x129)+_0x69f55c(0x109)+_0x69f55c(0x10c)+'n\x20groups).'+_0x69f55c(0x1bd)+(_0xae56ed||_0x69f55c(0x15b)));}catch(_0xfa2083){info(_0x69f55c(0x124)+_0x69f55c(0x1c9)+_0x69f55c(0x173)+_0x69f55c(0x196));}}export async function onMessage(_0x245950){const _0x57bab5=_0x8d48d6;try{if(!_0x245950||!_0x245950[_0x57bab5(0x157)]||!_0x245950[_0x57bab5(0x1d7)])return;const _0x21e30d=typeof _0x245950[_0x57bab5(0xf5)]===_0x57bab5(0x12a)&&_0x245950[_0x57bab5(0xf5)][_0x57bab5(0x1dd)]()?_0x245950[_0x57bab5(0xf5)]['trim']():_0x245950['message']?.[_0x57bab5(0x11b)+'on']||_0x245950[_0x57bab5(0x1d7)]?.['extendedTe'+_0x57bab5(0x11f)]?.[_0x57bab5(0xf5)]||_0x245950['message']?.['videoMessa'+'ge']?.[_0x57bab5(0x1c5)]||_0x245950[_0x57bab5(0x1d7)]?.[_0x57bab5(0xf9)+'ge']?.['caption']||_0x245950[_0x57bab5(0x1d7)]?.[_0x57bab5(0x111)+_0x57bab5(0x155)]?.['caption']||'';if(!_0x21e30d)return;const _0x4bec96=_0x21e30d[_0x57bab5(0x1dd)](),_0xbda4e7=_0x4bec96[_0x57bab5(0x188)](/\s+/),_0x259cdd=_0xbda4e7[0x7*0x36a+-0x16a6+-0x140*0x1][_0x57bab5(0x1bb)+'e']();if(!(_0x259cdd==='cc'||/^\/cc\b/i['test'](_0x4bec96)))return;const _0x540e93=_0x245950['key'][_0x57bab5(0x1dc)],_0x392930=typeof _0x540e93===_0x57bab5(0x12a)&&_0x540e93[_0x57bab5(0x11a)](_0x57bab5(0x112));if(_0x392930){if(!ALLOW_GROUP_COMMANDS){info(_0x57bab5(0x195)+_0x57bab5(0x18d)+_0x57bab5(0x19e)+_0x57bab5(0x18a)+_0x57bab5(0x150)+'alse)');return;}let _0x8ded42=![];try{_0x8ded42=await isadmin(botRef,_0x245950);}catch(_0x45bdb9){warn('[cc]\x20isadm'+_0x57bab5(0x104)+'ailed:\x20'+(_0x45bdb9?.[_0x57bab5(0x1d7)]||_0x45bdb9)),_0x8ded42=![];}if(!_0x8ded42){if(sendApi)try{await safeSend(_0x540e93,{'text':_0x57bab5(0x136)+_0x57bab5(0x19f)+_0x57bab5(0x15d)+_0x57bab5(0xf2)+'fig\x20restri'+'cted).','quoted':_0x245950[_0x57bab5(0x157)]});}catch(_0x4d4c97){}return;}}let _0x1f7731=_0xbda4e7[-0x17dd+-0x7ce*0x4+0x3716]||null;if(!_0x1f7731&&_0x21e30d[_0x57bab5(0x18b)]('\x0a')){const _0x2a4fbe=_0x21e30d[_0x57bab5(0x188)](/\r?\n/)[_0x57bab5(0x177)](_0x3dafab=>_0x3dafab['trim']())[_0x57bab5(0xed)](Boolean);if(_0x2a4fbe[_0x57bab5(0x12f)]>=0x1*-0xc67+-0x12c4+0x1f2d)_0x1f7731=_0x2a4fbe[-0x2*0xf05+0x1b7a*0x1+0x291][_0x57bab5(0x188)](/\s+/)[0x1*-0x72f+-0x1e7f+0x25ae];}let _0x345185=getQuotedWrap(_0x245950),_0x475935=![];!_0x345185&&((_0x245950[_0x57bab5(0x1d7)]?.[_0x57bab5(0xee)+'ge']||_0x245950['message']?.[_0x57bab5(0x111)+'ssage']&&String(_0x245950[_0x57bab5(0x1d7)][_0x57bab5(0x111)+_0x57bab5(0x155)]['mimetype']||'')[_0x57bab5(0xfd)](_0x57bab5(0x101)))&&(_0x345185={'quoted':_0x245950[_0x57bab5(0x1d7)],'quotedKey':_0x245950['message']?.[_0x57bab5(0x135)+'o']||{}},_0x475935=!![]));if(!_0x1f7731){const _0x766ebb=_0x540e93;sendApi&&await safeSend(_0x766ebb,{'text':_0x57bab5(0x160)+_0x57bab5(0x113)+_0x57bab5(0x16f)+'e\x20with\x20`cc'+_0x57bab5(0x14f)+_0x57bab5(0x16c)+_0x57bab5(0x198)+_0x57bab5(0x17f)+_0x57bab5(0x162)+'cc\x20<number'+_0x57bab5(0x13f)+_0x57bab5(0x179)+_0x57bab5(0x154)+_0x57bab5(0xfe)+'`\x20or\x20`cc\x201'+'2036338072'+_0x57bab5(0x186)+_0x57bab5(0x1ad),'quoted':_0x245950[_0x57bab5(0x157)]});return;}if(!_0x345185||!_0x345185['quoted']){if(sendApi)await safeSend(_0x540e93,{'text':_0x57bab5(0x131)+_0x57bab5(0x113)+_0x57bab5(0x16f)+_0x57bab5(0x11d)+_0x57bab5(0x16b)+_0x57bab5(0x103)+_0x57bab5(0xfc)+'ber>`)\x20to\x20'+_0x57bab5(0x134)+'\x20into\x20a\x20vi'+_0x57bab5(0x133),'quoted':_0x245950['key']});return;}if(!isVideoNode(_0x345185[_0x57bab5(0x10a)])){const _0x5e6597=_0x345185[_0x57bab5(0x10a)];if(_0x5e6597[_0x57bab5(0xf9)+'ge']){if(sendApi)await safeSend(_0x540e93,{'text':_0x57bab5(0x13b)+_0x57bab5(0x1a5)+_0x57bab5(0x117)+_0x57bab5(0x141)+_0x57bab5(0x106)+_0x57bab5(0x15f)+_0x57bab5(0x1d1)+'-notes.\x20Pl'+_0x57bab5(0x1b9)+_0x57bab5(0x170)+_0x57bab5(0x15a)+_0x57bab5(0x165)+'\x20it\x20into\x20a'+_0x57bab5(0x19d)+'e.','quoted':_0x245950['key']})[_0x57bab5(0x184)](()=>{});}else{if(_0x5e6597['stickerMes'+_0x57bab5(0x114)]){if(sendApi)await safeSend(_0x540e93,{'text':'The\x20replie'+_0x57bab5(0x1a5)+'\x20a\x20sticker'+_0x57bab5(0x1be)+_0x57bab5(0x1c7)+_0x57bab5(0x158)+_0x57bab5(0x1df)+_0x57bab5(0x130)+_0x57bab5(0xf4)+_0x57bab5(0x1d3)+_0x57bab5(0x1a0),'quoted':_0x245950[_0x57bab5(0x157)]})['catch'](()=>{});}else{if(_0x5e6597[_0x57bab5(0x1a1)+'ge']){if(sendApi)await safeSend(_0x540e93,{'text':_0x57bab5(0x13b)+_0x57bab5(0x1a5)+_0x57bab5(0x17e)+'file.\x20cc\x20c'+'urrently\x20e'+_0x57bab5(0x12b)+_0x57bab5(0xf1)+'ge\x20(or\x20a\x20v'+_0x57bab5(0x1a2)+_0x57bab5(0x14b)+_0x57bab5(0x189)+_0x57bab5(0x12e)+'message.','quoted':_0x245950['key']})[_0x57bab5(0x184)](()=>{});}else{if(_0x5e6597[_0x57bab5(0x111)+_0x57bab5(0x155)]&&_0x5e6597[_0x57bab5(0x111)+'ssage'][_0x57bab5(0x11c)]&&_0x5e6597['documentMe'+_0x57bab5(0x155)][_0x57bab5(0x11c)][_0x57bab5(0xfd)](_0x57bab5(0xf7))){if(sendApi)await safeSend(_0x540e93,{'text':_0x57bab5(0x13b)+_0x57bab5(0xef)+_0x57bab5(0x10d)+_0x57bab5(0x132)+_0x57bab5(0x16a)+'eos*\x20only.'+_0x57bab5(0x16d)+_0x57bab5(0x1b1)+_0x57bab5(0xf1)+_0x57bab5(0x1ab),'quoted':_0x245950[_0x57bab5(0x157)]})[_0x57bab5(0x184)](()=>{});}else{if(sendApi)await safeSend(_0x540e93,{'text':'The\x20replie'+_0x57bab5(0x1a5)+'\x20not\x20a\x20vid'+_0x57bab5(0x1cd)+_0x57bab5(0x18e)+'ted\x20media\x20'+_0x57bab5(0x1ba)+_0x57bab5(0x1b6)+_0x57bab5(0x122)+_0x57bab5(0x1e3)+_0x57bab5(0x1a6)+_0x57bab5(0x1ce)+_0x57bab5(0x1ae)+'.','quoted':_0x245950[_0x57bab5(0x157)]})[_0x57bab5(0x184)](()=>{});}}}}return;}const _0x31e64e=normalizeTarget(_0x1f7731);if(!_0x31e64e){if(sendApi)await safeSend(_0x540e93,{'text':'Could\x20not\x20'+_0x57bab5(0x1e0)+_0x57bab5(0x148)+_0x1f7731+(_0x57bab5(0x102)+'\x20internati'+_0x57bab5(0x19c)+_0x57bab5(0x1d4)+_0x57bab5(0x14e)+_0x57bab5(0x1c0)+'id\x20JID.'),'quoted':_0x245950[_0x57bab5(0x157)]});return;}try{const _0x3fd0ed=getBotJid();if(_0x3fd0ed&&_0x31e64e===_0x3fd0ed){if(sendApi)await safeSend(_0x540e93,{'text':_0x57bab5(0x1d2)+_0x57bab5(0x17a)+_0x57bab5(0x182)+_0x57bab5(0x19d)+_0x57bab5(0x176)+_0x57bab5(0xe8),'quoted':_0x245950[_0x57bab5(0x157)]});return;}}catch(_0x191d18){}const _0x48638c=String(_0x245950[_0x57bab5(0x157)]['id']||''),_0x3a7791=_0x48638c+'::'+_0x31e64e;if(isSendProcessed(_0x3a7791)){info(_0x57bab5(0x1b4)+'cate\x20send\x20'+_0x57bab5(0x19a)+'r\x20'+_0x3a7791);return;}markSendProcessed(_0x3a7791);const _0xf12c55=await mkdtemp(_0x2e82c7['join'](_0x18342e[_0x57bab5(0x193)](),'cc-'));let _0x2fad15=null;try{const _0x31e83e=_0x345185['quoted'],_0x5f5837=_0x31e83e?.[_0x57bab5(0xee)+'ge']?.[_0x57bab5(0x183)+_0x57bab5(0x1af)]||_0x31e83e?.[_0x57bab5(0x111)+'ssage']?.[_0x57bab5(0x183)+_0x57bab5(0x1af)]||_0x31e83e?.[_0x57bab5(0x1d7)]?.[_0x57bab5(0xee)+'ge']?.[_0x57bab5(0x183)+_0x57bab5(0x1af)]||null;_0x5f5837&&(Buffer[_0x57bab5(0x197)](_0x5f5837)||_0x5f5837 instanceof Uint8Array)&&(_0x2fad15=_0x2e82c7['join'](_0xf12c55,_0x57bab5(0xea)),await writeFileAsync(_0x2fad15,Buffer[_0x57bab5(0x149)](_0x5f5837)));const _0x571c91=await streamQuotedMediaToFile(_0x31e83e,_0xf12c55);if(!_0x571c91){if(sendApi)await safeSend(_0x540e93,{'text':'Failed\x20to\x20'+_0x57bab5(0x159)+_0x57bab5(0x17c)+'video\x20(it\x20'+_0x57bab5(0x108)+_0x57bab5(0x1c1)+_0x57bab5(0x191)+'\x20Ensure\x20th'+_0x57bab5(0x140)+_0x57bab5(0x12c)+_0x57bab5(0x180)+_0x57bab5(0x1b3),'quoted':_0x245950[_0x57bab5(0x157)]});await rm(_0xf12c55,{'recursive':!![],'force':!![]})['catch'](()=>{});return;}const {path:_0x15e5bd,type:_0x1b3747}=_0x571c91,_0x1ad3a4=_0x2e82c7['join'](_0xf12c55,_0x57bab5(0x199)+Date['now']()+_0x57bab5(0x147));await transcodeToVideoNote(_0x15e5bd,_0x1ad3a4);const _0x26e476={'video':{'url':_0x1ad3a4},'mimetype':'video/mp4','fileName':_0x57bab5(0x143)+_0x57bab5(0x147),'ptv':!![]};try{if(!sendApi)throw new Error(_0x57bab5(0x178)+'t\x20availabl'+'e');await safeSend(_0x31e64e,_0x26e476),info('[cc]\x20sent\x20'+_0x57bab5(0x1c3)+_0x57bab5(0x15e)+_0x31e64e);if(sendApi){const _0x2f6567=_0x475935?_0x57bab5(0x156)+'video-note'+'\x20sent\x20to\x20'+_0x31e64e+(_0x57bab5(0x145)+_0x57bab5(0x167)+_0x57bab5(0x13e)+'tion.)'):_0x57bab5(0x156)+'video-note'+'\x20sent\x20to\x20'+_0x31e64e+'.';await safeSend(_0x540e93,{'text':_0x2f6567,'quoted':_0x245950[_0x57bab5(0x157)]})[_0x57bab5(0x184)](()=>{});}}catch(_0x19a1c8){error(_0x19a1c8,'[cc]\x20faile'+_0x57bab5(0x123)+_0x57bab5(0x13a)+_0x31e64e+':\x20'+(_0x19a1c8?.[_0x57bab5(0x1d7)]||_0x19a1c8));if(sendApi)await safeSend(_0x540e93,{'text':'Failed\x20to\x20'+'deliver\x20to'+'\x20'+_0x31e64e+':\x20'+(_0x19a1c8?.[_0x57bab5(0x1d7)]||_0x19a1c8),'quoted':_0x245950[_0x57bab5(0x157)]})[_0x57bab5(0x184)](()=>{});}try{await unlink(_0x15e5bd)[_0x57bab5(0x184)](()=>{}),await unlink(_0x1ad3a4)[_0x57bab5(0x184)](()=>{});if(_0x2fad15)await unlink(_0x2fad15)['catch'](()=>{});await rm(_0xf12c55,{'recursive':!![],'force':!![]});}catch(_0x504a2f){}}catch(_0x2a8e5d){error(_0x2a8e5d,'[cc]\x20inter'+_0x57bab5(0x11e)+'\x20'+(_0x2a8e5d?.['message']||_0x2a8e5d));if(sendApi)await safeSend(_0x540e93,{'text':_0x57bab5(0x171)+_0x57bab5(0x1e1)+(_0x2a8e5d?.[_0x57bab5(0x1d7)]||_0x2a8e5d),'quoted':_0x245950[_0x57bab5(0x157)]})[_0x57bab5(0x184)](()=>{});await rm(_0xf12c55,{'recursive':!![],'force':!![]})['catch'](()=>{});}}catch(_0x233466){error(_0x233466,_0x57bab5(0x1a7)+_0x57bab5(0x138)+(_0x233466?.[_0x57bab5(0x1d7)]||_0x233466));}}export async function cleanup(){const _0xd6a854=_0x8d48d6;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0xd6a854(0x13d)+_0xd6a854(0x120));}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};