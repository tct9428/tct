const _0x456bb9=_0x1a0b;(function(_0x4f6e0f,_0x20b001){const _0x59a310=_0x1a0b,_0x13e9f9=_0x4f6e0f();while(!![]){try{const _0x4539d1=-parseInt(_0x59a310(0x165))/(-0x182+-0x11*0xf+0x282)+parseInt(_0x59a310(0x1dd))/(-0x5ac+0x7*-0x119+0xd5d)+-parseInt(_0x59a310(0x195))/(-0x82f*-0x1+0xed4+-0x1700)*(-parseInt(_0x59a310(0x1df))/(0x1a86+0x458+-0x1eda))+-parseInt(_0x59a310(0x1f2))/(-0x2705+0x709*-0x5+0x4a37)+-parseInt(_0x59a310(0x150))/(-0xf33+0xf39+0x0)*(-parseInt(_0x59a310(0x1e8))/(-0xc80+0x1*0x1a32+-0xdab))+-parseInt(_0x59a310(0x21b))/(0xc64+-0x1016*0x1+0x3*0x13e)+-parseInt(_0x59a310(0x204))/(-0xc6*-0x2e+0x812+-0x2b9d);if(_0x4539d1===_0x20b001)break;else _0x13e9f9['push'](_0x13e9f9['shift']());}catch(_0x18a2f6){_0x13e9f9['push'](_0x13e9f9['shift']());}}}(_0xfd84,0x1*0x6c623+-0x1*-0x65854+-0x82709));import _0x54f332 from'fs';import _0x176bcf from'path';import _0x3a0e86 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x11fc7a}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';function _0xfd84(){const _0x108253=['remoteJid','\x20Please\x20re','verts\x20*vid','ge.\x20cc\x20con','skipped\x20fo','startsWith','\x20internati','from','y\x20use\x20cc\x20(','alized\x20(PM','audioMessa','videoMessa','-c:v','xpects\x20a\x20v','video\x20(it\x20','p.net','ent).\x20Plea','loadConfig','gt(a,1),','ssage.','in\x20check\x20f','he\x20quoted\x20','cc.initial','close','jpegThumbn','>`\x20(no\x20rep','[cc]\x20initi','r\x20JID>`\x20â€”\x20','message.','[cc]\x20confi','tJid\x20unkno','dirname','thumb.jpg','g.\x202547...','aac','stderr','text',',-2)\x27:\x27if(','[cc]\x20clean','Could\x20not\x20','set\x20ALLOW_','error','in.','participan','Converted\x20','ber>`)\x20to\x20','xtMessage','(photo).\x20c','\x22.\x20Provide','cessible).','tmpdir','[cc]\x20handl','c\x20converts','ted\x20media\x20','nal\x20error:','t\x20availabl','ed\x20up','[cc]\x20faile','\x20caption\x20`','se\x20reply\x20t','ot\x20itself.','o\x20send\x20the','[cc]\x20sendA','-crf','t\x20code\x20','1239152tlUbUv','ith\x20captio','1084CijEij','rmediate_','video\x20note','video-note','sock','\x20to\x20a\x20vide','[cc]\x20group','te.\x20Please','to\x20a\x20video','2572661yTjDMc','download\x20t','The\x20replie','d\x20document','video','gnored\x20(AL','ail','es\x20bot\x20ins','-preset','.mp4','231495aoSgAg','textInfo','ty\x20or\x20inac','video_note','tance','sendApi\x20no','age','\x20which\x20can','2036338072','ideo\x20messa','cted).','delete','extendedTe','quotedMess',':(ow-iw)/2','filter','-shortest','\x20sent\x20to\x20','1709676JOfrLM','e\x20with\x20`cc','\x20present\x20a','\x20to\x20','deo-note.','key','trim','out_','fig\x20restri','\x20an\x20audio\x20','P_COMMANDS','e\x20(or\x20send','k:s=','eo\x20or\x20is\x20a','server-con','urrently\x20e','isBuffer','id\x20JID.','n\x20`cc\x20<num','Usage:\x20rep','\x20it\x20into\x20a','ge.','ffmpeg\x20exi','3756784DzWWhV','GROUP_COMM','onal\x20digit','image','\x20default;\x20','createWrit','er\x20error:\x20','mQuotedMed','`\x20or\x20`cc\x201','nd\x20try\x20aga','ignore','parse\x20targ','2467155@g.','d\x20media\x20is','ly).\x20Examp','get','documentMe','\x20Ensure\x20th','Conversion','it\x20into\x20a\x20','Failed\x20to\x20','ailed:\x20','set','mp4',')\x27,pad=','contextInf','map','\x20failed:\x20','color=blac','now','ssage','message','[cc]\x20hotRe','libx264','sendMessag','wn)','includes','d\x20sending\x20','\x20a\x20video\x20w','Refusing\x20t','eos*\x20only.','\x20video-not','function','cate\x20send\x20','caption','pop','OR\x20send\x20a\x20','\x20an\x20image\x20','6xRZThz','string','ffmpeg','imageMessa','o\x20a\x20video\x20','deliver\x20to','shConfig\x20e','\x20not\x20a\x20vid','ply\x20to\x20a\x20v','[cc]\x20sent\x20','test','deo\x20messag','data','promises','node','in_','NDS=','ANDS=true\x20','pipe','sage','fileName','325938JeZKpO','us`','alse)','join','values','split','mkdtemp','webm','quoted','\x20into\x20a\x20vi','to\x20allow\x20i','toString','mimetype','audio_cove','-notes.\x20Pl','stickerMes','to\x20','gt(a,1),-2','a\x20video\x20me','ideo\x20docum','has','verted\x20to\x20','into\x20video','a\x20video-no','veryfast','\x20admins\x20ma','ease\x20reply','may\x20be\x20emp','ilable','ly\x20to\x20a\x20vi','clear','-level','e\x20media\x20is','catch',',setsar=1','shape.\x20Ple','o\x20with\x20cap','video\x20with','\x20handler\x20e','[cc]\x20refre','-c:a','messageCon','cc-','64k','o\x20message\x20','rror:\x20','ALLOW_GROU','g:\x20ALLOW_G','4098NOYVAa','ROUP_COMMA','o\x20convert\x20','iaToFile\x20f','length','-profile:v','baseline'];_0xfd84=function(){return _0x108253;};return _0xfd84();}import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0x11fc7a),mkdtemp=_0x54f332[_0x456bb9(0x15d)][_0x456bb9(0x16b)],writeFileAsync=_0x54f332[_0x456bb9(0x15d)]['writeFile'],unlink=_0x54f332[_0x456bb9(0x15d)]['unlink'],rm=_0x54f332['promises']['rm'],DEFAULT_SIZE=0x1a3f+-0xde6+-0x9d9;export const name='cc';export const version='1.8.1-fixe'+'d';export const priority=0x20db+-0x14*0x29+-0x1d39;export const configKeys=[_0x456bb9(0x193)+'P_COMMANDS'];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(0x59*-0x57+0x7*-0xb5+0x2341)*(0x134b*0x1+-0x4*-0x59+0x5*-0x35b);function markSendProcessed(_0x20e558){const _0xf8d946=_0x456bb9;if(!_0x20e558)return;if(processedSendKeys[_0xf8d946(0x179)](_0x20e558))try{clearTimeout(processedSendKeys[_0xf8d946(0x12f)](_0x20e558));}catch(_0x178593){}const _0x37db31=setTimeout(()=>processedSendKeys[_0xf8d946(0x1fd)](_0x20e558),PROCESSED_SEND_TTL_MS);processedSendKeys[_0xf8d946(0x136)](_0x20e558,_0x37db31);}function isSendProcessed(_0xe981d7){const _0x1633e4=_0x456bb9;return _0xe981d7&&processedSendKeys[_0x1633e4(0x179)](_0xe981d7);}function clearAllProcessedSends(){const _0x1dcc70=_0x456bb9;for(const _0x22bbbf of processedSendKeys[_0x1dcc70(0x169)]())try{clearTimeout(_0x22bbbf);}catch(_0x5034b4){}processedSendKeys[_0x1dcc70(0x183)]();}function _0x1a0b(_0x458879,_0x58153c){_0x458879=_0x458879-(0x15ce+-0x21f3+0xd51);const _0x361e8d=_0xfd84();let _0x41ba46=_0x361e8d[_0x458879];return _0x41ba46;}function setupSendApi(){const _0x38cd78=_0x456bb9;if(!botRef)return;if(typeof botRef[_0x38cd78(0x142)+'e']===_0x38cd78(0x14a))sendApi=async(_0x207fb7,_0x24128f,_0x19289c={})=>await botRef[_0x38cd78(0x142)+'e'](_0x207fb7,_0x24128f,_0x19289c);else botRef[_0x38cd78(0x1e3)]&&typeof botRef['sock'][_0x38cd78(0x142)+'e']===_0x38cd78(0x14a)?sendApi=async(_0xabd3f2,_0x516706,_0x180999={})=>await botRef[_0x38cd78(0x1e3)][_0x38cd78(0x142)+'e'](_0xabd3f2,_0x516706,_0x180999):sendApi=null;}async function safeSend(_0x5aa135,_0x11f221,_0x5b172a={}){const _0x116100=_0x456bb9;if(!sendApi){warn(_0x116100(0x1da)+'pi\x20not\x20ava'+_0x116100(0x181));throw new Error(_0x116100(0x1f7)+_0x116100(0x1d3)+'e');}return await sendApi(_0x5aa135,_0x11f221,_0x5b172a);}function refreshConfig(){const _0x2e03d2=_0x456bb9;try{const _0x39aa21=typeof getConfig==='function'?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x39aa21[_0x2e03d2(0x193)+_0x2e03d2(0x20e)],info(_0x2e03d2(0x1b9)+_0x2e03d2(0x194)+_0x2e03d2(0x196)+_0x2e03d2(0x160)+ALLOW_GROUP_COMMANDS);}catch(_0x458383){warn(_0x2e03d2(0x18c)+_0x2e03d2(0x156)+_0x2e03d2(0x192)+(_0x458383?.[_0x2e03d2(0x13f)]||_0x458383));}}try{typeof hotReloadConfig===_0x456bb9(0x14a)&&hotReloadConfig(()=>{const _0x11b310=_0x456bb9;try{refreshConfig();}catch(_0x5a712c){warn(_0x11b310(0x140)+_0x11b310(0x1ad)+_0x11b310(0x18b)+_0x11b310(0x192)+(_0x5a712c?.[_0x11b310(0x13f)]||_0x5a712c));}});}catch(_0x50bbf4){}refreshConfig();function getQuotedWrap(_0x5e0d50){const _0x165e60=_0x456bb9;if(!_0x5e0d50||!_0x5e0d50['message'])return null;const _0x1c7e16=_0x5e0d50[_0x165e60(0x13f)]?.['extendedTe'+_0x165e60(0x1ca)]?.['contextInf'+'o'];if(_0x1c7e16&&_0x1c7e16[_0x165e60(0x1ff)+_0x165e60(0x1f8)])return{'quoted':_0x1c7e16['quotedMess'+_0x165e60(0x1f8)],'quotedKey':_0x1c7e16};for(const _0xeae2af of Object['keys'](_0x5e0d50[_0x165e60(0x13f)]||{})){const _0x12372f=_0x5e0d50[_0x165e60(0x13f)][_0xeae2af];if(_0x12372f&&_0x12372f[_0x165e60(0x139)+'o']&&_0x12372f[_0x165e60(0x139)+'o'][_0x165e60(0x1ff)+_0x165e60(0x1f8)])return{'quoted':_0x12372f[_0x165e60(0x139)+'o']['quotedMess'+'age'],'quotedKey':_0x12372f[_0x165e60(0x139)+'o']};}const _0x1f69e5=_0x5e0d50[_0x165e60(0x13f)]?.['contextInf'+'o']?.['quotedMess'+_0x165e60(0x1f8)]||_0x5e0d50[_0x165e60(0x13f)]?.[_0x165e60(0x18e)+_0x165e60(0x1f3)]?.[_0x165e60(0x1ff)+'age'],_0x5ba7b8=_0x5e0d50['message']?.[_0x165e60(0x139)+'o']?.[_0x165e60(0x1c7)+'t']||_0x5e0d50['message']?.[_0x165e60(0x18e)+_0x165e60(0x1f3)]?.[_0x165e60(0x1c7)+'t']||null;if(_0x1f69e5)return{'quoted':_0x1f69e5,'quotedKey':{'participant':_0x5ba7b8}};return null;}function isVideoNode(_0x22ef3f){const _0x5376b4=_0x456bb9;if(!_0x22ef3f)return![];if(_0x22ef3f[_0x5376b4(0x1a7)+'ge'])return!![];if(_0x22ef3f['message']&&_0x22ef3f[_0x5376b4(0x13f)][_0x5376b4(0x1a7)+'ge'])return!![];if(_0x22ef3f[_0x5376b4(0x130)+'ssage']&&typeof _0x22ef3f[_0x5376b4(0x130)+_0x5376b4(0x13e)][_0x5376b4(0x171)]===_0x5376b4(0x151)&&_0x22ef3f[_0x5376b4(0x130)+_0x5376b4(0x13e)][_0x5376b4(0x171)]['startsWith'](_0x5376b4(0x1ec)))return!![];return![];}async function streamQuotedMediaToFile(_0x538905,_0x1166c3){const _0x268d8a=_0x456bb9;try{const _0x1e4c31=[{'node':_0x538905[_0x268d8a(0x1a7)+'ge'],'type':'video'},{'node':_0x538905['documentMe'+_0x268d8a(0x13e)]&&String(_0x538905[_0x268d8a(0x130)+_0x268d8a(0x13e)][_0x268d8a(0x171)]||'')[_0x268d8a(0x1a1)]('video')?_0x538905[_0x268d8a(0x130)+'ssage']:null,'type':'video'},{'node':_0x538905['message']?.[_0x268d8a(0x1a7)+'ge'],'type':'video'},{'node':_0x538905[_0x268d8a(0x13f)]?.['documentMe'+_0x268d8a(0x13e)]&&String(_0x538905[_0x268d8a(0x13f)][_0x268d8a(0x130)+_0x268d8a(0x13e)][_0x268d8a(0x171)]||'')['startsWith'](_0x268d8a(0x1ec))?_0x538905[_0x268d8a(0x13f)]['documentMe'+'ssage']:null,'type':_0x268d8a(0x1ec)}];let _0x395a40=null,_0x1f21f5=null;for(const _0x44e166 of _0x1e4c31){if(_0x44e166[_0x268d8a(0x15e)]){_0x395a40=_0x44e166['node'],_0x1f21f5=_0x44e166['type'];break;}}if(!_0x395a40||!_0x1f21f5)return null;let _0x4a161e=_0x268d8a(0x137);if(_0x1f21f5===_0x268d8a(0x1ec))_0x4a161e=_0x268d8a(0x137);if(_0x395a40[_0x268d8a(0x164)]){const _0x1cf99a=String(_0x395a40['fileName'])[_0x268d8a(0x16a)]('.')[_0x268d8a(0x14d)]();if(_0x1cf99a&&_0x1cf99a[_0x268d8a(0x199)]<=0xd2b+0x201+-0x22*0x72)_0x4a161e=_0x1cf99a;}else{if(_0x395a40[_0x268d8a(0x171)]){if(_0x395a40['mimetype'][_0x268d8a(0x144)]('mp4'))_0x4a161e=_0x268d8a(0x137);else{if(_0x395a40['mimetype'][_0x268d8a(0x144)](_0x268d8a(0x16c)))_0x4a161e=_0x268d8a(0x16c);}}}const _0x16f66e=_0x176bcf[_0x268d8a(0x168)](_0x1166c3,_0x268d8a(0x15f)+Date['now']()+'.'+_0x4a161e),_0x57ce90=await downloadContentFromMessage(_0x395a40,_0x1f21f5);if(!_0x57ce90)return null;const _0x41ae9c=_0x54f332[_0x268d8a(0x220)+'eStream'](_0x16f66e);return await pipeline(_0x57ce90,_0x41ae9c),{'path':_0x16f66e,'type':_0x1f21f5,'contentNode':_0x395a40};}catch(_0x3b3a14){return warn('[cc]\x20strea'+_0x268d8a(0x222)+_0x268d8a(0x198)+_0x268d8a(0x135)+(_0x3b3a14?.[_0x268d8a(0x13f)]||_0x3b3a14)),null;}}function spawnFFmpeg(_0xaad422,_0x574f66){return new Promise((_0x58132d,_0x507d56)=>{const _0x4e133d=_0x1a0b,_0xcb4c64=spawn(_0x4e133d(0x152),_0xaad422,{'stdio':[_0x4e133d(0x225),_0x4e133d(0x162),_0x4e133d(0x162)]});let _0x43e0fa='';_0xcb4c64[_0x4e133d(0x1bf)]['on'](_0x4e133d(0x15c),_0x24f8e7=>{const _0x1a05b3=_0x4e133d;_0x43e0fa+=_0x24f8e7[_0x1a05b3(0x170)]();if(_0x574f66)_0x574f66(_0x24f8e7);}),_0xcb4c64['on'](_0x4e133d(0x1b3),_0xe1c918=>{const _0x366ea3=_0x4e133d;if(_0xe1c918===-0x13f2+0x152*0x1d+-0x1258)_0x58132d(_0x43e0fa);else _0x507d56(new Error(_0x366ea3(0x21a)+_0x366ea3(0x1dc)+_0xe1c918+'\x0a'+_0x43e0fa));}),_0xcb4c64['on'](_0x4e133d(0x1c5),_0x120a64=>_0x507d56(_0x120a64));});}async function transcodeToVideoNote(_0x24dd3f,_0x4bd0a2,_0x5b5cfc=DEFAULT_SIZE){const _0x4ad2bf=_0x456bb9,_0x33d87=['-y','-i',_0x24dd3f,'-t','60','-vf','scale=\x27if('+_0x4ad2bf(0x1ae)+_0x5b5cfc+(_0x4ad2bf(0x1c1)+_0x4ad2bf(0x176)+',')+_0x5b5cfc+_0x4ad2bf(0x138)+_0x5b5cfc+':'+_0x5b5cfc+(_0x4ad2bf(0x200)+':(oh-ih)/2'+_0x4ad2bf(0x187)),'-r','30',_0x4ad2bf(0x1a8),_0x4ad2bf(0x141),_0x4ad2bf(0x19a),_0x4ad2bf(0x19b),_0x4ad2bf(0x184),'3.0',_0x4ad2bf(0x1f0),'veryfast',_0x4ad2bf(0x1db),'28',_0x4ad2bf(0x18d),'aac','-b:a',_0x4ad2bf(0x190),_0x4bd0a2];return await spawnFFmpeg(_0x33d87),_0x4bd0a2;}async function audioToVideoNote(_0x173761,_0x3c8b9a,_0x37b0b4=null,_0x40bfa2=DEFAULT_SIZE){const _0x3a4be2=_0x456bb9,_0x3b22e=_0x176bcf[_0x3a4be2(0x1bb)](_0x3c8b9a),_0x22baf1=_0x176bcf[_0x3a4be2(0x168)](_0x3b22e,'audio_inte'+_0x3a4be2(0x1e0)+Date[_0x3a4be2(0x13d)]()+_0x3a4be2(0x1f1)),_0x3a84a1=_0x37b0b4||_0x176bcf['join'](_0x3b22e,_0x3a4be2(0x172)+'r_'+Date['now']()+'.png');!_0x37b0b4&&await spawnFFmpeg(['-y','-f','lavfi','-i',_0x3a4be2(0x13c)+_0x3a4be2(0x210)+_0x40bfa2+'x'+_0x40bfa2,_0x3a84a1]);await spawnFFmpeg(['-y','-loop','1','-i',_0x3a84a1,'-i',_0x173761,_0x3a4be2(0x1a8),'libx264','-t','60','-c:a',_0x3a4be2(0x1be),'-b:a',_0x3a4be2(0x190),_0x3a4be2(0x202),'-preset',_0x3a4be2(0x17d),_0x22baf1]),await transcodeToVideoNote(_0x22baf1,_0x3c8b9a,_0x40bfa2);try{await unlink(_0x22baf1);}catch(_0x42c019){}if(!_0x37b0b4)try{await unlink(_0x3a84a1);}catch(_0x107067){}return _0x3c8b9a;}function normalizeTarget(_0x198c64){const _0x398755=_0x456bb9;if(!_0x198c64)return null;let _0xb53b4b=String(_0x198c64)[_0x398755(0x20a)]();if(_0xb53b4b[_0x398755(0x144)]('@'))try{return jidNormalizedUser(_0xb53b4b);}catch(_0x426b51){return _0xb53b4b;}_0xb53b4b=_0xb53b4b['replace'](/[^\d]/g,'');if(!_0xb53b4b)return null;if(_0xb53b4b[_0x398755(0x199)]<0x639*0x4+0x1f7e+-0x2*0x1c2d||_0xb53b4b['length']>0xbd*-0x16+0x2227+-0x11da)return null;return _0xb53b4b+('@s.whatsap'+_0x398755(0x1ab));}export async function initialize(_0x5d88ca){const _0x2b4f7c=_0x456bb9;if(!_0x5d88ca)throw new Error(_0x2b4f7c(0x1b2)+'ize\x20requir'+_0x2b4f7c(0x1ef)+_0x2b4f7c(0x1f6));botRef=_0x5d88ca,setupSendApi(),refreshConfig();try{const _0x29f7ca=getBotJid();info(_0x2b4f7c(0x1b6)+_0x2b4f7c(0x1a5)+_0x2b4f7c(0x21f)+_0x2b4f7c(0x1c4)+_0x2b4f7c(0x21c)+_0x2b4f7c(0x161)+_0x2b4f7c(0x16f)+'n\x20groups).'+'\x20botJid='+(_0x29f7ca||'<unknown>'));}catch(_0x72355b){info(_0x2b4f7c(0x1b6)+'alized\x20(bo'+_0x2b4f7c(0x1ba)+_0x2b4f7c(0x143));}}export async function onMessage(_0x5a18f1){const _0x2e160a=_0x456bb9;try{if(!_0x5a18f1||!_0x5a18f1[_0x2e160a(0x209)]||!_0x5a18f1[_0x2e160a(0x13f)])return;const _0x1e863c=typeof _0x5a18f1[_0x2e160a(0x1c0)]===_0x2e160a(0x151)&&_0x5a18f1[_0x2e160a(0x1c0)][_0x2e160a(0x20a)]()?_0x5a18f1[_0x2e160a(0x1c0)][_0x2e160a(0x20a)]():_0x5a18f1['message']?.['conversati'+'on']||_0x5a18f1['message']?.[_0x2e160a(0x1fe)+_0x2e160a(0x1ca)]?.[_0x2e160a(0x1c0)]||_0x5a18f1[_0x2e160a(0x13f)]?.['videoMessa'+'ge']?.[_0x2e160a(0x14c)]||_0x5a18f1[_0x2e160a(0x13f)]?.[_0x2e160a(0x153)+'ge']?.[_0x2e160a(0x14c)]||_0x5a18f1[_0x2e160a(0x13f)]?.[_0x2e160a(0x130)+'ssage']?.['caption']||'';if(!_0x1e863c)return;const _0x58b878=_0x1e863c[_0x2e160a(0x20a)](),_0x471c77=_0x58b878[_0x2e160a(0x16a)](/\s+/),_0x19b13f=_0x471c77[-0x69d+-0x2*0x9d6+0x3*0x8c3]['toLowerCas'+'e']();if(!(_0x19b13f==='cc'||/^\/cc\b/i[_0x2e160a(0x15a)](_0x58b878)))return;const _0x264da1=_0x5a18f1[_0x2e160a(0x209)][_0x2e160a(0x19c)],_0x53744e=typeof _0x264da1===_0x2e160a(0x151)&&_0x264da1['endsWith']('@g.us');if(_0x53744e){if(!ALLOW_GROUP_COMMANDS){info(_0x2e160a(0x1e5)+'\x20command\x20i'+_0x2e160a(0x1ed)+'LOW_GROUP_'+'COMMANDS=f'+_0x2e160a(0x167));return;}let _0x496392=![];try{_0x496392=await isadmin(botRef,_0x5a18f1);}catch(_0xb54b9c){warn('[cc]\x20isadm'+_0x2e160a(0x1b0)+'ailed:\x20'+(_0xb54b9c?.[_0x2e160a(0x13f)]||_0xb54b9c)),_0x496392=![];}if(!_0x496392){if(sendApi)try{await safeSend(_0x264da1,{'text':'Only\x20group'+_0x2e160a(0x17e)+_0x2e160a(0x1a4)+_0x2e160a(0x212)+_0x2e160a(0x20c)+_0x2e160a(0x1fc),'quoted':_0x5a18f1[_0x2e160a(0x209)]});}catch(_0x36b701){}return;}}let _0x2737c5=_0x471c77[-0x2a2*0xe+-0x2707+0x4be4]||null;if(!_0x2737c5&&_0x1e863c[_0x2e160a(0x144)]('\x0a')){const _0x74ff58=_0x1e863c[_0x2e160a(0x16a)](/\r?\n/)[_0x2e160a(0x13a)](_0x36be8d=>_0x36be8d[_0x2e160a(0x20a)]())[_0x2e160a(0x201)](Boolean);if(_0x74ff58[_0x2e160a(0x199)]>=0xb55*-0x1+-0x47f+0xfd6)_0x2737c5=_0x74ff58[0x38d+0x1e36*-0x1+0x1aaa][_0x2e160a(0x16a)](/\s+/)[-0xc9f*-0x1+-0x2026+0x1387*0x1];}let _0x36ec03=getQuotedWrap(_0x5a18f1),_0x1491b0=![];!_0x36ec03&&((_0x5a18f1['message']?.[_0x2e160a(0x1a7)+'ge']||_0x5a18f1['message']?.[_0x2e160a(0x130)+_0x2e160a(0x13e)]&&String(_0x5a18f1[_0x2e160a(0x13f)][_0x2e160a(0x130)+_0x2e160a(0x13e)][_0x2e160a(0x171)]||'')[_0x2e160a(0x1a1)]('video'))&&(_0x36ec03={'quoted':_0x5a18f1[_0x2e160a(0x13f)],'quotedKey':_0x5a18f1[_0x2e160a(0x13f)]?.[_0x2e160a(0x139)+'o']||{}},_0x1491b0=!![]));if(!_0x2737c5){const _0x212df6=_0x264da1;sendApi&&await safeSend(_0x212df6,{'text':_0x2e160a(0x217)+'ly\x20to\x20a\x20vi'+'deo\x20messag'+_0x2e160a(0x205)+'\x20<number\x20o'+_0x2e160a(0x1b7)+_0x2e160a(0x14e)+_0x2e160a(0x18a)+_0x2e160a(0x1d6)+'cc\x20<number'+_0x2e160a(0x1b5)+_0x2e160a(0x12e)+'le:\x20`cc\x2025'+'47XXXXXXXX'+_0x2e160a(0x223)+_0x2e160a(0x1fa)+_0x2e160a(0x12c)+_0x2e160a(0x166),'quoted':_0x5a18f1[_0x2e160a(0x209)]});return;}if(!_0x36ec03||!_0x36ec03[_0x2e160a(0x16d)]){if(sendApi)await safeSend(_0x264da1,{'text':'Please\x20rep'+_0x2e160a(0x182)+_0x2e160a(0x15b)+_0x2e160a(0x20f)+_0x2e160a(0x146)+_0x2e160a(0x1de)+_0x2e160a(0x216)+_0x2e160a(0x1c9)+'convert\x20it'+_0x2e160a(0x16e)+_0x2e160a(0x208),'quoted':_0x5a18f1[_0x2e160a(0x209)]});return;}if(!isVideoNode(_0x36ec03[_0x2e160a(0x16d)])){const _0x1ad695=_0x36ec03[_0x2e160a(0x16d)];if(_0x1ad695[_0x2e160a(0x153)+'ge']){if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x1ea)+_0x2e160a(0x12d)+_0x2e160a(0x14f)+_0x2e160a(0x1cb)+_0x2e160a(0x1d0)+'\x20*videos*\x20'+_0x2e160a(0x17b)+_0x2e160a(0x173)+_0x2e160a(0x17f)+_0x2e160a(0x1e4)+_0x2e160a(0x191)+'to\x20convert'+_0x2e160a(0x218)+_0x2e160a(0x149)+'e.','quoted':_0x5a18f1[_0x2e160a(0x209)]})[_0x2e160a(0x186)](()=>{});}else{if(_0x1ad695[_0x2e160a(0x174)+_0x2e160a(0x163)]){if(sendApi)await safeSend(_0x264da1,{'text':'The\x20replie'+_0x2e160a(0x12d)+'\x20a\x20sticker'+_0x2e160a(0x1f9)+'not\x20be\x20con'+_0x2e160a(0x17a)+_0x2e160a(0x17c)+_0x2e160a(0x1e6)+'\x20reply\x20to\x20'+_0x2e160a(0x177)+_0x2e160a(0x1af),'quoted':_0x5a18f1[_0x2e160a(0x209)]})['catch'](()=>{});}else{if(_0x1ad695[_0x2e160a(0x1a6)+'ge']){if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x1ea)+'d\x20media\x20is'+_0x2e160a(0x20d)+'file.\x20cc\x20c'+_0x2e160a(0x213)+_0x2e160a(0x1a9)+_0x2e160a(0x1fb)+'ge\x20(or\x20a\x20v'+_0x2e160a(0x178)+_0x2e160a(0x1ac)+_0x2e160a(0x1d7)+_0x2e160a(0x154)+_0x2e160a(0x1b8),'quoted':_0x5a18f1[_0x2e160a(0x209)]})[_0x2e160a(0x186)](()=>{});}else{if(_0x1ad695[_0x2e160a(0x130)+_0x2e160a(0x13e)]&&_0x1ad695['documentMe'+_0x2e160a(0x13e)][_0x2e160a(0x171)]&&_0x1ad695[_0x2e160a(0x130)+_0x2e160a(0x13e)][_0x2e160a(0x171)]['startsWith'](_0x2e160a(0x21e))){if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x1ea)+_0x2e160a(0x1eb)+'\x20is\x20an\x20ima'+_0x2e160a(0x19f)+_0x2e160a(0x19e)+_0x2e160a(0x148)+_0x2e160a(0x19d)+_0x2e160a(0x158)+_0x2e160a(0x1fb)+_0x2e160a(0x219),'quoted':_0x5a18f1['key']})['catch'](()=>{});}else{if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x1ea)+_0x2e160a(0x12d)+_0x2e160a(0x157)+_0x2e160a(0x211)+'n\x20unsuppor'+_0x2e160a(0x1d1)+_0x2e160a(0x188)+'ase\x20reply\x20'+_0x2e160a(0x1e7)+'\x20message\x20t'+_0x2e160a(0x197)+_0x2e160a(0x133)+_0x2e160a(0x1e2)+'.','quoted':_0x5a18f1[_0x2e160a(0x209)]})[_0x2e160a(0x186)](()=>{});}}}}return;}const _0xa67323=normalizeTarget(_0x2737c5);if(!_0xa67323){if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x1c3)+_0x2e160a(0x226)+'et\x20\x22'+_0x2737c5+(_0x2e160a(0x1cc)+_0x2e160a(0x1a2)+_0x2e160a(0x21d)+'s\x20only\x20(e.'+_0x2e160a(0x1bd)+')\x20or\x20a\x20val'+_0x2e160a(0x215)),'quoted':_0x5a18f1['key']});return;}try{const _0x2d6bbe=getBotJid();if(_0x2d6bbe&&_0xa67323===_0x2d6bbe){if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x147)+_0x2e160a(0x1d9)+'\x20generated'+_0x2e160a(0x149)+'e\x20to\x20the\x20b'+_0x2e160a(0x1d8),'quoted':_0x5a18f1['key']});return;}}catch(_0x53f29a){}const _0x914a2d=String(_0x5a18f1[_0x2e160a(0x209)]['id']||''),_0x4d091b=_0x914a2d+'::'+_0xa67323;if(isSendProcessed(_0x4d091b)){info('[cc]\x20dupli'+_0x2e160a(0x14b)+_0x2e160a(0x1a0)+'r\x20'+_0x4d091b);return;}markSendProcessed(_0x4d091b);const _0x1490ae=await mkdtemp(_0x176bcf['join'](_0x3a0e86[_0x2e160a(0x1ce)](),_0x2e160a(0x18f)));let _0x14a889=null;try{const _0x5379d2=_0x36ec03[_0x2e160a(0x16d)],_0x23a938=_0x5379d2?.[_0x2e160a(0x1a7)+'ge']?.[_0x2e160a(0x1b4)+_0x2e160a(0x1ee)]||_0x5379d2?.[_0x2e160a(0x130)+_0x2e160a(0x13e)]?.[_0x2e160a(0x1b4)+_0x2e160a(0x1ee)]||_0x5379d2?.['message']?.[_0x2e160a(0x1a7)+'ge']?.[_0x2e160a(0x1b4)+'ail']||null;_0x23a938&&(Buffer[_0x2e160a(0x214)](_0x23a938)||_0x23a938 instanceof Uint8Array)&&(_0x14a889=_0x176bcf[_0x2e160a(0x168)](_0x1490ae,_0x2e160a(0x1bc)),await writeFileAsync(_0x14a889,Buffer[_0x2e160a(0x1a3)](_0x23a938)));const _0x366282=await streamQuotedMediaToFile(_0x5379d2,_0x1490ae);if(!_0x366282){if(sendApi)await safeSend(_0x264da1,{'text':'Failed\x20to\x20'+_0x2e160a(0x1e9)+_0x2e160a(0x1b1)+_0x2e160a(0x1aa)+_0x2e160a(0x180)+_0x2e160a(0x1f4)+_0x2e160a(0x1cd)+_0x2e160a(0x131)+_0x2e160a(0x185)+_0x2e160a(0x206)+_0x2e160a(0x224)+_0x2e160a(0x1c6),'quoted':_0x5a18f1['key']});await rm(_0x1490ae,{'recursive':!![],'force':!![]})[_0x2e160a(0x186)](()=>{});return;}const {path:_0xe5f93e,type:_0xce3b6}=_0x366282,_0x45b8ec=_0x176bcf[_0x2e160a(0x168)](_0x1490ae,_0x2e160a(0x20b)+Date[_0x2e160a(0x13d)]()+_0x2e160a(0x1f1));await transcodeToVideoNote(_0xe5f93e,_0x45b8ec);const _0x19ae7d={'video':{'url':_0x45b8ec},'mimetype':'video/mp4','fileName':_0x2e160a(0x1f5)+_0x2e160a(0x1f1),'ptv':!![]};try{if(!sendApi)throw new Error('sendApi\x20no'+_0x2e160a(0x1d3)+'e');await safeSend(_0xa67323,_0x19ae7d),info(_0x2e160a(0x159)+_0x2e160a(0x1e1)+_0x2e160a(0x207)+_0xa67323);if(sendApi){const _0x3a2a99=_0x1491b0?_0x2e160a(0x1c8)+_0x2e160a(0x1e2)+_0x2e160a(0x203)+_0xa67323+('.\x20(You\x20sen'+'t\x20the\x20vide'+_0x2e160a(0x189)+'tion.)'):'Converted\x20'+'video-note'+_0x2e160a(0x203)+_0xa67323+'.';await safeSend(_0x264da1,{'text':_0x3a2a99,'quoted':_0x5a18f1[_0x2e160a(0x209)]})[_0x2e160a(0x186)](()=>{});}}catch(_0x3fb4e7){error(_0x3fb4e7,_0x2e160a(0x1d5)+_0x2e160a(0x145)+_0x2e160a(0x175)+_0xa67323+':\x20'+(_0x3fb4e7?.[_0x2e160a(0x13f)]||_0x3fb4e7));if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x134)+_0x2e160a(0x155)+'\x20'+_0xa67323+':\x20'+(_0x3fb4e7?.[_0x2e160a(0x13f)]||_0x3fb4e7),'quoted':_0x5a18f1[_0x2e160a(0x209)]})[_0x2e160a(0x186)](()=>{});}try{await unlink(_0xe5f93e)[_0x2e160a(0x186)](()=>{}),await unlink(_0x45b8ec)[_0x2e160a(0x186)](()=>{});if(_0x14a889)await unlink(_0x14a889)[_0x2e160a(0x186)](()=>{});await rm(_0x1490ae,{'recursive':!![],'force':!![]});}catch(_0x39dd2d){}}catch(_0x1409b3){error(_0x1409b3,'[cc]\x20inter'+_0x2e160a(0x1d2)+'\x20'+(_0x1409b3?.[_0x2e160a(0x13f)]||_0x1409b3));if(sendApi)await safeSend(_0x264da1,{'text':_0x2e160a(0x132)+_0x2e160a(0x13b)+(_0x1409b3?.[_0x2e160a(0x13f)]||_0x1409b3),'quoted':_0x5a18f1['key']})['catch'](()=>{});await rm(_0x1490ae,{'recursive':!![],'force':!![]})['catch'](()=>{});}}catch(_0x25f528){error(_0x25f528,_0x2e160a(0x1cf)+_0x2e160a(0x221)+(_0x25f528?.[_0x2e160a(0x13f)]||_0x25f528));}}export async function cleanup(){const _0x52b051=_0x456bb9;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x52b051(0x1c2)+_0x52b051(0x1d4));}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};