const _0x58186d=_0x4a48;(function(_0x575a2a,_0x44da5e){const _0x27db26=_0x4a48,_0x429530=_0x575a2a();while(!![]){try{const _0x397e0b=-parseInt(_0x27db26(0x1ab))/(-0x17*-0x168+-0x737*-0x4+-0x3d33)*(-parseInt(_0x27db26(0x19f))/(-0xe17+0x2af*0x4+0x35d))+-parseInt(_0x27db26(0x14a))/(-0x1a72+-0x2427+-0x1f4e*-0x2)*(-parseInt(_0x27db26(0x193))/(-0x2*-0x12a5+-0xba1+-0x19a5))+-parseInt(_0x27db26(0x11b))/(-0xc3b+0x1ea0+-0x2*0x930)+parseInt(_0x27db26(0x1dc))/(0x1ecf+-0x26b3+0x7ea)*(parseInt(_0x27db26(0x14d))/(-0x903+-0x1d99+0x26a3))+-parseInt(_0x27db26(0x1f1))/(0x1*0x4d5+-0xb66*0x2+0x11ff)*(parseInt(_0x27db26(0x14b))/(-0x7db+0x771*-0x5+0x2d19))+-parseInt(_0x27db26(0x1bf))/(0x1e6b+-0x11ca+0x125*-0xb)+-parseInt(_0x27db26(0x18d))/(-0x2*0xb97+-0x129*-0xc+-0x1*-0x94d)*(-parseInt(_0x27db26(0x178))/(-0x33*-0xa4+0x249d+0x453d*-0x1));if(_0x397e0b===_0x44da5e)break;else _0x429530['push'](_0x429530['shift']());}catch(_0xb5a8a1){_0x429530['push'](_0x429530['shift']());}}}(_0x16e9,-0x1a*-0x195b+0x1*-0x1ef53+-0x2a*-0xcb4));import _0x3b4dd0 from'fs';import _0x1d57e5 from'path';function _0x16e9(){const _0x38a989=['onal\x20digit','\x20admins\x20ma','jpegThumbn','startsWith','OR\x20send\x20a\x20','-loop','ize\x20requir','\x20an\x20image\x20','ase\x20reply\x20','\x20failed:\x20','file.\x20cc\x20c','ge\x20(or\x20a\x20v','videoMessa','\x20sent\x20to\x20','skipped\x20fo','es\x20bot\x20ins','215340SVVhGA','cc-','\x20to\x20','video-note','iaToFile\x20f','47XXXXXXXX','n\x20groups).','P_COMMANDS','caption','@g.us','p.net','ted\x20media\x20','dirname','[cc]\x20initi','messageCon','nd\x20try\x20aga','in_','ALLOW_GROU','\x20message\x20t','\x20*videos*\x20','lavfi','-level','keys','64k','participan','quotedMess','t\x20availabl','LOW_GROUP_','color=blac','s\x20only\x20(e.','from','g.\x202547...','`\x20or\x20`cc\x201','libx264','[cc]\x20handl','-shortest','ly\x20to\x20a\x20vi','e\x20media\x20is','toLowerCas','video/mp4','to\x20a\x20video','2467155@g.','audioMessa','ssage','Conversion','video\x20note','\x20Ensure\x20th','24KTbtVz','336807dJkzxJ','promises','562072ldIosq','ply\x20to\x20a\x20v','type','extendedTe','d\x20sending\x20','(photo).\x20c','te.\x20Please','\x20command\x20i','includes','he\x20quoted\x20','c\x20converts','y\x20use\x20cc\x20(','convert\x20it','tion.)','filter','video_note','get',':(oh-ih)/2','close','to\x20allow\x20i','cc.initial','toString','to\x20convert','scale=\x27if(','ot\x20itself.','audio_cove','sendApi\x20no','join','cessible).','\x20an\x20audio\x20','pi\x20not\x20ava','alized\x20(PM','[cc]\x20strea','key','may\x20be\x20emp','\x20handler\x20e','\x20it\x20into\x20a','ignore','data','verted\x20to\x20','ROUP_COMMA','e\x20to\x20the\x20b','\x22.\x20Provide','149532FKjObF','remoteJid','[cc]\x20inter','length','\x20internati','audio_inte','message','et\x20\x22','\x20which\x20can','mimetype','-profile:v','le:\x20`cc\x2025','id\x20JID.','ed\x20up','\x20a\x20sticker','stickerMes','ith\x20captio',':(ow-iw)/2','-c:a','\x20<number\x20o','ideo\x20messa','429qvUqJE',',-2)\x27:\x27if(',')\x20or\x20a\x20val','[cc]\x20dupli','[cc]\x20sent\x20','string','9024dmaMEX','Could\x20not\x20','ease\x20reply','ge.\x20cc\x20con','.mp4','cate\x20send\x20','replace','in.','\x20into\x20a\x20vi','verts\x20*vid','set\x20ALLOW_','out_','306674UWwrqy','urrently\x20e','[cc]\x20refre','a\x20video-no','\x20generated','er\x20error:\x20','not\x20be\x20con','alized\x20(bo','aac','2036338072','Please\x20rep','createWrit','1EAQDOC','se\x20reply\x20t','-notes.\x20Pl','imageMessa','xtMessage','split','conversati','eo\x20or\x20is\x20a','text','pipe','has','mp4','unlink','node','NDS=','test','trim','[cc]\x20faile','parse\x20targ','Failed\x20to\x20','2915070VkZJVo','Refusing\x20t','t\x20code\x20','download\x20t','rror:\x20','COMMANDS=f','mQuotedMed','isBuffer','1.8.1-fixe','The\x20replie','\x20present\x20a','gt(a,1),-2','video','alse)','us`','thumb.jpg','-b:a','video\x20with','deo\x20messag','Only\x20group','ANDS=true\x20','deo-note.','tance','age',',setsar=1','to\x20','endsWith','ty\x20or\x20inac','o\x20with\x20cap','6MojSxR','fig\x20restri','.\x20(You\x20sen','xpects\x20a\x20v','quoted','-vf','gt(a,1),','Converted\x20','o\x20a\x20video\x20','a\x20video\x20me','-c:v','it\x20into\x20a\x20','mkdtemp','ideo\x20docum','veryfast','values','now','textInfo','ent).\x20Plea','[cc]\x20sendA','ail','48fdfoda','delete','\x20botJid=','k:s=','webm','shConfig\x20e','.png','\x20video-not','\x20default;\x20','ailed:\x20','gnored\x20(AL','contextInf','[cc]\x20group','sock','e\x20(or\x20send','function','d\x20media\x20is','sendMessag','documentMe','fileName','into\x20video','catch','r\x20JID>`\x20â€”\x20','<unknown>'];_0x16e9=function(){return _0x38a989;};return _0x16e9();}import _0x36f3b2 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0xb44770}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0xb44770),mkdtemp=_0x3b4dd0[_0x58186d(0x14c)][_0x58186d(0x1e8)],writeFileAsync=_0x3b4dd0[_0x58186d(0x14c)]['writeFile'],unlink=_0x3b4dd0[_0x58186d(0x14c)][_0x58186d(0x1b7)],rm=_0x3b4dd0[_0x58186d(0x14c)]['rm'],DEFAULT_SIZE=-0xc15+0x268a+-0x1*0x17f5;export const name='cc';export const version=_0x58186d(0x1c7)+'d';export const priority=0x21b4+0x1e7+-0x232d;export const configKeys=[_0x58186d(0x12c)+'P_COMMANDS'];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(-0xd+0x2*-0xc2c+0x1874)*(0x2572+0x6d*-0x3b+0x5*-0x1af);function markSendProcessed(_0x26a883){const _0x1975c9=_0x58186d;if(!_0x26a883)return;if(processedSendKeys[_0x1975c9(0x1b5)](_0x26a883))try{clearTimeout(processedSendKeys[_0x1975c9(0x15d)](_0x26a883));}catch(_0xdd2c2a){}const _0x56bb74=setTimeout(()=>processedSendKeys[_0x1975c9(0x1f2)](_0x26a883),PROCESSED_SEND_TTL_MS);processedSendKeys['set'](_0x26a883,_0x56bb74);}function isSendProcessed(_0x3f4e8f){const _0x5988d4=_0x58186d;return _0x3f4e8f&&processedSendKeys[_0x5988d4(0x1b5)](_0x3f4e8f);}function clearAllProcessedSends(){const _0x116afc=_0x58186d;for(const _0x142ca6 of processedSendKeys[_0x116afc(0x1eb)]())try{clearTimeout(_0x142ca6);}catch(_0x4dc2fe){}processedSendKeys['clear']();}function setupSendApi(){const _0x2a9f98=_0x58186d;if(!botRef)return;if(typeof botRef[_0x2a9f98(0x104)+'e']==='function')sendApi=async(_0x1577f8,_0x2f4477,_0x3b3f9c={})=>await botRef[_0x2a9f98(0x104)+'e'](_0x1577f8,_0x2f4477,_0x3b3f9c);else botRef[_0x2a9f98(0x1fe)]&&typeof botRef[_0x2a9f98(0x1fe)][_0x2a9f98(0x104)+'e']===_0x2a9f98(0x102)?sendApi=async(_0x29fc49,_0x2a8882,_0x5fe90b={})=>await botRef[_0x2a9f98(0x1fe)][_0x2a9f98(0x104)+'e'](_0x29fc49,_0x2a8882,_0x5fe90b):sendApi=null;}async function safeSend(_0x19d292,_0xb49e8e,_0x39e4e6={}){const _0x55c978=_0x58186d;if(!sendApi){warn(_0x55c978(0x1ef)+_0x55c978(0x16b)+'ilable');throw new Error(_0x55c978(0x167)+_0x55c978(0x135)+'e');}return await sendApi(_0x19d292,_0xb49e8e,_0x39e4e6);}function refreshConfig(){const _0x1225c6=_0x58186d;try{const _0x4790ba=typeof getConfig===_0x1225c6(0x102)?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x4790ba[_0x1225c6(0x12c)+_0x1225c6(0x122)],info('[cc]\x20confi'+'g:\x20ALLOW_G'+_0x1225c6(0x175)+_0x1225c6(0x1b9)+ALLOW_GROUP_COMMANDS);}catch(_0x1ef7a1){warn(_0x1225c6(0x1a1)+_0x1225c6(0x1f6)+_0x1225c6(0x1c3)+(_0x1ef7a1?.['message']||_0x1ef7a1));}}try{typeof hotReloadConfig===_0x58186d(0x102)&&hotReloadConfig(()=>{const _0x8165d2=_0x58186d;try{refreshConfig();}catch(_0x4404cf){warn('[cc]\x20hotRe'+'loadConfig'+_0x8165d2(0x170)+_0x8165d2(0x1c3)+(_0x4404cf?.[_0x8165d2(0x17e)]||_0x4404cf));}});}catch(_0x589ce9){}function _0x4a48(_0x2a8c30,_0x160c09){const _0x3a51a9=_0x16e9();return _0x4a48=function(_0x20f095,_0x5eba04){_0x20f095=_0x20f095-(0x172a+0x7*-0x1ed+0x2*-0x457);let _0x10f949=_0x3a51a9[_0x20f095];return _0x10f949;},_0x4a48(_0x2a8c30,_0x160c09);}refreshConfig();function getQuotedWrap(_0x4b8c8c){const _0x922736=_0x58186d;if(!_0x4b8c8c||!_0x4b8c8c['message'])return null;const _0x1b8a6a=_0x4b8c8c[_0x922736(0x17e)]?.['extendedTe'+'xtMessage']?.[_0x922736(0x1fc)+'o'];if(_0x1b8a6a&&_0x1b8a6a['quotedMess'+_0x922736(0x1d6)])return{'quoted':_0x1b8a6a[_0x922736(0x134)+_0x922736(0x1d6)],'quotedKey':_0x1b8a6a};for(const _0x558dd9 of Object[_0x922736(0x131)](_0x4b8c8c[_0x922736(0x17e)]||{})){const _0x191df7=_0x4b8c8c[_0x922736(0x17e)][_0x558dd9];if(_0x191df7&&_0x191df7[_0x922736(0x1fc)+'o']&&_0x191df7[_0x922736(0x1fc)+'o'][_0x922736(0x134)+_0x922736(0x1d6)])return{'quoted':_0x191df7[_0x922736(0x1fc)+'o'][_0x922736(0x134)+_0x922736(0x1d6)],'quotedKey':_0x191df7[_0x922736(0x1fc)+'o']};}const _0x462655=_0x4b8c8c[_0x922736(0x17e)]?.[_0x922736(0x1fc)+'o']?.['quotedMess'+'age']||_0x4b8c8c[_0x922736(0x17e)]?.[_0x922736(0x129)+_0x922736(0x1ed)]?.[_0x922736(0x134)+_0x922736(0x1d6)],_0x4726d6=_0x4b8c8c[_0x922736(0x17e)]?.[_0x922736(0x1fc)+'o']?.[_0x922736(0x133)+'t']||_0x4b8c8c[_0x922736(0x17e)]?.['messageCon'+_0x922736(0x1ed)]?.[_0x922736(0x133)+'t']||null;if(_0x462655)return{'quoted':_0x462655,'quotedKey':{'participant':_0x4726d6}};return null;}function isVideoNode(_0x89e247){const _0x24802e=_0x58186d;if(!_0x89e247)return![];if(_0x89e247[_0x24802e(0x117)+'ge'])return!![];if(_0x89e247['message']&&_0x89e247[_0x24802e(0x17e)]['videoMessa'+'ge'])return!![];if(_0x89e247[_0x24802e(0x105)+_0x24802e(0x146)]&&typeof _0x89e247[_0x24802e(0x105)+_0x24802e(0x146)][_0x24802e(0x181)]==='string'&&_0x89e247[_0x24802e(0x105)+_0x24802e(0x146)][_0x24802e(0x181)][_0x24802e(0x10e)](_0x24802e(0x1cb)))return!![];return![];}async function streamQuotedMediaToFile(_0x45b79f,_0x223d1f){const _0x23db7e=_0x58186d;try{const _0x21b3e6=[{'node':_0x45b79f['videoMessa'+'ge'],'type':_0x23db7e(0x1cb)},{'node':_0x45b79f[_0x23db7e(0x105)+_0x23db7e(0x146)]&&String(_0x45b79f[_0x23db7e(0x105)+_0x23db7e(0x146)]['mimetype']||'')[_0x23db7e(0x10e)]('video')?_0x45b79f[_0x23db7e(0x105)+_0x23db7e(0x146)]:null,'type':'video'},{'node':_0x45b79f[_0x23db7e(0x17e)]?.[_0x23db7e(0x117)+'ge'],'type':_0x23db7e(0x1cb)},{'node':_0x45b79f[_0x23db7e(0x17e)]?.[_0x23db7e(0x105)+_0x23db7e(0x146)]&&String(_0x45b79f[_0x23db7e(0x17e)][_0x23db7e(0x105)+_0x23db7e(0x146)][_0x23db7e(0x181)]||'')['startsWith'](_0x23db7e(0x1cb))?_0x45b79f['message'][_0x23db7e(0x105)+_0x23db7e(0x146)]:null,'type':_0x23db7e(0x1cb)}];let _0x3f0404=null,_0x1e07ba=null;for(const _0x14037b of _0x21b3e6){if(_0x14037b[_0x23db7e(0x1b8)]){_0x3f0404=_0x14037b[_0x23db7e(0x1b8)],_0x1e07ba=_0x14037b[_0x23db7e(0x14f)];break;}}if(!_0x3f0404||!_0x1e07ba)return null;let _0x15c9f6=_0x23db7e(0x1b6);if(_0x1e07ba===_0x23db7e(0x1cb))_0x15c9f6='mp4';if(_0x3f0404[_0x23db7e(0x106)]){const _0x5172d7=String(_0x3f0404[_0x23db7e(0x106)])[_0x23db7e(0x1b0)]('.')['pop']();if(_0x5172d7&&_0x5172d7['length']<=0x165d+-0x3d*-0x9e+0x5*-0xbff)_0x15c9f6=_0x5172d7;}else{if(_0x3f0404[_0x23db7e(0x181)]){if(_0x3f0404['mimetype'][_0x23db7e(0x155)](_0x23db7e(0x1b6)))_0x15c9f6=_0x23db7e(0x1b6);else{if(_0x3f0404[_0x23db7e(0x181)][_0x23db7e(0x155)]('webm'))_0x15c9f6=_0x23db7e(0x1f5);}}}const _0x3db5b4=_0x1d57e5[_0x23db7e(0x168)](_0x223d1f,_0x23db7e(0x12b)+Date['now']()+'.'+_0x15c9f6),_0x21eba7=await downloadContentFromMessage(_0x3f0404,_0x1e07ba);if(!_0x21eba7)return null;const _0x2c74fd=_0x3b4dd0[_0x23db7e(0x1aa)+'eStream'](_0x3db5b4);return await pipeline(_0x21eba7,_0x2c74fd),{'path':_0x3db5b4,'type':_0x1e07ba,'contentNode':_0x3f0404};}catch(_0x1bc8eb){return warn(_0x23db7e(0x16d)+_0x23db7e(0x1c5)+_0x23db7e(0x11f)+_0x23db7e(0x1fa)+(_0x1bc8eb?.[_0x23db7e(0x17e)]||_0x1bc8eb)),null;}}function spawnFFmpeg(_0x57916c,_0x2ea730){return new Promise((_0x1faa5f,_0x3df7e7)=>{const _0x45e626=_0x4a48,_0x4289d2=spawn('ffmpeg',_0x57916c,{'stdio':[_0x45e626(0x172),_0x45e626(0x1b4),'pipe']});let _0x11dccd='';_0x4289d2['stderr']['on'](_0x45e626(0x173),_0x5739c5=>{const _0x56c285=_0x45e626;_0x11dccd+=_0x5739c5[_0x56c285(0x162)]();if(_0x2ea730)_0x2ea730(_0x5739c5);}),_0x4289d2['on'](_0x45e626(0x15f),_0x382132=>{const _0x226419=_0x45e626;if(_0x382132===0x2592+0x1d3a*0x1+-0x42cc)_0x1faa5f(_0x11dccd);else _0x3df7e7(new Error('ffmpeg\x20exi'+_0x226419(0x1c1)+_0x382132+'\x0a'+_0x11dccd));}),_0x4289d2['on']('error',_0xa3f3f9=>_0x3df7e7(_0xa3f3f9));});}async function transcodeToVideoNote(_0xe04767,_0x5bdd9c,_0x432da6=DEFAULT_SIZE){const _0x53b95a=_0x58186d,_0x43cc57=['-y','-i',_0xe04767,'-t','60',_0x53b95a(0x1e1),_0x53b95a(0x164)+_0x53b95a(0x1e2)+_0x432da6+(_0x53b95a(0x18e)+_0x53b95a(0x1ca)+',')+_0x432da6+')\x27,pad='+_0x432da6+':'+_0x432da6+(_0x53b95a(0x189)+_0x53b95a(0x15e)+_0x53b95a(0x1d7)),'-r','30',_0x53b95a(0x1e6),'libx264',_0x53b95a(0x182),'baseline',_0x53b95a(0x130),'3.0','-preset',_0x53b95a(0x1ea),'-crf','28',_0x53b95a(0x18a),_0x53b95a(0x1a7),'-b:a','64k',_0x5bdd9c];return await spawnFFmpeg(_0x43cc57),_0x5bdd9c;}async function audioToVideoNote(_0x225430,_0x4a22e9,_0x4e7b81=null,_0xf3a1c9=DEFAULT_SIZE){const _0x452dce=_0x58186d,_0x41d229=_0x1d57e5[_0x452dce(0x127)](_0x4a22e9),_0x5ba0=_0x1d57e5['join'](_0x41d229,_0x452dce(0x17d)+'rmediate_'+Date[_0x452dce(0x1ec)]()+_0x452dce(0x197)),_0x5ec1c1=_0x4e7b81||_0x1d57e5[_0x452dce(0x168)](_0x41d229,_0x452dce(0x166)+'r_'+Date[_0x452dce(0x1ec)]()+_0x452dce(0x1f7));!_0x4e7b81&&await spawnFFmpeg(['-y','-f',_0x452dce(0x12f),'-i',_0x452dce(0x137)+_0x452dce(0x1f4)+_0xf3a1c9+'x'+_0xf3a1c9,_0x5ec1c1]);await spawnFFmpeg(['-y',_0x452dce(0x110),'1','-i',_0x5ec1c1,'-i',_0x225430,'-c:v',_0x452dce(0x13c),'-t','60',_0x452dce(0x18a),_0x452dce(0x1a7),_0x452dce(0x1cf),_0x452dce(0x132),_0x452dce(0x13e),'-preset',_0x452dce(0x1ea),_0x5ba0]),await transcodeToVideoNote(_0x5ba0,_0x4a22e9,_0xf3a1c9);try{await unlink(_0x5ba0);}catch(_0x4b9f3b){}if(!_0x4e7b81)try{await unlink(_0x5ec1c1);}catch(_0x2a95cb){}return _0x4a22e9;}function normalizeTarget(_0x15f9f1){const _0x33677e=_0x58186d;if(!_0x15f9f1)return null;let _0x23f1a8=String(_0x15f9f1)[_0x33677e(0x1bb)]();if(_0x23f1a8[_0x33677e(0x155)]('@'))try{return jidNormalizedUser(_0x23f1a8);}catch(_0x27e284){return _0x23f1a8;}_0x23f1a8=_0x23f1a8[_0x33677e(0x199)](/[^\d]/g,'');if(!_0x23f1a8)return null;if(_0x23f1a8['length']<0x392+-0x9d*-0x2f+-0x205d||_0x23f1a8[_0x33677e(0x17b)]>-0x253e+-0x11fb+0x3748)return null;return _0x23f1a8+('@s.whatsap'+_0x33677e(0x125));}export async function initialize(_0x4cea25){const _0x5ea2c8=_0x58186d;if(!_0x4cea25)throw new Error(_0x5ea2c8(0x161)+_0x5ea2c8(0x111)+_0x5ea2c8(0x11a)+_0x5ea2c8(0x1d5));botRef=_0x4cea25,setupSendApi(),refreshConfig();try{const _0x547134=getBotJid();info(_0x5ea2c8(0x128)+_0x5ea2c8(0x16c)+_0x5ea2c8(0x1f9)+_0x5ea2c8(0x19d)+'GROUP_COMM'+_0x5ea2c8(0x1d3)+_0x5ea2c8(0x160)+_0x5ea2c8(0x121)+_0x5ea2c8(0x1f3)+(_0x547134||_0x5ea2c8(0x10a)));}catch(_0x3fb1a4){info('[cc]\x20initi'+_0x5ea2c8(0x1a6)+'tJid\x20unkno'+'wn)');}}export async function onMessage(_0x5a327f){const _0x2cb2f4=_0x58186d;try{if(!_0x5a327f||!_0x5a327f['key']||!_0x5a327f[_0x2cb2f4(0x17e)])return;const _0x5e0b1e=typeof _0x5a327f['text']==='string'&&_0x5a327f[_0x2cb2f4(0x1b3)][_0x2cb2f4(0x1bb)]()?_0x5a327f[_0x2cb2f4(0x1b3)][_0x2cb2f4(0x1bb)]():_0x5a327f[_0x2cb2f4(0x17e)]?.[_0x2cb2f4(0x1b1)+'on']||_0x5a327f[_0x2cb2f4(0x17e)]?.[_0x2cb2f4(0x150)+_0x2cb2f4(0x1af)]?.['text']||_0x5a327f[_0x2cb2f4(0x17e)]?.[_0x2cb2f4(0x117)+'ge']?.[_0x2cb2f4(0x123)]||_0x5a327f[_0x2cb2f4(0x17e)]?.[_0x2cb2f4(0x1ae)+'ge']?.[_0x2cb2f4(0x123)]||_0x5a327f[_0x2cb2f4(0x17e)]?.[_0x2cb2f4(0x105)+_0x2cb2f4(0x146)]?.[_0x2cb2f4(0x123)]||'';if(!_0x5e0b1e)return;const _0x37c862=_0x5e0b1e['trim'](),_0x325be3=_0x37c862[_0x2cb2f4(0x1b0)](/\s+/),_0x264f27=_0x325be3[0x742+0x20a4+0x27e6*-0x1][_0x2cb2f4(0x141)+'e']();if(!(_0x264f27==='cc'||/^\/cc\b/i[_0x2cb2f4(0x1ba)](_0x37c862)))return;const _0x2c8a47=_0x5a327f[_0x2cb2f4(0x16e)][_0x2cb2f4(0x179)],_0xdcb817=typeof _0x2c8a47===_0x2cb2f4(0x192)&&_0x2c8a47[_0x2cb2f4(0x1d9)](_0x2cb2f4(0x124));if(_0xdcb817){if(!ALLOW_GROUP_COMMANDS){info(_0x2cb2f4(0x1fd)+_0x2cb2f4(0x154)+_0x2cb2f4(0x1fb)+_0x2cb2f4(0x136)+_0x2cb2f4(0x1c4)+_0x2cb2f4(0x1cc));return;}let _0x58e072=![];try{_0x58e072=await isadmin(botRef,_0x5a327f);}catch(_0x3c5996){warn('[cc]\x20isadm'+'in\x20check\x20f'+'ailed:\x20'+(_0x3c5996?.[_0x2cb2f4(0x17e)]||_0x3c5996)),_0x58e072=![];}if(!_0x58e072){if(sendApi)try{await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1d2)+_0x2cb2f4(0x10c)+_0x2cb2f4(0x158)+'server-con'+_0x2cb2f4(0x1dd)+'cted).','quoted':_0x5a327f[_0x2cb2f4(0x16e)]});}catch(_0x52c2a7){}return;}}let _0x382639=_0x325be3[-0x3*-0x175+-0x65*0xf+0x1*0x18d]||null;if(!_0x382639&&_0x5e0b1e[_0x2cb2f4(0x155)]('\x0a')){const _0x5cb38b=_0x5e0b1e['split'](/\r?\n/)['map'](_0x662846=>_0x662846[_0x2cb2f4(0x1bb)]())[_0x2cb2f4(0x15b)](Boolean);if(_0x5cb38b[_0x2cb2f4(0x17b)]>=0x971*-0x1+-0x125*0x4+0xe07)_0x382639=_0x5cb38b[0x3*-0x757+0xb0b*0x3+0xb1b*-0x1][_0x2cb2f4(0x1b0)](/\s+/)[0xcd6+0x7a2+0x418*-0x5];}let _0x430748=getQuotedWrap(_0x5a327f),_0x1ce4e9=![];!_0x430748&&((_0x5a327f[_0x2cb2f4(0x17e)]?.[_0x2cb2f4(0x117)+'ge']||_0x5a327f[_0x2cb2f4(0x17e)]?.['documentMe'+_0x2cb2f4(0x146)]&&String(_0x5a327f['message'][_0x2cb2f4(0x105)+_0x2cb2f4(0x146)]['mimetype']||'')[_0x2cb2f4(0x10e)](_0x2cb2f4(0x1cb)))&&(_0x430748={'quoted':_0x5a327f[_0x2cb2f4(0x17e)],'quotedKey':_0x5a327f[_0x2cb2f4(0x17e)]?.['contextInf'+'o']||{}},_0x1ce4e9=!![]));if(!_0x382639){const _0x1cbd46=_0x2c8a47;sendApi&&await safeSend(_0x1cbd46,{'text':'Usage:\x20rep'+_0x2cb2f4(0x13f)+_0x2cb2f4(0x1d1)+'e\x20with\x20`cc'+_0x2cb2f4(0x18b)+_0x2cb2f4(0x109)+_0x2cb2f4(0x10f)+_0x2cb2f4(0x1d0)+'\x20caption\x20`'+'cc\x20<number'+'>`\x20(no\x20rep'+'ly).\x20Examp'+_0x2cb2f4(0x183)+_0x2cb2f4(0x120)+_0x2cb2f4(0x13b)+_0x2cb2f4(0x1a8)+_0x2cb2f4(0x144)+_0x2cb2f4(0x1cd),'quoted':_0x5a327f[_0x2cb2f4(0x16e)]});return;}if(!_0x430748||!_0x430748[_0x2cb2f4(0x1e0)]){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1a9)+_0x2cb2f4(0x13f)+_0x2cb2f4(0x1d1)+_0x2cb2f4(0x101)+'\x20a\x20video\x20w'+_0x2cb2f4(0x188)+'n\x20`cc\x20<num'+'ber>`)\x20to\x20'+_0x2cb2f4(0x159)+_0x2cb2f4(0x19b)+_0x2cb2f4(0x1d4),'quoted':_0x5a327f[_0x2cb2f4(0x16e)]});return;}if(!isVideoNode(_0x430748[_0x2cb2f4(0x1e0)])){const _0x302101=_0x430748[_0x2cb2f4(0x1e0)];if(_0x302101['imageMessa'+'ge']){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1c8)+_0x2cb2f4(0x103)+_0x2cb2f4(0x112)+_0x2cb2f4(0x152)+_0x2cb2f4(0x157)+_0x2cb2f4(0x12e)+_0x2cb2f4(0x107)+_0x2cb2f4(0x1ad)+_0x2cb2f4(0x195)+'\x20to\x20a\x20vide'+'o\x20message\x20'+_0x2cb2f4(0x163)+_0x2cb2f4(0x171)+'\x20video-not'+'e.','quoted':_0x5a327f[_0x2cb2f4(0x16e)]})[_0x2cb2f4(0x108)](()=>{});}else{if(_0x302101[_0x2cb2f4(0x187)+'sage']){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1c8)+'d\x20media\x20is'+_0x2cb2f4(0x186)+_0x2cb2f4(0x180)+_0x2cb2f4(0x1a5)+_0x2cb2f4(0x174)+_0x2cb2f4(0x1a2)+_0x2cb2f4(0x153)+'\x20reply\x20to\x20'+_0x2cb2f4(0x1e5)+'ssage.','quoted':_0x5a327f[_0x2cb2f4(0x16e)]})[_0x2cb2f4(0x108)](()=>{});}else{if(_0x302101[_0x2cb2f4(0x145)+'ge']){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1c8)+_0x2cb2f4(0x103)+_0x2cb2f4(0x16a)+_0x2cb2f4(0x115)+_0x2cb2f4(0x1a0)+_0x2cb2f4(0x1df)+'ideo\x20messa'+_0x2cb2f4(0x116)+_0x2cb2f4(0x1e9)+_0x2cb2f4(0x1ee)+_0x2cb2f4(0x1ac)+_0x2cb2f4(0x1e4)+'message.','quoted':_0x5a327f[_0x2cb2f4(0x16e)]})[_0x2cb2f4(0x108)](()=>{});}else{if(_0x302101['documentMe'+_0x2cb2f4(0x146)]&&_0x302101[_0x2cb2f4(0x105)+'ssage'][_0x2cb2f4(0x181)]&&_0x302101[_0x2cb2f4(0x105)+'ssage'][_0x2cb2f4(0x181)]['startsWith']('image')){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1c8)+'d\x20document'+'\x20is\x20an\x20ima'+_0x2cb2f4(0x196)+_0x2cb2f4(0x19c)+'eos*\x20only.'+'\x20Please\x20re'+_0x2cb2f4(0x14e)+_0x2cb2f4(0x18c)+'ge.','quoted':_0x5a327f[_0x2cb2f4(0x16e)]})[_0x2cb2f4(0x108)](()=>{});}else{if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1c8)+'d\x20media\x20is'+'\x20not\x20a\x20vid'+_0x2cb2f4(0x1b2)+'n\x20unsuppor'+_0x2cb2f4(0x126)+'shape.\x20Ple'+_0x2cb2f4(0x113)+_0x2cb2f4(0x143)+_0x2cb2f4(0x12d)+'o\x20convert\x20'+_0x2cb2f4(0x1e7)+_0x2cb2f4(0x11e)+'.','quoted':_0x5a327f['key']})[_0x2cb2f4(0x108)](()=>{});}}}}return;}const _0x415c34=normalizeTarget(_0x382639);if(!_0x415c34){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x194)+_0x2cb2f4(0x1bd)+_0x2cb2f4(0x17f)+_0x382639+(_0x2cb2f4(0x177)+_0x2cb2f4(0x17c)+_0x2cb2f4(0x10b)+_0x2cb2f4(0x138)+_0x2cb2f4(0x13a)+_0x2cb2f4(0x18f)+_0x2cb2f4(0x184)),'quoted':_0x5a327f[_0x2cb2f4(0x16e)]});return;}try{const _0x3a3083=getBotJid();if(_0x3a3083&&_0x415c34===_0x3a3083){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1c0)+'o\x20send\x20the'+_0x2cb2f4(0x1a3)+_0x2cb2f4(0x1f8)+_0x2cb2f4(0x176)+_0x2cb2f4(0x165),'quoted':_0x5a327f[_0x2cb2f4(0x16e)]});return;}}catch(_0x2f4803){}const _0x507b3a=String(_0x5a327f['key']['id']||''),_0xfd95a2=_0x507b3a+'::'+_0x415c34;if(isSendProcessed(_0xfd95a2)){info(_0x2cb2f4(0x190)+_0x2cb2f4(0x198)+_0x2cb2f4(0x119)+'r\x20'+_0xfd95a2);return;}markSendProcessed(_0xfd95a2);const _0x140b60=await mkdtemp(_0x1d57e5['join'](_0x36f3b2['tmpdir'](),_0x2cb2f4(0x11c)));let _0x85f98f=null;try{const _0xfba77=_0x430748[_0x2cb2f4(0x1e0)],_0x28dc9e=_0xfba77?.[_0x2cb2f4(0x117)+'ge']?.[_0x2cb2f4(0x10d)+_0x2cb2f4(0x1f0)]||_0xfba77?.[_0x2cb2f4(0x105)+_0x2cb2f4(0x146)]?.[_0x2cb2f4(0x10d)+_0x2cb2f4(0x1f0)]||_0xfba77?.[_0x2cb2f4(0x17e)]?.[_0x2cb2f4(0x117)+'ge']?.[_0x2cb2f4(0x10d)+_0x2cb2f4(0x1f0)]||null;_0x28dc9e&&(Buffer[_0x2cb2f4(0x1c6)](_0x28dc9e)||_0x28dc9e instanceof Uint8Array)&&(_0x85f98f=_0x1d57e5[_0x2cb2f4(0x168)](_0x140b60,_0x2cb2f4(0x1ce)),await writeFileAsync(_0x85f98f,Buffer[_0x2cb2f4(0x139)](_0x28dc9e)));const _0x56ae7c=await streamQuotedMediaToFile(_0xfba77,_0x140b60);if(!_0x56ae7c){if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1be)+_0x2cb2f4(0x1c2)+_0x2cb2f4(0x156)+'video\x20(it\x20'+_0x2cb2f4(0x16f)+_0x2cb2f4(0x1da)+_0x2cb2f4(0x169)+_0x2cb2f4(0x149)+_0x2cb2f4(0x140)+_0x2cb2f4(0x1c9)+_0x2cb2f4(0x12a)+_0x2cb2f4(0x19a),'quoted':_0x5a327f[_0x2cb2f4(0x16e)]});await rm(_0x140b60,{'recursive':!![],'force':!![]})[_0x2cb2f4(0x108)](()=>{});return;}const {path:_0x2ba53f,type:_0x705116}=_0x56ae7c,_0x41138a=_0x1d57e5[_0x2cb2f4(0x168)](_0x140b60,_0x2cb2f4(0x19e)+Date[_0x2cb2f4(0x1ec)]()+_0x2cb2f4(0x197));await transcodeToVideoNote(_0x2ba53f,_0x41138a);const _0x3688c5={'video':{'url':_0x41138a},'mimetype':_0x2cb2f4(0x142),'fileName':_0x2cb2f4(0x15c)+_0x2cb2f4(0x197),'ptv':!![]};try{if(!sendApi)throw new Error(_0x2cb2f4(0x167)+_0x2cb2f4(0x135)+'e');await safeSend(_0x415c34,_0x3688c5),info(_0x2cb2f4(0x191)+_0x2cb2f4(0x148)+_0x2cb2f4(0x11d)+_0x415c34);if(sendApi){const _0x3a46cd=_0x1ce4e9?_0x2cb2f4(0x1e3)+'video-note'+_0x2cb2f4(0x118)+_0x415c34+(_0x2cb2f4(0x1de)+'t\x20the\x20vide'+_0x2cb2f4(0x1db)+_0x2cb2f4(0x15a)):_0x2cb2f4(0x1e3)+_0x2cb2f4(0x11e)+'\x20sent\x20to\x20'+_0x415c34+'.';await safeSend(_0x2c8a47,{'text':_0x3a46cd,'quoted':_0x5a327f[_0x2cb2f4(0x16e)]})['catch'](()=>{});}}catch(_0x26c3c9){error(_0x26c3c9,_0x2cb2f4(0x1bc)+_0x2cb2f4(0x151)+_0x2cb2f4(0x1d8)+_0x415c34+':\x20'+(_0x26c3c9?.[_0x2cb2f4(0x17e)]||_0x26c3c9));if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x1be)+'deliver\x20to'+'\x20'+_0x415c34+':\x20'+(_0x26c3c9?.['message']||_0x26c3c9),'quoted':_0x5a327f[_0x2cb2f4(0x16e)]})[_0x2cb2f4(0x108)](()=>{});}try{await unlink(_0x2ba53f)[_0x2cb2f4(0x108)](()=>{}),await unlink(_0x41138a)[_0x2cb2f4(0x108)](()=>{});if(_0x85f98f)await unlink(_0x85f98f)[_0x2cb2f4(0x108)](()=>{});await rm(_0x140b60,{'recursive':!![],'force':!![]});}catch(_0x4f4e60){}}catch(_0x35243b){error(_0x35243b,_0x2cb2f4(0x17a)+'nal\x20error:'+'\x20'+(_0x35243b?.[_0x2cb2f4(0x17e)]||_0x35243b));if(sendApi)await safeSend(_0x2c8a47,{'text':_0x2cb2f4(0x147)+_0x2cb2f4(0x114)+(_0x35243b?.[_0x2cb2f4(0x17e)]||_0x35243b),'quoted':_0x5a327f[_0x2cb2f4(0x16e)]})['catch'](()=>{});await rm(_0x140b60,{'recursive':!![],'force':!![]})[_0x2cb2f4(0x108)](()=>{});}}catch(_0x48cb67){error(_0x48cb67,_0x2cb2f4(0x13d)+_0x2cb2f4(0x1a4)+(_0x48cb67?.[_0x2cb2f4(0x17e)]||_0x48cb67));}}export async function cleanup(){const _0x572af2=_0x58186d;botRef=null,sendApi=null,clearAllProcessedSends(),info('[cc]\x20clean'+_0x572af2(0x185));}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};