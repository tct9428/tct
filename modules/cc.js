const _0x5d8b19=_0x51eb;(function(_0x30876b,_0xf98e67){const _0x4e60cc=_0x51eb,_0x4c8957=_0x30876b();while(!![]){try{const _0x5ef61f=parseInt(_0x4e60cc(0x109))/(-0x1*0xdd2+0xc83*0x3+-0x17b6)+-parseInt(_0x4e60cc(0x1e8))/(0x281*-0x9+-0x15d4+0x25*0x133)*(-parseInt(_0x4e60cc(0x173))/(0x110+-0x8a*0x2+0x7))+-parseInt(_0x4e60cc(0x1db))/(-0x22c8+0x2199*0x1+0x133)+-parseInt(_0x4e60cc(0x10c))/(0x1bd9*-0x1+-0x106*-0x26+-0xb06)+parseInt(_0x4e60cc(0x1bb))/(0x1a1a+0x1925+-0x3339)*(parseInt(_0x4e60cc(0x114))/(-0x228+0x7ef+0x10*-0x5c))+parseInt(_0x4e60cc(0x171))/(0x115*0x22+-0x41*0x49+-0x1239)*(-parseInt(_0x4e60cc(0x120))/(0x1f60+0x15fe+0x7b*-0x6f))+parseInt(_0x4e60cc(0x175))/(-0x7*0x547+0x19c1+-0x1df*-0x6)*(parseInt(_0x4e60cc(0x113))/(0x3e*0x55+0x6*0x8e+-0x17df));if(_0x5ef61f===_0xf98e67)break;else _0x4c8957['push'](_0x4c8957['shift']());}catch(_0xb02181){_0x4c8957['push'](_0x4c8957['shift']());}}}(_0x30c8,0x1*-0x8331d+0xd1a07+-0x2b*-0xbd6));import _0x243979 from'fs';import _0x21170b from'path';import _0x414b01 from'os';import{promisify}from'util';import{spawn}from'child_process';import{pipeline as _0x39e170}from'stream';import{downloadContentFromMessage,jidNormalizedUser}from'@whiskeysockets/baileys';import{info,warn,error}from'../utils/logger.js';import{getConfig,hotReloadConfig}from'../utils/config.js';import{isadmin}from'../utils/isadmin.js';function _0x30c8(){const _0x5ed85b=['rmediate_','o\x20message\x20','quoted','ted\x20media\x20','\x20*videos*\x20','video_note','ly).\x20Examp','thumb.jpg','64k','3.0','422833XnBYKY','o\x20send\x20the','data','3176315ARQnEl','verted\x20to\x20','to\x20','\x20failed:\x20','cted).','-shortest','cate\x20send\x20','33kEKZXS','600299FZTprs','@g.us','tion.)','shape.\x20Ple','a\x20video-no','o\x20a\x20video\x20','sendMessag','isBuffer','conversati','tance','video\x20(it\x20','image','333UoOODZ','key','\x20to\x20a\x20vide','nd\x20try\x20aga','deo\x20messag','\x20internati',',setsar=1','\x20an\x20audio\x20','rror:\x20','e\x20media\x20is','pipe','sendApi\x20no','veryfast','ssage','\x20reply\x20to\x20','a\x20video\x20me','parse\x20targ',')\x27,pad=','set','p.net','[cc]\x20refre','Failed\x20to\x20','ply\x20to\x20a\x20v','textInfo','d\x20sending\x20','ideo\x20docum','\x20Ensure\x20th',':(oh-ih)/2','caption','[cc]\x20faile','promises','[cc]\x20strea','messageCon','trim','videoMessa','gnored\x20(AL','tJid\x20unkno','\x20default;\x20','ge.\x20cc\x20con','n\x20unsuppor','[cc]\x20clean','fig\x20restri','-loop','he\x20quoted\x20','er\x20error:\x20','\x20it\x20into\x20a','cc.initial','.png','\x20an\x20image\x20','\x20Please\x20re','urrently\x20e','fileName','ge.','color=blac','type','us`','[cc]\x20sent\x20','writeFile','has','ize\x20requir','LOW_GROUP_','Usage:\x20rep','ffmpeg','\x20a\x20video\x20w','s\x20only\x20(e.','video','clear','file.\x20cc\x20c','pi\x20not\x20ava','baseline','catch','ease\x20reply','P_COMMANDS','\x20admins\x20ma','-c:a','close','te.\x20Please','Converted\x20','join','\x20to\x20','node','178896rUGJrc','unlink','3tNTPYm','Only\x20group','3520510ATIYCR','jpegThumbn','-b:a','video-note','participan','g:\x20ALLOW_G','ty\x20or\x20inac','Please\x20rep','toString','aac','audioMessa','-c:v','ailed:\x20','deliver\x20to','video\x20with','OR\x20send\x20a\x20','filter','libx264','1.8.1-fixe','eo\x20or\x20is\x20a','it\x20into\x20a\x20','47XXXXXXXX','get','alized\x20(PM','-preset','ssage.','-notes.\x20Pl','ROUP_COMMA','\x20video-not','dirname','convert\x20it','mp4','in\x20check\x20f','contextInf','[cc]\x20isadm','ail','now','\x20a\x20sticker','ly\x20to\x20a\x20vi','lavfi','eStream','-level','split','audio_cove','ot\x20itself.','t\x20the\x20vide','se\x20reply\x20t','\x20botJid=','d\x20media\x20is','mQuotedMed','The\x20replie','nal\x20error:','alse)','NDS=','ed\x20up','alized\x20(bo','[cc]\x20hotRe','@s.whatsap','-vf',',-2)\x27:\x27if(','\x20which\x20can','extendedTe','-profile:v','mimetype','webm','-crf','out_','shConfig\x20e','eos*\x20only.','imageMessa','36KpuXbS','remoteJid','startsWith','e\x20(or\x20send','2467155@g.','wn)','[cc]\x20initi','Could\x20not\x20','stderr','e\x20with\x20`cc','message','set\x20ALLOW_','r\x20JID>`\x20â€”\x20','deo-note.','delete','replace','id\x20JID.','ideo\x20messa','age','ith\x20captio','xpects\x20a\x20v','download\x20t','[cc]\x20confi','.mp4','not\x20be\x20con','quotedMess','function','\x20handler\x20e','string','in.','t\x20availabl','error','3462836zZiETb','sage','test','\x22.\x20Provide','server-con','length','ge\x20(or\x20a\x20v','Refusing\x20t','audio_inte','sock','\x20sent\x20to\x20','\x20command\x20i','includes','1572772qOeNZo','text','createWrit',':(ow-iw)/2','(photo).\x20c','[cc]\x20group','g.\x202547...','documentMe','cc\x20<number','ilable'];_0x30c8=function(){return _0x5ed85b;};return _0x30c8();}import{getBotJid}from'../utils/bot-state.js';const pipeline=promisify(_0x39e170),mkdtemp=_0x243979[_0x5d8b19(0x13e)]['mkdtemp'],writeFileAsync=_0x243979['promises'][_0x5d8b19(0x159)],unlink=_0x243979[_0x5d8b19(0x13e)][_0x5d8b19(0x172)],rm=_0x243979[_0x5d8b19(0x13e)]['rm'],DEFAULT_SIZE=-0xde1+-0x9d*-0x1a+0x3*0x25;export const name='cc';export const version=_0x5d8b19(0x187)+'d';export const priority=-0x3*-0x432+-0x3d6+0x6*-0x163;export const configKeys=['ALLOW_GROU'+_0x5d8b19(0x168)];export const commands=['cc'];let botRef=null,sendApi=null,ALLOW_GROUP_COMMANDS=![];const processedSendKeys=new Map(),PROCESSED_SEND_TTL_MS=(0x7f*-0x3+-0x1*-0x1f52+-0x1dc6)*(0x1e1c+0x1*0x20d1+-0x1*0x3b05);function markSendProcessed(_0x10cf38){const _0x194d7a=_0x5d8b19;if(!_0x10cf38)return;if(processedSendKeys[_0x194d7a(0x15a)](_0x10cf38))try{clearTimeout(processedSendKeys[_0x194d7a(0x18b)](_0x10cf38));}catch(_0x101a52){}const _0x1b3453=setTimeout(()=>processedSendKeys[_0x194d7a(0x1c9)](_0x10cf38),PROCESSED_SEND_TTL_MS);processedSendKeys[_0x194d7a(0x132)](_0x10cf38,_0x1b3453);}function isSendProcessed(_0x2aaf90){return _0x2aaf90&&processedSendKeys['has'](_0x2aaf90);}function clearAllProcessedSends(){const _0x3761eb=_0x5d8b19;for(const _0x1863b9 of processedSendKeys['values']())try{clearTimeout(_0x1863b9);}catch(_0x5d04aa){}processedSendKeys[_0x3761eb(0x162)]();}function setupSendApi(){const _0x255ca9=_0x5d8b19;if(!botRef)return;if(typeof botRef['sendMessag'+'e']===_0x255ca9(0x1d5))sendApi=async(_0x3ebd1b,_0x482cb4,_0x3728d5={})=>await botRef[_0x255ca9(0x11a)+'e'](_0x3ebd1b,_0x482cb4,_0x3728d5);else botRef[_0x255ca9(0x1e4)]&&typeof botRef[_0x255ca9(0x1e4)][_0x255ca9(0x11a)+'e']===_0x255ca9(0x1d5)?sendApi=async(_0xb74060,_0x1573cd,_0x32fd00={})=>await botRef['sock'][_0x255ca9(0x11a)+'e'](_0xb74060,_0x1573cd,_0x32fd00):sendApi=null;}async function safeSend(_0x107e21,_0x1a49c9,_0x4e9962={}){const _0x47829b=_0x5d8b19;if(!sendApi){warn('[cc]\x20sendA'+_0x47829b(0x164)+_0x47829b(0x1f1));throw new Error(_0x47829b(0x12b)+_0x47829b(0x1d9)+'e');}return await sendApi(_0x107e21,_0x1a49c9,_0x4e9962);}function refreshConfig(){const _0x18a5ad=_0x5d8b19;try{const _0x538f91=typeof getConfig==='function'?getConfig()||{}:{};ALLOW_GROUP_COMMANDS=!!_0x538f91['ALLOW_GROU'+_0x18a5ad(0x168)],info(_0x18a5ad(0x1d1)+_0x18a5ad(0x17a)+_0x18a5ad(0x190)+_0x18a5ad(0x1aa)+ALLOW_GROUP_COMMANDS);}catch(_0x447f42){warn(_0x18a5ad(0x134)+_0x18a5ad(0x1b8)+'rror:\x20'+(_0x447f42?.['message']||_0x447f42));}}try{typeof hotReloadConfig==='function'&&hotReloadConfig(()=>{const _0x1e8088=_0x5d8b19;try{refreshConfig();}catch(_0x173846){warn(_0x1e8088(0x1ad)+'loadConfig'+_0x1e8088(0x1d6)+_0x1e8088(0x128)+(_0x173846?.[_0x1e8088(0x1c5)]||_0x173846));}});}catch(_0x322b98){}refreshConfig();function getQuotedWrap(_0x3dab4e){const _0x5b6d6c=_0x5d8b19;if(!_0x3dab4e||!_0x3dab4e[_0x5b6d6c(0x1c5)])return null;const _0x2cf479=_0x3dab4e[_0x5b6d6c(0x1c5)]?.[_0x5b6d6c(0x1b2)+'xtMessage']?.[_0x5b6d6c(0x196)+'o'];if(_0x2cf479&&_0x2cf479[_0x5b6d6c(0x1d4)+'age'])return{'quoted':_0x2cf479['quotedMess'+'age'],'quotedKey':_0x2cf479};for(const _0xc48611 of Object['keys'](_0x3dab4e[_0x5b6d6c(0x1c5)]||{})){const _0x51b52a=_0x3dab4e[_0x5b6d6c(0x1c5)][_0xc48611];if(_0x51b52a&&_0x51b52a[_0x5b6d6c(0x196)+'o']&&_0x51b52a['contextInf'+'o'][_0x5b6d6c(0x1d4)+_0x5b6d6c(0x1cd)])return{'quoted':_0x51b52a[_0x5b6d6c(0x196)+'o'][_0x5b6d6c(0x1d4)+'age'],'quotedKey':_0x51b52a[_0x5b6d6c(0x196)+'o']};}const _0xc1b8cb=_0x3dab4e[_0x5b6d6c(0x1c5)]?.[_0x5b6d6c(0x196)+'o']?.[_0x5b6d6c(0x1d4)+_0x5b6d6c(0x1cd)]||_0x3dab4e['message']?.[_0x5b6d6c(0x140)+_0x5b6d6c(0x137)]?.['quotedMess'+_0x5b6d6c(0x1cd)],_0x29d5c7=_0x3dab4e[_0x5b6d6c(0x1c5)]?.['contextInf'+'o']?.[_0x5b6d6c(0x179)+'t']||_0x3dab4e[_0x5b6d6c(0x1c5)]?.[_0x5b6d6c(0x140)+'textInfo']?.[_0x5b6d6c(0x179)+'t']||null;if(_0xc1b8cb)return{'quoted':_0xc1b8cb,'quotedKey':{'participant':_0x29d5c7}};return null;}function isVideoNode(_0x9ca9e){const _0x26fac5=_0x5d8b19;if(!_0x9ca9e)return![];if(_0x9ca9e[_0x26fac5(0x142)+'ge'])return!![];if(_0x9ca9e[_0x26fac5(0x1c5)]&&_0x9ca9e['message']['videoMessa'+'ge'])return!![];if(_0x9ca9e[_0x26fac5(0x1ef)+'ssage']&&typeof _0x9ca9e[_0x26fac5(0x1ef)+'ssage'][_0x26fac5(0x1b4)]===_0x26fac5(0x1d7)&&_0x9ca9e[_0x26fac5(0x1ef)+_0x26fac5(0x12d)][_0x26fac5(0x1b4)][_0x26fac5(0x1bd)]('video'))return!![];return![];}async function streamQuotedMediaToFile(_0x5ca9ac,_0x10aa01){const _0x176524=_0x5d8b19;try{const _0x4c55de=[{'node':_0x5ca9ac[_0x176524(0x142)+'ge'],'type':_0x176524(0x161)},{'node':_0x5ca9ac[_0x176524(0x1ef)+'ssage']&&String(_0x5ca9ac[_0x176524(0x1ef)+'ssage'][_0x176524(0x1b4)]||'')[_0x176524(0x1bd)](_0x176524(0x161))?_0x5ca9ac[_0x176524(0x1ef)+_0x176524(0x12d)]:null,'type':'video'},{'node':_0x5ca9ac['message']?.[_0x176524(0x142)+'ge'],'type':_0x176524(0x161)},{'node':_0x5ca9ac[_0x176524(0x1c5)]?.[_0x176524(0x1ef)+_0x176524(0x12d)]&&String(_0x5ca9ac[_0x176524(0x1c5)][_0x176524(0x1ef)+_0x176524(0x12d)][_0x176524(0x1b4)]||'')[_0x176524(0x1bd)]('video')?_0x5ca9ac[_0x176524(0x1c5)]['documentMe'+_0x176524(0x12d)]:null,'type':_0x176524(0x161)}];let _0x3ecf26=null,_0x2a5705=null;for(const _0x3f6255 of _0x4c55de){if(_0x3f6255[_0x176524(0x170)]){_0x3ecf26=_0x3f6255[_0x176524(0x170)],_0x2a5705=_0x3f6255[_0x176524(0x156)];break;}}if(!_0x3ecf26||!_0x2a5705)return null;let _0x123501=_0x176524(0x194);if(_0x2a5705===_0x176524(0x161))_0x123501=_0x176524(0x194);if(_0x3ecf26[_0x176524(0x153)]){const _0x400ce4=String(_0x3ecf26[_0x176524(0x153)])['split']('.')['pop']();if(_0x400ce4&&_0x400ce4['length']<=0x7*-0x26f+0x23ee+0x1b7*-0xb)_0x123501=_0x400ce4;}else{if(_0x3ecf26['mimetype']){if(_0x3ecf26[_0x176524(0x1b4)][_0x176524(0x1e7)]('mp4'))_0x123501=_0x176524(0x194);else{if(_0x3ecf26[_0x176524(0x1b4)]['includes'](_0x176524(0x1b5)))_0x123501=_0x176524(0x1b5);}}}const _0xd9078e=_0x21170b[_0x176524(0x16e)](_0x10aa01,'in_'+Date[_0x176524(0x199)]()+'.'+_0x123501),_0x4f9fe9=await downloadContentFromMessage(_0x3ecf26,_0x2a5705);if(!_0x4f9fe9)return null;const _0x5486e2=_0x243979[_0x176524(0x1ea)+_0x176524(0x19d)](_0xd9078e);return await pipeline(_0x4f9fe9,_0x5486e2),{'path':_0xd9078e,'type':_0x2a5705,'contentNode':_0x3ecf26};}catch(_0x27f36f){return warn(_0x176524(0x13f)+_0x176524(0x1a6)+'iaToFile\x20f'+_0x176524(0x181)+(_0x27f36f?.['message']||_0x27f36f)),null;}}function spawnFFmpeg(_0x53205a,_0x2cbf24){return new Promise((_0x25dd87,_0xcc56c1)=>{const _0x4aa8d0=_0x51eb,_0x4b28b9=spawn(_0x4aa8d0(0x15e),_0x53205a,{'stdio':['ignore',_0x4aa8d0(0x12a),_0x4aa8d0(0x12a)]});let _0x3b4cc3='';_0x4b28b9[_0x4aa8d0(0x1c3)]['on'](_0x4aa8d0(0x10b),_0x50a892=>{const _0xa571ba=_0x4aa8d0;_0x3b4cc3+=_0x50a892[_0xa571ba(0x17d)]();if(_0x2cbf24)_0x2cbf24(_0x50a892);}),_0x4b28b9['on'](_0x4aa8d0(0x16b),_0x2d2e14=>{if(_0x2d2e14===-0x206*-0x11+-0x1cd6+0xb2*-0x8)_0x25dd87(_0x3b4cc3);else _0xcc56c1(new Error('ffmpeg\x20exi'+'t\x20code\x20'+_0x2d2e14+'\x0a'+_0x3b4cc3));}),_0x4b28b9['on'](_0x4aa8d0(0x1da),_0x26e40a=>_0xcc56c1(_0x26e40a));});}function _0x51eb(_0x26089f,_0x506445){const _0x8d7eb=_0x30c8();return _0x51eb=function(_0x1abdc8,_0x1ec050){_0x1abdc8=_0x1abdc8-(0x1e88+0x2b*-0x22+-0x17d1);let _0x432702=_0x8d7eb[_0x1abdc8];return _0x432702;},_0x51eb(_0x26089f,_0x506445);}async function transcodeToVideoNote(_0x514416,_0x1b23b1,_0x29d8ed=DEFAULT_SIZE){const _0x668962=_0x5d8b19,_0x39bb7a=['-y','-i',_0x514416,'-t','60',_0x668962(0x1af),'scale=\x27if('+'gt(a,1),'+_0x29d8ed+(_0x668962(0x1b0)+'gt(a,1),-2'+',')+_0x29d8ed+_0x668962(0x131)+_0x29d8ed+':'+_0x29d8ed+(_0x668962(0x1eb)+_0x668962(0x13b)+_0x668962(0x126)),'-r','30',_0x668962(0x180),_0x668962(0x186),_0x668962(0x1b3),_0x668962(0x165),_0x668962(0x19e),_0x668962(0x108),_0x668962(0x18d),_0x668962(0x12c),_0x668962(0x1b6),'28','-c:a',_0x668962(0x17e),_0x668962(0x177),_0x668962(0x107),_0x1b23b1];return await spawnFFmpeg(_0x39bb7a),_0x1b23b1;}async function audioToVideoNote(_0x5b088a,_0x50a47d,_0x170a31=null,_0x32ccda=DEFAULT_SIZE){const _0x337ed6=_0x5d8b19,_0x145770=_0x21170b[_0x337ed6(0x192)](_0x50a47d),_0x5abf21=_0x21170b[_0x337ed6(0x16e)](_0x145770,_0x337ed6(0x1e3)+_0x337ed6(0x1f2)+Date[_0x337ed6(0x199)]()+_0x337ed6(0x1d2)),_0x17a6d3=_0x170a31||_0x21170b['join'](_0x145770,_0x337ed6(0x1a0)+'r_'+Date['now']()+_0x337ed6(0x14f));!_0x170a31&&await spawnFFmpeg(['-y','-f',_0x337ed6(0x19c),'-i',_0x337ed6(0x155)+'k:s='+_0x32ccda+'x'+_0x32ccda,_0x17a6d3]);await spawnFFmpeg(['-y',_0x337ed6(0x14a),'1','-i',_0x17a6d3,'-i',_0x5b088a,_0x337ed6(0x180),_0x337ed6(0x186),'-t','60',_0x337ed6(0x16a),_0x337ed6(0x17e),_0x337ed6(0x177),_0x337ed6(0x107),_0x337ed6(0x111),_0x337ed6(0x18d),'veryfast',_0x5abf21]),await transcodeToVideoNote(_0x5abf21,_0x50a47d,_0x32ccda);try{await unlink(_0x5abf21);}catch(_0x1ea989){}if(!_0x170a31)try{await unlink(_0x17a6d3);}catch(_0x40954e){}return _0x50a47d;}function normalizeTarget(_0x321134){const _0x4d8ac2=_0x5d8b19;if(!_0x321134)return null;let _0x1b6645=String(_0x321134)['trim']();if(_0x1b6645[_0x4d8ac2(0x1e7)]('@'))try{return jidNormalizedUser(_0x1b6645);}catch(_0x3c8039){return _0x1b6645;}_0x1b6645=_0x1b6645[_0x4d8ac2(0x1ca)](/[^\d]/g,'');if(!_0x1b6645)return null;if(_0x1b6645[_0x4d8ac2(0x1e0)]<0x12d3+0x5*0x33f+-0x2306||_0x1b6645[_0x4d8ac2(0x1e0)]>-0x202e+-0x7*0x541+0x1c*0x277)return null;return _0x1b6645+(_0x4d8ac2(0x1ae)+_0x4d8ac2(0x133));}export async function initialize(_0x4b3963){const _0x77061a=_0x5d8b19;if(!_0x4b3963)throw new Error(_0x77061a(0x14e)+_0x77061a(0x15b)+'es\x20bot\x20ins'+_0x77061a(0x11d));botRef=_0x4b3963,setupSendApi(),refreshConfig();try{const _0x4ebd63=getBotJid();info(_0x77061a(0x1c1)+_0x77061a(0x18c)+_0x77061a(0x145)+_0x77061a(0x1c6)+'GROUP_COMM'+'ANDS=true\x20'+'to\x20allow\x20i'+'n\x20groups).'+_0x77061a(0x1a4)+(_0x4ebd63||'<unknown>'));}catch(_0x1b3b0c){info('[cc]\x20initi'+_0x77061a(0x1ac)+_0x77061a(0x144)+_0x77061a(0x1c0));}}export async function onMessage(_0xadf97e){const _0x40a7fd=_0x5d8b19;try{if(!_0xadf97e||!_0xadf97e['key']||!_0xadf97e[_0x40a7fd(0x1c5)])return;const _0x1ddd55=typeof _0xadf97e[_0x40a7fd(0x1e9)]===_0x40a7fd(0x1d7)&&_0xadf97e[_0x40a7fd(0x1e9)][_0x40a7fd(0x141)]()?_0xadf97e[_0x40a7fd(0x1e9)][_0x40a7fd(0x141)]():_0xadf97e[_0x40a7fd(0x1c5)]?.[_0x40a7fd(0x11c)+'on']||_0xadf97e['message']?.[_0x40a7fd(0x1b2)+'xtMessage']?.[_0x40a7fd(0x1e9)]||_0xadf97e[_0x40a7fd(0x1c5)]?.['videoMessa'+'ge']?.['caption']||_0xadf97e[_0x40a7fd(0x1c5)]?.[_0x40a7fd(0x1ba)+'ge']?.[_0x40a7fd(0x13c)]||_0xadf97e[_0x40a7fd(0x1c5)]?.['documentMe'+'ssage']?.[_0x40a7fd(0x13c)]||'';if(!_0x1ddd55)return;const _0x45faf7=_0x1ddd55[_0x40a7fd(0x141)](),_0x387c41=_0x45faf7[_0x40a7fd(0x19f)](/\s+/),_0x450bc5=_0x387c41[0x1*-0x16ac+-0x1b34+0x31e0]['toLowerCas'+'e']();if(!(_0x450bc5==='cc'||/^\/cc\b/i[_0x40a7fd(0x1dd)](_0x45faf7)))return;const _0x2e8bac=_0xadf97e[_0x40a7fd(0x121)][_0x40a7fd(0x1bc)],_0x1cbec0=typeof _0x2e8bac===_0x40a7fd(0x1d7)&&_0x2e8bac['endsWith'](_0x40a7fd(0x115));if(_0x1cbec0){if(!ALLOW_GROUP_COMMANDS){info(_0x40a7fd(0x1ed)+_0x40a7fd(0x1e6)+_0x40a7fd(0x143)+_0x40a7fd(0x15c)+'COMMANDS=f'+_0x40a7fd(0x1a9));return;}let _0x5ac092=![];try{_0x5ac092=await isadmin(botRef,_0xadf97e);}catch(_0x1bf01c){warn(_0x40a7fd(0x197)+_0x40a7fd(0x195)+_0x40a7fd(0x181)+(_0x1bf01c?.[_0x40a7fd(0x1c5)]||_0x1bf01c)),_0x5ac092=![];}if(!_0x5ac092){if(sendApi)try{await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x174)+_0x40a7fd(0x169)+'y\x20use\x20cc\x20('+_0x40a7fd(0x1df)+_0x40a7fd(0x149)+_0x40a7fd(0x110),'quoted':_0xadf97e[_0x40a7fd(0x121)]});}catch(_0x491605){}return;}}let _0x58f862=_0x387c41[-0x3*0xb65+0x168c+0xba4]||null;if(!_0x58f862&&_0x1ddd55[_0x40a7fd(0x1e7)]('\x0a')){const _0x2db430=_0x1ddd55['split'](/\r?\n/)['map'](_0x513673=>_0x513673[_0x40a7fd(0x141)]())[_0x40a7fd(0x185)](Boolean);if(_0x2db430[_0x40a7fd(0x1e0)]>=-0x663+0x1a2e+-0x13c9)_0x58f862=_0x2db430[-0x237b+-0x1*-0xd60+0x161c*0x1][_0x40a7fd(0x19f)](/\s+/)[-0x389*0x4+0x21b1+-0x138d];}let _0x589b06=getQuotedWrap(_0xadf97e),_0x2b6325=![];!_0x589b06&&((_0xadf97e[_0x40a7fd(0x1c5)]?.[_0x40a7fd(0x142)+'ge']||_0xadf97e[_0x40a7fd(0x1c5)]?.[_0x40a7fd(0x1ef)+_0x40a7fd(0x12d)]&&String(_0xadf97e[_0x40a7fd(0x1c5)][_0x40a7fd(0x1ef)+_0x40a7fd(0x12d)][_0x40a7fd(0x1b4)]||'')['startsWith'](_0x40a7fd(0x161)))&&(_0x589b06={'quoted':_0xadf97e[_0x40a7fd(0x1c5)],'quotedKey':_0xadf97e[_0x40a7fd(0x1c5)]?.[_0x40a7fd(0x196)+'o']||{}},_0x2b6325=!![]));if(!_0x58f862){const _0x442692=_0x2e8bac;sendApi&&await safeSend(_0x442692,{'text':_0x40a7fd(0x15d)+_0x40a7fd(0x19b)+_0x40a7fd(0x124)+_0x40a7fd(0x1c4)+'\x20<number\x20o'+_0x40a7fd(0x1c7)+_0x40a7fd(0x184)+_0x40a7fd(0x183)+'\x20caption\x20`'+_0x40a7fd(0x1f0)+'>`\x20(no\x20rep'+_0x40a7fd(0x105)+'le:\x20`cc\x2025'+_0x40a7fd(0x18a)+'`\x20or\x20`cc\x201'+'2036338072'+_0x40a7fd(0x1bf)+_0x40a7fd(0x157),'quoted':_0xadf97e['key']});return;}if(!_0x589b06||!_0x589b06['quoted']){if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x17c)+_0x40a7fd(0x19b)+_0x40a7fd(0x124)+_0x40a7fd(0x1be)+_0x40a7fd(0x15f)+_0x40a7fd(0x1ce)+'n\x20`cc\x20<num'+'ber>`)\x20to\x20'+_0x40a7fd(0x193)+'\x20into\x20a\x20vi'+_0x40a7fd(0x1c8),'quoted':_0xadf97e[_0x40a7fd(0x121)]});return;}if(!isVideoNode(_0x589b06[_0x40a7fd(0x101)])){const _0xd47d26=_0x589b06[_0x40a7fd(0x101)];if(_0xd47d26[_0x40a7fd(0x1ba)+'ge']){if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x1a7)+_0x40a7fd(0x1a5)+_0x40a7fd(0x150)+_0x40a7fd(0x1ec)+'c\x20converts'+_0x40a7fd(0x103)+'into\x20video'+_0x40a7fd(0x18f)+_0x40a7fd(0x167)+_0x40a7fd(0x122)+_0x40a7fd(0x1f3)+'to\x20convert'+_0x40a7fd(0x14d)+_0x40a7fd(0x191)+'e.','quoted':_0xadf97e[_0x40a7fd(0x121)]})[_0x40a7fd(0x166)](()=>{});}else{if(_0xd47d26['stickerMes'+_0x40a7fd(0x1dc)]){if(sendApi)await safeSend(_0x2e8bac,{'text':'The\x20replie'+_0x40a7fd(0x1a5)+_0x40a7fd(0x19a)+_0x40a7fd(0x1b1)+_0x40a7fd(0x1d3)+_0x40a7fd(0x10d)+_0x40a7fd(0x118)+_0x40a7fd(0x16c)+_0x40a7fd(0x12e)+_0x40a7fd(0x12f)+_0x40a7fd(0x18e),'quoted':_0xadf97e[_0x40a7fd(0x121)]})[_0x40a7fd(0x166)](()=>{});}else{if(_0xd47d26[_0x40a7fd(0x17f)+'ge']){if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x1a7)+_0x40a7fd(0x1a5)+_0x40a7fd(0x127)+_0x40a7fd(0x163)+_0x40a7fd(0x152)+_0x40a7fd(0x1cf)+_0x40a7fd(0x1cc)+_0x40a7fd(0x1e1)+_0x40a7fd(0x139)+'ent).\x20Plea'+_0x40a7fd(0x1a3)+_0x40a7fd(0x119)+'message.','quoted':_0xadf97e[_0x40a7fd(0x121)]})[_0x40a7fd(0x166)](()=>{});}else{if(_0xd47d26[_0x40a7fd(0x1ef)+'ssage']&&_0xd47d26[_0x40a7fd(0x1ef)+_0x40a7fd(0x12d)][_0x40a7fd(0x1b4)]&&_0xd47d26[_0x40a7fd(0x1ef)+_0x40a7fd(0x12d)][_0x40a7fd(0x1b4)][_0x40a7fd(0x1bd)](_0x40a7fd(0x11f))){if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x1a7)+'d\x20document'+'\x20is\x20an\x20ima'+_0x40a7fd(0x146)+'verts\x20*vid'+_0x40a7fd(0x1b9)+_0x40a7fd(0x151)+_0x40a7fd(0x136)+_0x40a7fd(0x1cc)+_0x40a7fd(0x154),'quoted':_0xadf97e[_0x40a7fd(0x121)]})[_0x40a7fd(0x166)](()=>{});}else{if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x1a7)+_0x40a7fd(0x1a5)+'\x20not\x20a\x20vid'+_0x40a7fd(0x188)+_0x40a7fd(0x147)+_0x40a7fd(0x102)+_0x40a7fd(0x117)+'ase\x20reply\x20'+'to\x20a\x20video'+'\x20message\x20t'+'o\x20convert\x20'+_0x40a7fd(0x189)+_0x40a7fd(0x178)+'.','quoted':_0xadf97e[_0x40a7fd(0x121)]})[_0x40a7fd(0x166)](()=>{});}}}}return;}const _0x6b5ff5=normalizeTarget(_0x58f862);if(!_0x6b5ff5){if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x1c2)+_0x40a7fd(0x130)+'et\x20\x22'+_0x58f862+(_0x40a7fd(0x1de)+_0x40a7fd(0x125)+'onal\x20digit'+_0x40a7fd(0x160)+_0x40a7fd(0x1ee)+')\x20or\x20a\x20val'+_0x40a7fd(0x1cb)),'quoted':_0xadf97e[_0x40a7fd(0x121)]});return;}try{const _0x3b2931=getBotJid();if(_0x3b2931&&_0x6b5ff5===_0x3b2931){if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x1e2)+_0x40a7fd(0x10a)+'\x20generated'+_0x40a7fd(0x191)+'e\x20to\x20the\x20b'+_0x40a7fd(0x1a1),'quoted':_0xadf97e[_0x40a7fd(0x121)]});return;}}catch(_0x418686){}const _0x2a26fa=String(_0xadf97e[_0x40a7fd(0x121)]['id']||''),_0xeab16c=_0x2a26fa+'::'+_0x6b5ff5;if(isSendProcessed(_0xeab16c)){info('[cc]\x20dupli'+_0x40a7fd(0x112)+'skipped\x20fo'+'r\x20'+_0xeab16c);return;}markSendProcessed(_0xeab16c);const _0x7c80a2=await mkdtemp(_0x21170b['join'](_0x414b01['tmpdir'](),'cc-'));let _0x3241c6=null;try{const _0x658ea4=_0x589b06[_0x40a7fd(0x101)],_0xfcd3de=_0x658ea4?.['videoMessa'+'ge']?.[_0x40a7fd(0x176)+_0x40a7fd(0x198)]||_0x658ea4?.['documentMe'+_0x40a7fd(0x12d)]?.['jpegThumbn'+_0x40a7fd(0x198)]||_0x658ea4?.[_0x40a7fd(0x1c5)]?.[_0x40a7fd(0x142)+'ge']?.[_0x40a7fd(0x176)+_0x40a7fd(0x198)]||null;_0xfcd3de&&(Buffer[_0x40a7fd(0x11b)](_0xfcd3de)||_0xfcd3de instanceof Uint8Array)&&(_0x3241c6=_0x21170b[_0x40a7fd(0x16e)](_0x7c80a2,_0x40a7fd(0x106)),await writeFileAsync(_0x3241c6,Buffer['from'](_0xfcd3de)));const _0x3974e4=await streamQuotedMediaToFile(_0x658ea4,_0x7c80a2);if(!_0x3974e4){if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x135)+_0x40a7fd(0x1d0)+_0x40a7fd(0x14b)+_0x40a7fd(0x11e)+'may\x20be\x20emp'+_0x40a7fd(0x17b)+'cessible).'+_0x40a7fd(0x13a)+_0x40a7fd(0x129)+'\x20present\x20a'+_0x40a7fd(0x123)+_0x40a7fd(0x1d8),'quoted':_0xadf97e['key']});await rm(_0x7c80a2,{'recursive':!![],'force':!![]})[_0x40a7fd(0x166)](()=>{});return;}const {path:_0x24cead,type:_0xf8a377}=_0x3974e4,_0xdff58f=_0x21170b[_0x40a7fd(0x16e)](_0x7c80a2,_0x40a7fd(0x1b7)+Date[_0x40a7fd(0x199)]()+_0x40a7fd(0x1d2));await transcodeToVideoNote(_0x24cead,_0xdff58f);const _0x14b335={'video':{'url':_0xdff58f},'mimetype':'video/mp4','fileName':_0x40a7fd(0x104)+_0x40a7fd(0x1d2),'ptv':!![]};try{if(!sendApi)throw new Error(_0x40a7fd(0x12b)+_0x40a7fd(0x1d9)+'e');await safeSend(_0x6b5ff5,_0x14b335),info(_0x40a7fd(0x158)+'video\x20note'+_0x40a7fd(0x16f)+_0x6b5ff5);if(sendApi){const _0x3bb31e=_0x2b6325?_0x40a7fd(0x16d)+_0x40a7fd(0x178)+_0x40a7fd(0x1e5)+_0x6b5ff5+('.\x20(You\x20sen'+_0x40a7fd(0x1a2)+'o\x20with\x20cap'+_0x40a7fd(0x116)):_0x40a7fd(0x16d)+_0x40a7fd(0x178)+_0x40a7fd(0x1e5)+_0x6b5ff5+'.';await safeSend(_0x2e8bac,{'text':_0x3bb31e,'quoted':_0xadf97e[_0x40a7fd(0x121)]})['catch'](()=>{});}}catch(_0x49d2d4){error(_0x49d2d4,_0x40a7fd(0x13d)+_0x40a7fd(0x138)+_0x40a7fd(0x10e)+_0x6b5ff5+':\x20'+(_0x49d2d4?.[_0x40a7fd(0x1c5)]||_0x49d2d4));if(sendApi)await safeSend(_0x2e8bac,{'text':_0x40a7fd(0x135)+_0x40a7fd(0x182)+'\x20'+_0x6b5ff5+':\x20'+(_0x49d2d4?.['message']||_0x49d2d4),'quoted':_0xadf97e[_0x40a7fd(0x121)]})['catch'](()=>{});}try{await unlink(_0x24cead)[_0x40a7fd(0x166)](()=>{}),await unlink(_0xdff58f)[_0x40a7fd(0x166)](()=>{});if(_0x3241c6)await unlink(_0x3241c6)[_0x40a7fd(0x166)](()=>{});await rm(_0x7c80a2,{'recursive':!![],'force':!![]});}catch(_0x1c85bf){}}catch(_0x444b40){error(_0x444b40,'[cc]\x20inter'+_0x40a7fd(0x1a8)+'\x20'+(_0x444b40?.[_0x40a7fd(0x1c5)]||_0x444b40));if(sendApi)await safeSend(_0x2e8bac,{'text':'Conversion'+_0x40a7fd(0x10f)+(_0x444b40?.[_0x40a7fd(0x1c5)]||_0x444b40),'quoted':_0xadf97e['key']})[_0x40a7fd(0x166)](()=>{});await rm(_0x7c80a2,{'recursive':!![],'force':!![]})[_0x40a7fd(0x166)](()=>{});}}catch(_0xc017f5){error(_0xc017f5,'[cc]\x20handl'+_0x40a7fd(0x14c)+(_0xc017f5?.['message']||_0xc017f5));}}export async function cleanup(){const _0x6275cc=_0x5d8b19;botRef=null,sendApi=null,clearAllProcessedSends(),info(_0x6275cc(0x148)+_0x6275cc(0x1ab));}export default{'name':name,'version':version,'priority':priority,'configKeys':configKeys,'commands':commands,'initialize':initialize,'onMessage':onMessage,'cleanup':cleanup};