const _0x263f6e=_0x2949;(function(_0x2ece36,_0x2b8b7e){const _0x3a9c2b=_0x2949,_0xd12866=_0x2ece36();while(!![]){try{const _0x84e4e8=-parseInt(_0x3a9c2b(0x156))/(-0x1e9d*0x1+-0x1151+0x2fef)+-parseInt(_0x3a9c2b(0x15b))/(0xc1*-0x9+0xf7f*-0x2+0x239*0x11)*(parseInt(_0x3a9c2b(0x1dd))/(0x39c*-0x7+0xae*-0x2b+0x3*0x122b))+-parseInt(_0x3a9c2b(0x1b9))/(0x2bf*-0xa+-0x1c33*-0x1+-0xb9)+-parseInt(_0x3a9c2b(0x166))/(-0x176e+-0x9*0x3fd+0x3b58)+-parseInt(_0x3a9c2b(0x1b7))/(0x13ee+0x4*0x47+0xa82*-0x2)+parseInt(_0x3a9c2b(0x17f))/(-0xa08*-0x2+0x2*0x11f5+0x37f3*-0x1)*(-parseInt(_0x3a9c2b(0x1bd))/(-0x1*-0x2182+-0x724+-0x1a56))+parseInt(_0x3a9c2b(0x1b2))/(0xede+-0x93+-0x32*0x49);if(_0x84e4e8===_0x2b8b7e)break;else _0xd12866['push'](_0xd12866['shift']());}catch(_0x569c87){_0xd12866['push'](_0xd12866['shift']());}}}(_0x2375,0x11*0x2832+0x394*-0x149+0x447d3*0x1));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';function _0x2949(_0x574c37,_0x43021d){_0x574c37=_0x574c37-(0xa2+-0xc04+-0x4f*-0x29);const _0x7d3b49=_0x2375();let _0x416bc5=_0x7d3b49[_0x574c37];return _0x416bc5;}import{Readable}from'stream';import _0x39452c from'fs/promises';import _0x580178 from'os';import _0x23e87b from'path';import _0x53d717 from'crypto';export const name=_0x263f6e(0x163);export const version=_0x263f6e(0x1b0);export const priority=0x1*-0x960+-0x88+-0x4f9*-0x2;export const commands=[_0x263f6e(0x163),'s',_0x263f6e(0x1df),_0x263f6e(0x1e5)];let botInstance=null,respondedMsgIds=new Set(),_baileysModule=null,_sharp=null,_ffmpegInstaller=null,_fluentFfmpeg=null;async function getBaileysModule(){const _0x4a2ce7=_0x263f6e;if(_baileysModule)return _baileysModule;try{return _baileysModule=await import('@whiskeysockets/baileys'),_baileysModule;}catch(_0x46138a){throw new Error(_0x4a2ce7(0x1f5)+_0x4a2ce7(0x17a)+_0x4a2ce7(0x15f)+_0x4a2ce7(0x1a7)+_0x46138a[_0x4a2ce7(0x1c9)]);}}async function getSharp(){const _0x1e4f53=_0x263f6e;if(_sharp)return _sharp;try{const _0x42ef6f=await import('sharp');return _sharp=_0x42ef6f['default']||_0x42ef6f,_sharp;}catch(_0x55a32d){throw new Error(_0x1e4f53(0x1f5)+_0x1e4f53(0x169)+':\x20'+_0x55a32d['message']);}}async function getFfmpeg(){const _0x2cbbf0=_0x263f6e;if(_ffmpegInstaller&&_fluentFfmpeg)return{'ffmpegPath':_ffmpegInstaller[_0x2cbbf0(0x16a)],'ffmpegLib':_fluentFfmpeg};try{const _0x56822b=await import('@ffmpeg-installer/ffmpeg'),_0x51cd54=await import('fluent-ffmpeg');_ffmpegInstaller=_0x56822b[_0x2cbbf0(0x149)]||_0x56822b,_fluentFfmpeg=_0x51cd54[_0x2cbbf0(0x149)]||_0x51cd54;try{_fluentFfmpeg['setFfmpegP'+'ath'](_ffmpegInstaller[_0x2cbbf0(0x16a)]);}catch(_0x58c02f){}return{'ffmpegPath':_ffmpegInstaller[_0x2cbbf0(0x16a)],'ffmpegLib':_fluentFfmpeg};}catch(_0x3ca789){throw new Error(_0x2cbbf0(0x1f5)+_0x2cbbf0(0x1f6)+_0x2cbbf0(0x1cc)+_0x3ca789[_0x2cbbf0(0x1c9)]);}}async function streamToBuffer(_0x598be5){const _0x46d8b6=_0x263f6e;if(!_0x598be5)return Buffer[_0x46d8b6(0x196)](-0x652*-0x2+0x2460+-0x3104);if(typeof _0x598be5[Symbol['asyncItera'+'tor']]===_0x46d8b6(0x153)){const _0x5e5805=[];for await(const _0x45581d of _0x598be5){_0x5e5805[_0x46d8b6(0x150)](Buffer['isBuffer'](_0x45581d)?_0x45581d:Buffer[_0x46d8b6(0x183)](_0x45581d));}return Buffer[_0x46d8b6(0x1db)](_0x5e5805);}if(typeof _0x598be5['on']===_0x46d8b6(0x153))return new Promise((_0x477a33,_0x22e34c)=>{const _0x5579e5=_0x46d8b6,_0x50d552=[];_0x598be5['on'](_0x5579e5(0x197),_0x244321=>_0x50d552[_0x5579e5(0x150)](Buffer[_0x5579e5(0x1a2)](_0x244321)?_0x244321:Buffer[_0x5579e5(0x183)](_0x244321))),_0x598be5['on'](_0x5579e5(0x14c),()=>_0x477a33(Buffer[_0x5579e5(0x1db)](_0x50d552))),_0x598be5['on'](_0x5579e5(0x1d4),_0x22e34c);});return Buffer[_0x46d8b6(0x183)](await _0x598be5);}const getQuotedMessage=_0x1e46dc=>{const _0x1373c5=_0x263f6e;return _0x1e46dc[_0x1373c5(0x1c9)]?.[_0x1373c5(0x1e0)+_0x1373c5(0x1ed)]?.[_0x1373c5(0x147)+'o']?.[_0x1373c5(0x1f9)+_0x1373c5(0x1ca)]||_0x1e46dc['quoted']||null;};async function findStoredMatchFromFindings(_0x29c591=[]){const _0x45db6d=_0x263f6e;try{const _0x16923f=await listSudo(),_0x5ba578=new Set(_0x16923f[_0x45db6d(0x182)](String));for(const _0x1da2f8 of _0x29c591){if(!_0x1da2f8||typeof _0x1da2f8[_0x45db6d(0x1c1)]!=='string')continue;const _0x5c825c=normalizeToJid(_0x1da2f8[_0x45db6d(0x1c1)]);if(_0x5c825c&&_0x5ba578[_0x45db6d(0x1ff)](_0x5c825c))return _0x5c825c;if(_0x5ba578['has'](_0x1da2f8['jid']))return _0x1da2f8[_0x45db6d(0x1c1)];}return null;}catch(_0x1c59ce){return warn('['+name+(_0x45db6d(0x17e)+_0x45db6d(0x1bb)+_0x45db6d(0x162))+(_0x1c59ce?.[_0x45db6d(0x1c9)]||_0x1c59ce)),null;}}function tmpFilename(_0x5467f4=''){const _0x69d4ad=_0x263f6e,_0x3306bd=_0x53d717[_0x69d4ad(0x14e)+'s'](-0x3d*-0x2+-0x1ae7+0x1a75)[_0x69d4ad(0x1d0)](_0x69d4ad(0x1ae));return _0x23e87b[_0x69d4ad(0x191)](_0x580178['tmpdir'](),_0x69d4ad(0x1ba)+_0x3306bd+(_0x5467f4?'.'+_0x5467f4:''));}export async function initialize(_0x7f93f){const _0x38ebb8=_0x263f6e;botInstance=_0x7f93f,info('['+name+(']\x20initiali'+_0x38ebb8(0x16e)+_0x38ebb8(0x173)));}export async function cleanup(){const _0x5cd77d=_0x263f6e;botInstance=null,respondedMsgIds[_0x5cd77d(0x1e6)](),info('['+name+(_0x5cd77d(0x1fd)+'up'));}async function imageBufferToWebp(_0x37c94f,{pack:pack=_0x263f6e(0x16d),author:author=_0x263f6e(0x16d),quality:quality=0x4*0x8cb+0x13*-0x1e7+0x1*0x149}={}){const _0x358c9e=_0x263f6e,_0x14d2b5=await getSharp(),_0x1cc8b1=_0x14d2b5(_0x37c94f,{'animated':![]})[_0x358c9e(0x160)]()['resize'](0x2*-0x659+0x11b*-0x1c+0x2da6,-0x1*-0x2591+0x1*-0x1cf3+-0x16*0x4d,{'fit':_0x358c9e(0x179),'position':_0x358c9e(0x17c)})[_0x358c9e(0x1a3)]({'quality':typeof quality===_0x358c9e(0x1d9)?quality:0x279+0x8a8*0x1+0xad1*-0x1}),_0xd6a4ad=await _0x1cc8b1[_0x358c9e(0x171)]();return _0xd6a4ad;}async function videoBufferToWebp(_0x58e3de,{maxDurationSec:maxDurationSec=0x124*-0x11+-0x19ec+0x2d5f,quality:quality=-0x1106*0x2+0xeaa*-0x1+0x3101}={}){const _0x5474e1=_0x263f6e,{ffmpegLib:_0xc4755f}=await getFfmpeg(),_0x3dabe4=_0xc4755f,_0x30b25d=tmpFilename(_0x5474e1(0x165)),_0x13a0e1=tmpFilename('webp');try{await _0x39452c[_0x5474e1(0x1c0)](_0x30b25d,_0x58e3de);const _0x3bd8e1=await new Promise((_0x190a1d,_0xc99ddb)=>{_0x3dabe4['ffprobe'](_0x30b25d,(_0x26b6e5,_0x40bfad)=>{const _0x2a676a=_0x2949;if(_0x26b6e5)return _0xc99ddb(_0x26b6e5);const _0x54f3bf=_0x40bfad?.[_0x2a676a(0x1a5)]?.[_0x2a676a(0x18f)]||0x7*0x162+-0xa33*0x2+-0x7*-0x188;_0x190a1d(Number(_0x54f3bf)||0x1418+-0xded+0x62b*-0x1);});});if(_0x3bd8e1>maxDurationSec)throw new Error('Video\x20too\x20'+'long\x20('+Math['round'](_0x3bd8e1)+(_0x5474e1(0x1d7)+_0x5474e1(0x188))+maxDurationSec+'s.');await new Promise((_0x3d70e4,_0x39df5c)=>{const _0x5e0f9e=_0x5474e1;_0x3dabe4(_0x30b25d)[_0x5e0f9e(0x18b)+_0x5e0f9e(0x1bc)]([_0x5e0f9e(0x1f4),'libwebp',_0x5e0f9e(0x1ef),_0x5e0f9e(0x181)+_0x5e0f9e(0x1b6)+_0x5e0f9e(0x14a)+'spect_rati'+_0x5e0f9e(0x1d6)+_0x5e0f9e(0x185)+'512,format'+_0x5e0f9e(0x14d)+'15',_0x5e0f9e(0x1a6),'0',_0x5e0f9e(0x1e8),'0','-preset',_0x5e0f9e(0x149),_0x5e0f9e(0x170),_0x5e0f9e(0x1f2),'0'])[_0x5e0f9e(0x18b)+_0x5e0f9e(0x1bc)]([_0x5e0f9e(0x1fb),String(Math[_0x5e0f9e(0x187)](0x2505+-0x2*0x2b1+-0x1f99,Math[_0x5e0f9e(0x1a0)](0x133*0x2+-0xd07+0xd9*0xd,quality)))])[_0x5e0f9e(0x148)](_0x13a0e1)['on'](_0x5e0f9e(0x1d4),_0x4c1a39=>{const _0x199192=_0x5e0f9e;_0x39df5c(new Error(_0x199192(0x1ad)+'p\x20conversi'+'on\x20failed:'+'\x20'+(_0x4c1a39?.[_0x199192(0x1c9)]||_0x4c1a39)));})['on'](_0x5e0f9e(0x14c),()=>_0x3d70e4())[_0x5e0f9e(0x184)]();});const _0x22ad5f=await _0x39452c['readFile'](_0x13a0e1);if(!_0x22ad5f||_0x22ad5f['length']===-0x2250+0x903+-0x86f*-0x3)throw new Error(_0x5474e1(0x1c3)+_0x5474e1(0x158)+_0x5474e1(0x1b8)+'e');return _0x22ad5f;}finally{try{await _0x39452c[_0x5474e1(0x17d)](_0x30b25d);}catch(_0x93a3f6){}try{await _0x39452c[_0x5474e1(0x17d)](_0x13a0e1);}catch(_0x278952){}}}async function webpToMp4(_0x434f78){const _0x107e00=_0x263f6e,{ffmpegLib:_0x4563f3}=await getFfmpeg(),_0x4d2c52=_0x4563f3,_0xe857f=tmpFilename(_0x107e00(0x1a3)),_0x3b8358=tmpFilename(_0x107e00(0x165));try{await _0x39452c[_0x107e00(0x1c0)](_0xe857f,_0x434f78),await new Promise((_0x5444f2,_0x4471d4)=>{const _0x32c378=_0x107e00;_0x4d2c52(_0xe857f)[_0x32c378(0x18b)+_0x32c378(0x1bc)]([_0x32c378(0x1e7),_0x32c378(0x1c6),'-pix_fmt',_0x32c378(0x18a),_0x32c378(0x1ef),_0x32c378(0x181)+_0x32c378(0x1b6)+_0x32c378(0x14a)+'spect_rati'+_0x32c378(0x1d6)+_0x32c378(0x185)+_0x32c378(0x1cf),_0x32c378(0x170)])['format'](_0x32c378(0x165))['output'](_0x3b8358)['on'](_0x32c378(0x1d4),_0xe23976=>_0x4471d4(new Error('ffmpeg\x20web'+_0x32c378(0x176)+_0x32c378(0x1d2)+(_0xe23976?.[_0x32c378(0x1c9)]||_0xe23976))))['on']('end',()=>_0x5444f2())['run']();});const _0x162472=await _0x39452c[_0x107e00(0x1b5)](_0x3b8358);if(!_0x162472||_0x162472[_0x107e00(0x1d8)]===-0x1e75+-0x19b6+0x382b)throw new Error('ffmpeg\x20pro'+'duced\x20empt'+'y\x20mp4\x20file');return _0x162472;}finally{try{await _0x39452c[_0x107e00(0x17d)](_0xe857f);}catch(_0x23b08c){}try{await _0x39452c[_0x107e00(0x17d)](_0x3b8358);}catch(_0x5a0195){}}}function _0x2375(){const _0x414185=['clear','-movflags','-loop','eply\x20to\x20an','imageMessa','png','eation\x20fai','xtMessage','skeysocket','-vf','send\x20it\x20wi','to\x20convert','-vsync','@g.us','-vcodec','Failed\x20to\x20','load\x20ffmpe','ata\x20extrac','fromMe','quotedMess','or\x20message','-q:v','remoteJid',']\x20cleaned\x20','s/baileys','has','\x20convert\x20i','Sticker\x20cr','contextInf','output','default','original_a','videoMessa','end','=rgba,fps=','randomByte','\x20request.','push','image','An\x20unexpec','function','❌\x20Failed\x20t','convert\x20st','112684NCrHNA','isAnimated','duced\x20empt','*\x20sticker\x20','\x20video\x20con','34tIfABB','\x20image\x20or\x20','\x20Maximum\x201','seconds','keysockets','rotate','sage','ror:\x20','sticker','\x20*animated','mp4','858470isSzAT','o\x20send\x20err','t\x20to\x20an\x20im','load\x20sharp','path','jpeg','ideo.','tct','zed\x20succes','key','-an','toBuffer','text','sfully.','icker\x20buff','ntentFromM','p->mp4\x20fai',']\x20onMessag','No\x20video\x20d','cover','load\x20@whis','ideo','center','unlink',']\x20findStor','125923HbuTkF','failed\x20to\x20','scale=512:','map','from','run',',crop=512:','l\x20error:\x20','max','m\x20is\x20','includes','yuv420p','outputOpti','re\x20message','5\x20seconds\x20','occurred\x20w','duration','command\x20in','join','essage\x20not','\x20image:\x20','downloadCo','❌\x20Video\x20is','alloc','data','produce\x20st','hile\x20proce','delete','_bot','led','send\x20failu','catch','trim','min','ssing\x20your','isBuffer','webp','ed\x20sticker','format','-lossless','/baileys:\x20','sticker\x20to','\x20available','e\x20top-leve','sendMessag','stead.','ffmpeg\x20web','hex','bot','1.2.3','an\x20animate','11284893qZUhyu','o\x20convert\x20','\x20from\x20@whi','readFile','512:force_','1383660vukqPc','y\x20webp\x20fil','1113228TtbmHp','sticker-','edMatch\x20er','ons','24rGApMU','essage','th\x20the\x20com','writeFile','jid','iled','ffmpeg\x20pro','video','o\x20create\x20s','+faststart','uffer\x20obta','stickerMes','message','age','version\x20fa','g\x20tools:\x20','ined\x20from\x20','d\x20sticker.','512','toString','Sticker\x20to','led:\x20','No\x20image\x20d','error','ticker:\x20','o=increase','s).\x20Maximu','length','number','\x20it\x20to\x20a\x20v','concat','add','44562xTcMwi','\x20video:\x20','toimage','extendedTe','ticker','ted\x20from\x20s','[sticker]\x20',']\x20failed\x20t','tovideo'];_0x2375=function(){return _0x414185;};return _0x2375();}async function webpBufferToImage(_0x4baa71,_0x22022b='png'){const _0x4a811c=_0x263f6e,_0x52b4ab=await getSharp(),_0x180ef8=_0x52b4ab(_0x4baa71,{'animated':![]});if(_0x22022b===_0x4a811c(0x16b)||_0x22022b==='jpg')return _0x180ef8[_0x4a811c(0x16b)]({'quality':0x5a})[_0x4a811c(0x171)]();return _0x180ef8['png']()['toBuffer']();}export async function onMessage(_0x4a6209){const _0x358868=_0x263f6e;try{if(!_0x4a6209||!_0x4a6209['key']||!_0x4a6209['isCommand'])return;if(!botInstance)botInstance=_0x4a6209[_0x358868(0x1af)]||_0x4a6209['client']||_0x4a6209[_0x358868(0x19b)]||null;const _0x300fc1=_0x4a6209[_0x358868(0x16f)]['id'];if(_0x300fc1&&respondedMsgIds['has'](_0x300fc1))return;_0x300fc1&&(respondedMsgIds[_0x358868(0x1dc)](_0x300fc1),setTimeout(()=>respondedMsgIds[_0x358868(0x19a)](_0x300fc1),0x5e7c+-0x2d13+0x43c7));const _0xffae4b=(_0x4a6209[_0x358868(0x172)]||'')[_0x358868(0x19f)](),[_0x1010a8,..._0x3dd8e3]=_0xffae4b['split'](/\s+/),_0x335667=(_0x1010a8||'')['toLowerCas'+'e']();if(!commands[_0x358868(0x189)](_0x335667))return;const _0x24fa0c=_0x4a6209[_0x358868(0x16f)][_0x358868(0x1fc)]||_0x4a6209[_0x358868(0x1fc)]||'',_0x4df9f2=String(_0x24fa0c)['endsWith'](_0x358868(0x1f3)),_0x36c2d9=getBotJid();let _0x1fbfce=_0x24fa0c;const _0x164616=Boolean(_0x4a6209['key']?.[_0x358868(0x1f8)]);let _0x2f91ab=_0x164616;if(_0x164616&&_0x36c2d9)_0x1fbfce=_0x36c2d9;if(!_0x2f91ab){if(_0x4df9f2)_0x2f91ab=await isadmin(botInstance,_0x4a6209)[_0x358868(0x19e)](()=>![]);else{const _0x2a3387=await isSudo(botInstance,_0x4a6209)[_0x358868(0x19e)](()=>![]);if(_0x2a3387){const {findings:_0x2ab59f}=userJidFromCtx(_0x4a6209),_0x333984=await findStoredMatchFromFindings(_0x2ab59f);_0x333984&&(_0x2f91ab=!![],_0x1fbfce=_0x333984);}}}if(!_0x2f91ab)return;const _0x322fbb=_0x3dd8e3[_0x358868(0x191)]('\x20');try{switch(_0x335667){case _0x358868(0x163):case's':await handleStickerCreation(_0x1fbfce,_0x322fbb,_0x4a6209);break;case _0x358868(0x1df):await handleStickerToImage(_0x1fbfce,_0x4a6209);break;case _0x358868(0x1e5):await handleStickerToVideo(_0x1fbfce,_0x4a6209);break;}}catch(_0x1934e7){error(_0x1934e7,'['+name+(']\x20Handler\x20'+'error:\x20')+(_0x1934e7?.[_0x358868(0x1c9)]||_0x1934e7));try{await botInstance[_0x358868(0x1ab)+'e'](_0x1fbfce,{'text':_0x358868(0x152)+'ted\x20error\x20'+_0x358868(0x18e)+_0x358868(0x199)+_0x358868(0x1a1)+_0x358868(0x14f)},{'quoted':_0x4a6209['ms']});}catch(_0x31dd43){error(_0x31dd43,'['+name+(_0x358868(0x1e4)+_0x358868(0x167)+_0x358868(0x1fa)));}}}catch(_0xe3bc06){error(_0xe3bc06,'['+name+(_0x358868(0x177)+_0x358868(0x1aa)+_0x358868(0x186))+(_0xe3bc06?.[_0x358868(0x1c9)]||_0xe3bc06));}}async function handleStickerCreation(_0x15cd62,_0x30471c,_0x59b209){const _0x5f3fa1=_0x263f6e,_0x2dcdcb=getQuotedMessage(_0x59b209),_0x4ea5c7=_0x2dcdcb?.['imageMessa'+'ge']||_0x59b209[_0x5f3fa1(0x1c9)]?.[_0x5f3fa1(0x1ea)+'ge'],_0x1965f3=_0x2dcdcb?.[_0x5f3fa1(0x14b)+'ge']||_0x59b209[_0x5f3fa1(0x1c9)]?.['videoMessa'+'ge'];if(!_0x4ea5c7&&!_0x1965f3)return botInstance[_0x5f3fa1(0x1ab)+'e'](_0x15cd62,{'text':'ℹ️\x20Please\x20r'+_0x5f3fa1(0x1e9)+_0x5f3fa1(0x15c)+'video,\x20or\x20'+_0x5f3fa1(0x1f0)+_0x5f3fa1(0x1bf)+'mand.'},{'quoted':_0x59b209['ms']});const _0x5d2ee0=(_0x30471c||'')[_0x5f3fa1(0x19f)]()||_0x5f3fa1(0x16d),_0x2da256=_0x5f3fa1(0x16d);try{const _0xc9bb33=await getBaileysModule(),_0x39801b=_0xc9bb33[_0x5f3fa1(0x194)+_0x5f3fa1(0x175)+_0x5f3fa1(0x1be)]||_0xc9bb33[_0x5f3fa1(0x149)]?.[_0x5f3fa1(0x194)+_0x5f3fa1(0x175)+_0x5f3fa1(0x1be)];if(!_0x39801b)throw new Error(_0x5f3fa1(0x194)+_0x5f3fa1(0x175)+_0x5f3fa1(0x192)+_0x5f3fa1(0x1a9)+_0x5f3fa1(0x1b4)+_0x5f3fa1(0x1ee)+_0x5f3fa1(0x1fe));let _0x427972,_0x625284=![];if(_0x4ea5c7){const _0x40ff89=await _0x39801b(_0x4ea5c7,_0x5f3fa1(0x151));_0x427972=await streamToBuffer(_0x40ff89);}else{if(_0x1965f3){if((_0x1965f3[_0x5f3fa1(0x15e)]||-0x1b7a+0x3*-0x2cb+0x23db)>-0x252e*0x1+-0x1c4a+0x4187)return botInstance['sendMessag'+'e'](_0x15cd62,{'text':_0x5f3fa1(0x195)+'\x20too\x20long.'+_0x5f3fa1(0x15d)+_0x5f3fa1(0x18d)+'for\x20animat'+_0x5f3fa1(0x1a4)+'s.'},{'quoted':_0x59b209['ms']});const _0x4c24fd=await _0x39801b(_0x1965f3,_0x5f3fa1(0x1c4));_0x427972=await streamToBuffer(_0x4c24fd),_0x625284=!![];}}if(!_0x427972||_0x427972[_0x5f3fa1(0x1d8)]===0x157+-0xea6*0x1+0x1*0xd4f)throw new Error('No\x20media\x20b'+_0x5f3fa1(0x1c7)+_0x5f3fa1(0x1cd)+_0x5f3fa1(0x1c9));let _0x356e51;!_0x625284?_0x356e51=await imageBufferToWebp(_0x427972,{'pack':_0x2da256,'author':_0x5d2ee0,'quality':0x50}):_0x356e51=await videoBufferToWebp(_0x427972,{'maxDurationSec':0xf,'quality':0x4b});if(!_0x356e51||_0x356e51[_0x5f3fa1(0x1d8)]===0x1ace+-0x14*-0x20+-0x1d4e)throw new Error(_0x5f3fa1(0x1f5)+_0x5f3fa1(0x198)+_0x5f3fa1(0x174)+'er');await botInstance['sendMessag'+'e'](_0x15cd62,{'sticker':_0x356e51},{'quoted':_0x59b209['ms']});}catch(_0xb83dde){error(_0xb83dde,_0x5f3fa1(0x1e3)+_0x5f3fa1(0x146)+_0x5f3fa1(0x1ec)+_0x5f3fa1(0x19c));try{await botInstance[_0x5f3fa1(0x1ab)+'e'](_0x15cd62,{'text':_0x5f3fa1(0x154)+_0x5f3fa1(0x1c5)+_0x5f3fa1(0x1d5)+(_0xb83dde?.[_0x5f3fa1(0x1c9)]||_0xb83dde)},{'quoted':_0x59b209['ms']});}catch(_0x3fe4fe){error(_0x3fe4fe,_0x5f3fa1(0x1e3)+_0x5f3fa1(0x180)+_0x5f3fa1(0x19d)+_0x5f3fa1(0x18c));}}}async function handleStickerToImage(_0xbce16c,_0xd800df){const _0x2ce436=_0x263f6e,_0x35dde6=getQuotedMessage(_0xd800df);if(!_0x35dde6?.[_0x2ce436(0x1c8)+_0x2ce436(0x161)])return botInstance[_0x2ce436(0x1ab)+'e'](_0xbce16c,{'text':'ℹ️\x20Please\x20r'+'eply\x20to\x20a\x20'+_0x2ce436(0x1a8)+_0x2ce436(0x145)+_0x2ce436(0x168)+'age.'},{'quoted':_0xd800df['ms']});if(_0x35dde6[_0x2ce436(0x1c8)+_0x2ce436(0x161)][_0x2ce436(0x157)])return botInstance[_0x2ce436(0x1ab)+'e'](_0xbce16c,{'text':'ℹ️\x20This\x20is\x20'+_0x2ce436(0x1b1)+_0x2ce436(0x1ce)+'\x20Use\x20the\x20`'+'.tovideo`\x20'+_0x2ce436(0x190)+_0x2ce436(0x1ac)},{'quoted':_0xd800df['ms']});try{const _0x3928e2=await getBaileysModule(),_0x261767=_0x3928e2['downloadCo'+'ntentFromM'+_0x2ce436(0x1be)]||_0x3928e2['default']?.[_0x2ce436(0x194)+_0x2ce436(0x175)+_0x2ce436(0x1be)];if(!_0x261767)throw new Error(_0x2ce436(0x194)+_0x2ce436(0x175)+_0x2ce436(0x192)+'\x20available');const _0x29be51=await _0x261767(_0x35dde6[_0x2ce436(0x1c8)+_0x2ce436(0x161)],_0x2ce436(0x151)),_0x57bf68=await streamToBuffer(_0x29be51);if(!_0x57bf68||_0x57bf68[_0x2ce436(0x1d8)]===-0x1eee+-0x1*0x36d+0x225b)throw new Error(_0x2ce436(0x1d3)+_0x2ce436(0x1f7)+_0x2ce436(0x1e2)+'ticker');const _0xe80fdc=await webpBufferToImage(_0x57bf68,_0x2ce436(0x1eb));await botInstance['sendMessag'+'e'](_0xbce16c,{'image':_0xe80fdc,'caption':_0x2ce436(0x16d)},{'quoted':_0xd800df['ms']});}catch(_0x4fe85f){error(_0x4fe85f,_0x2ce436(0x1e3)+_0x2ce436(0x1d1)+'\x20image\x20con'+_0x2ce436(0x1cb)+_0x2ce436(0x1c2));try{await botInstance[_0x2ce436(0x1ab)+'e'](_0xbce16c,{'text':_0x2ce436(0x154)+_0x2ce436(0x1b3)+'sticker\x20to'+_0x2ce436(0x193)+(_0x4fe85f?.[_0x2ce436(0x1c9)]||_0x4fe85f)},{'quoted':_0xd800df['ms']});}catch(_0x46225f){error(_0x46225f,_0x2ce436(0x1e3)+_0x2ce436(0x180)+_0x2ce436(0x19d)+_0x2ce436(0x18c));}}}async function handleStickerToVideo(_0x598907,_0x56403c){const _0x57811e=_0x263f6e,_0x51d082=getQuotedMessage(_0x56403c);if(!_0x51d082?.[_0x57811e(0x1c8)+_0x57811e(0x161)]||!_0x51d082[_0x57811e(0x1c8)+_0x57811e(0x161)]['isAnimated'])return botInstance[_0x57811e(0x1ab)+'e'](_0x598907,{'text':'ℹ️\x20Please\x20r'+_0x57811e(0x1e9)+_0x57811e(0x164)+_0x57811e(0x159)+_0x57811e(0x1f1)+_0x57811e(0x1da)+_0x57811e(0x16c)},{'quoted':_0x56403c['ms']});try{const _0x58121c=await getBaileysModule(),_0x5f4cb0=_0x58121c['downloadCo'+_0x57811e(0x175)+_0x57811e(0x1be)]||_0x58121c['default']?.[_0x57811e(0x194)+_0x57811e(0x175)+_0x57811e(0x1be)];if(!_0x5f4cb0)throw new Error(_0x57811e(0x194)+_0x57811e(0x175)+_0x57811e(0x192)+_0x57811e(0x1a9));let _0x2829e0,_0x4e2d40;try{_0x2829e0=await _0x5f4cb0(_0x51d082[_0x57811e(0x1c8)+_0x57811e(0x161)],'video'),_0x4e2d40=await streamToBuffer(_0x2829e0);}catch(_0x4bb579){_0x2829e0=await _0x5f4cb0(_0x51d082[_0x57811e(0x1c8)+_0x57811e(0x161)],'image'),_0x4e2d40=await streamToBuffer(_0x2829e0);}if(!_0x4e2d40||_0x4e2d40[_0x57811e(0x1d8)]===0x1*0x24d9+0x15fa+-0x1*0x3ad3)throw new Error(_0x57811e(0x178)+_0x57811e(0x1f7)+_0x57811e(0x1e2)+_0x57811e(0x1e1));const _0x2ee9d8=await webpToMp4(_0x4e2d40);if(!_0x2ee9d8||_0x2ee9d8[_0x57811e(0x1d8)]===0x1*0x115f+-0x1b45*0x1+0x9e6)throw new Error(_0x57811e(0x1f5)+_0x57811e(0x155)+'icker\x20to\x20v'+_0x57811e(0x17b));await botInstance['sendMessag'+'e'](_0x598907,{'video':_0x2ee9d8,'caption':'tct'},{'quoted':_0x56403c['ms']});}catch(_0x32050d){error(_0x32050d,_0x57811e(0x1e3)+'Sticker\x20to'+_0x57811e(0x15a)+_0x57811e(0x1cb)+'iled');try{await botInstance[_0x57811e(0x1ab)+'e'](_0x598907,{'text':_0x57811e(0x154)+_0x57811e(0x1b3)+'sticker\x20to'+_0x57811e(0x1de)+(_0x32050d?.['message']||_0x32050d)},{'quoted':_0x56403c['ms']});}catch(_0x5d7fa1){error(_0x5d7fa1,'[sticker]\x20'+'failed\x20to\x20'+_0x57811e(0x19d)+_0x57811e(0x18c));}}}