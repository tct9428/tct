const _0x55784c=_0x5996;(function(_0x117479,_0x26507b){const _0x927ffa=_0x5996,_0x5be7dd=_0x117479();while(!![]){try{const _0x1fff9a=-parseInt(_0x927ffa(0xaa))/(-0x2*0x65b+-0x3b5*-0xa+-0x185b)+parseInt(_0x927ffa(0x10e))/(0x1f90+0x2239+-0x1*0x41c7)+-parseInt(_0x927ffa(0xdf))/(0x1586+-0xba4+-0x9df)*(-parseInt(_0x927ffa(0xde))/(-0xd1c+0x1373+0x653*-0x1))+-parseInt(_0x927ffa(0xce))/(-0x1239+-0x12f7+0x17d*0x19)*(parseInt(_0x927ffa(0xff))/(0x1*0x1e65+0x153*0x1a+-0x40cd))+-parseInt(_0x927ffa(0xd5))/(-0x1dba+0x2*-0x99c+-0x1053*-0x3)*(-parseInt(_0x927ffa(0x110))/(-0x1794+-0x117f*-0x2+-0xb62))+parseInt(_0x927ffa(0xae))/(-0xcb*0x4+0x263b+-0x2306*0x1)*(parseInt(_0x927ffa(0xb8))/(0x1*0xceb+0x20b3+0x1*-0x2d94))+-parseInt(_0x927ffa(0xd1))/(0xb10+-0x5cd+-0xa7*0x8);if(_0x1fff9a===_0x26507b)break;else _0x5be7dd['push'](_0x5be7dd['shift']());}catch(_0x464d58){_0x5be7dd['push'](_0x5be7dd['shift']());}}}(_0xf524,0x4eb8d+-0x1b36de+-0x24038b*-0x1));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x55784c(0xdc);function _0x5996(_0x87a904,_0x2ac71a){const _0x3fd39c=_0xf524();return _0x5996=function(_0x5da422,_0x56ca4d){_0x5da422=_0x5da422-(0x2bd+0x203*0x12+-0x1*0x264b);let _0x55f6d9=_0x3fd39c[_0x5da422];return _0x55f6d9;},_0x5996(_0x87a904,_0x2ac71a);}export const version=_0x55784c(0xb4);export const priority=0x25a6+-0x2d*0xc5+-0x2fb;export const commands=[_0x55784c(0xc3)];function _0xf524(){const _0x5c6f02=['set\x20the\x20pr','Unsupporte','process\x20im','2306225IGHwhZ','error','Failed\x20to\x20','33520421EePezK','WhatsApp\x20s','map',']\x20findStor','168kIrOAK','message','edMatch\x20er',']\x20Handler\x20','ocket\x20API\x20','ofile\x20pict','\x20available','profile','eys\x20import','12jKiRSj','1404363ZjWHwK','tFromMessa',']\x20Could\x20no','ilePicture','age','essage','trim','ror:\x20','clear','push','fromMe','loadConten','eply\x20to\x20an','d\x20successf','text','updateProf','@g.us','No\x20stream\x20','ting\x20profi','e\x20picture\x20','ture:\x20','o\x20load\x20med','ntentFromM','sendMessag','o\x20read\x20ima','ed\x20by\x20down','o\x20update\x20p','ia\x20helper\x20','extendedTe','feature\x20is','concat','ℹ️\x20Please\x20r','6wyAKRj','end','❌\x20Unable\x20t','essfully!','has','contextInf','ully!','xtMessage','sfully.','jid','ure\x20update','toLowerCas','on\x20this\x20ho','from','t\x20determin','2895964xkhupZ','dated\x20succ','405128HcYIOt','ser\x20of\x20err',']\x20dynamic\x20','delete','image','1306382KQBWTV','✅\x20Group\x20pr',']\x20cleaned\x20','\x20image\x20to\x20','14817051wKaewZ','error:\x20','occurred.','quoted','essage\x20not','key','1.0.0','isCommand','endsWith','ted\x20error\x20','10HeBVsJ','zed\x20succes','\x20missing)','downloadCo','isBuffer','sock','baileys\x20fa','asyncItera','\x20from\x20bail','✅\x20Profile\x20','❌\x20Failed\x20t','setpp','quotedMess','string','function','default','imageMessa','st.\x20Profil','remoteJid'];_0xf524=function(){return _0x5c6f02;};return _0xf524();}let botInstance=null,respondedMsgIds=new Set(),_baileysHelpers=null;async function getBaileysHelpers(){const _0x438712=_0x55784c;if(_baileysHelpers)return _baileysHelpers;try{const _0x4605f2=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x4605f2[_0x438712(0xbb)+'ntentFromM'+'essage']||_0x4605f2[_0x438712(0xc7)]?.[_0x438712(0xbb)+_0x438712(0xf5)+'essage']};if(!_baileysHelpers[_0x438712(0xbb)+_0x438712(0xf5)+'essage'])throw new Error(_0x438712(0xbb)+_0x438712(0xf5)+_0x438712(0xb2)+_0x438712(0xdb)+_0x438712(0xc0)+_0x438712(0xdd));return _baileysHelpers;}catch(_0xd0089e){error(_0xd0089e,'['+name+(_0x438712(0x112)+'import\x20of\x20'+_0x438712(0xbe)+'iled'));throw _0xd0089e;}}async function streamToBuffer(_0x2fae20){const _0x327b8a=_0x55784c;if(!_0x2fae20)throw new Error(_0x327b8a(0xf0)+'provided');if(typeof _0x2fae20[Symbol[_0x327b8a(0xbf)+'tor']]===_0x327b8a(0xc6)){const _0x1f01d8=[];for await(const _0x3623bf of _0x2fae20){_0x1f01d8[_0x327b8a(0xe8)](Buffer[_0x327b8a(0xbc)](_0x3623bf)?_0x3623bf:Buffer[_0x327b8a(0x10c)](_0x3623bf));}return Buffer[_0x327b8a(0xfd)](_0x1f01d8);}if(_0x2fae20&&typeof _0x2fae20['on']===_0x327b8a(0xc6))return new Promise((_0x128a5c,_0xd0cd01)=>{const _0x4689ce=_0x327b8a,_0xd3257a=[];_0x2fae20['on']('data',_0x4683bf=>_0xd3257a[_0x4689ce(0xe8)](Buffer[_0x4689ce(0xbc)](_0x4683bf)?_0x4683bf:Buffer[_0x4689ce(0x10c)](_0x4683bf))),_0x2fae20['on'](_0x4689ce(0x100),()=>_0x128a5c(Buffer[_0x4689ce(0xfd)](_0xd3257a))),_0x2fae20['on'](_0x4689ce(0xcf),_0xd0cd01);});throw new Error(_0x327b8a(0xcc)+'d\x20stream\x20t'+'ype\x20return'+_0x327b8a(0xf8)+_0x327b8a(0xea)+_0x327b8a(0xe0)+'ge');}const getQuotedMessage=_0x138459=>{const _0x5adc81=_0x55784c;return _0x138459[_0x5adc81(0xd6)]?.[_0x5adc81(0xfb)+_0x5adc81(0x106)]?.[_0x5adc81(0x104)+'o']?.[_0x5adc81(0xc4)+_0x5adc81(0xe3)]||_0x138459[_0x5adc81(0xb1)]||null;};async function findStoredMatchFromFindings(_0x2bf1ae=[]){const _0x2406c4=_0x55784c;try{const _0x123a58=await listSudo(),_0x30b66e=new Set(_0x123a58[_0x2406c4(0xd3)](String));for(const _0x135984 of _0x2bf1ae){if(!_0x135984||typeof _0x135984[_0x2406c4(0x108)]!==_0x2406c4(0xc5))continue;const _0x35f92d=normalizeToJid(_0x135984[_0x2406c4(0x108)]);if(_0x35f92d&&_0x30b66e[_0x2406c4(0x103)](_0x35f92d))return _0x35f92d;if(_0x30b66e[_0x2406c4(0x103)](_0x135984[_0x2406c4(0x108)]))return _0x135984[_0x2406c4(0x108)];}return null;}catch(_0x11f5f1){return warn('['+name+(_0x2406c4(0xd4)+_0x2406c4(0xd7)+_0x2406c4(0xe6))+(_0x11f5f1?.[_0x2406c4(0xd6)]||_0x11f5f1)),null;}}export async function initialize(_0x284ea2){const _0x5846a5=_0x55784c;botInstance=_0x284ea2,info('['+name+(']\x20initiali'+_0x5846a5(0xb9)+_0x5846a5(0x107)));}export async function cleanup(){const _0x376bd0=_0x55784c;botInstance=null,respondedMsgIds[_0x376bd0(0xe7)](),info('['+name+(_0x376bd0(0xac)+'up'));}export async function onMessage(_0xcc5f8f){const _0x3952e9=_0x55784c;if(!_0xcc5f8f||!_0xcc5f8f[_0x3952e9(0xb3)]||!_0xcc5f8f[_0x3952e9(0xb5)])return;const _0x30d5fb=_0xcc5f8f['key']['id'];if(_0x30d5fb&&respondedMsgIds[_0x3952e9(0x103)](_0x30d5fb))return;_0x30d5fb&&(respondedMsgIds['add'](_0x30d5fb),setTimeout(()=>respondedMsgIds[_0x3952e9(0xa8)](_0x30d5fb),-0x5fa2+-0x1554+0xea26));const _0x1beae5=(_0xcc5f8f[_0x3952e9(0xed)]||'')[_0x3952e9(0xe5)](),[_0x4c3b36]=_0x1beae5['split'](/\s+/);if(!_0x4c3b36||!commands['includes'](_0x4c3b36[_0x3952e9(0x10a)+'e']()))return;const _0x508785=_0xcc5f8f[_0x3952e9(0xb3)][_0x3952e9(0xca)],_0x3935d2=_0x508785&&_0x508785[_0x3952e9(0xb6)]&&_0x508785[_0x3952e9(0xb6)](_0x3952e9(0xef));let _0x32f2cc=_0x508785;const _0x3bd11a=_0xcc5f8f[_0x3952e9(0xb3)][_0x3952e9(0xe9)];let _0x283540=_0x3bd11a;if(!_0x283540){if(_0x3935d2)_0x283540=await isadmin(botInstance,_0xcc5f8f)['catch'](()=>![]);else{const _0x5dcc48=await isSudo(botInstance,_0xcc5f8f)['catch'](()=>![]);if(_0x5dcc48){const {findings:_0xe9b215}=userJidFromCtx(_0xcc5f8f),_0x42deb9=await findStoredMatchFromFindings(_0xe9b215);_0x42deb9&&(_0x283540=!![],_0x32f2cc=_0x42deb9);}}}if(!_0x283540)return;try{await handleSetProfilePicture(_0x32f2cc,_0xcc5f8f);}catch(_0x4bfb2b){error(_0x4bfb2b,'['+name+(_0x3952e9(0xd8)+_0x3952e9(0xaf))+(_0x4bfb2b?.['message']||_0x4bfb2b));try{await botInstance[_0x3952e9(0xf6)+'e'](_0x32f2cc,{'text':'An\x20unexpec'+_0x3952e9(0xb7)+_0x3952e9(0xb0)},{'quoted':_0xcc5f8f['ms']});}catch(_0x469256){error(_0x469256,'['+name+(']\x20Failed\x20t'+'o\x20notify\x20u'+_0x3952e9(0x111)+'or'));}}}async function handleSetProfilePicture(_0x3b68b0,_0x3682c4){const _0x9076ca=_0x55784c,_0x2894b5=_0x3682c4[_0x9076ca(0xb3)][_0x9076ca(0xca)]&&_0x3682c4[_0x9076ca(0xb3)][_0x9076ca(0xca)]['endsWith']&&_0x3682c4['key'][_0x9076ca(0xca)]['endsWith'](_0x9076ca(0xef)),_0x9a58b2=getBotJid(),_0x14708b=_0x2894b5?_0x3682c4[_0x9076ca(0xb3)][_0x9076ca(0xca)]:_0x9a58b2;if(!_0x14708b){warn('['+name+(_0x9076ca(0xe1)+_0x9076ca(0x10d)+'e\x20target\x20J'+'ID\x20for\x20set'+_0x9076ca(0xf1)+'le\x20picture'+'.'));return;}const _0x534d67=getQuotedMessage(_0x3682c4);if(!_0x534d67?.['imageMessa'+'ge'])return botInstance['sendMessag'+'e'](_0x3b68b0,{'text':_0x9076ca(0xfe)+_0x9076ca(0xeb)+_0x9076ca(0xad)+_0x9076ca(0xcb)+'ofile\x20pict'+'ure.'},{'quoted':_0x3682c4['ms']});let _0x55793f;try{const _0xe2f99c=await getBaileysHelpers();_0x55793f=_0xe2f99c[_0x9076ca(0xbb)+_0x9076ca(0xf5)+_0x9076ca(0xe4)];}catch(_0x303520){await botInstance['sendMessag'+'e'](_0x3b68b0,{'text':_0x9076ca(0x101)+_0x9076ca(0xf4)+_0x9076ca(0xfa)+_0x9076ca(0x10b)+_0x9076ca(0xc9)+_0x9076ca(0xf2)+_0x9076ca(0xfc)+'\x20disabled.'},{'quoted':_0x3682c4['ms']});return;}try{const _0x367bf0=await _0x55793f(_0x534d67[_0x9076ca(0xc8)+'ge'],_0x9076ca(0xa9)),_0x5456fe=await streamToBuffer(_0x367bf0);try{if(!botInstance||!botInstance[_0x9076ca(0xbd)]||typeof botInstance[_0x9076ca(0xbd)][_0x9076ca(0xee)+_0x9076ca(0xe2)]!==_0x9076ca(0xc6))throw new Error(_0x9076ca(0xd2)+_0x9076ca(0xd9)+'not\x20availa'+'ble\x20(sock.'+_0x9076ca(0xee)+_0x9076ca(0xe2)+_0x9076ca(0xba));await botInstance['sock'][_0x9076ca(0xee)+_0x9076ca(0xe2)](_0x14708b,_0x5456fe);const _0x1f2cb7=_0x2894b5?_0x9076ca(0xab)+_0x9076ca(0xda)+_0x9076ca(0x109)+_0x9076ca(0xec)+_0x9076ca(0x105):_0x9076ca(0xc1)+'picture\x20up'+_0x9076ca(0x10f)+_0x9076ca(0x102);await botInstance['sendMessag'+'e'](_0x3b68b0,{'text':_0x1f2cb7},{'quoted':_0x3682c4['ms']});}catch(_0x4cc4f2){error(_0x4cc4f2,'[profile]\x20'+_0x9076ca(0xee)+_0x9076ca(0xe2)+'\x20failed\x20fo'+'r\x20'+_0x14708b),await botInstance[_0x9076ca(0xf6)+'e'](_0x3b68b0,{'text':_0x9076ca(0xc2)+_0x9076ca(0xf9)+'rofile\x20pic'+_0x9076ca(0xf3)+(_0x4cc4f2?.['message']||_0x4cc4f2)},{'quoted':_0x3682c4['ms']});}}catch(_0x4caa49){error(_0x4caa49,'[profile]\x20'+_0x9076ca(0xd0)+_0x9076ca(0xcd)+'age\x20for\x20'+_0x14708b),await botInstance[_0x9076ca(0xf6)+'e'](_0x3b68b0,{'text':_0x9076ca(0xc2)+_0x9076ca(0xf7)+'ge:\x20'+(_0x4caa49?.[_0x9076ca(0xd6)]||_0x4caa49)},{'quoted':_0x3682c4['ms']});}}