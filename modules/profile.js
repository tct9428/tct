const _0x156931=_0x4695;function _0x54f6(){const _0x351f81=['ocket\x20API\x20','zed\x20succes','trim',']\x20findStor','push','has','\x20image\x20to\x20','ℹ️\x20Please\x20r','from','ofile\x20pict','imageMessa','remoteJid','end','set\x20the\x20pr','ure\x20update','[profile]\x20','le\x20picture','d\x20successf','split','\x20missing)','age','dated\x20succ','quoted','❌\x20Unable\x20t','loadConten','❌\x20Failed\x20t','ror:\x20','e\x20picture\x20','default','image',']\x20dynamic\x20','picture\x20up','delete','st.\x20Profil','extendedTe','ure.','\x20disabled.','essage','10946205qAHsFl','Unsupporte','120MmiiNT','ype\x20return','sock','3178040TFOTqF',']\x20initiali','ully!','provided','includes','key','o\x20load\x20med','downloadCo','154uSwEvK','13017dNJPJI','on\x20this\x20ho','d\x20stream\x20t','ted\x20error\x20','tor','ntentFromM','o\x20read\x20ima','ed\x20by\x20down','asyncItera','✅\x20Group\x20pr','concat','isBuffer','updateProf','contextInf','import\x20of\x20','sendMessag','ting\x20profi','essage\x20not','add','An\x20unexpec','message','ser\x20of\x20err','feature\x20is','xtMessage','rofile\x20pic','301mYQoGd','ture:\x20','jid','occurred.','map','not\x20availa','sfully.','eply\x20to\x20an','ia\x20helper\x20','process\x20im','4784QpiBbR','setpp','baileys\x20fa','endsWith','1.0.0','iled','catch',']\x20Failed\x20t','toLowerCas','text','ilePicture','data','7142400gBpPSE','profile','o\x20update\x20p','edMatch\x20er','249928oELnwe','\x20available',']\x20Could\x20no','error:\x20','o\x20notify\x20u','e\x20target\x20J','30075100XGdDzf'];_0x54f6=function(){return _0x351f81;};return _0x54f6();}(function(_0x368f3f,_0x164865){const _0x21ec0b=_0x4695,_0x253fb1=_0x368f3f();while(!![]){try{const _0x2e168d=parseInt(_0x21ec0b(0x1c2))/(-0x2*-0x2ea+-0x1*0xf25+0x952)*(-parseInt(_0x21ec0b(0x20c))/(-0x301*0x1+-0x15b+0x1*0x45e))+parseInt(_0x21ec0b(0x20d))/(-0x197c+0x1d96+-0x417)*(parseInt(_0x21ec0b(0x201))/(-0x205e+-0xbbd+-0x8d3*-0x5))+-parseInt(_0x21ec0b(0x204))/(0x9f1+0x1285+0x1*-0x1c71)+parseInt(_0x21ec0b(0x1ce))/(0x533+0xc97+-0x17b*0xc)+-parseInt(_0x21ec0b(0x1b8))/(0x4*-0x683+0x6b4+0x57*0x39)*(parseInt(_0x21ec0b(0x1d2))/(0x703*0x3+-0x21a7+0xca6))+-parseInt(_0x21ec0b(0x1ff))/(-0x1c3d*-0x1+0x180a+-0x8b5*0x6)+parseInt(_0x21ec0b(0x1d8))/(0x2598+-0x12ed+-0x12a1*0x1);if(_0x2e168d===_0x164865)break;else _0x253fb1['push'](_0x253fb1['shift']());}catch(_0x417ad1){_0x253fb1['push'](_0x253fb1['shift']());}}}(_0x54f6,-0x1163*0x116+-0x120362+0x308f34));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';function _0x4695(_0x186ae5,_0x235fc3){const _0x13958d=_0x54f6();return _0x4695=function(_0x568d5d,_0x77a486){_0x568d5d=_0x568d5d-(0x9*0xb3+0x61*0x26+-0x130b);let _0x536e86=_0x13958d[_0x568d5d];return _0x536e86;},_0x4695(_0x186ae5,_0x235fc3);}import{getBotJid}from'../utils/bot-state.js';export const name=_0x156931(0x1cf);export const version=_0x156931(0x1c6);export const priority=-0x1*-0x1fd8+-0x1*0x20f2+0x124;export const commands=[_0x156931(0x1c3)];let botInstance=null,respondedMsgIds=new Set(),_baileysHelpers=null;async function getBaileysHelpers(){const _0x17b9c6=_0x156931;if(_baileysHelpers)return _baileysHelpers;try{const _0x22eb8d=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x22eb8d[_0x17b9c6(0x20b)+'ntentFromM'+_0x17b9c6(0x1fe)]||_0x22eb8d[_0x17b9c6(0x1f5)]?.[_0x17b9c6(0x20b)+_0x17b9c6(0x212)+_0x17b9c6(0x1fe)]};if(!_baileysHelpers['downloadCo'+_0x17b9c6(0x212)+_0x17b9c6(0x1fe)])throw new Error(_0x17b9c6(0x20b)+_0x17b9c6(0x212)+_0x17b9c6(0x1b0)+_0x17b9c6(0x1d3)+'\x20from\x20bail'+'eys\x20import');return _baileysHelpers;}catch(_0x21d424){error(_0x21d424,'['+name+(_0x17b9c6(0x1f7)+_0x17b9c6(0x1ad)+_0x17b9c6(0x1c4)+_0x17b9c6(0x1c7)));throw _0x21d424;}}async function streamToBuffer(_0x351b99){const _0x5450f7=_0x156931;if(!_0x351b99)throw new Error('No\x20stream\x20'+_0x5450f7(0x207));if(typeof _0x351b99[Symbol[_0x5450f7(0x1a7)+_0x5450f7(0x211)]]==='function'){const _0x545418=[];for await(const _0xb0896e of _0x351b99){_0x545418[_0x5450f7(0x1dd)](Buffer[_0x5450f7(0x1aa)](_0xb0896e)?_0xb0896e:Buffer[_0x5450f7(0x1e1)](_0xb0896e));}return Buffer[_0x5450f7(0x1a9)](_0x545418);}if(_0x351b99&&typeof _0x351b99['on']==='function')return new Promise((_0x5bcdc4,_0x45c658)=>{const _0x4cb7fc=_0x5450f7,_0x3d0c59=[];_0x351b99['on'](_0x4cb7fc(0x1cd),_0x4d6bd0=>_0x3d0c59['push'](Buffer[_0x4cb7fc(0x1aa)](_0x4d6bd0)?_0x4d6bd0:Buffer[_0x4cb7fc(0x1e1)](_0x4d6bd0))),_0x351b99['on'](_0x4cb7fc(0x1e5),()=>_0x5bcdc4(Buffer[_0x4cb7fc(0x1a9)](_0x3d0c59))),_0x351b99['on']('error',_0x45c658);});throw new Error(_0x5450f7(0x200)+_0x5450f7(0x20f)+_0x5450f7(0x202)+_0x5450f7(0x1a6)+_0x5450f7(0x1f1)+'tFromMessa'+'ge');}const getQuotedMessage=_0x16ca6b=>{const _0x46cdcd=_0x156931;return _0x16ca6b[_0x46cdcd(0x1b3)]?.[_0x46cdcd(0x1fb)+_0x46cdcd(0x1b6)]?.[_0x46cdcd(0x1ac)+'o']?.['quotedMess'+_0x46cdcd(0x1ed)]||_0x16ca6b[_0x46cdcd(0x1ef)]||null;};async function findStoredMatchFromFindings(_0x2d7943=[]){const _0x107b57=_0x156931;try{const _0x4ea565=await listSudo(),_0x4b367d=new Set(_0x4ea565[_0x107b57(0x1bc)](String));for(const _0x595dc4 of _0x2d7943){if(!_0x595dc4||typeof _0x595dc4['jid']!=='string')continue;const _0x4c1b32=normalizeToJid(_0x595dc4[_0x107b57(0x1ba)]);if(_0x4c1b32&&_0x4b367d[_0x107b57(0x1de)](_0x4c1b32))return _0x4c1b32;if(_0x4b367d[_0x107b57(0x1de)](_0x595dc4[_0x107b57(0x1ba)]))return _0x595dc4[_0x107b57(0x1ba)];}return null;}catch(_0xadb641){return warn('['+name+(_0x107b57(0x1dc)+_0x107b57(0x1d1)+_0x107b57(0x1f3))+(_0xadb641?.['message']||_0xadb641)),null;}}export async function initialize(_0x3eb3e7){const _0x20388d=_0x156931;botInstance=_0x3eb3e7,info('['+name+(_0x20388d(0x205)+_0x20388d(0x1da)+_0x20388d(0x1be)));}export async function cleanup(){botInstance=null,respondedMsgIds['clear'](),info('['+name+(']\x20cleaned\x20'+'up'));}export async function onMessage(_0xc47e7e){const _0x43b025=_0x156931;if(!_0xc47e7e||!_0xc47e7e['key']||!_0xc47e7e['isCommand'])return;const _0x29b49e=_0xc47e7e[_0x43b025(0x209)]['id'];if(_0x29b49e&&respondedMsgIds['has'](_0x29b49e))return;_0x29b49e&&(respondedMsgIds[_0x43b025(0x1b1)](_0x29b49e),setTimeout(()=>respondedMsgIds[_0x43b025(0x1f9)](_0x29b49e),0x5ed3*0x2+-0x2*0x2bd5+0x1*0xf34));const _0x599f14=(_0xc47e7e[_0x43b025(0x1cb)]||'')[_0x43b025(0x1db)](),[_0x43b49d]=_0x599f14[_0x43b025(0x1eb)](/\s+/);if(!_0x43b49d||!commands[_0x43b025(0x208)](_0x43b49d[_0x43b025(0x1ca)+'e']()))return;const _0x1bdcc9=_0xc47e7e['key']['remoteJid'],_0xdaaa1a=_0x1bdcc9&&_0x1bdcc9[_0x43b025(0x1c5)]&&_0x1bdcc9[_0x43b025(0x1c5)]('@g.us');let _0x1084bb=_0x1bdcc9;const _0x2eeb33=_0xc47e7e[_0x43b025(0x209)]['fromMe'];let _0x22b89a=_0x2eeb33;if(!_0x22b89a){if(_0xdaaa1a)_0x22b89a=await isadmin(botInstance,_0xc47e7e)[_0x43b025(0x1c8)](()=>![]);else{const _0x1d3402=await isSudo(botInstance,_0xc47e7e)[_0x43b025(0x1c8)](()=>![]);if(_0x1d3402){const {findings:_0x3843a9}=userJidFromCtx(_0xc47e7e),_0x4ebc40=await findStoredMatchFromFindings(_0x3843a9);_0x4ebc40&&(_0x22b89a=!![],_0x1084bb=_0x4ebc40);}}}if(!_0x22b89a)return;try{await handleSetProfilePicture(_0x1084bb,_0xc47e7e);}catch(_0x297808){error(_0x297808,'['+name+(']\x20Handler\x20'+_0x43b025(0x1d5))+(_0x297808?.[_0x43b025(0x1b3)]||_0x297808));try{await botInstance['sendMessag'+'e'](_0x1084bb,{'text':_0x43b025(0x1b2)+_0x43b025(0x210)+_0x43b025(0x1bb)},{'quoted':_0xc47e7e['ms']});}catch(_0x26b5ea){error(_0x26b5ea,'['+name+(_0x43b025(0x1c9)+_0x43b025(0x1d6)+_0x43b025(0x1b4)+'or'));}}}async function handleSetProfilePicture(_0x540ab4,_0xfa1503){const _0x394171=_0x156931,_0x73398d=_0xfa1503['key'][_0x394171(0x1e4)]&&_0xfa1503[_0x394171(0x209)]['remoteJid'][_0x394171(0x1c5)]&&_0xfa1503[_0x394171(0x209)][_0x394171(0x1e4)][_0x394171(0x1c5)]('@g.us'),_0x362360=getBotJid(),_0x50c56e=_0x73398d?_0xfa1503['key'][_0x394171(0x1e4)]:_0x362360;if(!_0x50c56e){warn('['+name+(_0x394171(0x1d4)+'t\x20determin'+_0x394171(0x1d7)+'ID\x20for\x20set'+_0x394171(0x1af)+_0x394171(0x1e9)+'.'));return;}const _0x249817=getQuotedMessage(_0xfa1503);if(!_0x249817?.[_0x394171(0x1e3)+'ge'])return botInstance['sendMessag'+'e'](_0x540ab4,{'text':_0x394171(0x1e0)+_0x394171(0x1bf)+_0x394171(0x1df)+_0x394171(0x1e6)+_0x394171(0x1e2)+_0x394171(0x1fc)},{'quoted':_0xfa1503['ms']});let _0x148a76;try{const _0x23e5c8=await getBaileysHelpers();_0x148a76=_0x23e5c8[_0x394171(0x20b)+_0x394171(0x212)+_0x394171(0x1fe)];}catch(_0x403352){await botInstance[_0x394171(0x1ae)+'e'](_0x540ab4,{'text':_0x394171(0x1f0)+_0x394171(0x20a)+_0x394171(0x1c0)+_0x394171(0x20e)+_0x394171(0x1fa)+_0x394171(0x1f4)+_0x394171(0x1b5)+_0x394171(0x1fd)},{'quoted':_0xfa1503['ms']});return;}try{const _0x4dc0a9=await _0x148a76(_0x249817[_0x394171(0x1e3)+'ge'],_0x394171(0x1f6)),_0x542285=await streamToBuffer(_0x4dc0a9);try{if(!botInstance||!botInstance[_0x394171(0x203)]||typeof botInstance[_0x394171(0x203)][_0x394171(0x1ab)+_0x394171(0x1cc)]!=='function')throw new Error('WhatsApp\x20s'+_0x394171(0x1d9)+_0x394171(0x1bd)+'ble\x20(sock.'+_0x394171(0x1ab)+'ilePicture'+_0x394171(0x1ec));await botInstance['sock'][_0x394171(0x1ab)+_0x394171(0x1cc)](_0x50c56e,_0x542285);const _0xf5ffb1=_0x73398d?_0x394171(0x1a8)+_0x394171(0x1e2)+_0x394171(0x1e7)+_0x394171(0x1ea)+_0x394171(0x206):'✅\x20Profile\x20'+_0x394171(0x1f8)+_0x394171(0x1ee)+'essfully!';await botInstance[_0x394171(0x1ae)+'e'](_0x540ab4,{'text':_0xf5ffb1},{'quoted':_0xfa1503['ms']});}catch(_0x42b02b){error(_0x42b02b,_0x394171(0x1e8)+'updateProf'+_0x394171(0x1cc)+'\x20failed\x20fo'+'r\x20'+_0x50c56e),await botInstance['sendMessag'+'e'](_0x540ab4,{'text':_0x394171(0x1f2)+_0x394171(0x1d0)+_0x394171(0x1b7)+_0x394171(0x1b9)+(_0x42b02b?.[_0x394171(0x1b3)]||_0x42b02b)},{'quoted':_0xfa1503['ms']});}}catch(_0x2a7ae4){error(_0x2a7ae4,_0x394171(0x1e8)+'Failed\x20to\x20'+_0x394171(0x1c1)+'age\x20for\x20'+_0x50c56e),await botInstance[_0x394171(0x1ae)+'e'](_0x540ab4,{'text':'❌\x20Failed\x20t'+_0x394171(0x213)+'ge:\x20'+(_0x2a7ae4?.['message']||_0x2a7ae4)},{'quoted':_0xfa1503['ms']});}}