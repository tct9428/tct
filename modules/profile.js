const _0x3b893e=_0x3b64;(function(_0x1c1cd7,_0x49cdab){const _0x17d888=_0x3b64,_0x4bc54c=_0x1c1cd7();while(!![]){try{const _0x504eb9=-parseInt(_0x17d888(0x19d))/(0x1924+0x1*-0x25f4+-0x11*-0xc1)*(-parseInt(_0x17d888(0x17b))/(0x2*-0x499+-0xf1e+-0x2*-0xc29))+-parseInt(_0x17d888(0x1ba))/(-0x157a*0x1+-0xe9a+-0x1*-0x2417)+-parseInt(_0x17d888(0x166))/(0x853*-0x2+-0x692+0x173c)+parseInt(_0x17d888(0x1b1))/(-0xba*-0x25+-0xa49*-0x2+-0x2f6f)*(-parseInt(_0x17d888(0x172))/(0x69b*-0x1+-0x466+0xb07))+-parseInt(_0x17d888(0x177))/(0x153b+-0x24f*-0x3+-0x1c21)+parseInt(_0x17d888(0x1a6))/(0x3*-0x2f9+-0x1*0x1319+-0xa*-0x2ce)*(parseInt(_0x17d888(0x1bf))/(0x1e77+-0x1fc8+0x15a))+parseInt(_0x17d888(0x1aa))/(-0x1ee4+-0x1*-0x16ac+0x842)*(parseInt(_0x17d888(0x18d))/(0xed*-0x7+-0x467*-0x7+-0x184b));if(_0x504eb9===_0x49cdab)break;else _0x4bc54c['push'](_0x4bc54c['shift']());}catch(_0x5610d7){_0x4bc54c['push'](_0x4bc54c['shift']());}}}(_0x4fe2,-0x62f*0x9e+0x600fb+0x257f0));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{isadmin}from'../utils/isadmin.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x3b893e(0x1b2);export const version=_0x3b893e(0x18c);export const priority=-0x70f+0x9ef+0x2*-0x16b;export const commands=[_0x3b893e(0x197)];let botInstance=null,respondedMsgIds=new Set(),_baileysHelpers=null;function _0x4fe2(){const _0x5a505d=['❌\x20Failed\x20t','No\x20stream\x20','ting\x20profi','sendMessag','2826QyXIya','ype\x20return','essage\x20not','downloadCo','quotedMess','@g.us','trim',']\x20findStor','error','toLowerCas','age','error:\x20','\x20failed\x20fo','An\x20unexpec','Failed\x20to\x20','essage','tFromMessa','ofile\x20pict','st.\x20Profil','ure.','d\x20stream\x20t','message','push','zed\x20succes','xtMessage','Unsupporte','ble\x20(sock.','o\x20load\x20med','1886020hmLbqC','ilePicture','ully!','extendedTe',']\x20cleaned\x20','d\x20successf','contextInf','from','ntentFromM','jid','delete','end','384otpEQZ','endsWith','WhatsApp\x20s','isCommand','[profile]\x20','2896740iKOZyc','ed\x20by\x20down','o\x20notify\x20u','ocket\x20API\x20','6kwanxi','quoted','ture:\x20','essfully!','provided','set\x20the\x20pr','\x20disabled.','eys\x20import','on\x20this\x20ho','data','ℹ️\x20Please\x20r','not\x20availa','occurred.','eply\x20to\x20an','fromMe','\x20image\x20to\x20','baileys\x20fa','1.0.0','143RsWDGJ','function','ID\x20for\x20set','o\x20update\x20p',']\x20Could\x20no','key','edMatch\x20er','le\x20picture','feature\x20is','ure\x20update','setpp','❌\x20Unable\x20t','ser\x20of\x20err','updateProf','sfully.','text','151773uNIVSi','has','e\x20picture\x20','concat','string','ted\x20error\x20','image','import\x20of\x20','\x20available','14800RDXwok','catch','\x20missing)','process\x20im','847170PsbArI','✅\x20Profile\x20',']\x20Failed\x20t','\x20from\x20bail','remoteJid',']\x20dynamic\x20','includes','44455fdnBms','profile','ge:\x20','map','sock','loadConten','isBuffer','✅\x20Group\x20pr','split','1158762pomSHf'];_0x4fe2=function(){return _0x5a505d;};return _0x4fe2();}async function getBaileysHelpers(){const _0x28f297=_0x3b893e;if(_baileysHelpers)return _baileysHelpers;try{const _0x1f7568=await import('@whiskeysockets/baileys');_baileysHelpers={'downloadContentFromMessage':_0x1f7568[_0x28f297(0x1c2)+'ntentFromM'+_0x28f297(0x1ce)]||_0x1f7568['default']?.[_0x28f297(0x1c2)+_0x28f297(0x16e)+_0x28f297(0x1ce)]};if(!_baileysHelpers['downloadCo'+_0x28f297(0x16e)+_0x28f297(0x1ce)])throw new Error('downloadCo'+_0x28f297(0x16e)+_0x28f297(0x1c1)+_0x28f297(0x1a5)+_0x28f297(0x1ad)+_0x28f297(0x182));return _baileysHelpers;}catch(_0x59794b){error(_0x59794b,'['+name+(_0x28f297(0x1af)+_0x28f297(0x1a4)+_0x28f297(0x18b)+'iled'));throw _0x59794b;}}function _0x3b64(_0x229640,_0x54c5ed){_0x229640=_0x229640-(0x1*-0x3ad+0xd*-0x3+0x532);const _0x30d459=_0x4fe2();let _0x27134b=_0x30d459[_0x229640];return _0x27134b;}async function streamToBuffer(_0x381c09){const _0x198015=_0x3b893e;if(!_0x381c09)throw new Error(_0x198015(0x1bc)+_0x198015(0x17f));if(typeof _0x381c09[Symbol['asyncItera'+'tor']]===_0x198015(0x18e)){const _0x5a43a4=[];for await(const _0x124dfa of _0x381c09){_0x5a43a4[_0x198015(0x160)](Buffer['isBuffer'](_0x124dfa)?_0x124dfa:Buffer['from'](_0x124dfa));}return Buffer['concat'](_0x5a43a4);}if(_0x381c09&&typeof _0x381c09['on']===_0x198015(0x18e))return new Promise((_0x348c8a,_0x425da2)=>{const _0x478258=_0x198015,_0x564b3a=[];_0x381c09['on'](_0x478258(0x184),_0x40e751=>_0x564b3a[_0x478258(0x160)](Buffer[_0x478258(0x1b7)](_0x40e751)?_0x40e751:Buffer[_0x478258(0x16d)](_0x40e751))),_0x381c09['on'](_0x478258(0x171),()=>_0x348c8a(Buffer[_0x478258(0x1a0)](_0x564b3a))),_0x381c09['on'](_0x478258(0x1c7),_0x425da2);});throw new Error(_0x198015(0x163)+_0x198015(0x15e)+_0x198015(0x1c0)+_0x198015(0x178)+_0x198015(0x1b6)+_0x198015(0x1cf)+'ge');}const getQuotedMessage=_0x15d7a8=>{const _0x51381e=_0x3b893e;return _0x15d7a8['message']?.[_0x51381e(0x169)+_0x51381e(0x162)]?.[_0x51381e(0x16c)+'o']?.[_0x51381e(0x1c3)+_0x51381e(0x1c9)]||_0x15d7a8[_0x51381e(0x17c)]||null;};async function findStoredMatchFromFindings(_0x163bb3=[]){const _0x13ab80=_0x3b893e;try{const _0x44b44d=await listSudo(),_0x4d2084=new Set(_0x44b44d[_0x13ab80(0x1b4)](String));for(const _0x206728 of _0x163bb3){if(!_0x206728||typeof _0x206728[_0x13ab80(0x16f)]!==_0x13ab80(0x1a1))continue;const _0x5d10bf=normalizeToJid(_0x206728[_0x13ab80(0x16f)]);if(_0x5d10bf&&_0x4d2084['has'](_0x5d10bf))return _0x5d10bf;if(_0x4d2084[_0x13ab80(0x19e)](_0x206728[_0x13ab80(0x16f)]))return _0x206728[_0x13ab80(0x16f)];}return null;}catch(_0x382534){return warn('['+name+(_0x13ab80(0x1c6)+_0x13ab80(0x193)+'ror:\x20')+(_0x382534?.[_0x13ab80(0x15f)]||_0x382534)),null;}}export async function initialize(_0xd317bd){const _0x11765d=_0x3b893e;botInstance=_0xd317bd,info('['+name+(']\x20initiali'+_0x11765d(0x161)+_0x11765d(0x19b)));}export async function cleanup(){const _0x50191d=_0x3b893e;botInstance=null,respondedMsgIds['clear'](),info('['+name+(_0x50191d(0x16a)+'up'));}export async function onMessage(_0x570e4f){const _0x358714=_0x3b893e;if(!_0x570e4f||!_0x570e4f[_0x358714(0x192)]||!_0x570e4f[_0x358714(0x175)])return;const _0x202175=_0x570e4f[_0x358714(0x192)]['id'];if(_0x202175&&respondedMsgIds[_0x358714(0x19e)](_0x202175))return;_0x202175&&(respondedMsgIds['add'](_0x202175),setTimeout(()=>respondedMsgIds[_0x358714(0x170)](_0x202175),0x482d*0x3+-0x3*0x16+-0x69b*0xf));const _0x24fbf2=(_0x570e4f[_0x358714(0x19c)]||'')[_0x358714(0x1c5)](),[_0xe7f580]=_0x24fbf2[_0x358714(0x1b9)](/\s+/);if(!_0xe7f580||!commands[_0x358714(0x1b0)](_0xe7f580[_0x358714(0x1c8)+'e']()))return;const _0x34a826=_0x570e4f[_0x358714(0x192)][_0x358714(0x1ae)],_0x3d9722=_0x34a826&&_0x34a826[_0x358714(0x173)]&&_0x34a826[_0x358714(0x173)](_0x358714(0x1c4));let _0x4af64f=_0x34a826;const _0x33c23a=_0x570e4f[_0x358714(0x192)][_0x358714(0x189)];let _0x6daabd=_0x33c23a;if(!_0x6daabd){if(_0x3d9722)_0x6daabd=await isadmin(botInstance,_0x570e4f)['catch'](()=>![]);else{const _0x134355=await isSudo(botInstance,_0x570e4f)[_0x358714(0x1a7)](()=>![]);if(_0x134355){const {findings:_0x20e95d}=userJidFromCtx(_0x570e4f),_0x5ea9a8=await findStoredMatchFromFindings(_0x20e95d);_0x5ea9a8&&(_0x6daabd=!![],_0x4af64f=_0x5ea9a8);}}}if(!_0x6daabd)return;try{await handleSetProfilePicture(_0x4af64f,_0x570e4f);}catch(_0x2be59d){error(_0x2be59d,'['+name+(']\x20Handler\x20'+_0x358714(0x1ca))+(_0x2be59d?.['message']||_0x2be59d));try{await botInstance[_0x358714(0x1be)+'e'](_0x4af64f,{'text':_0x358714(0x1cc)+_0x358714(0x1a2)+_0x358714(0x187)},{'quoted':_0x570e4f['ms']});}catch(_0x33f478){error(_0x33f478,'['+name+(_0x358714(0x1ac)+_0x358714(0x179)+_0x358714(0x199)+'or'));}}}async function handleSetProfilePicture(_0x2c8281,_0x151f5c){const _0x4852a5=_0x3b893e,_0x3667ed=_0x151f5c[_0x4852a5(0x192)][_0x4852a5(0x1ae)]&&_0x151f5c[_0x4852a5(0x192)]['remoteJid'][_0x4852a5(0x173)]&&_0x151f5c['key'][_0x4852a5(0x1ae)][_0x4852a5(0x173)]('@g.us'),_0x536961=getBotJid(),_0x317c4b=_0x3667ed?_0x151f5c[_0x4852a5(0x192)][_0x4852a5(0x1ae)]:_0x536961;if(!_0x317c4b){warn('['+name+(_0x4852a5(0x191)+'t\x20determin'+'e\x20target\x20J'+_0x4852a5(0x18f)+_0x4852a5(0x1bd)+_0x4852a5(0x194)+'.'));return;}const _0x4c0120=getQuotedMessage(_0x151f5c);if(!_0x4c0120?.['imageMessa'+'ge'])return botInstance[_0x4852a5(0x1be)+'e'](_0x2c8281,{'text':_0x4852a5(0x185)+_0x4852a5(0x188)+_0x4852a5(0x18a)+_0x4852a5(0x180)+'ofile\x20pict'+_0x4852a5(0x1d2)},{'quoted':_0x151f5c['ms']});let _0x585e24;try{const _0x3b629a=await getBaileysHelpers();_0x585e24=_0x3b629a['downloadCo'+_0x4852a5(0x16e)+_0x4852a5(0x1ce)];}catch(_0x34e850){await botInstance[_0x4852a5(0x1be)+'e'](_0x2c8281,{'text':_0x4852a5(0x198)+_0x4852a5(0x165)+'ia\x20helper\x20'+_0x4852a5(0x183)+_0x4852a5(0x1d1)+_0x4852a5(0x19f)+_0x4852a5(0x195)+_0x4852a5(0x181)},{'quoted':_0x151f5c['ms']});return;}try{const _0x3118f7=await _0x585e24(_0x4c0120['imageMessa'+'ge'],_0x4852a5(0x1a3)),_0x5ed321=await streamToBuffer(_0x3118f7);try{if(!botInstance||!botInstance[_0x4852a5(0x1b5)]||typeof botInstance[_0x4852a5(0x1b5)][_0x4852a5(0x19a)+_0x4852a5(0x167)]!==_0x4852a5(0x18e))throw new Error(_0x4852a5(0x174)+_0x4852a5(0x17a)+_0x4852a5(0x186)+_0x4852a5(0x164)+_0x4852a5(0x19a)+_0x4852a5(0x167)+_0x4852a5(0x1a8));await botInstance[_0x4852a5(0x1b5)][_0x4852a5(0x19a)+'ilePicture'](_0x317c4b,_0x5ed321);const _0xe5547b=_0x3667ed?_0x4852a5(0x1b8)+_0x4852a5(0x1d0)+_0x4852a5(0x196)+_0x4852a5(0x16b)+_0x4852a5(0x168):_0x4852a5(0x1ab)+'picture\x20up'+'dated\x20succ'+_0x4852a5(0x17e);await botInstance[_0x4852a5(0x1be)+'e'](_0x2c8281,{'text':_0xe5547b},{'quoted':_0x151f5c['ms']});}catch(_0x461b31){error(_0x461b31,_0x4852a5(0x176)+_0x4852a5(0x19a)+'ilePicture'+_0x4852a5(0x1cb)+'r\x20'+_0x317c4b),await botInstance[_0x4852a5(0x1be)+'e'](_0x2c8281,{'text':_0x4852a5(0x1bb)+_0x4852a5(0x190)+'rofile\x20pic'+_0x4852a5(0x17d)+(_0x461b31?.[_0x4852a5(0x15f)]||_0x461b31)},{'quoted':_0x151f5c['ms']});}}catch(_0x4b5a78){error(_0x4b5a78,'[profile]\x20'+_0x4852a5(0x1cd)+_0x4852a5(0x1a9)+'age\x20for\x20'+_0x317c4b),await botInstance[_0x4852a5(0x1be)+'e'](_0x2c8281,{'text':_0x4852a5(0x1bb)+'o\x20read\x20ima'+_0x4852a5(0x1b3)+(_0x4b5a78?.[_0x4852a5(0x15f)]||_0x4b5a78)},{'quoted':_0x151f5c['ms']});}}