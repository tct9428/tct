function _0x3d22(_0x400135,_0x2e438b){const _0x6b5f86=_0x2143();return _0x3d22=function(_0x5d35b5,_0x529d17){_0x5d35b5=_0x5d35b5-(0x21f3+0x2e3*0xd+-0x571*0xd);let _0xf89693=_0x6b5f86[_0x5d35b5];return _0xf89693;},_0x3d22(_0x400135,_0x2e438b);}const _0x881a83=_0x3d22;(function(_0x1ff3ee,_0xe4d84c){const _0x31603b=_0x3d22,_0x1401c5=_0x1ff3ee();while(!![]){try{const _0x5cf072=parseInt(_0x31603b(0xd0))/(0x934+0x12c6+-0x1bf9)*(-parseInt(_0x31603b(0xf3))/(-0x1c76+0x16b5*0x1+0x5c3*0x1))+-parseInt(_0x31603b(0xec))/(0xd3*-0x21+0x1463+0x6d3)*(-parseInt(_0x31603b(0x121))/(0xd8*0x9+-0x2b*0x9b+0x1275))+-parseInt(_0x31603b(0x160))/(-0x899*-0x1+0x27*0xa7+0x1*-0x2205)*(-parseInt(_0x31603b(0x110))/(-0x1*-0x1c9d+0xaa3*0x1+-0x273a*0x1))+-parseInt(_0x31603b(0x133))/(-0x1*-0x1922+-0x1d3f*0x1+0x424)*(parseInt(_0x31603b(0xf4))/(-0x54d*-0x5+-0x21a1+0x728))+-parseInt(_0x31603b(0xee))/(0x5*0x36d+0x2*-0x163+-0x11a*0xd)+-parseInt(_0x31603b(0xed))/(0x128a+-0x1b92+0x81*0x12)+parseInt(_0x31603b(0xff))/(0x68*-0x58+-0x1002+0x1*0x33cd);if(_0x5cf072===_0xe4d84c)break;else _0x1401c5['push'](_0x1401c5['shift']());}catch(_0x140eb4){_0x1401c5['push'](_0x1401c5['shift']());}}}(_0x2143,0x52ab*-0xd+-0xcf9d+0x836c4));import{getConfig}from'../utils/config.js';import _0x5a3e30 from'node-fetch';import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x881a83(0x147);export const version='2.0.0';export const priority=0x254c+-0x1c9d*-0x1+0x15f5*-0x3;let botInstance=null;const respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x42c918=[]){const _0x21e117=_0x881a83;try{const _0x20200c=await listSudo(),_0x4cd5ed=new Set(_0x20200c['map'](String));for(const _0x54866d of _0x42c918){if(!_0x54866d?.['jid'])continue;const _0x3fd372=normalizeToJid(_0x54866d[_0x21e117(0x165)]);if(_0x4cd5ed[_0x21e117(0x11e)](_0x3fd372))return _0x3fd372;if(_0x4cd5ed['has'](_0x54866d[_0x21e117(0x165)]))return _0x54866d[_0x21e117(0x165)];}return null;}catch(_0x5d85be){return warn(name+(_0x21e117(0x155)+_0x21e117(0x169)+_0x21e117(0xfe))+(_0x5d85be?.[_0x21e117(0xf8)]||_0x5d85be)),null;}}function getLocalTime(_0x111335,_0x4ece07){const _0x424a43=_0x881a83;return new Date(_0x111335*(-0x2b*-0x25+0x1f3b+-0x51*0x6a))[_0x424a43(0x16c)+_0x424a43(0x141)](_0x424a43(0xbd),{'timeZone':_0x4ece07,'hour12':!![],'hour':_0x424a43(0x146),'minute':_0x424a43(0x146),'second':_0x424a43(0x146)});}function getLocalDateTime(_0x1f47b9,_0x9a8f2c){const _0x2e6d75=_0x881a83;return new Date(_0x1f47b9*(0x3bb+0x417*-0x1+0x444))[_0x2e6d75(0xc8)+_0x2e6d75(0xd1)]('en-US',{'timeZone':_0x9a8f2c,'year':'numeric','month':_0x2e6d75(0x146),'day':_0x2e6d75(0x146),'hour12':!![],'hour':'numeric','minute':_0x2e6d75(0x146)});}async function fetchOpenWeatherMap(_0x10e2ce,_0x4e4dc,_0x3dfe48){const _0x45600d=_0x881a83,_0x54de27=await _0x5a3e30(_0x45600d(0x15f)+_0x45600d(0x125)+_0x45600d(0x149)+'/data/2.5/'+'weather'+(_0x45600d(0xe5)+encodeURIComponent(_0x10e2ce))+('&units=met'+_0x45600d(0xbf)+_0x4e4dc+_0x45600d(0x113))),_0x14327c=await _0x54de27[_0x45600d(0x11d)]();if(_0x14327c[_0x45600d(0x139)]!==0x2559+0x1eab+0x4*-0x10cf)throw new Error(_0x14327c[_0x45600d(0xf8)]||_0x45600d(0x175)+_0x45600d(0x10a));const _0x4a4c78=_0x14327c[_0x45600d(0x147)][0x11b7+-0xbf*-0x19+0x10a*-0x23][_0x45600d(0xe7)+'n'][_0x45600d(0x172)](/^\w/,_0x3bc142=>_0x3bc142[_0x45600d(0x115)+'e']()),_0x1c2b66=[_0x45600d(0x116)+_0x45600d(0xc1),_0x45600d(0x10e)+_0x45600d(0x10e)+'â”â”','ðŸ“\x20Location'+_0x45600d(0x123)+'\x20'+_0x14327c[_0x45600d(0xdd)]+',\x20'+(_0x14327c['sys'][_0x45600d(0x135)]||_0x45600d(0x13c)),_0x45600d(0xef)+_0x45600d(0x126)+Math[_0x45600d(0xe4)](_0x14327c['main'][_0x45600d(0xc4)])+(_0x45600d(0x168)+':\x20')+Math[_0x45600d(0xe4)](_0x14327c[_0x45600d(0x12a)][_0x45600d(0xd8)])+'Â°C',_0x45600d(0xcc)+_0x45600d(0x153)+_0x4a4c78,_0x45600d(0x117)+_0x45600d(0xe6)+_0x14327c['main'][_0x45600d(0x142)]+'%','ðŸŒ€\x20Wind\x20\x20\x20\x20'+_0x45600d(0xe6)+_0x14327c[_0x45600d(0x103)][_0x45600d(0x101)]+'\x20m/s',_0x45600d(0xdc)+_0x45600d(0xe6)+getLocalTime(_0x14327c[_0x45600d(0x100)][_0x45600d(0x178)],_0x3dfe48),_0x45600d(0x171)+_0x45600d(0xe6)+getLocalTime(_0x14327c[_0x45600d(0x100)][_0x45600d(0xf2)],_0x3dfe48),_0x45600d(0x104)+_0x45600d(0xe6)+getLocalDateTime(_0x14327c['dt'],_0x3dfe48)+'\x20('+_0x3dfe48+')','â”â”â”â”â”â”â”â”â”â”'+'â”â”â”â”â”â”â”â”â”â”'+'â”â”',_0x45600d(0x162)+_0x45600d(0x13e)][_0x45600d(0xeb)]('\x0a');return _0x1c2b66;}function _0x2143(){const _0x1dcfc5=['ðŸŒ‡\x20Sunset\x20\x20','replace','Heavy\x20rain','e\x20final\x20de','Location\x20n','&daily=sun',':\x20Could\x20no','sunrise','en-US','tct\x20(Open-','ric&appid=','current','SNAPSHOT\x20ðŸ“‰','umidity_2m','Overcast\x20/','temp','zed.','eo.com/v1/','rror','toLocaleSt','ap\x20API','search','_10m','â˜ï¸\x20Conditio','Heavy\x20free','latitude','catch','3EYtsdq','ring','Dense\x20driz','i.open-met','\x20m/s','key','\x20weather\x20f','*...','feels_like','time','âŒ\x20Could\x20no','w\x20showers','ðŸŒ…\x20Sunrise\x20','name','Moderate\x20d','slice','?latitude=','Light\x20free','https://ge','SNAPSHOT\x20(','round','?q=','\x20\x20\x20.\x20.\x20:\x20','descriptio','ocation>*\x0a','rom\x20Open-M','length','join','2379QntlIP','218320tBANOM','2014776YnYZjc','ðŸŒ¡ï¸\x20Temperat','zing\x20drizz','rizzle','sunset','36294TTWzhL','472EtHUbx','her\x20data\x20f','\x20rime\x20fog','Moderate\x20r','message','pshot\x20for\x20','Slight\x20rai',':\x20sent\x20sna','R_API_KEY','ve_humidit','ror:\x20','206371SAdPtB','sys','speed','weather\x20Na','wind','ðŸ•“\x20Updated\x20','relative_h','participan','ode\x20','clear','ature,weat','ot\x20found','Fog','\x22\x20to\x20','results','â”â”â”â”â”â”â”â”â”â”',':\x20cleanup\x20','1885836RPeLvh','Violent\x20ra','startsWith','&lang=en','rm\x20with\x20sl','toUpperCas','ðŸ“ˆ\x20WEATHER\x20','ðŸ’§\x20Humidity','text','Slight\x20sno','Light\x20driz','error:\x20','Africa/Nai','json','has','\x22.\x0aError:\x20','ight\x20hail','1324wUhlGr','eteo.','\x20\x20\x20.\x20.\x20.\x20:','nd_speed_1','i.openweat','ure.\x20.\x20:\x20','allback.','t\x20fetch\x20we','forecast','main','isCommand','_KEY\x20found',')\x20ðŸ“‰','&longitude','Heavy\x20snow','zle','\x20fall','trim','10129LExMhC','hercode,wi','country','Unknown\x20(c','country_co','ðŸŒ€\x20Wind\x20\x20\x20\x20','cod',':\x20Using\x20Op','Moderate\x20s','N/A','avy\x20hail','eatherMap)','&timezone=','_2m,relati','meString','humidity','e_2m','sendMessag','t\x20determin','numeric','weather','Partly\x20clo','hermap.org','stination\x20','toLowerCas','ather\x20for\x20','Thundersto','Clear\x20sky','remoteJid','&current=t','?name=','emperature','n\x20\x20.\x20.\x20:\x20','split',':\x20findStor','temperatur','wind_speed','in\x20showers','ðŸŒ¤ï¸\x20Fetching','daily','fetch\x20weat','\x20showers','ot\x20found:\x20','ain','https://ap','5uVjZDy','weathercod','tct\x20(OpenW','TIMEZONE',':\x20initiali','jid','ocoding-ap','ent_temper','Â°C\x20|\x20Feels','edMatch\x20er','fromMe',':\x20cleaned\x20','toLocaleTi','rm\x20with\x20he','rise,sunse','ðŸ“Œ\x20Usage:\x20*','ain\x20shower'];_0x2143=function(){return _0x1dcfc5;};return _0x2143();}function wmoCodeToDescription(_0x3f8f35){const _0x5770c2=_0x881a83,_0x53b25b={0x0:_0x5770c2(0x14e),0x1:'Mainly\x20cle'+'ar',0x2:_0x5770c2(0x148)+'udy',0x3:_0x5770c2(0xc3)+'\x20Broken\x20cl'+'ouds',0x2d:_0x5770c2(0x10b),0x30:'Depositing'+_0x5770c2(0xf6),0x33:_0x5770c2(0x11a)+_0x5770c2(0x130),0x35:_0x5770c2(0xde)+_0x5770c2(0xf1),0x37:_0x5770c2(0xd2)+_0x5770c2(0x130),0x38:_0x5770c2(0xe1)+_0x5770c2(0xf0)+'le',0x39:'Dense\x20free'+_0x5770c2(0xf0)+'le',0x3d:_0x5770c2(0xfa)+'n',0x3f:_0x5770c2(0xf7)+_0x5770c2(0x15e),0x41:_0x5770c2(0x173),0x42:_0x5770c2(0xe1)+'zing\x20rain',0x43:_0x5770c2(0xcd)+'zing\x20rain',0x47:_0x5770c2(0x119)+'w\x20fall',0x49:_0x5770c2(0x13b)+'now\x20fall',0x4b:_0x5770c2(0x12f)+_0x5770c2(0x131),0x4d:'Snow\x20grain'+'s',0x50:_0x5770c2(0xfa)+'n\x20showers',0x51:'Moderate\x20r'+_0x5770c2(0x170)+'s',0x52:_0x5770c2(0x111)+_0x5770c2(0x158),0x55:_0x5770c2(0x119)+_0x5770c2(0xdb),0x56:_0x5770c2(0x12f)+_0x5770c2(0x15c),0x5f:_0x5770c2(0x14d)+'rm',0x60:_0x5770c2(0x14d)+_0x5770c2(0x114)+_0x5770c2(0x120),0x63:_0x5770c2(0x14d)+_0x5770c2(0x16d)+_0x5770c2(0x13d)};return _0x53b25b[_0x3f8f35]||_0x5770c2(0x136)+_0x5770c2(0x107)+_0x3f8f35+')';}async function fetchOpenMeteo(_0x31062e,_0xa3590e){const _0x116801=_0x881a83,_0x39321f=await _0x5a3e30(_0x116801(0xe2)+_0x116801(0x166)+_0x116801(0xd3)+'eo.com/v1/'+_0x116801(0xca)+(_0x116801(0x151)+encodeURIComponent(_0x31062e)+'&count=1')),_0x487f3d=await _0x39321f[_0x116801(0x11d)]();if(!_0x487f3d[_0x116801(0x10d)]||_0x487f3d[_0x116801(0x10d)][_0x116801(0xea)]===-0x3*0x2ab+0x12cf+-0x6*0x1cd)throw new Error('Location\x20n'+_0x116801(0x15d)+_0x31062e);const _0x4e8a4b=_0x487f3d[_0x116801(0x10d)][-0x1f3+0x229c+-0x3*0xae3],_0x353c71=_0x4e8a4b[_0x116801(0xce)],_0x1d2254=_0x4e8a4b['longitude'],_0x432ec9=''+_0x4e8a4b['name']+(_0x4e8a4b['country_co'+'de']?',\x20'+_0x4e8a4b[_0x116801(0x137)+'de']:''),_0x50c07d=_0x116801(0x15f)+_0x116801(0xd3)+_0x116801(0xc6)+_0x116801(0x129)+(_0x116801(0xe0)+_0x353c71+(_0x116801(0x12e)+'=')+_0x1d2254)+(_0x116801(0x150)+_0x116801(0x152)+_0x116801(0x140)+_0x116801(0xfd)+'y_2m,appar'+_0x116801(0x167)+_0x116801(0x109)+_0x116801(0x134)+_0x116801(0x124)+'0m')+(_0x116801(0x176)+_0x116801(0x16e)+'t')+(_0x116801(0x13f)+encodeURIComponent(_0xa3590e))+('&windspeed'+'_unit=ms'),_0x5bc36a=await _0x5a3e30(_0x50c07d),_0x36fd61=await _0x5bc36a[_0x116801(0x11d)]();if(!_0x36fd61['current']||!_0x36fd61['daily'])throw new Error('Failed\x20to\x20'+_0x116801(0x15b)+_0x116801(0xf5)+_0x116801(0xe9)+_0x116801(0x122));const _0x826ecf=_0x36fd61[_0x116801(0xc0)],_0x8b8167=_0x36fd61[_0x116801(0x15a)],_0x579955=wmoCodeToDescription(_0x826ecf[_0x116801(0x161)+'e']),_0x5affbb=new Date(_0x826ecf[_0x116801(0xd9)])[_0x116801(0xc8)+'ring'](_0x116801(0xbd),{'timeZone':_0xa3590e,'year':_0x116801(0x146),'month':_0x116801(0x146),'day':'numeric','hour12':!![],'hour':'numeric','minute':_0x116801(0x146)}),_0x16d3b3=new Date(_0x8b8167[_0x116801(0x178)][0x26d9+-0x232+0x355*-0xb])['toLocaleTi'+_0x116801(0x141)]('en-US',{'timeZone':_0xa3590e,'hour12':!![],'hour':'numeric','minute':'numeric','second':_0x116801(0x146)}),_0x3281ec=new Date(_0x8b8167[_0x116801(0xf2)][0x1815*-0x1+-0x2a1*-0xb+-0x4d6])[_0x116801(0x16c)+_0x116801(0x141)](_0x116801(0xbd),{'timeZone':_0xa3590e,'hour12':!![],'hour':_0x116801(0x146),'minute':_0x116801(0x146),'second':_0x116801(0x146)}),_0x3b1ccd=[_0x116801(0x116)+_0x116801(0xe3)+'Open-Meteo'+_0x116801(0x12d),_0x116801(0x10e)+'â”â”â”â”â”â”â”â”â”â”'+'â”â”','ðŸ“\x20Location'+_0x116801(0x123)+'\x20'+_0x432ec9,_0x116801(0xef)+_0x116801(0x126)+_0x826ecf[_0x116801(0x156)+_0x116801(0x143)]+(_0x116801(0x168)+':\x20')+_0x826ecf['apparent_t'+'emperature']+'Â°C','â˜ï¸\x20Conditio'+'n\x20\x20.\x20.\x20:\x20'+_0x579955,_0x116801(0x117)+'\x20\x20\x20.\x20.\x20:\x20'+_0x826ecf[_0x116801(0x105)+_0x116801(0xc2)]+'%',_0x116801(0x138)+'\x20\x20\x20.\x20.\x20:\x20'+_0x826ecf[_0x116801(0x157)+_0x116801(0xcb)]+_0x116801(0xd4),_0x116801(0xdc)+'\x20\x20\x20.\x20.\x20:\x20'+_0x16d3b3,_0x116801(0x171)+_0x116801(0xe6)+_0x3281ec,_0x116801(0x104)+_0x116801(0xe6)+_0x5affbb+'\x20('+_0xa3590e+')',_0x116801(0x10e)+_0x116801(0x10e)+'â”â”',_0x116801(0xbe)+'Meteo)']['join']('\x0a');return _0x3b1ccd;}export async function initialize(_0x2ac009){const _0x45c80c=_0x881a83;botInstance=_0x2ac009,info(name+(_0x45c80c(0x164)+_0x45c80c(0xc5)));}export async function onMessage(_0x58fa79){const _0x12accc=_0x881a83;if(!_0x58fa79?.['key']||!_0x58fa79[_0x12accc(0x12b)])return;const _0x22ceb7=_0x58fa79['key']['id'];if(respondedMsgIds['has'](_0x22ceb7))return;respondedMsgIds['add'](_0x22ceb7);const _0x4f634a=(_0x58fa79['text']||'')[_0x12accc(0x132)]()[_0x12accc(0x14b)+'e']();if(!_0x4f634a[_0x12accc(0x112)](_0x12accc(0x147)))return;if(!botInstance)botInstance=_0x58fa79['bot']||_0x58fa79['client'];const _0xd82d8c=getBotJid();let _0x54db6c;if(_0x58fa79[_0x12accc(0xd5)][_0x12accc(0x16a)])_0x54db6c=_0xd82d8c;else{const _0x383104=await isSudo(botInstance,_0x58fa79)[_0x12accc(0xcf)](()=>![]);if(!_0x383104)return;const {findings:_0x520f99}=userJidFromCtx(_0x58fa79),_0x3789af=await findStoredMatchFromFindings(_0x520f99);if(!_0x3789af)return;_0x54db6c=_0x3789af;}if(!_0x54db6c){warn(name+(_0x12accc(0x177)+_0x12accc(0x145)+_0x12accc(0x174)+_0x12accc(0x14a)+'for\x20messag'+'e.'));return;}const _0x2a06c9=_0x58fa79[_0x12accc(0x118)][_0x12accc(0x132)]()[_0x12accc(0x154)](/\s+/)[_0x12accc(0xdf)](-0x1*0x17a5+-0xdee+0x2594),_0x2d70fe=_0x2a06c9[_0x12accc(0xeb)]('\x20');if(!_0x2d70fe){await botInstance[_0x12accc(0x144)+'e'](_0x54db6c,{'text':_0x12accc(0x16f)+'weather\x20<l'+_0x12accc(0xe8)+'Example:\x20*'+_0x12accc(0x102)+'irobi*','mentions':[_0x58fa79[_0x12accc(0xd5)][_0x12accc(0x16a)]?_0xd82d8c:_0x58fa79[_0x12accc(0xd5)][_0x12accc(0x106)+'t']||_0x58fa79['key'][_0x12accc(0x14f)]]});return;}try{const _0x249331=getConfig(),_0xd26248=_0x249331['OPENWEATHE'+_0x12accc(0xfc)],_0x2c3041=_0x249331[_0x12accc(0x163)]||_0x12accc(0x11c)+'robi';await botInstance['sendMessag'+'e'](_0x54db6c,{'text':_0x12accc(0x159)+_0x12accc(0xd6)+'or\x20*'+_0x2d70fe+_0x12accc(0xd7),'mentions':[_0x58fa79[_0x12accc(0xd5)][_0x12accc(0x16a)]?_0xd82d8c:_0x58fa79['key'][_0x12accc(0x106)+'t']||_0x58fa79['key']['remoteJid']]});let _0x434ba2;_0xd26248?(info(name+(_0x12accc(0x13a)+'enWeatherM'+_0x12accc(0xc9))),_0x434ba2=await fetchOpenWeatherMap(_0x2d70fe,_0xd26248,_0x2c3041)):(info(name+(':\x20No\x20OPENW'+'EATHER_API'+_0x12accc(0x12c)+'.\x20Using\x20Op'+'en-Meteo\x20f'+_0x12accc(0x127))),_0x434ba2=await fetchOpenMeteo(_0x2d70fe,_0x2c3041)),await botInstance['sendMessag'+'e'](_0x54db6c,{'text':_0x434ba2}),info(name+(_0x12accc(0xfb)+_0x12accc(0xf9)+'\x22')+_0x2d70fe+_0x12accc(0x10c)+_0x54db6c);}catch(_0x26506d){error(_0x26506d,name+('\x20handler\x20e'+_0x12accc(0xc7))),await botInstance[_0x12accc(0x144)+'e'](_0x54db6c,{'text':_0x12accc(0xda)+_0x12accc(0x128)+_0x12accc(0x14c)+'\x22'+_0x2d70fe+_0x12accc(0x11f)+_0x26506d['message'],'mentions':[_0x58fa79[_0x12accc(0xd5)][_0x12accc(0x16a)]?_0xd82d8c:_0x58fa79[_0x12accc(0xd5)][_0x12accc(0x106)+'t']||_0x58fa79[_0x12accc(0xd5)][_0x12accc(0x14f)]]});}}export async function cleanup(){const _0x32dc9b=_0x881a83;try{botInstance=null,respondedMsgIds[_0x32dc9b(0x108)](),info(name+(_0x32dc9b(0x16b)+'up'));}catch(_0x3fb8df){warn(name+(_0x32dc9b(0x10f)+_0x32dc9b(0x11b))+(_0x3fb8df?.['message']||_0x3fb8df));}}