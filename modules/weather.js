const _0x336ab9=_0x4526;(function(_0x4b9516,_0xcd3b7){const _0xb1f0e6=_0x4526,_0x51a282=_0x4b9516();while(!![]){try{const _0x534b37=parseInt(_0xb1f0e6(0x18e))/(-0xd*-0xf3+0x1*0x2028+-0x2c7e)*(parseInt(_0xb1f0e6(0x19e))/(-0x1341*-0x1+-0x4fe*0x3+-0x445))+parseInt(_0xb1f0e6(0x1f6))/(0x19f7+0x1d0c+-0x3700)+parseInt(_0xb1f0e6(0x17a))/(0x2f7+0x25e*0x4+-0xc6b)+-parseInt(_0xb1f0e6(0x1e1))/(-0x9cd+0x7*-0x15+0x3*0x377)+parseInt(_0xb1f0e6(0x1b5))/(0x1688+0x1*-0x771+-0xf11)+parseInt(_0xb1f0e6(0x1da))/(0x1b12+-0x95*-0x1d+-0x2bec)*(parseInt(_0xb1f0e6(0x18b))/(0x1847+-0x29*0xd7+0xa30))+-parseInt(_0xb1f0e6(0x187))/(-0x61c+0x4ca*0x1+0x15b);if(_0x534b37===_0xcd3b7)break;else _0x51a282['push'](_0x51a282['shift']());}catch(_0x2056ed){_0x51a282['push'](_0x51a282['shift']());}}}(_0x32a0,-0xbea*0x49+0xfca7*-0x8+-0xf668b*-0x1));import{getConfig}from'../utils/config.js';import _0x117103 from'node-fetch';import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';function _0x4526(_0x21e3e8,_0x265747){_0x21e3e8=_0x21e3e8-(0x33*-0x77+-0x1*-0x4a3+-0x1*-0x1487);const _0x3ba854=_0x32a0();let _0x36b59b=_0x3ba854[_0x21e3e8];return _0x36b59b;}import{getBotJid}from'../utils/bot-state.js';export const name=_0x336ab9(0x1fc);export const version=_0x336ab9(0x178);export const priority=0x9ce+-0x1*-0x5c1+-0xf85;let botInstance=null;const respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x4ae14=[]){const _0x4307c0=_0x336ab9;try{const _0x266fe0=await listSudo(),_0x47b65a=new Set(_0x266fe0[_0x4307c0(0x19c)](String));for(const _0x50b1e4 of _0x4ae14){if(!_0x50b1e4?.[_0x4307c0(0x19f)])continue;const _0x4a360d=normalizeToJid(_0x50b1e4[_0x4307c0(0x19f)]);if(_0x47b65a[_0x4307c0(0x177)](_0x4a360d))return _0x4a360d;if(_0x47b65a[_0x4307c0(0x177)](_0x50b1e4['jid']))return _0x50b1e4[_0x4307c0(0x19f)];}return null;}catch(_0x129d56){return warn(name+(_0x4307c0(0x1a8)+'edMatch\x20er'+_0x4307c0(0x1cb))+(_0x129d56?.[_0x4307c0(0x1b3)]||_0x129d56)),null;}}function getLocalTime(_0xadfc2a,_0x551540){const _0x2519bb=_0x336ab9;return new Date(_0xadfc2a*(-0x9f7*-0x1+-0x105d+0xa4e))[_0x2519bb(0x1f4)+_0x2519bb(0x22d)]('en-US',{'timeZone':_0x551540,'hour12':!![],'hour':_0x2519bb(0x1b8),'minute':_0x2519bb(0x1b8),'second':_0x2519bb(0x1b8)});}function _0x32a0(){const _0x425b6e=['&units=met','irobi*','clear','\x22.\x0aError:\x20','length','eo.com/v1/','replace','zing\x20drizz','now\x20fall','catch','?latitude=','Moderate\x20r','e\x20final\x20de','ain\x20shower',':\x20sent\x20sna','daily','üåá\x20Sunset\x20\x20','name','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','Heavy\x20rain','ain','meString','current','üåÖ\x20Sunrise\x20','üìà\x20WEATHER\x20','Example:\x20*','.\x20Using\x20Op','Location\x20n','Heavy\x20free','has','2.0.0','enWeatherM','1264504cTERKn','rm\x20with\x20sl','Partly\x20clo','round','time','tct\x20(Open-','Slight\x20sno','eteo.',':\x20cleanup\x20','Meteo)','Heavy\x20snow','_KEY\x20found','participan','8036667DhyUXe','toLocaleSt','Violent\x20ra','nd_speed_1','1520MTsNRf','key','toLowerCas','180597lIqNZW',':\x20initiali',':\x20Using\x20Op','json','zed.','text','results','Dense\x20free','\x20\x20\x20.\x20.\x20:\x20','ocoding-ap','cod','&timezone=','weather\x20<l','Light\x20driz','map','latitude','2OmIJDM','jid','udy','weathercod','n\x20showers','ight\x20hail','&daily=sun','SNAPSHOT\x20üìâ','Dense\x20driz','https://ap',':\x20findStor','t\x20determin','_2m,relati','country_co','rror','R_API_KEY','remoteJid','eatherMap)','ature,weat','split','\x20Broken\x20cl','message','robi','1434222wXIxPw','main','ent_temper','numeric','tct\x20(OpenW','üìç\x20Location','\x20fall','umidity_2m','stination\x20','w\x20showers','/data/2.5/','üåÄ\x20Wind\x20\x20\x20\x20','zing\x20rain','hermap.org','trim','wind','sunset','relative_h','Clear\x20sky','or\x20*','Depositing','üíß\x20Humidity','ror:\x20','ure.\x20.\x20:\x20','Failed\x20to\x20','Fog','Africa/Nai','zle','w\x20fall','\x20handler\x20e','wind_speed','_unit=ms','hercode,wi','slice','&lang=en','üïì\x20Updated\x20','n\x20\x20.\x20.\x20:\x20','17528kDCkAw','\x20m/s','error:\x20','Thundersto','?name=',':\x20cleaned\x20','fetch\x20weat','1368835ubzOLz','*...','weather\x20Na','Moderate\x20s','üå°Ô∏è\x20Temperat','¬∞C\x20|\x20Feels','ot\x20found:\x20','OPENWEATHE','Slight\x20rai','en-Meteo\x20f','Mainly\x20cle','fromMe',')\x20üìâ','ring','Moderate\x20d','üìå\x20Usage:\x20*','https://ge','pshot\x20for\x20','t\x20fetch\x20we','toLocaleTi','?q=','673257CVrMio','\x20rime\x20fog','ap\x20API','TIMEZONE','country','sendMessag','weather','add','rom\x20Open-M','e_2m','ouds','allback.','en-US','rm\x20with\x20he','descriptio','longitude','isCommand','her\x20data\x20f','i.openweat','‚òÅÔ∏è\x20Conditio','bot','search','speed','toUpperCas','\x22\x20to\x20','emperature','forecast','‚ùå\x20Could\x20no','\x20\x20\x20.\x20.\x20.\x20:','Light\x20free','sys','join','avy\x20hail','Snow\x20grain'];_0x32a0=function(){return _0x425b6e;};return _0x32a0();}function getLocalDateTime(_0x34d2ab,_0x42e925){const _0x3c4258=_0x336ab9;return new Date(_0x34d2ab*(0xe*0x14+0x1f4f*-0x1+0x221f*0x1))[_0x3c4258(0x188)+'ring'](_0x3c4258(0x202),{'timeZone':_0x42e925,'year':_0x3c4258(0x1b8),'month':_0x3c4258(0x1b8),'day':_0x3c4258(0x1b8),'hour12':!![],'hour':_0x3c4258(0x1b8),'minute':_0x3c4258(0x1b8)});}async function fetchOpenWeatherMap(_0x899ad9,_0x35336b,_0x5c1635){const _0x104fa6=_0x336ab9,_0x536fe3=await _0x117103(_0x104fa6(0x1a7)+_0x104fa6(0x208)+_0x104fa6(0x1c2)+_0x104fa6(0x1bf)+_0x104fa6(0x1fc)+(_0x104fa6(0x1f5)+encodeURIComponent(_0x899ad9))+(_0x104fa6(0x218)+'ric&appid='+_0x35336b+_0x104fa6(0x1d7))),_0x1b2080=await _0x536fe3[_0x104fa6(0x191)]();if(_0x1b2080[_0x104fa6(0x198)]!==0x20d+0x2602+-0x1*0x2747)throw new Error(_0x1b2080[_0x104fa6(0x1b3)]||_0x104fa6(0x175)+'ot\x20found');const _0x3b337e=_0x1b2080[_0x104fa6(0x1fc)][0x1708+-0x1ea5+0x79d][_0x104fa6(0x204)+'n'][_0x104fa6(0x21e)](/^\w/,_0xcbc3d8=>_0xcbc3d8[_0x104fa6(0x20d)+'e']()),_0x521c3a=[_0x104fa6(0x230)+_0x104fa6(0x1a5),_0x104fa6(0x22a)+_0x104fa6(0x22a)+'‚îÅ‚îÅ','üìç\x20Location'+_0x104fa6(0x212)+'\x20'+_0x1b2080[_0x104fa6(0x229)]+',\x20'+(_0x1b2080['sys'][_0x104fa6(0x1fa)]||'N/A'),_0x104fa6(0x1e5)+_0x104fa6(0x1cc)+Math[_0x104fa6(0x17d)](_0x1b2080[_0x104fa6(0x1b6)]['temp'])+(_0x104fa6(0x1e6)+':\x20')+Math[_0x104fa6(0x17d)](_0x1b2080[_0x104fa6(0x1b6)]['feels_like'])+'¬∞C',_0x104fa6(0x209)+_0x104fa6(0x1d9)+_0x3b337e,_0x104fa6(0x1ca)+'\x20\x20\x20.\x20.\x20:\x20'+_0x1b2080[_0x104fa6(0x1b6)]['humidity']+'%',_0x104fa6(0x1c0)+_0x104fa6(0x196)+_0x1b2080[_0x104fa6(0x1c4)][_0x104fa6(0x20c)]+_0x104fa6(0x1db),_0x104fa6(0x22f)+_0x104fa6(0x196)+getLocalTime(_0x1b2080[_0x104fa6(0x214)]['sunrise'],_0x5c1635),_0x104fa6(0x228)+_0x104fa6(0x196)+getLocalTime(_0x1b2080[_0x104fa6(0x214)][_0x104fa6(0x1c5)],_0x5c1635),_0x104fa6(0x1d8)+_0x104fa6(0x196)+getLocalDateTime(_0x1b2080['dt'],_0x5c1635)+'\x20('+_0x5c1635+')','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ'+_0x104fa6(0x22a)+'‚îÅ‚îÅ',_0x104fa6(0x1b9)+_0x104fa6(0x1af)][_0x104fa6(0x215)]('\x0a');return _0x521c3a;}function wmoCodeToDescription(_0x2d7d34){const _0x22ac34=_0x336ab9,_0x51df0b={0x0:_0x22ac34(0x1c7),0x1:_0x22ac34(0x1eb)+'ar',0x2:_0x22ac34(0x17c)+_0x22ac34(0x1a0),0x3:'Overcast\x20/'+_0x22ac34(0x1b2)+_0x22ac34(0x200),0x2d:_0x22ac34(0x1ce),0x30:_0x22ac34(0x1c9)+_0x22ac34(0x1f7),0x33:_0x22ac34(0x19b)+_0x22ac34(0x1d0),0x35:_0x22ac34(0x1ef)+'rizzle',0x37:_0x22ac34(0x1a6)+_0x22ac34(0x1d0),0x38:'Light\x20free'+'zing\x20drizz'+'le',0x39:_0x22ac34(0x195)+_0x22ac34(0x21f)+'le',0x3d:_0x22ac34(0x1e9)+'n',0x3f:_0x22ac34(0x223)+_0x22ac34(0x22c),0x41:_0x22ac34(0x22b),0x42:_0x22ac34(0x213)+_0x22ac34(0x1c1),0x43:_0x22ac34(0x176)+_0x22ac34(0x1c1),0x47:'Slight\x20sno'+_0x22ac34(0x1d1),0x49:_0x22ac34(0x1e4)+_0x22ac34(0x220),0x4b:_0x22ac34(0x184)+_0x22ac34(0x1bb),0x4d:_0x22ac34(0x217)+'s',0x50:_0x22ac34(0x1e9)+_0x22ac34(0x1a2),0x51:_0x22ac34(0x223)+_0x22ac34(0x225)+'s',0x52:_0x22ac34(0x189)+'in\x20showers',0x55:_0x22ac34(0x180)+_0x22ac34(0x1be),0x56:_0x22ac34(0x184)+'\x20showers',0x5f:'Thundersto'+'rm',0x60:'Thundersto'+_0x22ac34(0x17b)+_0x22ac34(0x1a3),0x63:_0x22ac34(0x1dd)+_0x22ac34(0x203)+_0x22ac34(0x216)};return _0x51df0b[_0x2d7d34]||'Unknown\x20(c'+'ode\x20'+_0x2d7d34+')';}async function fetchOpenMeteo(_0x1c5919,_0x4d8c6e){const _0x367fe4=_0x336ab9,_0xe54a1b=await _0x117103(_0x367fe4(0x1f1)+_0x367fe4(0x197)+'i.open-met'+_0x367fe4(0x21d)+_0x367fe4(0x20b)+(_0x367fe4(0x1de)+encodeURIComponent(_0x1c5919)+'&count=1')),_0x95723d=await _0xe54a1b[_0x367fe4(0x191)]();if(!_0x95723d[_0x367fe4(0x194)]||_0x95723d[_0x367fe4(0x194)][_0x367fe4(0x21c)]===0x20*-0xdf+0x13da+-0x9e*-0xd)throw new Error('Location\x20n'+_0x367fe4(0x1e7)+_0x1c5919);const _0x53c45b=_0x95723d[_0x367fe4(0x194)][0x25*0xf5+0x13*-0x16f+-0x82c],_0x7db25e=_0x53c45b[_0x367fe4(0x19d)],_0x508c1e=_0x53c45b[_0x367fe4(0x205)],_0x27cee7=''+_0x53c45b[_0x367fe4(0x229)]+(_0x53c45b['country_co'+'de']?',\x20'+_0x53c45b[_0x367fe4(0x1ab)+'de']:''),_0x4d1825=_0x367fe4(0x1a7)+'i.open-met'+_0x367fe4(0x21d)+_0x367fe4(0x210)+(_0x367fe4(0x222)+_0x7db25e+('&longitude'+'=')+_0x508c1e)+('&current=t'+_0x367fe4(0x20f)+_0x367fe4(0x1aa)+'ve_humidit'+'y_2m,appar'+_0x367fe4(0x1b7)+_0x367fe4(0x1b0)+_0x367fe4(0x1d5)+_0x367fe4(0x18a)+'0m')+(_0x367fe4(0x1a4)+'rise,sunse'+'t')+(_0x367fe4(0x199)+encodeURIComponent(_0x4d8c6e))+('&windspeed'+_0x367fe4(0x1d4)),_0xea70f6=await _0x117103(_0x4d1825),_0x4052ae=await _0xea70f6[_0x367fe4(0x191)]();if(!_0x4052ae[_0x367fe4(0x22e)]||!_0x4052ae[_0x367fe4(0x227)])throw new Error(_0x367fe4(0x1cd)+_0x367fe4(0x1e0)+_0x367fe4(0x207)+_0x367fe4(0x1fe)+_0x367fe4(0x181));const _0x5d009c=_0x4052ae[_0x367fe4(0x22e)],_0x1e8bf8=_0x4052ae[_0x367fe4(0x227)],_0x36fa34=wmoCodeToDescription(_0x5d009c[_0x367fe4(0x1a1)+'e']),_0x28cb7a=new Date(_0x5d009c[_0x367fe4(0x17e)])['toLocaleSt'+_0x367fe4(0x1ee)](_0x367fe4(0x202),{'timeZone':_0x4d8c6e,'year':_0x367fe4(0x1b8),'month':_0x367fe4(0x1b8),'day':_0x367fe4(0x1b8),'hour12':!![],'hour':_0x367fe4(0x1b8),'minute':'numeric'}),_0x2f65bb=new Date(_0x1e8bf8['sunrise'][0x2*0xc04+0x4*0x93b+-0x3cf4])['toLocaleTi'+_0x367fe4(0x22d)](_0x367fe4(0x202),{'timeZone':_0x4d8c6e,'hour12':!![],'hour':'numeric','minute':_0x367fe4(0x1b8),'second':_0x367fe4(0x1b8)}),_0x248efb=new Date(_0x1e8bf8[_0x367fe4(0x1c5)][-0x773*0x5+0x5*-0x22d+0x16*0x230])['toLocaleTi'+'meString'](_0x367fe4(0x202),{'timeZone':_0x4d8c6e,'hour12':!![],'hour':_0x367fe4(0x1b8),'minute':_0x367fe4(0x1b8),'second':_0x367fe4(0x1b8)}),_0xfccd46=['üìà\x20WEATHER\x20'+'SNAPSHOT\x20('+'Open-Meteo'+_0x367fe4(0x1ed),'‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ'+_0x367fe4(0x22a)+'‚îÅ‚îÅ',_0x367fe4(0x1ba)+_0x367fe4(0x212)+'\x20'+_0x27cee7,_0x367fe4(0x1e5)+_0x367fe4(0x1cc)+_0x5d009c['temperatur'+_0x367fe4(0x1ff)]+(_0x367fe4(0x1e6)+':\x20')+_0x5d009c['apparent_t'+'emperature']+'¬∞C',_0x367fe4(0x209)+'n\x20\x20.\x20.\x20:\x20'+_0x36fa34,_0x367fe4(0x1ca)+_0x367fe4(0x196)+_0x5d009c[_0x367fe4(0x1c6)+_0x367fe4(0x1bc)]+'%',_0x367fe4(0x1c0)+_0x367fe4(0x196)+_0x5d009c[_0x367fe4(0x1d3)+'_10m']+_0x367fe4(0x1db),_0x367fe4(0x22f)+_0x367fe4(0x196)+_0x2f65bb,_0x367fe4(0x228)+_0x367fe4(0x196)+_0x248efb,_0x367fe4(0x1d8)+_0x367fe4(0x196)+_0x28cb7a+'\x20('+_0x4d8c6e+')',_0x367fe4(0x22a)+_0x367fe4(0x22a)+'‚îÅ‚îÅ',_0x367fe4(0x17f)+_0x367fe4(0x183)]['join']('\x0a');return _0xfccd46;}export async function initialize(_0x105f5f){const _0x1583f9=_0x336ab9;botInstance=_0x105f5f,info(name+(_0x1583f9(0x18f)+_0x1583f9(0x192)));}export async function onMessage(_0x59f029){const _0x3c895c=_0x336ab9;if(!_0x59f029?.['key']||!_0x59f029[_0x3c895c(0x206)])return;const _0x12b5ae=_0x59f029[_0x3c895c(0x18c)]['id'];if(respondedMsgIds[_0x3c895c(0x177)](_0x12b5ae))return;respondedMsgIds[_0x3c895c(0x1fd)](_0x12b5ae);const _0x4ed9c7=(_0x59f029[_0x3c895c(0x193)]||'')[_0x3c895c(0x1c3)]()[_0x3c895c(0x18d)+'e']();if(!_0x4ed9c7['startsWith']('weather'))return;if(!botInstance)botInstance=_0x59f029[_0x3c895c(0x20a)]||_0x59f029['client'];const _0x4be0eb=getBotJid();let _0x55790e;if(_0x59f029[_0x3c895c(0x18c)][_0x3c895c(0x1ec)])_0x55790e=_0x4be0eb;else{const _0x3a8afe=await isSudo(botInstance,_0x59f029)[_0x3c895c(0x221)](()=>![]);if(!_0x3a8afe)return;const {findings:_0xbee29c}=userJidFromCtx(_0x59f029),_0x562cdf=await findStoredMatchFromFindings(_0xbee29c);if(!_0x562cdf)return;_0x55790e=_0x562cdf;}if(!_0x55790e){warn(name+(':\x20Could\x20no'+_0x3c895c(0x1a9)+_0x3c895c(0x224)+_0x3c895c(0x1bd)+'for\x20messag'+'e.'));return;}const _0xa3ee0=_0x59f029[_0x3c895c(0x193)][_0x3c895c(0x1c3)]()[_0x3c895c(0x1b1)](/\s+/)[_0x3c895c(0x1d6)](-0xb*0x10b+0xf28+-0x3ae),_0x289098=_0xa3ee0[_0x3c895c(0x215)]('\x20');if(!_0x289098){await botInstance['sendMessag'+'e'](_0x55790e,{'text':_0x3c895c(0x1f0)+_0x3c895c(0x19a)+'ocation>*\x0a'+_0x3c895c(0x231)+_0x3c895c(0x1e3)+_0x3c895c(0x219),'mentions':[_0x59f029['key']['fromMe']?_0x4be0eb:_0x59f029[_0x3c895c(0x18c)][_0x3c895c(0x186)+'t']||_0x59f029['key'][_0x3c895c(0x1ae)]]});return;}try{const _0x2b7906=getConfig(),_0x1ce637=_0x2b7906[_0x3c895c(0x1e8)+_0x3c895c(0x1ad)],_0x1e7a09=_0x2b7906[_0x3c895c(0x1f9)]||_0x3c895c(0x1cf)+_0x3c895c(0x1b4);await botInstance[_0x3c895c(0x1fb)+'e'](_0x55790e,{'text':'üå§Ô∏è\x20Fetching'+'\x20weather\x20f'+_0x3c895c(0x1c8)+_0x289098+_0x3c895c(0x1e2),'mentions':[_0x59f029[_0x3c895c(0x18c)]['fromMe']?_0x4be0eb:_0x59f029[_0x3c895c(0x18c)][_0x3c895c(0x186)+'t']||_0x59f029[_0x3c895c(0x18c)][_0x3c895c(0x1ae)]]});let _0x54ad40;_0x1ce637?(info(name+(_0x3c895c(0x190)+_0x3c895c(0x179)+_0x3c895c(0x1f8))),_0x54ad40=await fetchOpenWeatherMap(_0x289098,_0x1ce637,_0x1e7a09)):(info(name+(':\x20No\x20OPENW'+'EATHER_API'+_0x3c895c(0x185)+_0x3c895c(0x232)+_0x3c895c(0x1ea)+_0x3c895c(0x201))),_0x54ad40=await fetchOpenMeteo(_0x289098,_0x1e7a09)),await botInstance['sendMessag'+'e'](_0x55790e,{'text':_0x54ad40}),info(name+(_0x3c895c(0x226)+_0x3c895c(0x1f2)+'\x22')+_0x289098+_0x3c895c(0x20e)+_0x55790e);}catch(_0x3958c7){error(_0x3958c7,name+(_0x3c895c(0x1d2)+_0x3c895c(0x1ac))),await botInstance['sendMessag'+'e'](_0x55790e,{'text':_0x3c895c(0x211)+_0x3c895c(0x1f3)+'ather\x20for\x20'+'\x22'+_0x289098+_0x3c895c(0x21b)+_0x3958c7[_0x3c895c(0x1b3)],'mentions':[_0x59f029[_0x3c895c(0x18c)]['fromMe']?_0x4be0eb:_0x59f029[_0x3c895c(0x18c)]['participan'+'t']||_0x59f029[_0x3c895c(0x18c)]['remoteJid']]});}}export async function cleanup(){const _0x4fe00f=_0x336ab9;try{botInstance=null,respondedMsgIds[_0x4fe00f(0x21a)](),info(name+(_0x4fe00f(0x1df)+'up'));}catch(_0x41a2c4){warn(name+(_0x4fe00f(0x182)+_0x4fe00f(0x1dc))+(_0x41a2c4?.[_0x4fe00f(0x1b3)]||_0x41a2c4));}}