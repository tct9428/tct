const _0x265c5a=_0x1ba7;function _0x1edb(){const _0x98bc6=['numeric','emperature','_KEY\x20found','Depositing',':\x20Could\x20no','Moderate\x20r','Mainly\x20cle','robi','&current=t','üìà\x20WEATHER\x20','9302870kXBqAd','OPENWEATHE','\x20weather\x20f','rror','udy','rise,sunse','_2m,relati','?name=','EATHER_API','clear','weather\x20<l','&lang=en','tct\x20(Open-','üåá\x20Sunset\x20\x20','&units=met','Moderate\x20s','üíß\x20Humidity','cod','feels_like','weather','Dense\x20driz','üìç\x20Location','join','client','\x20m/s','meString','412720xPQWig','en-US','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','zed.','Example:\x20*','wind_speed','sys','Snow\x20grain','zle','isCommand','daily','error:\x20','json','zing\x20rain','remoteJid','ode\x20','?latitude=','Slight\x20sno','üïì\x20Updated\x20','*...','rom\x20Open-M','\x20fall','2296284FXefdr','text','ent_temper','participan','3338601yixVlj','forecast','sunrise','pshot\x20for\x20','weather\x20Na','Heavy\x20snow','eo.com/v1/','ot\x20found','humidity','Africa/Nai','ain\x20shower','&windspeed','toLocaleSt','‚ùå\x20Could\x20no','?q=','umidity_2m','ight\x20hail','country_co','wind','Light\x20free','latitude','\x20showers','ot\x20found:\x20','\x20Broken\x20cl','in\x20showers','N/A','i.open-met','Meteo)','ocation>*\x0a','tct\x20(OpenW',':\x20sent\x20sna','map','toLocaleTi','Fog','n\x20\x20.\x20.\x20:\x20','ature,weat','SNAPSHOT\x20(','262317jJWJsL','apparent_t','/data/2.5/','Heavy\x20rain','main','üå°Ô∏è\x20Temperat',':\x20cleaned\x20','speed','toLowerCas','Slight\x20rai','w\x20showers','eteo.','&timezone=','Partly\x20clo','1236SBHIng','3950680GglTav','results','fromMe','https://ap','length','zing\x20drizz','stination\x20','üåÄ\x20Wind\x20\x20\x20\x20','‚òÅÔ∏è\x20Conditio','message','9KTYsQa',')\x20üìâ','sunset','109285wqeVGI','Light\x20driz','ure.\x20.\x20:\x20','bot','https://ge','&count=1','country','hercode,wi','catch','trim','\x22.\x0aError:\x20','Heavy\x20free','add','Thundersto','ring','ather\x20for\x20','or\x20*','rm\x20with\x20he','i.openweat','sendMessag','Unknown\x20(c','n\x20showers','1kasaYj','round','\x20\x20\x20.\x20.\x20.\x20:','longitude','102RVTguO','startsWith','enWeatherM','nd_speed_1','temperatur','t\x20fetch\x20we','\x20\x20\x20.\x20.\x20:\x20','jid','Overcast\x20/','key','name','&longitude','has','2.0.0','Moderate\x20d',':\x20cleanup\x20','replace','now\x20fall','R_API_KEY','search','\x20handler\x20e','4JDuOvw','weathercod','üåÖ\x20Sunrise\x20','üìå\x20Usage:\x20*','\x22\x20to\x20','e_2m','TIMEZONE','&daily=sun','current','allback.','Clear\x20sky'];_0x1edb=function(){return _0x98bc6;};return _0x1edb();}(function(_0x34a2d7,_0x32ab13){const _0x5da349=_0x1ba7,_0xd2ac4=_0x34a2d7();while(!![]){try{const _0x2c14e2=-parseInt(_0x5da349(0x170))/(0x4a6+-0xf1*0xf+0x1*0x97a)*(-parseInt(_0x5da349(0x115))/(-0x27*0xf6+-0x7c4+-0x4*-0xb50))+-parseInt(_0x5da349(0x119))/(0xf*0x287+-0x6c9+-0x1f1d)*(parseInt(_0x5da349(0x189))/(0x5*0x74+0xf2c*-0x2+-0x1*-0x1c18))+parseInt(_0x5da349(0x15a))/(0x5f5*-0x1+0x2476+-0x79f*0x4)*(-parseInt(_0x5da349(0x174))/(0x1*0x70b+0x25c*0x6+-0x152d))+-parseInt(_0x5da349(0xff))/(-0x5*-0x8+-0x1*0x232b+-0x1185*-0x2)+-parseInt(_0x5da349(0x14d))/(-0x7c3+0xb1c+-0x1*0x351)+-parseInt(_0x5da349(0x157))/(0x58f*0x1+0x2d3*-0x6+0xb6c)*(parseInt(_0x5da349(0x19e))/(0x12*0x194+0x135b+0x1*-0x2fb9))+-parseInt(_0x5da349(0x13e))/(-0xe4+0x4b5+-0x45*0xe)*(-parseInt(_0x5da349(0x14c))/(0x13c2+-0x2*0xc5d+0x504));if(_0x2c14e2===_0x32ab13)break;else _0xd2ac4['push'](_0xd2ac4['shift']());}catch(_0x106fb9){_0xd2ac4['push'](_0xd2ac4['shift']());}}}(_0x1edb,-0x7d348+-0x2c0f2+-0x1*-0x144bfb));import{getConfig}from'../utils/config.js';import _0x39b568 from'node-fetch';import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x265c5a(0xf8);export const version=_0x265c5a(0x181);export const priority=-0x231a+-0xe*-0xa4+-0x1a2c*-0x1;let botInstance=null;const respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0xa0408f=[]){const _0x1ad394=_0x265c5a;try{const _0x2273de=await listSudo(),_0x55cada=new Set(_0x2273de[_0x1ad394(0x138)](String));for(const _0x3d2d6d of _0xa0408f){if(!_0x3d2d6d?.['jid'])continue;const _0x1394cf=normalizeToJid(_0x3d2d6d[_0x1ad394(0x17b)]);if(_0x55cada[_0x1ad394(0x180)](_0x1394cf))return _0x1394cf;if(_0x55cada['has'](_0x3d2d6d[_0x1ad394(0x17b)]))return _0x3d2d6d[_0x1ad394(0x17b)];}return null;}catch(_0x1509ae){return warn(name+(':\x20findStor'+'edMatch\x20er'+'ror:\x20')+(_0x1509ae?.['message']||_0x1509ae)),null;}}function getLocalTime(_0x596892,_0x40dd11){const _0x22206e=_0x265c5a;return new Date(_0x596892*(0x24fb+0x1a98+-0x497*0xd))['toLocaleTi'+_0x22206e(0xfe)]('en-US',{'timeZone':_0x40dd11,'hour12':!![],'hour':'numeric','minute':_0x22206e(0x194),'second':_0x22206e(0x194)});}function getLocalDateTime(_0x5fbaf3,_0x29e4e3){const _0x20c817=_0x265c5a;return new Date(_0x5fbaf3*(-0xc75+-0x1ace*0x1+-0x101*-0x2b))[_0x20c817(0x125)+_0x20c817(0x168)]('en-US',{'timeZone':_0x29e4e3,'year':_0x20c817(0x194),'month':'numeric','day':_0x20c817(0x194),'hour12':!![],'hour':_0x20c817(0x194),'minute':_0x20c817(0x194)});}async function fetchOpenWeatherMap(_0x309c5a,_0x4bc623,_0x5ac320){const _0x127397=_0x265c5a,_0x16e091=await _0x39b568(_0x127397(0x150)+_0x127397(0x16c)+'hermap.org'+_0x127397(0x140)+_0x127397(0xf8)+(_0x127397(0x127)+encodeURIComponent(_0x309c5a))+(_0x127397(0xf3)+'ric&appid='+_0x4bc623+_0x127397(0x1a9))),_0x2c1ad1=await _0x16e091[_0x127397(0x10b)]();if(_0x2c1ad1[_0x127397(0xf6)]!==-0x2150+0xab8+0x1760*0x1)throw new Error(_0x2c1ad1[_0x127397(0x156)]||'Location\x20n'+_0x127397(0x120));const _0x2dd34c=_0x2c1ad1[_0x127397(0xf8)][-0x22a4+0x180c+0xa98]['descriptio'+'n'][_0x127397(0x184)](/^\w/,_0x3ef817=>_0x3ef817['toUpperCas'+'e']()),_0x5dffce=['üìà\x20WEATHER\x20'+'SNAPSHOT\x20üìâ',_0x127397(0x101)+_0x127397(0x101)+'‚îÅ‚îÅ','üìç\x20Location'+_0x127397(0x172)+'\x20'+_0x2c1ad1[_0x127397(0x17e)]+',\x20'+(_0x2c1ad1['sys'][_0x127397(0x160)]||_0x127397(0x132)),_0x127397(0x143)+_0x127397(0x15c)+Math['round'](_0x2c1ad1[_0x127397(0x142)]['temp'])+('¬∞C\x20|\x20Feels'+':\x20')+Math[_0x127397(0x171)](_0x2c1ad1['main'][_0x127397(0xf7)])+'¬∞C',_0x127397(0x155)+'n\x20\x20.\x20.\x20:\x20'+_0x2dd34c,_0x127397(0xf5)+_0x127397(0x17a)+_0x2c1ad1[_0x127397(0x142)][_0x127397(0x121)]+'%',_0x127397(0x154)+_0x127397(0x17a)+_0x2c1ad1[_0x127397(0x12b)][_0x127397(0x145)]+_0x127397(0xfd),_0x127397(0x18b)+_0x127397(0x17a)+getLocalTime(_0x2c1ad1[_0x127397(0x105)]['sunrise'],_0x5ac320),'üåá\x20Sunset\x20\x20'+_0x127397(0x17a)+getLocalTime(_0x2c1ad1[_0x127397(0x105)]['sunset'],_0x5ac320),_0x127397(0x111)+_0x127397(0x17a)+getLocalDateTime(_0x2c1ad1['dt'],_0x5ac320)+'\x20('+_0x5ac320+')',_0x127397(0x101)+_0x127397(0x101)+'‚îÅ‚îÅ',_0x127397(0x136)+'eatherMap)'][_0x127397(0xfb)]('\x0a');return _0x5dffce;}function _0x1ba7(_0x2f20a2,_0x30099c){const _0x1c1d45=_0x1edb();return _0x1ba7=function(_0xa17f15,_0x4baa7b){_0xa17f15=_0xa17f15-(0x2433+-0x105a+-0x12e8);let _0x4d830d=_0x1c1d45[_0xa17f15];return _0x4d830d;},_0x1ba7(_0x2f20a2,_0x30099c);}function wmoCodeToDescription(_0x1168e1){const _0x58adf6=_0x265c5a,_0x42479e={0x0:_0x58adf6(0x193),0x1:_0x58adf6(0x19a)+'ar',0x2:_0x58adf6(0x14b)+_0x58adf6(0x1a2),0x3:_0x58adf6(0x17c)+_0x58adf6(0x130)+'ouds',0x2d:_0x58adf6(0x13a),0x30:_0x58adf6(0x197)+'\x20rime\x20fog',0x33:_0x58adf6(0x15b)+'zle',0x35:_0x58adf6(0x182)+'rizzle',0x37:_0x58adf6(0xf9)+_0x58adf6(0x107),0x38:_0x58adf6(0x12c)+_0x58adf6(0x152)+'le',0x39:'Dense\x20free'+_0x58adf6(0x152)+'le',0x3d:_0x58adf6(0x147)+'n',0x3f:_0x58adf6(0x199)+'ain',0x41:_0x58adf6(0x141),0x42:'Light\x20free'+_0x58adf6(0x10c),0x43:_0x58adf6(0x165)+_0x58adf6(0x10c),0x47:_0x58adf6(0x110)+'w\x20fall',0x49:_0x58adf6(0xf4)+_0x58adf6(0x185),0x4b:_0x58adf6(0x11e)+_0x58adf6(0x114),0x4d:_0x58adf6(0x106)+'s',0x50:_0x58adf6(0x147)+_0x58adf6(0x16f),0x51:_0x58adf6(0x199)+_0x58adf6(0x123)+'s',0x52:'Violent\x20ra'+_0x58adf6(0x131),0x55:_0x58adf6(0x110)+_0x58adf6(0x148),0x56:_0x58adf6(0x11e)+_0x58adf6(0x12e),0x5f:_0x58adf6(0x167)+'rm',0x60:_0x58adf6(0x167)+'rm\x20with\x20sl'+_0x58adf6(0x129),0x63:_0x58adf6(0x167)+_0x58adf6(0x16b)+'avy\x20hail'};return _0x42479e[_0x1168e1]||_0x58adf6(0x16e)+_0x58adf6(0x10e)+_0x1168e1+')';}async function fetchOpenMeteo(_0x58b4bf,_0x3a0b44){const _0x5dfb87=_0x265c5a,_0x431070=await _0x39b568(_0x5dfb87(0x15e)+'ocoding-ap'+_0x5dfb87(0x133)+_0x5dfb87(0x11f)+_0x5dfb87(0x187)+(_0x5dfb87(0x1a5)+encodeURIComponent(_0x58b4bf)+_0x5dfb87(0x15f))),_0x936651=await _0x431070[_0x5dfb87(0x10b)]();if(!_0x936651[_0x5dfb87(0x14e)]||_0x936651['results'][_0x5dfb87(0x151)]===0xa97+-0x49*0x6b+0x13ec)throw new Error('Location\x20n'+_0x5dfb87(0x12f)+_0x58b4bf);const _0x27f3a5=_0x936651[_0x5dfb87(0x14e)][-0x1*0x1+-0x1*-0x15a4+-0xbf*0x1d],_0x4cb172=_0x27f3a5[_0x5dfb87(0x12d)],_0x5d1b11=_0x27f3a5[_0x5dfb87(0x173)],_0x164b98=''+_0x27f3a5['name']+(_0x27f3a5[_0x5dfb87(0x12a)+'de']?',\x20'+_0x27f3a5[_0x5dfb87(0x12a)+'de']:''),_0x11a2cb='https://ap'+_0x5dfb87(0x133)+_0x5dfb87(0x11f)+_0x5dfb87(0x11a)+(_0x5dfb87(0x10f)+_0x4cb172+(_0x5dfb87(0x17f)+'=')+_0x5d1b11)+(_0x5dfb87(0x19c)+_0x5dfb87(0x195)+_0x5dfb87(0x1a4)+'ve_humidit'+'y_2m,appar'+_0x5dfb87(0x117)+_0x5dfb87(0x13c)+_0x5dfb87(0x161)+_0x5dfb87(0x177)+'0m')+(_0x5dfb87(0x190)+_0x5dfb87(0x1a3)+'t')+(_0x5dfb87(0x14a)+encodeURIComponent(_0x3a0b44))+(_0x5dfb87(0x124)+'_unit=ms'),_0x4b7d71=await _0x39b568(_0x11a2cb),_0x4f171b=await _0x4b7d71['json']();if(!_0x4f171b['current']||!_0x4f171b[_0x5dfb87(0x109)])throw new Error('Failed\x20to\x20'+'fetch\x20weat'+'her\x20data\x20f'+_0x5dfb87(0x113)+_0x5dfb87(0x149));const _0x5308ac=_0x4f171b[_0x5dfb87(0x191)],_0x40e2e4=_0x4f171b[_0x5dfb87(0x109)],_0x37b0f0=wmoCodeToDescription(_0x5308ac[_0x5dfb87(0x18a)+'e']),_0x1f48a9=new Date(_0x5308ac['time'])[_0x5dfb87(0x125)+'ring'](_0x5dfb87(0x100),{'timeZone':_0x3a0b44,'year':_0x5dfb87(0x194),'month':'numeric','day':_0x5dfb87(0x194),'hour12':!![],'hour':_0x5dfb87(0x194),'minute':_0x5dfb87(0x194)}),_0xdeb945=new Date(_0x40e2e4[_0x5dfb87(0x11b)][0x17*0x19+-0x199*0xb+-0x1*-0xf54])[_0x5dfb87(0x139)+'meString'](_0x5dfb87(0x100),{'timeZone':_0x3a0b44,'hour12':!![],'hour':_0x5dfb87(0x194),'minute':_0x5dfb87(0x194),'second':_0x5dfb87(0x194)}),_0x806186=new Date(_0x40e2e4[_0x5dfb87(0x159)][-0x32b*-0x1+-0x1*-0x253d+-0x6bc*0x6])['toLocaleTi'+_0x5dfb87(0xfe)](_0x5dfb87(0x100),{'timeZone':_0x3a0b44,'hour12':!![],'hour':_0x5dfb87(0x194),'minute':'numeric','second':_0x5dfb87(0x194)}),_0x276c9e=[_0x5dfb87(0x19d)+_0x5dfb87(0x13d)+'Open-Meteo'+_0x5dfb87(0x158),_0x5dfb87(0x101)+_0x5dfb87(0x101)+'‚îÅ‚îÅ',_0x5dfb87(0xfa)+_0x5dfb87(0x172)+'\x20'+_0x164b98,_0x5dfb87(0x143)+_0x5dfb87(0x15c)+_0x5308ac[_0x5dfb87(0x178)+_0x5dfb87(0x18e)]+('¬∞C\x20|\x20Feels'+':\x20')+_0x5308ac[_0x5dfb87(0x13f)+'emperature']+'¬∞C',_0x5dfb87(0x155)+_0x5dfb87(0x13b)+_0x37b0f0,_0x5dfb87(0xf5)+_0x5dfb87(0x17a)+_0x5308ac['relative_h'+_0x5dfb87(0x128)]+'%',_0x5dfb87(0x154)+_0x5dfb87(0x17a)+_0x5308ac[_0x5dfb87(0x104)+'_10m']+_0x5dfb87(0xfd),_0x5dfb87(0x18b)+_0x5dfb87(0x17a)+_0xdeb945,_0x5dfb87(0xf2)+_0x5dfb87(0x17a)+_0x806186,_0x5dfb87(0x111)+_0x5dfb87(0x17a)+_0x1f48a9+'\x20('+_0x3a0b44+')',_0x5dfb87(0x101)+_0x5dfb87(0x101)+'‚îÅ‚îÅ',_0x5dfb87(0xf1)+_0x5dfb87(0x134)][_0x5dfb87(0xfb)]('\x0a');return _0x276c9e;}export async function initialize(_0x26c22a){const _0x1ec517=_0x265c5a;botInstance=_0x26c22a,info(name+(':\x20initiali'+_0x1ec517(0x102)));}export async function onMessage(_0x3116cb){const _0x12cccb=_0x265c5a;if(!_0x3116cb?.['key']||!_0x3116cb[_0x12cccb(0x108)])return;const _0x2cd9f3=_0x3116cb[_0x12cccb(0x17d)]['id'];if(respondedMsgIds['has'](_0x2cd9f3))return;respondedMsgIds[_0x12cccb(0x166)](_0x2cd9f3);const _0x352739=(_0x3116cb[_0x12cccb(0x116)]||'')[_0x12cccb(0x163)]()[_0x12cccb(0x146)+'e']();if(!_0x352739[_0x12cccb(0x175)](_0x12cccb(0xf8)))return;if(!botInstance)botInstance=_0x3116cb[_0x12cccb(0x15d)]||_0x3116cb[_0x12cccb(0xfc)];const _0x3dc615=getBotJid();let _0x420c89;if(_0x3116cb['key']['fromMe'])_0x420c89=_0x3dc615;else{const _0x50ce5d=await isSudo(botInstance,_0x3116cb)[_0x12cccb(0x162)](()=>![]);if(!_0x50ce5d)return;const {findings:_0x1af84b}=userJidFromCtx(_0x3116cb),_0xf988c4=await findStoredMatchFromFindings(_0x1af84b);if(!_0xf988c4)return;_0x420c89=_0xf988c4;}if(!_0x420c89){warn(name+(_0x12cccb(0x198)+'t\x20determin'+'e\x20final\x20de'+_0x12cccb(0x153)+'for\x20messag'+'e.'));return;}const _0x361266=_0x3116cb[_0x12cccb(0x116)][_0x12cccb(0x163)]()['split'](/\s+/)['slice'](0x555*-0x2+0x3*0x4b+-0xb3*-0xe),_0x571b60=_0x361266['join']('\x20');if(!_0x571b60){await botInstance[_0x12cccb(0x16d)+'e'](_0x420c89,{'text':_0x12cccb(0x18c)+_0x12cccb(0x1a8)+_0x12cccb(0x135)+_0x12cccb(0x103)+_0x12cccb(0x11d)+'irobi*','mentions':[_0x3116cb[_0x12cccb(0x17d)][_0x12cccb(0x14f)]?_0x3dc615:_0x3116cb[_0x12cccb(0x17d)]['participan'+'t']||_0x3116cb[_0x12cccb(0x17d)][_0x12cccb(0x10d)]]});return;}try{const _0x2f03ce=getConfig(),_0x1957d9=_0x2f03ce[_0x12cccb(0x19f)+_0x12cccb(0x186)],_0x1237af=_0x2f03ce[_0x12cccb(0x18f)]||_0x12cccb(0x122)+_0x12cccb(0x19b);await botInstance[_0x12cccb(0x16d)+'e'](_0x420c89,{'text':'üå§Ô∏è\x20Fetching'+_0x12cccb(0x1a0)+_0x12cccb(0x16a)+_0x571b60+_0x12cccb(0x112),'mentions':[_0x3116cb['key'][_0x12cccb(0x14f)]?_0x3dc615:_0x3116cb['key']['participan'+'t']||_0x3116cb[_0x12cccb(0x17d)]['remoteJid']]});let _0x1c6633;_0x1957d9?(info(name+(':\x20Using\x20Op'+_0x12cccb(0x176)+'ap\x20API')),_0x1c6633=await fetchOpenWeatherMap(_0x571b60,_0x1957d9,_0x1237af)):(info(name+(':\x20No\x20OPENW'+_0x12cccb(0x1a6)+_0x12cccb(0x196)+'.\x20Using\x20Op'+'en-Meteo\x20f'+_0x12cccb(0x192))),_0x1c6633=await fetchOpenMeteo(_0x571b60,_0x1237af)),await botInstance['sendMessag'+'e'](_0x420c89,{'text':_0x1c6633}),info(name+(_0x12cccb(0x137)+_0x12cccb(0x11c)+'\x22')+_0x571b60+_0x12cccb(0x18d)+_0x420c89);}catch(_0x458e9d){error(_0x458e9d,name+(_0x12cccb(0x188)+_0x12cccb(0x1a1))),await botInstance[_0x12cccb(0x16d)+'e'](_0x420c89,{'text':_0x12cccb(0x126)+_0x12cccb(0x179)+_0x12cccb(0x169)+'\x22'+_0x571b60+_0x12cccb(0x164)+_0x458e9d[_0x12cccb(0x156)],'mentions':[_0x3116cb[_0x12cccb(0x17d)][_0x12cccb(0x14f)]?_0x3dc615:_0x3116cb['key'][_0x12cccb(0x118)+'t']||_0x3116cb[_0x12cccb(0x17d)][_0x12cccb(0x10d)]]});}}export async function cleanup(){const _0x59c1fa=_0x265c5a;try{botInstance=null,respondedMsgIds[_0x59c1fa(0x1a7)](),info(name+(_0x59c1fa(0x144)+'up'));}catch(_0x14a996){warn(name+(_0x59c1fa(0x183)+_0x59c1fa(0x10a))+(_0x14a996?.[_0x59c1fa(0x156)]||_0x14a996));}}