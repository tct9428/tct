const _0x51862e=_0x55d6;(function(_0x29a277,_0x292a90){const _0x1869af=_0x55d6,_0xf2ff74=_0x29a277();while(!![]){try{const _0x369af5=-parseInt(_0x1869af(0xb5))/(-0x584+-0x48b*0x1+0xa10)+-parseInt(_0x1869af(0x86))/(0x1ddf+-0x6d7*0x2+-0x102f)*(-parseInt(_0x1869af(0xa9))/(-0x7f6*0x4+-0x1ec5*-0x1+-0x2*-0x8b))+parseInt(_0x1869af(0x96))/(-0xd4c+-0x5e1+0x1331)+parseInt(_0x1869af(0x83))/(-0x29f+-0x13*-0x17b+0xe1*-0x1d)*(parseInt(_0x1869af(0xa8))/(-0x7*-0x533+0x86*0x5+-0x26fd))+parseInt(_0x1869af(0xd0))/(0x252a+-0x1605+0x102*-0xf)*(parseInt(_0x1869af(0xa7))/(0x1ae9+-0x2*0x127d+0xa19))+parseInt(_0x1869af(0xb3))/(0x13b0+-0x65b+-0xd4c)+parseInt(_0x1869af(0xcb))/(-0x8*-0x148+0x1039+-0x1a6f)*(-parseInt(_0x1869af(0x8e))/(0x156b+0x1*-0x134f+-0x211));if(_0x369af5===_0x292a90)break;else _0xf2ff74['push'](_0xf2ff74['shift']());}catch(_0x198fa6){_0xf2ff74['push'](_0xf2ff74['shift']());}}}(_0x4139,0x124a86+0x162aa+0xa00d5*-0x1));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';function _0x4139(){const _0x2ba658=['jid','stination\x20','11331729rUfTqz','tist','568087yDAmVD',':\x20api\x20','lyrics','\x20cleaned\x20u','string','retrieve\x20l','zed.','send\x20lyric','artist','ling\x20back\x20','\x20Rhapsody','from','ssage:\x20','Unknown\x20Ar','rror:\x20','\x0aüë§\x20','get','bot','.moe/novrn','ion)\x20for\x20\x22','toLowerCas','trim','31243460cGQKqa','i.dreaded.','·∂ú·µí·µñ ∏ ≥·∂¶·µç ∞·µó\x20','Searching\x20','to\x20sending','361431cnCMbk','ase\x20try\x20ag','t\x20determin','hers/lyric','·∂úÀ¢\x20·µê·µÉ ∏\x20·µá·µâ\x20','\x20failed:\x20','thumb','rror','‚ÅøÀ¢.','‚ú®\x20tct\x20‚Äî\x20LY','arraybuffe','yrics.\x20Ple',':\x20image\x20fe','key','iltech.my.','https://ap','text)\x20for\x20','length','data','fromMe','67415OtLkVf','·µñ·µÉ ≥·µó·∂¶·µÉÀ°\x20·µí ≥','has','2QGYeUi',':\x20botInsta','message','edMatch\x20er','d\x20lyrics\x20(','lyrics\x20for',':\x20findStor','·µó ∞·µâÀ¢·µâ\x20À° ∏ ≥·∂¶','11MYLRiA','\x22\x20to\x20','startsWith','map','id/lyrics?','result','\x20full\x20text','s\x20Bohemian','3440232CsXGES','s?title=','\x20handler\x20e','Usage:\x20lyr','ics\x20<song\x20','isCommand','api.com/ot','for\x20messag','title','À°·µâ\x20·µà·µò·µâ\x20·µó·µí\x20','client','nce\x20missin','\x20text\x20send','\x20as\x20one\x20me',':\x20delivere','me-random-','sendMessag','56rTYcbH','312DiyzWF','3434082YsJFbf','binary','split','add','n.jpg','text','ain\x20later.','ailed,\x20fal'];_0x4139=function(){return _0x2ba658;};return _0x4139();}import _0x380269 from'axios';export const name=_0x51862e(0xb7);export const version='1.0.4';export const priority=-0x6e+-0x1825+-0x189d*-0x1;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x862140=[]){const _0x503289=_0x51862e;try{const _0x9bd51=await listSudo(),_0x52f338=new Set(_0x9bd51[_0x503289(0x91)](String));for(const _0x1af239 of _0x862140){if(!_0x1af239||typeof _0x1af239['jid']!=='string')continue;const _0x520b85=normalizeToJid(_0x1af239[_0x503289(0xb1)]);if(_0x520b85&&_0x52f338[_0x503289(0x85)](_0x520b85))return _0x520b85;if(_0x52f338[_0x503289(0x85)](_0x1af239[_0x503289(0xb1)]))return _0x1af239[_0x503289(0xb1)];}return null;}catch(_0x2bb8da){return warn(name+(_0x503289(0x8c)+_0x503289(0x89)+'ror:\x20')+(_0x2bb8da?.[_0x503289(0x88)]||_0x2bb8da)),null;}}function _0x55d6(_0x405eb2,_0x2046a8){const _0x53ef54=_0x4139();return _0x55d6=function(_0x2f296b,_0x12380f){_0x2f296b=_0x2f296b-(0x113*-0xa+0xdd1+0x2*-0x14b);let _0x254788=_0x53ef54[_0x2f296b];return _0x254788;},_0x55d6(_0x405eb2,_0x2046a8);}function pickLyricsFromResponse(_0x1938e0){const _0x9b1dd=_0x51862e;if(!_0x1938e0)return null;if(_0x1938e0[_0x9b1dd(0x93)]&&_0x1938e0[_0x9b1dd(0x93)][_0x9b1dd(0xb7)])return{'title':_0x1938e0[_0x9b1dd(0x93)][_0x9b1dd(0x9e)]||null,'artist':_0x1938e0[_0x9b1dd(0x93)][_0x9b1dd(0xbd)]||null,'thumb':_0x1938e0[_0x9b1dd(0x93)][_0x9b1dd(0xd6)]||null,'lyrics':_0x1938e0[_0x9b1dd(0x93)][_0x9b1dd(0xb7)]||null};if(_0x1938e0[_0x9b1dd(0xb7)]&&typeof _0x1938e0['lyrics']===_0x9b1dd(0xb9))return{'title':_0x1938e0['title']||null,'artist':_0x1938e0['artist']||null,'thumb':_0x1938e0['thumb']||null,'lyrics':_0x1938e0[_0x9b1dd(0xb7)]};if(_0x1938e0['data']&&_0x1938e0['data']['lyrics'])return{'title':_0x1938e0['data'][_0x9b1dd(0x9e)]||null,'artist':_0x1938e0[_0x9b1dd(0x81)]['artist']||null,'thumb':_0x1938e0[_0x9b1dd(0x81)][_0x9b1dd(0xd6)]||null,'lyrics':_0x1938e0[_0x9b1dd(0x81)]['lyrics']};if(typeof _0x1938e0===_0x9b1dd(0xb9)&&_0x1938e0[_0x9b1dd(0xca)]()[_0x9b1dd(0x80)]>-0x1*0x47e+-0x448*-0x5+-0x10ea)return{'title':null,'artist':null,'thumb':null,'lyrics':_0x1938e0};return null;}export async function initialize(_0x8a077f){const _0x270dd3=_0x51862e;botInstance=_0x8a077f,info(name+(':\x20initiali'+_0x270dd3(0xbb)));}export async function onMessage(_0x2367e6){const _0x35140b=_0x51862e;try{if(!_0x2367e6?.['key']||!_0x2367e6[_0x35140b(0x9b)])return;const _0x12c038=_0x2367e6[_0x35140b(0xdd)]['id'];if(_0x12c038&&respondedMsgIds[_0x35140b(0x85)](_0x12c038))return;if(_0x12c038)respondedMsgIds[_0x35140b(0xac)](_0x12c038);const _0x5c07f9=(_0x2367e6[_0x35140b(0xae)]||'')['trim']();if(!_0x5c07f9['toLowerCas'+'e']()[_0x35140b(0x90)](_0x35140b(0xb7)))return;const _0x17f9a9=_0x5c07f9[_0x35140b(0xab)](/\s+/),_0x12d731=_0x17f9a9[-0x69a+0x1d32+-0x1698][_0x35140b(0xc9)+'e']();if(_0x12d731!=='lyrics')return;if(!botInstance)botInstance=_0x2367e6[_0x35140b(0xc6)]||_0x2367e6[_0x35140b(0xa0)];if(!botInstance){warn(name+(_0x35140b(0x87)+_0x35140b(0xa1)+'g'));return;}const _0x5a097e=getBotJid();let _0x209715;if(_0x2367e6[_0x35140b(0xdd)][_0x35140b(0x82)])_0x209715=_0x5a097e;else{const _0x21c68a=await isSudo(botInstance,_0x2367e6)['catch'](()=>![]);if(!_0x21c68a)return;const {findings:_0x51ec82}=userJidFromCtx(_0x2367e6),_0x2babc3=await findStoredMatchFromFindings(_0x51ec82);if(!_0x2babc3)return;_0x209715=_0x2babc3;}if(!_0x209715){warn(name+(':\x20Could\x20no'+_0x35140b(0xd2)+'e\x20final\x20de'+_0x35140b(0xb2)+_0x35140b(0x9d)+'e.'));return;}const _0x2bec9d=_0x17f9a9['slice'](-0xffd*-0x1+0xae3+-0x1adf*0x1)['join']('\x20')['trim']();if(!_0x2bec9d){await botInstance[_0x35140b(0xa6)+'e'](_0x209715,{'text':_0x35140b(0x99)+_0x35140b(0x9a)+'name>\x0aExam'+'ple:\x20lyric'+_0x35140b(0x95)+_0x35140b(0xbf)});return;}try{await botInstance[_0x35140b(0xa6)+'e'](_0x209715,{'text':_0x35140b(0xce)+_0x35140b(0x8b)+'\x20\x22'+_0x2bec9d+'\x22...'},{'quoted':_0x2367e6['ms']});}catch(_0xd1a712){try{await botInstance[_0x35140b(0xa6)+'e'](_0x209715,{'text':'Searching\x20'+_0x35140b(0x8b)+'\x20\x22'+_0x2bec9d+'\x22...'});}catch(_0xe6e454){}}const _0x17ba5a=[_0x35140b(0x7e)+_0x35140b(0xcc)+'site/api/l'+'yrics?titl'+'e='+encodeURIComponent(_0x2bec9d),'https://so'+_0x35140b(0xa5)+_0x35140b(0x9c)+_0x35140b(0xd3)+_0x35140b(0x97)+encodeURIComponent(_0x2bec9d),_0x35140b(0x7e)+'i.davidcyr'+_0x35140b(0x7d)+_0x35140b(0x92)+'title='+encodeURIComponent(_0x2bec9d)];let _0x4bc23a=null;for(const _0x4706fe of _0x17ba5a){try{const _0x50f9f5=await _0x380269[_0x35140b(0xc5)](_0x4706fe,{'timeout':0x2710}),_0x453c41=pickLyricsFromResponse(_0x50f9f5[_0x35140b(0x81)]);if(_0x453c41&&_0x453c41[_0x35140b(0xb7)]&&_0x453c41[_0x35140b(0xb7)][_0x35140b(0xca)]()['length']>-0x3*0x949+-0x1aa7+0x2*0x1b41){_0x4bc23a=_0x453c41;break;}}catch(_0x3f1992){warn(name+_0x35140b(0xb6)+_0x4706fe+_0x35140b(0xd5)+(_0x3f1992?.[_0x35140b(0x88)]||_0x3f1992));}}if(!_0x4bc23a){await botInstance[_0x35140b(0xa6)+'e'](_0x209715,{'text':'Failed\x20to\x20'+_0x35140b(0xba)+_0x35140b(0xdb)+_0x35140b(0xd1)+_0x35140b(0xaf)});return;}const _0x47887a=_0x4bc23a[_0x35140b(0x9e)]||_0x2bec9d,_0x37a79b=_0x4bc23a[_0x35140b(0xbd)]||_0x35140b(0xc2)+_0x35140b(0xb4),_0x4131fb=_0x4bc23a[_0x35140b(0xd6)]||'https://fi'+'les.catbox'+_0x35140b(0xc7)+_0x35140b(0xad),_0x1a7faa=String(_0x4bc23a['lyrics']||'')[_0x35140b(0xca)](),_0x1cfbab=_0x35140b(0x8d)+_0x35140b(0xd4)+_0x35140b(0x84)+'\x20·µò‚Åø·µÉ·µõ·µÉ‚Å±À°·µÉ·µá'+_0x35140b(0x9f)+_0x35140b(0xcd)+' ≥·µâÀ¢·µó ≥·∂¶·∂ú·µó·∂¶·µí'+_0x35140b(0xd8),_0x38af11=_0x35140b(0xd9)+'RICS\x20‚ú®\x0a\x0aüéµ\x20'+_0x47887a+_0x35140b(0xc4)+_0x37a79b+'\x0a'+_0x1cfbab+'\x0a\x0a'+_0x1a7faa;try{const _0x5330fb=await _0x380269[_0x35140b(0xc5)](_0x4131fb,{'responseType':_0x35140b(0xda)+'r','timeout':0x2710}),_0x5c5bc8=Buffer[_0x35140b(0xc0)](_0x5330fb[_0x35140b(0x81)],_0x35140b(0xaa));await botInstance[_0x35140b(0xa6)+'e'](_0x209715,{'image':_0x5c5bc8,'caption':_0x38af11},{'quoted':_0x2367e6['ms']}),info(name+(_0x35140b(0xa4)+'d\x20lyrics\x20('+'image+capt'+_0x35140b(0xc8))+_0x2bec9d+_0x35140b(0x8f)+_0x209715);return;}catch(_0x35b014){warn(name+(_0x35140b(0xdc)+'tch/send\x20f'+_0x35140b(0xb0)+_0x35140b(0xbe)+_0x35140b(0xcf)+_0x35140b(0x94)+_0x35140b(0xa3)+_0x35140b(0xc1))+(_0x35b014?.['message']||_0x35b014));try{await botInstance[_0x35140b(0xa6)+'e'](_0x209715,{'text':_0x38af11},{'quoted':_0x2367e6['ms']}),info(name+(_0x35140b(0xa4)+_0x35140b(0x8a)+_0x35140b(0x7f)+'\x22')+_0x2bec9d+_0x35140b(0x8f)+_0x209715);return;}catch(_0x2d6c62){error(_0x2d6c62,name+(':\x20fallback'+_0x35140b(0xa2)+'\x20failed')),await botInstance['sendMessag'+'e'](_0x209715,{'text':'Failed\x20to\x20'+_0x35140b(0xbc)+'s.'});return;}}}catch(_0x2c77d0){error(_0x2c77d0,name+(_0x35140b(0x98)+_0x35140b(0xd7)));}}export async function cleanup(){const _0x5b3f50=_0x51862e;try{botInstance=null,respondedMsgIds['clear'](),info(name+(_0x5b3f50(0xb8)+'p'));}catch(_0xe7716e){warn(name+('\x20cleanup\x20e'+_0x5b3f50(0xc3))+(_0xe7716e?.[_0x5b3f50(0x88)]||_0xe7716e));}}