(function(_0x2ad606,_0x37a95e){const _0x281033=_0x59c7,_0xc17acb=_0x2ad606();while(!![]){try{const _0x50f6b2=parseInt(_0x281033(0xdc))/(-0x1ba*-0x12+-0x24be+0x5ab)+-parseInt(_0x281033(0xc9))/(-0x115a+-0xd3c+0x3d3*0x8)+parseInt(_0x281033(0xd3))/(0xb35+0x21*0xd7+-0x26e9)+parseInt(_0x281033(0xbe))/(-0xa*-0x222+-0x5*-0x6a9+-0x369d)+parseInt(_0x281033(0xc7))/(-0x7*-0x281+0x245b+-0x1*0x35dd)+parseInt(_0x281033(0xb7))/(-0x26dc+-0x4e8+0x2bca)+-parseInt(_0x281033(0xd4))/(-0x25*-0xca+-0x17b8+0x5d*-0xf);if(_0x50f6b2===_0x37a95e)break;else _0xc17acb['push'](_0xc17acb['shift']());}catch(_0xd61fdc){_0xc17acb['push'](_0xc17acb['shift']());}}}(_0x393e,0x13*-0x5f0b+-0x2b*-0x3de5+0x53c03));function _0x393e(){const _0x21d738=['s\x20Bohemian','n.jpg','thumb','api.com/ot','\x20as\x20one\x20me','\x20text\x20send',':\x20botInsta',':\x20fallback',':\x20Could\x20no','tist','split','\x20cleaned\x20u','rror','jid','name>\x0aExam','trim','nce\x20missin','RICS\x20‚ú®\x0a\x0aüéµ\x20','ase\x20try\x20ag','data','\x20·µò‚Åø·µÉ·µõ·µÉ‚Å±À°·µÉ·µá','hers/lyric','to\x20sending','e\x20final\x20de','image+capt','lyrics','client','ple:\x20lyric',':\x20delivere','\x20failed','·µó ∞·µâÀ¢·µâ\x20À° ∏ ≥·∂¶','‚ú®\x20tct\x20‚Äî\x20LY','clear','·µñ·µÉ ≥·µó·∂¶·µÉÀ°\x20·µí ≥','\x22\x20to\x20','startsWith','Failed\x20to\x20','ics\x20<song\x20','\x20cleanup\x20e','slice','i.davidcyr','‚ÅøÀ¢.','Unknown\x20Ar','artist',':\x20image\x20fe','sendMessag','i.dreaded.','title','binary','.moe/novrn','1833684glyOKL','\x20failed:\x20','rror:\x20','zed.','\x22...','id/lyrics?','join','3204964gzjivK','À°·µâ\x20·µà·µò·µâ\x20·µó·µí\x20','s?title=','ain\x20later.','length','arraybuffe','d\x20lyrics\x20(','key','site/api/l','4859410uujMib','Usage:\x20lyr','1804806FYGiFJ',':\x20initiali','tch/send\x20f','t\x20determin','get','lyrics\x20for','·∂ú·µí·µñ ∏ ≥·∂¶·µç ∞·µó\x20','\x20full\x20text','Searching\x20','les.catbox','1421445msvsHO','7674632gsoTZk','map','from','ror:\x20','message','retrieve\x20l','result','https://fi','8316dZdVeS','yrics.\x20Ple','https://ap','text)\x20for\x20','ailed,\x20fal','has','string',':\x20api\x20','add'];_0x393e=function(){return _0x21d738;};return _0x393e();}import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';function _0x59c7(_0x25007d,_0x416b6d){const _0x54e919=_0x393e();return _0x59c7=function(_0x337c61,_0x39ef3f){_0x337c61=_0x337c61-(0x6a8*0x3+0x2386*0x1+-0x1246*0x3);let _0x29c71e=_0x54e919[_0x337c61];return _0x29c71e;},_0x59c7(_0x25007d,_0x416b6d);}import{getBotJid}from'../utils/bot-state.js';import _0x404b4f from'axios';export const name='lyrics';export const version='1.0.4';export const priority=-0x1*-0x1e7f+0x31c+-0x2191;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x40a0ed=[]){const _0x31fd20=_0x59c7;try{const _0x4550b1=await listSudo(),_0x3bfc67=new Set(_0x4550b1[_0x31fd20(0xd5)](String));for(const _0x40d5c6 of _0x40a0ed){if(!_0x40d5c6||typeof _0x40d5c6[_0x31fd20(0xf2)]!==_0x31fd20(0xe2))continue;const _0x449a67=normalizeToJid(_0x40d5c6[_0x31fd20(0xf2)]);if(_0x449a67&&_0x3bfc67[_0x31fd20(0xe1)](_0x449a67))return _0x449a67;if(_0x3bfc67['has'](_0x40d5c6[_0x31fd20(0xf2)]))return _0x40d5c6['jid'];}return null;}catch(_0x453112){return warn(name+(':\x20findStor'+'edMatch\x20er'+_0x31fd20(0xd7))+(_0x453112?.[_0x31fd20(0xd8)]||_0x453112)),null;}}function pickLyricsFromResponse(_0xcc7653){const _0x5c242e=_0x59c7;if(!_0xcc7653)return null;if(_0xcc7653[_0x5c242e(0xda)]&&_0xcc7653['result']['lyrics'])return{'title':_0xcc7653['result']['title']||null,'artist':_0xcc7653[_0x5c242e(0xda)][_0x5c242e(0xb0)]||null,'thumb':_0xcc7653['result'][_0x5c242e(0xe7)]||null,'lyrics':_0xcc7653[_0x5c242e(0xda)]['lyrics']||null};if(_0xcc7653[_0x5c242e(0xfe)]&&typeof _0xcc7653[_0x5c242e(0xfe)]===_0x5c242e(0xe2))return{'title':_0xcc7653[_0x5c242e(0xb4)]||null,'artist':_0xcc7653[_0x5c242e(0xb0)]||null,'thumb':_0xcc7653['thumb']||null,'lyrics':_0xcc7653[_0x5c242e(0xfe)]};if(_0xcc7653[_0x5c242e(0xf8)]&&_0xcc7653[_0x5c242e(0xf8)]['lyrics'])return{'title':_0xcc7653[_0x5c242e(0xf8)][_0x5c242e(0xb4)]||null,'artist':_0xcc7653[_0x5c242e(0xf8)][_0x5c242e(0xb0)]||null,'thumb':_0xcc7653[_0x5c242e(0xf8)][_0x5c242e(0xe7)]||null,'lyrics':_0xcc7653['data'][_0x5c242e(0xfe)]};if(typeof _0xcc7653===_0x5c242e(0xe2)&&_0xcc7653[_0x5c242e(0xf4)]()[_0x5c242e(0xc2)]>0x450+0xc25+0x1075*-0x1)return{'title':null,'artist':null,'thumb':null,'lyrics':_0xcc7653};return null;}export async function initialize(_0x243b9e){const _0x29174b=_0x59c7;botInstance=_0x243b9e,info(name+(_0x29174b(0xca)+_0x29174b(0xba)));}export async function onMessage(_0x20e589){const _0x5cf612=_0x59c7;try{if(!_0x20e589?.[_0x5cf612(0xc5)]||!_0x20e589['isCommand'])return;const _0x3cbaf2=_0x20e589[_0x5cf612(0xc5)]['id'];if(_0x3cbaf2&&respondedMsgIds[_0x5cf612(0xe1)](_0x3cbaf2))return;if(_0x3cbaf2)respondedMsgIds[_0x5cf612(0xe4)](_0x3cbaf2);const _0x14e657=(_0x20e589['text']||'')['trim']();if(!_0x14e657['toLowerCas'+'e']()[_0x5cf612(0x108)](_0x5cf612(0xfe)))return;const _0x15de51=_0x14e657[_0x5cf612(0xef)](/\s+/),_0x1e662a=_0x15de51[-0xfa4+-0x15c3+0x2567]['toLowerCas'+'e']();if(_0x1e662a!=='lyrics')return;if(!botInstance)botInstance=_0x20e589['bot']||_0x20e589[_0x5cf612(0xff)];if(!botInstance){warn(name+(_0x5cf612(0xeb)+_0x5cf612(0xf5)+'g'));return;}const _0x11b85a=getBotJid();let _0x667f96;if(_0x20e589['key']['fromMe'])_0x667f96=_0x11b85a;else{const _0x22b022=await isSudo(botInstance,_0x20e589)['catch'](()=>![]);if(!_0x22b022)return;const {findings:_0x48d9e7}=userJidFromCtx(_0x20e589),_0x50cbc5=await findStoredMatchFromFindings(_0x48d9e7);if(!_0x50cbc5)return;_0x667f96=_0x50cbc5;}if(!_0x667f96){warn(name+(_0x5cf612(0xed)+_0x5cf612(0xcc)+_0x5cf612(0xfc)+'stination\x20'+'for\x20messag'+'e.'));return;}const _0x1ce8d4=_0x15de51[_0x5cf612(0xac)](-0x1d*0x45+0x126a*0x2+-0x2*0xe81)[_0x5cf612(0xbd)]('\x20')['trim']();if(!_0x1ce8d4){await botInstance[_0x5cf612(0xb2)+'e'](_0x667f96,{'text':_0x5cf612(0xc8)+_0x5cf612(0x10a)+_0x5cf612(0xf3)+_0x5cf612(0x100)+_0x5cf612(0xe5)+'\x20Rhapsody'});return;}try{await botInstance[_0x5cf612(0xb2)+'e'](_0x667f96,{'text':_0x5cf612(0xd1)+_0x5cf612(0xce)+'\x20\x22'+_0x1ce8d4+'\x22...'},{'quoted':_0x20e589['ms']});}catch(_0x62bc27){try{await botInstance[_0x5cf612(0xb2)+'e'](_0x667f96,{'text':_0x5cf612(0xd1)+_0x5cf612(0xce)+'\x20\x22'+_0x1ce8d4+_0x5cf612(0xbb)});}catch(_0x36e236){}}const _0x419c22=[_0x5cf612(0xde)+_0x5cf612(0xb3)+_0x5cf612(0xc6)+'yrics?titl'+'e='+encodeURIComponent(_0x1ce8d4),'https://so'+'me-random-'+_0x5cf612(0xe8)+_0x5cf612(0xfa)+_0x5cf612(0xc0)+encodeURIComponent(_0x1ce8d4),_0x5cf612(0xde)+_0x5cf612(0xad)+'iltech.my.'+_0x5cf612(0xbc)+'title='+encodeURIComponent(_0x1ce8d4)];let _0x3fb56f=null;for(const _0x190b8d of _0x419c22){try{const _0x5d9beb=await _0x404b4f[_0x5cf612(0xcd)](_0x190b8d,{'timeout':0x2710}),_0x3e25b6=pickLyricsFromResponse(_0x5d9beb['data']);if(_0x3e25b6&&_0x3e25b6['lyrics']&&_0x3e25b6[_0x5cf612(0xfe)][_0x5cf612(0xf4)]()[_0x5cf612(0xc2)]>-0xbd7+-0xa*0x7d+0x10b9){_0x3fb56f=_0x3e25b6;break;}}catch(_0x3143ab){warn(name+_0x5cf612(0xe3)+_0x190b8d+_0x5cf612(0xb8)+(_0x3143ab?.[_0x5cf612(0xd8)]||_0x3143ab));}}if(!_0x3fb56f){await botInstance[_0x5cf612(0xb2)+'e'](_0x667f96,{'text':_0x5cf612(0x109)+_0x5cf612(0xd9)+_0x5cf612(0xdd)+_0x5cf612(0xf7)+_0x5cf612(0xc1)});return;}const _0x2354bb=_0x3fb56f[_0x5cf612(0xb4)]||_0x1ce8d4,_0x30a481=_0x3fb56f[_0x5cf612(0xb0)]||_0x5cf612(0xaf)+_0x5cf612(0xee),_0x472f02=_0x3fb56f[_0x5cf612(0xe7)]||_0x5cf612(0xdb)+_0x5cf612(0xd2)+_0x5cf612(0xb6)+_0x5cf612(0xe6),_0x2716a1=String(_0x3fb56f['lyrics']||'')['trim'](),_0x591235=_0x5cf612(0x103)+'·∂úÀ¢\x20·µê·µÉ ∏\x20·µá·µâ\x20'+_0x5cf612(0x106)+_0x5cf612(0xf9)+_0x5cf612(0xbf)+_0x5cf612(0xcf)+' ≥·µâÀ¢·µó ≥·∂¶·∂ú·µó·∂¶·µí'+_0x5cf612(0xae),_0x3f10bb=_0x5cf612(0x104)+_0x5cf612(0xf6)+_0x2354bb+'\x0aüë§\x20'+_0x30a481+'\x0a'+_0x591235+'\x0a\x0a'+_0x2716a1;try{const _0x406fff=await _0x404b4f[_0x5cf612(0xcd)](_0x472f02,{'responseType':_0x5cf612(0xc3)+'r','timeout':0x2710}),_0xf8231a=Buffer[_0x5cf612(0xd6)](_0x406fff[_0x5cf612(0xf8)],_0x5cf612(0xb5));await botInstance[_0x5cf612(0xb2)+'e'](_0x667f96,{'image':_0xf8231a,'caption':_0x3f10bb},{'quoted':_0x20e589['ms']}),info(name+(_0x5cf612(0x101)+_0x5cf612(0xc4)+_0x5cf612(0xfd)+'ion)\x20for\x20\x22')+_0x1ce8d4+_0x5cf612(0x107)+_0x667f96);return;}catch(_0x4b0a83){warn(name+(_0x5cf612(0xb1)+_0x5cf612(0xcb)+_0x5cf612(0xe0)+'ling\x20back\x20'+_0x5cf612(0xfb)+_0x5cf612(0xd0)+_0x5cf612(0xe9)+'ssage:\x20')+(_0x4b0a83?.[_0x5cf612(0xd8)]||_0x4b0a83));try{await botInstance[_0x5cf612(0xb2)+'e'](_0x667f96,{'text':_0x3f10bb},{'quoted':_0x20e589['ms']}),info(name+(':\x20delivere'+'d\x20lyrics\x20('+_0x5cf612(0xdf)+'\x22')+_0x1ce8d4+'\x22\x20to\x20'+_0x667f96);return;}catch(_0x4f32a2){error(_0x4f32a2,name+(_0x5cf612(0xec)+_0x5cf612(0xea)+_0x5cf612(0x102))),await botInstance[_0x5cf612(0xb2)+'e'](_0x667f96,{'text':'Failed\x20to\x20'+'send\x20lyric'+'s.'});return;}}}catch(_0x1752a5){error(_0x1752a5,name+('\x20handler\x20e'+_0x5cf612(0xf1)));}}export async function cleanup(){const _0x1c7b92=_0x59c7;try{botInstance=null,respondedMsgIds[_0x1c7b92(0x105)](),info(name+(_0x1c7b92(0xf0)+'p'));}catch(_0x22dc6b){warn(name+(_0x1c7b92(0x10b)+_0x1c7b92(0xb9))+(_0x22dc6b?.[_0x1c7b92(0xd8)]||_0x22dc6b));}}