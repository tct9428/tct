const _0x2eb7a1=_0x3e30;(function(_0x2f8dca,_0x4327e8){const _0x1e272b=_0x3e30,_0x11a805=_0x2f8dca();while(!![]){try{const _0x4ba1bb=parseInt(_0x1e272b(0x17e))/(0x1e77+0x675+0x24eb*-0x1)*(parseInt(_0x1e272b(0x141))/(-0x1549+-0x202b+0x11d2*0x3))+-parseInt(_0x1e272b(0x18e))/(0x1e27+0x1*-0x47f+-0x5*0x521)+-parseInt(_0x1e272b(0x1ad))/(-0x1291+0x2*-0xeab+0x2feb)*(-parseInt(_0x1e272b(0x14a))/(0x1d3f*0x1+-0x26bf+0x985))+-parseInt(_0x1e272b(0x16a))/(0x2332*0x1+-0x100f*-0x1+-0x333b*0x1)*(parseInt(_0x1e272b(0x138))/(-0x4*0x5f+-0x1*-0x17e1+0x165e*-0x1))+parseInt(_0x1e272b(0x160))/(-0xdcd*-0x1+-0x1afc+-0xd37*-0x1)+parseInt(_0x1e272b(0x1ae))/(0x47*0x48+0x837+-0x1c26*0x1)+parseInt(_0x1e272b(0x152))/(0x7ef+0xeff+0x5*-0x494)*(-parseInt(_0x1e272b(0x164))/(-0x21e3+0x39+0x21b5));if(_0x4ba1bb===_0x4327e8)break;else _0x11a805['push'](_0x11a805['shift']());}catch(_0xe62ca8){_0x11a805['push'](_0x11a805['shift']());}}}(_0x115a,0x1*-0x15f7ee+0xd*-0x1b375+0x95*0x6536));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';function _0x3e30(_0x579037,_0x2671b8){_0x579037=_0x579037-(-0x365+0x1ba*-0xf+0x1e83);const _0xe748fc=_0x115a();let _0x2d14b6=_0xe748fc[_0x579037];return _0x2d14b6;}import{getBotJid}from'../utils/bot-state.js';import _0x4d7202 from'axios';export const name=_0x2eb7a1(0x1b4);export const version=_0x2eb7a1(0x1ab);export const priority=0xbd8+-0x3*0x35b+0x1*-0x1bd;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0xf7df54=[]){const _0x93975e=_0x2eb7a1;try{const _0x852c42=await listSudo(),_0x283596=new Set(_0x852c42[_0x93975e(0x174)](String));for(const _0xee0554 of _0xf7df54){if(!_0xee0554||typeof _0xee0554[_0x93975e(0x14d)]!==_0x93975e(0x192))continue;const _0x20ea51=normalizeToJid(_0xee0554[_0x93975e(0x14d)]);if(_0x20ea51&&_0x283596[_0x93975e(0x16f)](_0x20ea51))return _0x20ea51;if(_0x283596[_0x93975e(0x16f)](_0xee0554['jid']))return _0xee0554[_0x93975e(0x14d)];}return null;}catch(_0x11e458){return warn(name+(_0x93975e(0x13e)+_0x93975e(0x176)+_0x93975e(0x1b0))+(_0x11e458?.[_0x93975e(0x143)]||_0x11e458)),null;}}function _0x115a(){const _0x28a302=['dius-metad','user','g>\x0aExample','from','key','startsWith','isCommand','\x20handler\x20e','https://ap','trim','‚ú®\x20tct\x20‚Äî\x20LY','st\x20the\x20son','syncedLyri','\x20available','\x20cleanup\x20e','ape\x20of\x20You','d\x20lyrics\x20(','arraybuffe','PI\x20failed:','bot','clib.net/a','d\x20lyrics\x20f','name','1.0.4','tracks/sea','172FjNFcn','7556751DnnwtY','data','ror:\x20','rror:\x20','split','\x20for\x20this\x20','lyrics','ics\x20<song\x20','clear','artistName','n.jpg','7coJehR','vh/v1/','ext=','150x150','length','hapsody\x0aly',':\x20findStor','vh\x20failed:','n\x20Rhapsody','23896jLuYFq','ent.io/v1/','message','·∂úÀ¢\x20·µê·µÉ ∏\x20·µá·µâ\x20','e\x20final\x20de','\x0alyrics\x20Sh','nce\x20missin','track','eran','117470iyIraF','binary',':\x20botInsta','jid','\x22...','RICS\x20‚ú®\x0a\x0aüéµ\x20','i.lyrics.o',':\x20Could\x20no','364730xlVsqa','rch?query=','includes','om/300x300','fromMe','client','g\x20title','\x20Title\x22\x0a‚Ä¢\x20','ist\x20-\x20Song','https://lr','get','text)\x20for\x20','s\x20found.\x20T','plainLyric','6382944ojBcyN','Unknown\x20Ar','\x20-\x20','\x20text\x20send','209aJUObu',':\x20Lyrics.o',':\x20Audius\x20A','substring','\x20·µò‚Åø·µÉ·µõ·µÉ‚Å±À°·µÉ·µá','\x20by\x20','6877284mwWyqQ','pi/search?','ata-2.figm','e\x20by\x20Artis','\x0a\x0a...\x20(lyr','has','artist','name\x20or\x20ar','Usage:\x20lyr','slice','map','.moe/novrn','edMatch\x20er',':\x20Alternat','add','rics\x20Queen',':\x20initiali','or\x20\x22','iled:\x20','thumb','38ZwJZzD','tist','https://fi','/333/fff&t','albumName','artwork','ders.','les.catbox','lyrics\x20for','text','Searching\x20','toLowerCas','tist\x20-\x20son','\x22\x20to\x20','\x22Song\x20Titl','title','872727yqWJqK','ive\x20API\x20fa','t\x22\x0a‚Ä¢\x20Or\x20ju','sendMessag','string',':\x20fallback'];_0x115a=function(){return _0x28a302;};return _0x115a();}async function getFromLyricsOvh(_0x351870){const _0x207d3d=_0x2eb7a1;try{let _0x4d8a66='Unknown\x20Ar'+_0x207d3d(0x17f),_0x372d3b=_0x351870;if(_0x351870[_0x207d3d(0x154)](_0x207d3d(0x162))){const _0x2a3df5=_0x351870[_0x207d3d(0x1b2)](_0x207d3d(0x162));_0x4d8a66=_0x2a3df5[-0x10f*-0x2+0x1996+-0x1bb4]['trim'](),_0x372d3b=_0x2a3df5[-0x22d8+-0x51c*0x2+0x2d11][_0x207d3d(0x19d)]();}else{if(_0x351870['includes'](_0x207d3d(0x169))){const _0x42ddd9=_0x351870['split'](_0x207d3d(0x169));_0x372d3b=_0x42ddd9[-0x287*-0xa+-0x1*-0x22bb+-0x3c01*0x1][_0x207d3d(0x19d)](),_0x4d8a66=_0x42ddd9[-0x1*-0x1357+-0x1*0x1309+-0x4d][_0x207d3d(0x19d)]();}}const _0x36f678=await _0x4d7202[_0x207d3d(0x15c)](_0x207d3d(0x19c)+_0x207d3d(0x150)+_0x207d3d(0x139)+encodeURIComponent(_0x4d8a66)+'/'+encodeURIComponent(_0x372d3b),{'timeout':0x2710});if(_0x36f678[_0x207d3d(0x1af)][_0x207d3d(0x1b4)])return{'title':_0x372d3b,'artist':_0x4d8a66,'lyrics':_0x36f678[_0x207d3d(0x1af)][_0x207d3d(0x1b4)],'thumb':'https://du'+'mmyimage.c'+_0x207d3d(0x155)+_0x207d3d(0x181)+_0x207d3d(0x13a)+encodeURIComponent(_0x372d3b[_0x207d3d(0x167)](-0x4c0+0x256+0x26a,0x8a5+-0x143d+-0x9d*-0x13))};}catch(_0x5b0580){warn(name+(_0x207d3d(0x165)+_0x207d3d(0x13f)+'\x20')+(_0x5b0580?.['message']||_0x5b0580));}return null;}async function getFromAudius(_0x34bf75){const _0x2089c2=_0x2eb7a1;try{const _0x22c44d=await _0x4d7202[_0x2089c2(0x15c)]('https://au'+_0x2089c2(0x194)+_0x2089c2(0x16c)+_0x2089c2(0x142)+_0x2089c2(0x1ac)+_0x2089c2(0x153)+encodeURIComponent(_0x34bf75),{'timeout':0x2710});if(_0x22c44d[_0x2089c2(0x1af)][_0x2089c2(0x1af)]&&_0x22c44d[_0x2089c2(0x1af)][_0x2089c2(0x1af)][_0x2089c2(0x13c)]>0x26e3+-0x18f5+-0x2*0x6f7){const _0x57c3d=_0x22c44d[_0x2089c2(0x1af)][_0x2089c2(0x1af)]['find'](_0xb5e8fb=>_0xb5e8fb['lyrics'])||_0x22c44d[_0x2089c2(0x1af)]['data'][0x2d7*0x6+0x148d+-0x2597];if(_0x57c3d)return{'title':_0x57c3d[_0x2089c2(0x18d)],'artist':_0x57c3d[_0x2089c2(0x195)]?.[_0x2089c2(0x1aa)]||_0x2089c2(0x161)+_0x2089c2(0x17f),'thumb':_0x57c3d[_0x2089c2(0x183)]?.[_0x2089c2(0x13b)]||null,'lyrics':_0x57c3d[_0x2089c2(0x1b4)]||'Lyrics\x20not'+_0x2089c2(0x1a1)+_0x2089c2(0x1b3)+_0x2089c2(0x148)};}}catch(_0x5211bd){warn(name+(_0x2089c2(0x166)+_0x2089c2(0x1a6)+'\x20')+(_0x5211bd?.['message']||_0x5211bd));}return null;}async function getFromAlternativeAPI(_0x43bb17){const _0x3f4b54=_0x2eb7a1;try{const _0x4d519c=await _0x4d7202[_0x3f4b54(0x15c)](_0x3f4b54(0x15b)+_0x3f4b54(0x1a8)+_0x3f4b54(0x16b)+'q='+encodeURIComponent(_0x43bb17),{'timeout':0x2710});if(_0x4d519c[_0x3f4b54(0x1af)]&&_0x4d519c[_0x3f4b54(0x1af)][_0x3f4b54(0x13c)]>0x1160+-0xbad+0x1*-0x5b3){const _0x40435b=_0x4d519c[_0x3f4b54(0x1af)][-0x5*-0x79+0x4aa+0x1*-0x707];return{'title':_0x40435b[_0x3f4b54(0x1aa)],'artist':_0x40435b[_0x3f4b54(0x1b7)],'lyrics':_0x40435b[_0x3f4b54(0x1a0)+'cs']||_0x40435b[_0x3f4b54(0x15f)+'s'],'thumb':_0x40435b[_0x3f4b54(0x182)]?'https://du'+'mmyimage.c'+_0x3f4b54(0x155)+_0x3f4b54(0x181)+_0x3f4b54(0x13a)+encodeURIComponent(_0x40435b[_0x3f4b54(0x182)]['substring'](-0x29*-0xe6+-0x4d*0x2+-0xc*0x305,0x21f8*-0x1+0x2*0x503+0x1801)):null};}}catch(_0x8739d1){warn(name+(_0x3f4b54(0x177)+_0x3f4b54(0x18f)+_0x3f4b54(0x17c))+(_0x8739d1?.[_0x3f4b54(0x143)]||_0x8739d1));}return null;}export async function initialize(_0x45ba95){const _0x591091=_0x2eb7a1;botInstance=_0x45ba95,info(name+(_0x591091(0x17a)+'zed\x20with\x20A'+'PI-only\x20ly'+'rics\x20provi'+_0x591091(0x184)));}export async function onMessage(_0x1023e7){const _0x1bda0e=_0x2eb7a1;try{if(!_0x1023e7?.['key']||!_0x1023e7[_0x1bda0e(0x19a)])return;const _0x1da661=_0x1023e7[_0x1bda0e(0x198)]['id'];if(_0x1da661&&respondedMsgIds[_0x1bda0e(0x16f)](_0x1da661))return;if(_0x1da661)respondedMsgIds[_0x1bda0e(0x178)](_0x1da661);const _0x1bea11=(_0x1023e7[_0x1bda0e(0x187)]||'')[_0x1bda0e(0x19d)]();if(!_0x1bea11[_0x1bda0e(0x189)+'e']()[_0x1bda0e(0x199)](_0x1bda0e(0x1b4)))return;const _0x1c96b6=_0x1bea11[_0x1bda0e(0x1b2)](/\s+/),_0x369656=_0x1c96b6[0x890+0x23*0x102+-0x2bd6*0x1][_0x1bda0e(0x189)+'e']();if(_0x369656!==_0x1bda0e(0x1b4))return;if(!botInstance)botInstance=_0x1023e7[_0x1bda0e(0x1a7)]||_0x1023e7[_0x1bda0e(0x157)];if(!botInstance){warn(name+(_0x1bda0e(0x14c)+_0x1bda0e(0x147)+'g'));return;}const _0x2a60a1=getBotJid();let _0x1b66f5;if(_0x1023e7['key'][_0x1bda0e(0x156)])_0x1b66f5=_0x2a60a1;else{const _0x3abaa4=await isSudo(botInstance,_0x1023e7)['catch'](()=>![]);if(!_0x3abaa4)return;const {findings:_0x4d4eca}=userJidFromCtx(_0x1023e7),_0x6b7e42=await findStoredMatchFromFindings(_0x4d4eca);if(!_0x6b7e42)return;_0x1b66f5=_0x6b7e42;}if(!_0x1b66f5){warn(name+(_0x1bda0e(0x151)+'t\x20determin'+_0x1bda0e(0x145)+'stination\x20'+'for\x20messag'+'e.'));return;}const _0x59cb23=_0x1c96b6[_0x1bda0e(0x173)](-0x1036+0x110e+-0x2b*0x5)['join']('\x20')[_0x1bda0e(0x19d)]();if(!_0x59cb23){await botInstance[_0x1bda0e(0x191)+'e'](_0x1b66f5,{'text':_0x1bda0e(0x172)+_0x1bda0e(0x1b5)+_0x1bda0e(0x171)+_0x1bda0e(0x18a)+_0x1bda0e(0x196)+'s:\x0alyrics\x20'+'Bohemian\x20R'+_0x1bda0e(0x13d)+_0x1bda0e(0x179)+'\x20-\x20Bohemia'+_0x1bda0e(0x140)+_0x1bda0e(0x146)+_0x1bda0e(0x1a3)+'\x20by\x20Ed\x20She'+_0x1bda0e(0x149)});return;}try{await botInstance[_0x1bda0e(0x191)+'e'](_0x1b66f5,{'text':_0x1bda0e(0x188)+_0x1bda0e(0x186)+'\x20\x22'+_0x59cb23+_0x1bda0e(0x14e)},{'quoted':_0x1023e7['ms']});}catch(_0x22f6c5){try{await botInstance['sendMessag'+'e'](_0x1b66f5,{'text':_0x1bda0e(0x188)+_0x1bda0e(0x186)+'\x20\x22'+_0x59cb23+_0x1bda0e(0x14e)});}catch(_0x14f58e){}}let _0x51a074=await getFromLyricsOvh(_0x59cb23)||await getFromAudius(_0x59cb23)||await getFromAlternativeAPI(_0x59cb23);if(!_0x51a074||!_0x51a074[_0x1bda0e(0x1b4)]){await botInstance['sendMessag'+'e'](_0x1b66f5,{'text':'‚ùå\x20No\x20lyric'+_0x1bda0e(0x15e)+'ry:\x0a‚Ä¢\x20\x22Art'+_0x1bda0e(0x15a)+_0x1bda0e(0x159)+_0x1bda0e(0x18c)+_0x1bda0e(0x16d)+_0x1bda0e(0x190)+_0x1bda0e(0x19f)+_0x1bda0e(0x158)});return;}const _0x38300f=_0x51a074[_0x1bda0e(0x18d)]||_0x59cb23,_0x4ee9a4=_0x51a074[_0x1bda0e(0x170)]||_0x1bda0e(0x161)+_0x1bda0e(0x17f),_0x18ff47=_0x51a074[_0x1bda0e(0x17d)]||_0x1bda0e(0x180)+_0x1bda0e(0x185)+_0x1bda0e(0x175)+_0x1bda0e(0x1b8),_0xff6826=String(_0x51a074[_0x1bda0e(0x1b4)]||'')[_0x1bda0e(0x19d)]();let _0x5ce642=_0xff6826;_0xff6826['length']>0xf3*0x8+0x1f6e+-0x195a&&(_0x5ce642=_0xff6826[_0x1bda0e(0x167)](-0x1db4+-0x122*0xa+0x2908,0xf8b*-0x1+0x250f+0x2*-0x3ec)+(_0x1bda0e(0x16e)+'ics\x20trunca'+'ted)'));const _0x5134f6='·µó ∞·µâÀ¢·µâ\x20À° ∏ ≥·∂¶'+_0x1bda0e(0x144)+'·µñ·µÉ ≥·µó·∂¶·µÉÀ°\x20·µí ≥'+_0x1bda0e(0x168)+'À°·µâ\x20·µà·µò·µâ\x20·µó·µí\x20'+'·∂ú·µí·µñ ∏ ≥·∂¶·µç ∞·µó\x20'+' ≥·µâÀ¢·µó ≥·∂¶·∂ú·µó·∂¶·µí'+'‚ÅøÀ¢.',_0x117da5=_0x1bda0e(0x19e)+_0x1bda0e(0x14f)+_0x38300f+'\x0aüë§\x20'+_0x4ee9a4+'\x0a'+_0x5134f6+'\x0a\x0a'+_0x5ce642;try{const _0x86ba6d=await _0x4d7202[_0x1bda0e(0x15c)](_0x18ff47,{'responseType':_0x1bda0e(0x1a5)+'r','timeout':0x2710}),_0x49da59=Buffer[_0x1bda0e(0x197)](_0x86ba6d[_0x1bda0e(0x1af)],_0x1bda0e(0x14b));await botInstance[_0x1bda0e(0x191)+'e'](_0x1b66f5,{'image':_0x49da59,'caption':_0x117da5},{'quoted':_0x1023e7['ms']}),info(name+(':\x20delivere'+_0x1bda0e(0x1a9)+_0x1bda0e(0x17b))+_0x59cb23+_0x1bda0e(0x18b)+_0x1b66f5);}catch(_0x13bb3b){try{await botInstance[_0x1bda0e(0x191)+'e'](_0x1b66f5,{'text':_0x117da5},{'quoted':_0x1023e7['ms']}),info(name+(':\x20delivere'+_0x1bda0e(0x1a4)+_0x1bda0e(0x15d)+'\x22')+_0x59cb23+'\x22\x20to\x20'+_0x1b66f5);}catch(_0x3a5743){error(_0x3a5743,name+(_0x1bda0e(0x193)+_0x1bda0e(0x163)+'\x20failed'));}}}catch(_0x138a15){error(_0x138a15,name+(_0x1bda0e(0x19b)+'rror'));}}export async function cleanup(){const _0x3bcde5=_0x2eb7a1;try{botInstance=null,respondedMsgIds[_0x3bcde5(0x1b6)](),info(name+('\x20cleaned\x20u'+'p'));}catch(_0x4cecc7){warn(name+(_0x3bcde5(0x1a2)+_0x3bcde5(0x1b1))+(_0x4cecc7?.[_0x3bcde5(0x143)]||_0x4cecc7));}}