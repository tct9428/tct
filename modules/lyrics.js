(function(_0x13878f,_0x3d9549){const _0x2bb2d6=_0x4f5e,_0x508faf=_0x13878f();while(!![]){try{const _0xf09c00=parseInt(_0x2bb2d6(0x1e3))/(-0x8e9+-0x20d9+0x1*0x29c3)*(parseInt(_0x2bb2d6(0x210))/(0xc3f+0xf99+-0x2*0xdeb))+parseInt(_0x2bb2d6(0x1d9))/(0x1b36+0x197c+-0x34af)*(parseInt(_0x2bb2d6(0x207))/(-0x3*0x4c+0x8f*-0x22+0x6a2*0x3))+-parseInt(_0x2bb2d6(0x1b3))/(0xaab+0x2122+-0x2bc8)+parseInt(_0x2bb2d6(0x203))/(0x142b+0x566+-0x1*0x198b)*(parseInt(_0x2bb2d6(0x20d))/(-0x8df+0xff+0x7e7))+parseInt(_0x2bb2d6(0x1f0))/(-0x11c8*0x1+0x749+-0x31*-0x37)*(-parseInt(_0x2bb2d6(0x1f6))/(0x1*-0x17ff+-0x251+0x5f*0x47))+-parseInt(_0x2bb2d6(0x1ac))/(-0x81e*0x2+0x1*0x1b2+0xe94)*(-parseInt(_0x2bb2d6(0x196))/(0x23ed+0xaea*-0x2+-0xe0e))+-parseInt(_0x2bb2d6(0x192))/(0x9*-0x1ac+0x1*0xbee+-0x3*-0x10e)*(parseInt(_0x2bb2d6(0x1e4))/(0x1660+0x6*0x455+-0xd9*0x39));if(_0xf09c00===_0x3d9549)break;else _0x508faf['push'](_0x508faf['shift']());}catch(_0x1fa9bf){_0x508faf['push'](_0x508faf['shift']());}}}(_0x2264,-0x3ab32+0x396c1+-0x1*-0x74abf));import{info,warn,error}from'../utils/logger.js';function _0x4f5e(_0x5b2d14,_0x422c6a){const _0x1d9936=_0x2264();return _0x4f5e=function(_0x1a4ca2,_0x32f04d){_0x1a4ca2=_0x1a4ca2-(0x4f+-0x16cf+-0x3*-0x806);let _0x136f12=_0x1d9936[_0x1a4ca2];return _0x136f12;},_0x4f5e(_0x5b2d14,_0x422c6a);}function _0x2264(){const _0x877060=['stination\x20','ist\x20-\x20Song','118083DliluX','17088669JiRQzn','eran','‚ú®\x20tct\x20‚Äî\x20LY','albumName','nce\x20missin','key','startsWith','\x0aüë§\x20',':\x20fallback','catch','\x20Title\x22\x0a‚Ä¢\x20','length','912SdIcYy','lyrics','isCommand','n\x20Rhapsody','\x20by\x20','\x22...','14463cAkKIh','rror:\x20',':\x20Lyrics.o','Searching\x20','ry:\x0a‚Ä¢\x20\x22Art','\x20handler\x20e',':\x20findStor','rror','om/300x300','rch?query=','ror:\x20','\x20for\x20this\x20','find','259200gvGpIp','has','artist','Lyrics\x20not','328768QnbQhV','includes','plainLyric','s\x20found.\x20T','vh\x20failed:','tist\x20-\x20son','77oTNyeH','tist','clear','14VVQdXz','À°·µâ\x20·µà·µò·µâ\x20·µó·µí\x20','binary','\x20available','add','12WxnVld','edMatch\x20er','data','https://fi','33LPlOVk','client','name\x20or\x20ar','\x20text\x20send','d\x20lyrics\x20(','150x150','Unknown\x20Ar','name','\x22\x20to\x20','text)\x20for\x20','clib.net/a','ics\x20<song\x20','Usage:\x20lyr','zed\x20with\x20A','.moe/novrn','t\x20determin',':\x20delivere','rics\x20provi','·∂ú·µí·µñ ∏ ≥·∂¶·µç ∞·µó\x20','s:\x0alyrics\x20','·∂úÀ¢\x20·µê·µÉ ∏\x20·µá·µâ\x20','for\x20messag','2958470AuXoVv','dius-metad','d\x20lyrics\x20f','PI-only\x20ly','RICS\x20‚ú®\x0a\x0aüéµ\x20','/333/fff&t','text','1916705pRnQdq','https://du','Bohemian\x20R','title','iled:\x20','e\x20by\x20Artis','\x0a\x0a...\x20(lyr','jid',' ≥·µâÀ¢·µó ≥·∂¶·∂ú·µó·∂¶·µí','track','split','les.catbox','https://lr',':\x20Could\x20no','trim','artwork','message','‚ùå\x20No\x20lyric','string','lyrics\x20for',':\x20botInsta','artistName','\x20cleaned\x20u','tracks/sea','fromMe','·µñ·µÉ ≥·µó·∂¶·µÉÀ°\x20·µí ≥','https://au','\x20cleanup\x20e','mmyimage.c','rics\x20Queen','i.lyrics.o','\x20by\x20Ed\x20She','sendMessag','t\x22\x0a‚Ä¢\x20Or\x20ju','pi/search?','substring',':\x20Alternat','thumb','6babFvG','\x20-\x20','ive\x20API\x20fa','\x20-\x20Bohemia','get','slice','join','bot'];_0x2264=function(){return _0x877060;};return _0x2264();}import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';import _0x3ad4ea from'axios';export const name='lyrics';export const version='1.0.4';export const priority=0x1*0x2aa+-0x1*0x1726+0x1*0x1486;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x22e8fd=[]){const _0x3d21e1=_0x4f5e;try{const _0x5a186d=await listSudo(),_0x1c1dd0=new Set(_0x5a186d['map'](String));for(const _0x11395b of _0x22e8fd){if(!_0x11395b||typeof _0x11395b[_0x3d21e1(0x1ba)]!==_0x3d21e1(0x1c5))continue;const _0x5e6dbc=normalizeToJid(_0x11395b[_0x3d21e1(0x1ba)]);if(_0x5e6dbc&&_0x1c1dd0[_0x3d21e1(0x204)](_0x5e6dbc))return _0x5e6dbc;if(_0x1c1dd0[_0x3d21e1(0x204)](_0x11395b[_0x3d21e1(0x1ba)]))return _0x11395b[_0x3d21e1(0x1ba)];}return null;}catch(_0x2f9416){return warn(name+(_0x3d21e1(0x1fc)+_0x3d21e1(0x193)+_0x3d21e1(0x200))+(_0x2f9416?.[_0x3d21e1(0x1c3)]||_0x2f9416)),null;}}async function getFromLyricsOvh(_0x485859){const _0x2bbbd6=_0x4f5e;try{let _0x45a36a=_0x2bbbd6(0x19c)+'tist',_0x566eeb=_0x485859;if(_0x485859['includes'](_0x2bbbd6(0x1da))){const _0x200259=_0x485859[_0x2bbbd6(0x1bd)](_0x2bbbd6(0x1da));_0x45a36a=_0x200259[-0x3f6+0x1ba7+-0x17b1][_0x2bbbd6(0x1c1)](),_0x566eeb=_0x200259[-0xb6*-0x7+-0x287+-0x139*0x2][_0x2bbbd6(0x1c1)]();}else{if(_0x485859[_0x2bbbd6(0x208)](_0x2bbbd6(0x1f4))){const _0x261e9b=_0x485859[_0x2bbbd6(0x1bd)]('\x20by\x20');_0x566eeb=_0x261e9b[0xbed+-0x209*-0x11+0x6*-0x7c1][_0x2bbbd6(0x1c1)](),_0x45a36a=_0x261e9b[0x1d3*-0x9+-0x1fdf+0x304b][_0x2bbbd6(0x1c1)]();}}const _0x28377b=await _0x3ad4ea[_0x2bbbd6(0x1dd)]('https://ap'+_0x2bbbd6(0x1d1)+'vh/v1/'+encodeURIComponent(_0x45a36a)+'/'+encodeURIComponent(_0x566eeb),{'timeout':0x2710});if(_0x28377b[_0x2bbbd6(0x194)][_0x2bbbd6(0x1f1)])return{'title':_0x566eeb,'artist':_0x45a36a,'lyrics':_0x28377b[_0x2bbbd6(0x194)][_0x2bbbd6(0x1f1)],'thumb':_0x2bbbd6(0x1b4)+'mmyimage.c'+_0x2bbbd6(0x1fe)+_0x2bbbd6(0x1b1)+'ext='+encodeURIComponent(_0x566eeb['substring'](-0x1676+0x1*-0x12a+0x17a0,0x2*-0x4d3+0x1*-0x1295+0x1c4a))};}catch(_0x5b9d66){warn(name+(_0x2bbbd6(0x1f8)+_0x2bbbd6(0x20b)+'\x20')+(_0x5b9d66?.[_0x2bbbd6(0x1c3)]||_0x5b9d66));}return null;}async function getFromAudius(_0x275d0f){const _0x4e611b=_0x4f5e;try{const _0x4746c6=await _0x3ad4ea['get'](_0x4e611b(0x1cd)+_0x4e611b(0x1ad)+'ata-2.figm'+'ent.io/v1/'+_0x4e611b(0x1ca)+_0x4e611b(0x1ff)+encodeURIComponent(_0x275d0f),{'timeout':0x2710});if(_0x4746c6['data'][_0x4e611b(0x194)]&&_0x4746c6[_0x4e611b(0x194)]['data']['length']>0x234f+-0x19d+-0x21b2){const _0x5ca98d=_0x4746c6[_0x4e611b(0x194)][_0x4e611b(0x194)][_0x4e611b(0x202)](_0x5c041d=>_0x5c041d['lyrics'])||_0x4746c6[_0x4e611b(0x194)][_0x4e611b(0x194)][-0x22cd+-0x1aa7+-0x2*-0x1eba];if(_0x5ca98d)return{'title':_0x5ca98d[_0x4e611b(0x1b6)],'artist':_0x5ca98d['user']?.['name']||_0x4e611b(0x19c)+_0x4e611b(0x20e),'thumb':_0x5ca98d[_0x4e611b(0x1c2)]?.[_0x4e611b(0x19b)]||null,'lyrics':_0x5ca98d[_0x4e611b(0x1f1)]||_0x4e611b(0x206)+_0x4e611b(0x213)+_0x4e611b(0x201)+_0x4e611b(0x1bc)};}}catch(_0x36dd1f){warn(name+(':\x20Audius\x20A'+'PI\x20failed:'+'\x20')+(_0x36dd1f?.['message']||_0x36dd1f));}return null;}async function getFromAlternativeAPI(_0x30327f){const _0x5962ce=_0x4f5e;try{const _0x2d2fd4=await _0x3ad4ea[_0x5962ce(0x1dd)](_0x5962ce(0x1bf)+_0x5962ce(0x1a0)+_0x5962ce(0x1d5)+'q='+encodeURIComponent(_0x30327f),{'timeout':0x2710});if(_0x2d2fd4['data']&&_0x2d2fd4[_0x5962ce(0x194)][_0x5962ce(0x1ef)]>-0x8ad+0xe8*-0x9+0x10d5){const _0x5d9a1a=_0x2d2fd4[_0x5962ce(0x194)][-0x1*0xadf+-0x199e+0x247d];return{'title':_0x5d9a1a[_0x5962ce(0x19d)],'artist':_0x5d9a1a[_0x5962ce(0x1c8)],'lyrics':_0x5d9a1a['syncedLyri'+'cs']||_0x5d9a1a[_0x5962ce(0x209)+'s'],'thumb':_0x5d9a1a[_0x5962ce(0x1e7)]?_0x5962ce(0x1b4)+_0x5962ce(0x1cf)+'om/300x300'+'/333/fff&t'+'ext='+encodeURIComponent(_0x5d9a1a[_0x5962ce(0x1e7)][_0x5962ce(0x1d6)](-0x109d*-0x1+-0x156d+0x4d0,0x1e57+-0x1*-0xc6d+0x1*-0x2ab5)):null};}}catch(_0x1e1198){warn(name+(_0x5962ce(0x1d7)+_0x5962ce(0x1db)+_0x5962ce(0x1b7))+(_0x1e1198?.[_0x5962ce(0x1c3)]||_0x1e1198));}return null;}export async function initialize(_0x4aff2d){const _0x25da13=_0x4f5e;botInstance=_0x4aff2d,info(name+(':\x20initiali'+_0x25da13(0x1a3)+_0x25da13(0x1af)+_0x25da13(0x1a7)+'ders.'));}export async function onMessage(_0x4ab014){const _0x1860b2=_0x4f5e;try{if(!_0x4ab014?.[_0x1860b2(0x1e9)]||!_0x4ab014[_0x1860b2(0x1f2)])return;const _0x5efe5d=_0x4ab014['key']['id'];if(_0x5efe5d&&respondedMsgIds[_0x1860b2(0x204)](_0x5efe5d))return;if(_0x5efe5d)respondedMsgIds[_0x1860b2(0x214)](_0x5efe5d);const _0x47d189=(_0x4ab014[_0x1860b2(0x1b2)]||'')[_0x1860b2(0x1c1)]();if(!_0x47d189['toLowerCas'+'e']()[_0x1860b2(0x1ea)]('lyrics'))return;const _0x3aadb6=_0x47d189[_0x1860b2(0x1bd)](/\s+/),_0x4e4ae0=_0x3aadb6[0x1ee1+0x1e5b+-0x3d3c]['toLowerCas'+'e']();if(_0x4e4ae0!==_0x1860b2(0x1f1))return;if(!botInstance)botInstance=_0x4ab014[_0x1860b2(0x1e0)]||_0x4ab014[_0x1860b2(0x197)];if(!botInstance){warn(name+(_0x1860b2(0x1c7)+_0x1860b2(0x1e8)+'g'));return;}const _0x1c336e=getBotJid();let _0x373c57;if(_0x4ab014[_0x1860b2(0x1e9)][_0x1860b2(0x1cb)])_0x373c57=_0x1c336e;else{const _0x238ec0=await isSudo(botInstance,_0x4ab014)[_0x1860b2(0x1ed)](()=>![]);if(!_0x238ec0)return;const {findings:_0x32a8bf}=userJidFromCtx(_0x4ab014),_0x2bbb08=await findStoredMatchFromFindings(_0x32a8bf);if(!_0x2bbb08)return;_0x373c57=_0x2bbb08;}if(!_0x373c57){warn(name+(_0x1860b2(0x1c0)+_0x1860b2(0x1a5)+'e\x20final\x20de'+_0x1860b2(0x1e1)+_0x1860b2(0x1ab)+'e.'));return;}const _0x5147bd=_0x3aadb6[_0x1860b2(0x1de)](-0x981*-0x3+0x1638+-0x32ba)[_0x1860b2(0x1df)]('\x20')['trim']();if(!_0x5147bd){await botInstance[_0x1860b2(0x1d3)+'e'](_0x373c57,{'text':_0x1860b2(0x1a2)+_0x1860b2(0x1a1)+_0x1860b2(0x198)+_0x1860b2(0x20c)+'g>\x0aExample'+_0x1860b2(0x1a9)+_0x1860b2(0x1b5)+'hapsody\x0aly'+_0x1860b2(0x1d0)+_0x1860b2(0x1dc)+_0x1860b2(0x1f3)+'\x0alyrics\x20Sh'+'ape\x20of\x20You'+_0x1860b2(0x1d2)+_0x1860b2(0x1e5)});return;}try{await botInstance['sendMessag'+'e'](_0x373c57,{'text':_0x1860b2(0x1f9)+'lyrics\x20for'+'\x20\x22'+_0x5147bd+_0x1860b2(0x1f5)},{'quoted':_0x4ab014['ms']});}catch(_0x5f5b29){try{await botInstance[_0x1860b2(0x1d3)+'e'](_0x373c57,{'text':_0x1860b2(0x1f9)+_0x1860b2(0x1c6)+'\x20\x22'+_0x5147bd+_0x1860b2(0x1f5)});}catch(_0xdf403d){}}let _0x2f864e=await getFromLyricsOvh(_0x5147bd)||await getFromAudius(_0x5147bd)||await getFromAlternativeAPI(_0x5147bd);if(!_0x2f864e||!_0x2f864e[_0x1860b2(0x1f1)]){await botInstance[_0x1860b2(0x1d3)+'e'](_0x373c57,{'text':_0x1860b2(0x1c4)+_0x1860b2(0x20a)+_0x1860b2(0x1fa)+_0x1860b2(0x1e2)+_0x1860b2(0x1ee)+'\x22Song\x20Titl'+_0x1860b2(0x1b8)+_0x1860b2(0x1d4)+'st\x20the\x20son'+'g\x20title'});return;}const _0x243623=_0x2f864e[_0x1860b2(0x1b6)]||_0x5147bd,_0x5688b8=_0x2f864e[_0x1860b2(0x205)]||_0x1860b2(0x19c)+'tist',_0x1e5d53=_0x2f864e[_0x1860b2(0x1d8)]||_0x1860b2(0x195)+_0x1860b2(0x1be)+_0x1860b2(0x1a4)+'n.jpg',_0x1415bd=String(_0x2f864e[_0x1860b2(0x1f1)]||'')[_0x1860b2(0x1c1)]();let _0x38a478=_0x1415bd;_0x1415bd['length']>0x5*0x31c+0x1*-0xbe1+0xa01&&(_0x38a478=_0x1415bd[_0x1860b2(0x1d6)](-0x1bf+-0x2f*-0xcf+0xdd*-0x2a,0x1781+0x2030*0x1+-0x2a05)+(_0x1860b2(0x1b9)+'ics\x20trunca'+'ted)'));const _0x367a57='·µó ∞·µâÀ¢·µâ\x20À° ∏ ≥·∂¶'+_0x1860b2(0x1aa)+_0x1860b2(0x1cc)+'\x20·µò‚Åø·µÉ·µõ·µÉ‚Å±À°·µÉ·µá'+_0x1860b2(0x211)+_0x1860b2(0x1a8)+_0x1860b2(0x1bb)+'‚ÅøÀ¢.',_0x14bf88=_0x1860b2(0x1e6)+_0x1860b2(0x1b0)+_0x243623+_0x1860b2(0x1eb)+_0x5688b8+'\x0a'+_0x367a57+'\x0a\x0a'+_0x38a478;try{const _0x154b35=await _0x3ad4ea[_0x1860b2(0x1dd)](_0x1e5d53,{'responseType':'arraybuffe'+'r','timeout':0x2710}),_0x5691a1=Buffer['from'](_0x154b35['data'],_0x1860b2(0x212));await botInstance[_0x1860b2(0x1d3)+'e'](_0x373c57,{'image':_0x5691a1,'caption':_0x14bf88},{'quoted':_0x4ab014['ms']}),info(name+(_0x1860b2(0x1a6)+_0x1860b2(0x1ae)+'or\x20\x22')+_0x5147bd+_0x1860b2(0x19e)+_0x373c57);}catch(_0x2b5cf2){try{await botInstance['sendMessag'+'e'](_0x373c57,{'text':_0x14bf88},{'quoted':_0x4ab014['ms']}),info(name+(':\x20delivere'+_0x1860b2(0x19a)+_0x1860b2(0x19f)+'\x22')+_0x5147bd+_0x1860b2(0x19e)+_0x373c57);}catch(_0x33a979){error(_0x33a979,name+(_0x1860b2(0x1ec)+_0x1860b2(0x199)+'\x20failed'));}}}catch(_0x2f6141){error(_0x2f6141,name+(_0x1860b2(0x1fb)+_0x1860b2(0x1fd)));}}export async function cleanup(){const _0x51cbf4=_0x4f5e;try{botInstance=null,respondedMsgIds[_0x51cbf4(0x20f)](),info(name+(_0x51cbf4(0x1c9)+'p'));}catch(_0x4433af){warn(name+(_0x51cbf4(0x1ce)+_0x51cbf4(0x1f7))+(_0x4433af?.[_0x51cbf4(0x1c3)]||_0x4433af));}}