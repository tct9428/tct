const _0x2d8ad5=_0x507c;function _0x507c(_0x3d2eb8,_0x25f004){const _0xd96d79=_0x50f0();return _0x507c=function(_0x48c1ac,_0x3d521d){_0x48c1ac=_0x48c1ac-(0x517*0x5+0x12f7+0x2af2*-0x1);let _0x4e278c=_0xd96d79[_0x48c1ac];return _0x4e278c;},_0x507c(_0x3d2eb8,_0x25f004);}(function(_0x5d0712,_0x3e4f21){const _0x43dabe=_0x507c,_0x5d6d2e=_0x5d0712();while(!![]){try{const _0x892813=parseInt(_0x43dabe(0x1a0))/(-0xd52+0x1*-0x1670+0x23c3)*(-parseInt(_0x43dabe(0x18c))/(-0x457*-0x1+-0x200d+0x1bb8))+parseInt(_0x43dabe(0x1bd))/(0xacf+0x1b73+-0x263f)*(parseInt(_0x43dabe(0x19f))/(0x69f+0x1b69+-0x2204))+parseInt(_0x43dabe(0x1b4))/(-0x321+-0x1*0xa15+0xd3b)+-parseInt(_0x43dabe(0x19c))/(-0x19b3+0xa50+-0xf69*-0x1)+-parseInt(_0x43dabe(0x17c))/(-0x20de+-0x11ab+-0x329*-0x10)+parseInt(_0x43dabe(0x17b))/(-0x3*-0x373+0x4*0x41+-0x3c7*0x3)*(parseInt(_0x43dabe(0x1ce))/(-0x3*0x435+-0x1420+0x1*0x20c8))+parseInt(_0x43dabe(0x1cd))/(0xe91+-0xa45+-0x221*0x2);if(_0x892813===_0x3e4f21)break;else _0x5d6d2e['push'](_0x5d6d2e['shift']());}catch(_0x396921){_0x5d6d2e['push'](_0x5d6d2e['shift']());}}}(_0x50f0,0x795f7*0x2+0x4183c*-0x4+0x2*0x5ec5d));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x2d8ad5(0x1ad);export const version=_0x2d8ad5(0x1ab);export const priority=0x1de*0xb+0x3*0x3b9+-0x1fab;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x12ff82=[]){const _0x29966f=_0x2d8ad5;try{if(!Array[_0x29966f(0x1cb)](_0x12ff82)||_0x12ff82[_0x29966f(0x17e)]===0x28f+-0x67a*0x1+0x3eb)return null;const _0x2a2eac=await listSudo();if(!Array[_0x29966f(0x1cb)](_0x2a2eac)||_0x2a2eac[_0x29966f(0x17e)]===0x23a1*-0x1+-0xfdc+0x337d)return null;const _0x3d9def=new Set(_0x2a2eac['map'](_0x2909cf=>String(_0x2909cf)));for(const _0x2272e9 of _0x12ff82){if(!_0x2272e9?.['jid']||typeof _0x2272e9[_0x29966f(0x1ae)]!==_0x29966f(0x1a6))continue;const _0x3f29fc=normalizeToJid(_0x2272e9['jid']);if(_0x3f29fc&&_0x3d9def[_0x29966f(0x178)](_0x3f29fc))return _0x3f29fc;if(_0x3d9def['has'](_0x2272e9['jid']))return _0x2272e9[_0x29966f(0x1ae)];}return null;}catch(_0x16d7b9){return warn(name+(_0x29966f(0x18a)+_0x29966f(0x196)+_0x29966f(0x197)+'error:\x20')+(_0x16d7b9?.[_0x29966f(0x1a5)]||_0x16d7b9)),null;}}export async function initialize(_0x4e6971){const _0x5c0541=_0x2d8ad5;botInstance=_0x4e6971,info(name+(_0x5c0541(0x17a)+_0x5c0541(0x1c4)));}function _0x50f0(){const _0x2fe494=[':\x20replied\x20','statusText','toLowerCas','fromMe',':\x20Could\x20no','ipping.','\x20public\x20UR','g;\x20cannot\x20','status','edMatchFro','mFindings\x20','ed:\x20','slice','trim','stringify','2567850pjcNfz','get','\x20in\x20group\x20','1644596oSGhrV','3dVjdFN','L\x20and\x20retu','size','origin','https://','message','string','ngth','parse','@g.us','pathname','1.0.2','o\x20large:\x20','fetch','jid','ttp://\x20or\x20','Fetch\x20fail','Content\x20to','etches\x20any','searchPara','1237880vvxxFz','catch','from','rror','test',':\x20botInsta','content-ty','clear','content-le','3ifcpoz','key','\x20command).',':\x20unknown\x20','\x20cleaned\x20u','startsWith','sendMessag','zed.','Start\x20the\x20','client','stination\x20','ch\x20<url>\x0aF','\x20to\x20','\x20fetch\x20err','isArray','add','19257430JIRYXi','18ttrQpe','nce\x20missin','has','rns\x20image/',':\x20initiali','452024rfmxLB','7914830cFElwZ','unknown','length','search','\x20handler\x20e','nt\x20from\x20','>\x20>\x20*BMW\x20M','endsWith','proceed.','URL\x20with\x20h','Usage:\x20fet','/document.','headers',':\x20received',':\x20findStor','t\x20determin','294358NOasfR'];_0x50f0=function(){return _0x2fe494;};return _0x50f0();}export async function onMessage(_0x1350c2){const _0x58a1c0=_0x2d8ad5;try{if(!_0x1350c2||!_0x1350c2[_0x58a1c0(0x1be)])return;const _0x5988ac=_0x1350c2['key']['id'];if(_0x5988ac&&respondedMsgIds[_0x58a1c0(0x178)](_0x5988ac))return;if(!_0x1350c2['isCommand'])return;const _0x5422b3=(_0x1350c2['text']||'')[_0x58a1c0(0x19a)]();if(!_0x5422b3[_0x58a1c0(0x18f)+'e']()[_0x58a1c0(0x1c2)](_0x58a1c0(0x1ad)))return;if(_0x5988ac)respondedMsgIds[_0x58a1c0(0x1cc)](_0x5988ac);const _0x42e355=_0x5422b3[_0x58a1c0(0x17e)]>-0x5*-0x95+0x1612*-0x1+-0x1eb*-0xa?_0x5422b3[_0x58a1c0(0x199)](0x1525+-0x4ed+-0x1033)[_0x58a1c0(0x19a)]():'',_0x5bc3c7=_0x1350c2['remoteJid']||_0x1350c2[_0x58a1c0(0x1be)]['remoteJid']||_0x58a1c0(0x17d);if(_0x5bc3c7==='unknown'){warn(name+(_0x58a1c0(0x1c0)+'chatId;\x20sk'+_0x58a1c0(0x192)));return;}const _0x21e857=_0x5bc3c7[_0x58a1c0(0x183)](_0x58a1c0(0x1a9));if(_0x21e857){info(name+(_0x58a1c0(0x189)+_0x58a1c0(0x19e))+_0x5bc3c7+('\x20â€”\x20ignorin'+'g\x20(PM-only'+_0x58a1c0(0x1bf)));return;}if(!botInstance){botInstance=_0x1350c2['bot']||_0x1350c2[_0x58a1c0(0x1c6)]||null;if(!botInstance){warn(name+(_0x58a1c0(0x1b9)+_0x58a1c0(0x1cf)+_0x58a1c0(0x194)+_0x58a1c0(0x184)));return;}}const _0x3b0e1c=getBotJid();let _0x421d1a=_0x3b0e1c;const _0x436621=Boolean(_0x1350c2[_0x58a1c0(0x1be)][_0x58a1c0(0x190)]);if(!_0x436621){const _0x33c18c=await isSudo(botInstance,_0x1350c2)[_0x58a1c0(0x1b5)](()=>![]);if(!_0x33c18c)return;const {findings:_0x19ebd5}=userJidFromCtx(_0x1350c2),_0x40bdd2=await findStoredMatchFromFindings(_0x19ebd5);if(!_0x40bdd2)return;_0x421d1a=_0x40bdd2;}if(!_0x421d1a){warn(name+(_0x58a1c0(0x191)+_0x58a1c0(0x18b)+'e\x20final\x20de'+_0x58a1c0(0x1c7)+'for\x20messag'+'e.'));return;}if(!_0x42e355){await botInstance[_0x58a1c0(0x1c3)+'e'](_0x421d1a,{'text':_0x58a1c0(0x186)+_0x58a1c0(0x1c8)+_0x58a1c0(0x1b2)+_0x58a1c0(0x193)+_0x58a1c0(0x1a1)+_0x58a1c0(0x179)+'video/text'+_0x58a1c0(0x187)});return;}if(!/^https?:\/\//[_0x58a1c0(0x1b8)](_0x42e355)){await botInstance[_0x58a1c0(0x1c3)+'e'](_0x421d1a,{'text':_0x58a1c0(0x1c5)+_0x58a1c0(0x185)+_0x58a1c0(0x1af)+_0x58a1c0(0x1a4)});return;}try{const _0x7f6c99=new URL(_0x42e355),_0x1728e6=''+_0x7f6c99[_0x58a1c0(0x1a3)]+_0x7f6c99[_0x58a1c0(0x1aa)]+(_0x7f6c99[_0x58a1c0(0x17f)]?'?'+_0x7f6c99[_0x58a1c0(0x1b3)+'ms']['toString']():''),_0x3ea7a5=await fetch(_0x1728e6);if(!_0x3ea7a5['ok']){await botInstance[_0x58a1c0(0x1c3)+'e'](_0x421d1a,{'text':_0x58a1c0(0x1b0)+_0x58a1c0(0x198)+_0x3ea7a5[_0x58a1c0(0x195)]+'\x20'+_0x3ea7a5[_0x58a1c0(0x18e)]});return;}const _0x3dc003=_0x3ea7a5[_0x58a1c0(0x188)][_0x58a1c0(0x19d)](_0x58a1c0(0x1bc)+_0x58a1c0(0x1a7));if(_0x3dc003&&parseInt(_0x3dc003)>0x1*-0x9f42e84+0xb895051+0xdad*0x575f){await botInstance['sendMessag'+'e'](_0x421d1a,{'text':_0x58a1c0(0x1b1)+_0x58a1c0(0x1ac)+_0x3dc003});return;}const _0x2b16ec=_0x3ea7a5[_0x58a1c0(0x188)][_0x58a1c0(0x19d)](_0x58a1c0(0x1ba)+'pe')||'',_0x557077=Buffer[_0x58a1c0(0x1b6)](await _0x3ea7a5['arrayBuffe'+'r']());if(/^image\//[_0x58a1c0(0x1b8)](_0x2b16ec))await botInstance[_0x58a1c0(0x1c3)+'e'](_0x421d1a,{'image':{'url':_0x1728e6},'caption':_0x58a1c0(0x182)+'D*'},{'quoted':_0x1350c2['ms']});else{if(/^video\//[_0x58a1c0(0x1b8)](_0x2b16ec))await botInstance['sendMessag'+'e'](_0x421d1a,{'video':{'url':_0x1728e6},'caption':_0x58a1c0(0x182)+'D*'},{'quoted':_0x1350c2['ms']});else{if(/text|json/[_0x58a1c0(0x1b8)](_0x2b16ec)){let _0xfc4f9c;try{const _0x1d8d8b=JSON[_0x58a1c0(0x1a8)](_0x557077);_0xfc4f9c=JSON[_0x58a1c0(0x19b)](_0x1d8d8b,null,-0x4e*-0x68+0x283*0x1+-0x2231);}catch{_0xfc4f9c=_0x557077['toString']();}await botInstance[_0x58a1c0(0x1c3)+'e'](_0x421d1a,{'text':_0xfc4f9c['slice'](-0x1792+-0x1*0xeaa+-0x263c*-0x1,0x4bb8+-0x19*-0x314+-0x719c)});}else await botInstance[_0x58a1c0(0x1c3)+'e'](_0x421d1a,{'document':{'url':_0x1728e6},'caption':_0x58a1c0(0x182)+'D*'},{'quoted':_0x1350c2['ms']});}}info(name+(_0x58a1c0(0x18d)+'with\x20conte'+_0x58a1c0(0x181))+_0x1728e6+_0x58a1c0(0x1c9)+_0x421d1a);}catch(_0x14aabb){error(_0x14aabb,name+(_0x58a1c0(0x1ca)+'or')),await botInstance[_0x58a1c0(0x1c3)+'e'](_0x421d1a,{'text':'Error\x20fetc'+'hing:\x20'+_0x14aabb['message']});}if(respondedMsgIds[_0x58a1c0(0x1a2)]>-0x559*-0x3+0x25cd*-0x1+-0x46*-0x97){const _0x373108=Array[_0x58a1c0(0x1b6)](respondedMsgIds);respondedMsgIds=new Set(_0x373108[_0x58a1c0(0x199)](-(0x7*0x575+-0x1*-0x1abd+-0x3538)));}}catch(_0xcf2d43){error(_0xcf2d43,name+(_0x58a1c0(0x180)+_0x58a1c0(0x1b7)));}}export async function cleanup(){const _0x18eebd=_0x2d8ad5;try{botInstance=null,respondedMsgIds[_0x18eebd(0x1bb)](),info(name+(_0x18eebd(0x1c1)+'p'));}catch(_0x3a3ea4){warn(name+('\x20cleanup\x20e'+'rror:\x20')+(_0x3a3ea4?.[_0x18eebd(0x1a5)]||_0x3a3ea4));}}