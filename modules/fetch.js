const _0x3cc41b=_0x2fd8;(function(_0x580e7b,_0x20b424){const _0x1f5074=_0x2fd8,_0x2628d3=_0x580e7b();while(!![]){try{const _0x3054d2=parseInt(_0x1f5074(0xbb))/(-0x2b*-0x85+-0x1de1*-0x1+-0x3437)+-parseInt(_0x1f5074(0xbc))/(-0x1*0x1274+-0x607*-0x1+-0x1*-0xc6f)+-parseInt(_0x1f5074(0xb1))/(0x209b+-0x1*0x11f3+-0xea5)+-parseInt(_0x1f5074(0xd0))/(0x1*0x2593+0x6*0x512+-0x43fb)+parseInt(_0x1f5074(0x7d))/(-0x97a*0x1+0x1d22+-0x13a3)*(-parseInt(_0x1f5074(0x89))/(0x50b+0x86*-0x32+0x1527))+parseInt(_0x1f5074(0x94))/(0x92f*0x1+0x5a8*0x1+-0xed0)*(parseInt(_0x1f5074(0x9f))/(0xb27*0x2+-0x6bb+0xad*-0x17))+parseInt(_0x1f5074(0xca))/(0x21c4+-0x3df*0x2+0x1*-0x19fd);if(_0x3054d2===_0x20b424)break;else _0x2628d3['push'](_0x2628d3['shift']());}catch(_0x3bb6ce){_0x2628d3['push'](_0x2628d3['shift']());}}}(_0xda02,-0x1*0xd79+0xa56f9+0x202d4*-0x1));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x3cc41b(0xd1);export const version=_0x3cc41b(0xae);function _0xda02(){const _0x26d653=['nt\x20from\x20','from','rror:\x20','jid','\x20to\x20','413021eLjkEf','985500PmnwUQ','origin',':\x20initiali','L\x20and\x20retu','isCommand','headers','clear','Content\x20to','rror','message','content-le','ipping.','startsWith','stringify','13425588csGrgW','zed.','video/text','ch\x20<url>\x0aF','etches\x20any','remoteJid','753448caelYc','fetch','nce\x20missin','\x20fetch\x20err','5AKiTxs','search','URL\x20with\x20h','get','rns\x20image/','searchPara','ttp://\x20or\x20','e\x20final\x20de','client','trim','status','for\x20messag','5678922wDVZcd','arrayBuffe','fromMe','toLowerCas','bot','add','ed:\x20','@g.us','edMatchFro','chatId;\x20sk','key','74914oZOpPO','has',':\x20replied\x20','unknown','Error\x20fetc','isArray','g\x20(PM-only','test','\x20cleaned\x20u','hing:\x20','length','584qktcUR','t\x20determin','Fetch\x20fail','catch','/document.','error:\x20','stination\x20','sendMessag','\x20public\x20UR','\x20â€”\x20ignorin','toString','slice','>\x20>\x20*BMW\x20M','\x20in\x20group\x20','mFindings\x20','1.0.2','content-ty','ngth','1548060DYHalV','Start\x20the\x20','Usage:\x20fet','g;\x20cannot\x20',':\x20unknown\x20'];_0xda02=function(){return _0x26d653;};return _0xda02();}export const priority=-0x1518+-0x7*-0x416+-0x778;function _0x2fd8(_0x4d08fd,_0x1d0529){const _0x30e6a8=_0xda02();return _0x2fd8=function(_0x4e41eb,_0x15f141){_0x4e41eb=_0x4e41eb-(0x20fe+0x7f*-0x33+-0x735);let _0x5298ca=_0x30e6a8[_0x4e41eb];return _0x5298ca;},_0x2fd8(_0x4d08fd,_0x1d0529);}let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x44ee46=[]){const _0x1601f1=_0x3cc41b;try{if(!Array[_0x1601f1(0x99)](_0x44ee46)||_0x44ee46[_0x1601f1(0x9e)]===-0x182f*-0x1+-0x26a9+0xe7a)return null;const _0x36955c=await listSudo();if(!Array['isArray'](_0x36955c)||_0x36955c['length']===0x983*-0x2+0x23e6+-0x10e0)return null;const _0x31799a=new Set(_0x36955c['map'](_0x546860=>String(_0x546860)));for(const _0x1df8e4 of _0x44ee46){if(!_0x1df8e4?.[_0x1601f1(0xb9)]||typeof _0x1df8e4[_0x1601f1(0xb9)]!=='string')continue;const _0x34b7bd=normalizeToJid(_0x1df8e4['jid']);if(_0x34b7bd&&_0x31799a[_0x1601f1(0x95)](_0x34b7bd))return _0x34b7bd;if(_0x31799a['has'](_0x1df8e4[_0x1601f1(0xb9)]))return _0x1df8e4['jid'];}return null;}catch(_0x452eab){return warn(name+(':\x20findStor'+_0x1601f1(0x91)+_0x1601f1(0xad)+_0x1601f1(0xa4))+(_0x452eab?.['message']||_0x452eab)),null;}}export async function initialize(_0x42d423){const _0x40243a=_0x3cc41b;botInstance=_0x42d423,info(name+(_0x40243a(0xbe)+_0x40243a(0xcb)));}export async function onMessage(_0x40f3d8){const _0x1d629c=_0x3cc41b;try{if(!_0x40f3d8||!_0x40f3d8[_0x1d629c(0x93)])return;const _0x51cbcd=_0x40f3d8[_0x1d629c(0x93)]['id'];if(_0x51cbcd&&respondedMsgIds['has'](_0x51cbcd))return;if(!_0x40f3d8[_0x1d629c(0xc0)])return;const _0x1c36e1=(_0x40f3d8['text']||'')[_0x1d629c(0x86)]();if(!_0x1c36e1[_0x1d629c(0x8c)+'e']()[_0x1d629c(0xc8)](_0x1d629c(0xd1)))return;if(_0x51cbcd)respondedMsgIds[_0x1d629c(0x8e)](_0x51cbcd);const _0x59476e=_0x1c36e1[_0x1d629c(0x9e)]>0x13*0x10a+-0x2171+0xdb8?_0x1c36e1[_0x1d629c(0xaa)](-0x3*-0xb7e+0x2126+-0x439b)[_0x1d629c(0x86)]():'',_0x1918b9=_0x40f3d8[_0x1d629c(0xcf)]||_0x40f3d8[_0x1d629c(0x93)]['remoteJid']||'unknown';if(_0x1918b9===_0x1d629c(0x97)){warn(name+(_0x1d629c(0xb5)+_0x1d629c(0x92)+_0x1d629c(0xc7)));return;}const _0x2d580f=_0x1918b9['endsWith'](_0x1d629c(0x90));if(_0x2d580f){info(name+(':\x20received'+_0x1d629c(0xac))+_0x1918b9+(_0x1d629c(0xa8)+_0x1d629c(0x9a)+'\x20command).'));return;}if(!botInstance){botInstance=_0x40f3d8[_0x1d629c(0x8d)]||_0x40f3d8[_0x1d629c(0x85)]||null;if(!botInstance){warn(name+(':\x20botInsta'+_0x1d629c(0xd2)+_0x1d629c(0xb4)+'proceed.'));return;}}const _0x114b08=getBotJid();let _0x5c7729=_0x114b08;const _0x11b6aa=Boolean(_0x40f3d8[_0x1d629c(0x93)][_0x1d629c(0x8b)]);if(!_0x11b6aa){const _0x4a6563=await isSudo(botInstance,_0x40f3d8)[_0x1d629c(0xa2)](()=>![]);if(!_0x4a6563)return;const {findings:_0x4ac7b6}=userJidFromCtx(_0x40f3d8),_0x572400=await findStoredMatchFromFindings(_0x4ac7b6);if(!_0x572400)return;_0x5c7729=_0x572400;}if(!_0x5c7729){warn(name+(':\x20Could\x20no'+_0x1d629c(0xa0)+_0x1d629c(0x84)+_0x1d629c(0xa5)+_0x1d629c(0x88)+'e.'));return;}if(!_0x59476e){await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'text':_0x1d629c(0xb3)+_0x1d629c(0xcd)+_0x1d629c(0xce)+_0x1d629c(0xa7)+_0x1d629c(0xbf)+_0x1d629c(0x81)+_0x1d629c(0xcc)+_0x1d629c(0xa3)});return;}if(!/^https?:\/\//[_0x1d629c(0x9b)](_0x59476e)){await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'text':_0x1d629c(0xb2)+_0x1d629c(0x7f)+_0x1d629c(0x83)+'https://'});return;}try{const _0x27cbeb=new URL(_0x59476e),_0x1cf092=''+_0x27cbeb[_0x1d629c(0xbd)]+_0x27cbeb['pathname']+(_0x27cbeb[_0x1d629c(0x7e)]?'?'+_0x27cbeb[_0x1d629c(0x82)+'ms']['toString']():''),_0x1a475a=await fetch(_0x1cf092);if(!_0x1a475a['ok']){await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'text':_0x1d629c(0xa1)+_0x1d629c(0x8f)+_0x1a475a[_0x1d629c(0x87)]+'\x20'+_0x1a475a['statusText']});return;}const _0x1ae4bd=_0x1a475a[_0x1d629c(0xc1)][_0x1d629c(0x80)](_0x1d629c(0xc6)+_0x1d629c(0xb0));if(_0x1ae4bd&&parseInt(_0x1ae4bd)>0xb4e7b88+-0x2cec00f+-0x23fbb79*0x1){await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'text':_0x1d629c(0xc3)+'o\x20large:\x20'+_0x1ae4bd});return;}const _0x2f889a=_0x1a475a[_0x1d629c(0xc1)]['get'](_0x1d629c(0xaf)+'pe')||'',_0x3e66e8=Buffer[_0x1d629c(0xb7)](await _0x1a475a[_0x1d629c(0x8a)+'r']());if(/^image\//[_0x1d629c(0x9b)](_0x2f889a))await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'image':{'url':_0x1cf092},'caption':'>\x20>\x20*BMW\x20M'+'D*'},{'quoted':_0x40f3d8['ms']});else{if(/^video\//['test'](_0x2f889a))await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'video':{'url':_0x1cf092},'caption':'>\x20>\x20*BMW\x20M'+'D*'},{'quoted':_0x40f3d8['ms']});else{if(/text|json/[_0x1d629c(0x9b)](_0x2f889a)){let _0x332ff4;try{const _0x5e65da=JSON['parse'](_0x3e66e8);_0x332ff4=JSON[_0x1d629c(0xc9)](_0x5e65da,null,-0xd81*-0x1+-0x20a9+0x132a);}catch{_0x332ff4=_0x3e66e8[_0x1d629c(0xa9)]();}await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'text':_0x332ff4[_0x1d629c(0xaa)](0x1*-0xe3f+0x1*-0x263+0x10a2,0x2051+0x41a4+-0x3ae5)});}else await botInstance[_0x1d629c(0xa6)+'e'](_0x5c7729,{'document':{'url':_0x1cf092},'caption':_0x1d629c(0xab)+'D*'},{'quoted':_0x40f3d8['ms']});}}info(name+(_0x1d629c(0x96)+'with\x20conte'+_0x1d629c(0xb6))+_0x1cf092+_0x1d629c(0xba)+_0x5c7729);}catch(_0x1dcfb2){error(_0x1dcfb2,name+(_0x1d629c(0x7c)+'or')),await botInstance['sendMessag'+'e'](_0x5c7729,{'text':_0x1d629c(0x98)+_0x1d629c(0x9d)+_0x1dcfb2[_0x1d629c(0xc5)]});}if(respondedMsgIds['size']>-0xaae+0x2*0x101f+-0x208){const _0x5576f5=Array[_0x1d629c(0xb7)](respondedMsgIds);respondedMsgIds=new Set(_0x5576f5[_0x1d629c(0xaa)](-(0x4*-0x852+-0x136*0x14+-0x5*-0xdd8)));}}catch(_0x53bd52){error(_0x53bd52,name+('\x20handler\x20e'+_0x1d629c(0xc4)));}}export async function cleanup(){const _0x44e8c2=_0x3cc41b;try{botInstance=null,respondedMsgIds[_0x44e8c2(0xc2)](),info(name+(_0x44e8c2(0x9c)+'p'));}catch(_0x129f98){warn(name+('\x20cleanup\x20e'+_0x44e8c2(0xb8))+(_0x129f98?.[_0x44e8c2(0xc5)]||_0x129f98));}}