function _0x154d(_0x4afb48,_0x2c94c7){_0x4afb48=_0x4afb48-(-0x5e7*0x2+0x1c85+-0xf94);const _0x41a9e4=_0x377b();let _0x3a36bb=_0x41a9e4[_0x4afb48];return _0x3a36bb;}const _0x202c75=_0x154d;function _0x377b(){const _0x16cd01=['stination\x20','map','158582OPOXLy','104857NOpJpN','6AylUAz','ch\x20<url>\x0aF','25128uQLHKp','with\x20conte','catch','rror','toLowerCas','rns\x20image/','\x20command).','3061236JPyrbp','parse','1492lnSHsj','for\x20messag','>\x20>\x20*BMW\x20M','\x20to\x20',':\x20findStor','Fetch\x20fail','startsWith','add','remoteJid','toString','nce\x20missin','\x20cleaned\x20u','bot','test','unknown','size','zed.','Usage:\x20fet',':\x20Could\x20no','chatId;\x20sk','error:\x20','clear','1165DsjpTK','sendMessag',':\x20replied\x20','content-ty','etches\x20any','jid','length','e\x20final\x20de','https://','1.0.2','ipping.','fetch','client','14hKzcrT','isArray',':\x20initiali','trim','2285090CUXkyO','1133FIbqTu','URL\x20with\x20h','from','3478192DXwusE','9mzwRDn','\x20handler\x20e','message','\x20public\x20UR','content-le','searchPara','\x20fetch\x20err','g;\x20cannot\x20','arrayBuffe','origin','video/text','key','headers','slice',':\x20botInsta','t\x20determin','text',':\x20unknown\x20','endsWith','has','Error\x20fetc','ngth','get','proceed.','mFindings\x20',':\x20received','o\x20large:\x20'];_0x377b=function(){return _0x16cd01;};return _0x377b();}(function(_0x27339e,_0xa5f77e){const _0x326bca=_0x154d,_0x379c6b=_0x27339e();while(!![]){try{const _0x27d9f5=-parseInt(_0x326bca(0x144))/(-0x11*0x197+-0x9c+0x1ba4)+parseInt(_0x326bca(0x143))/(0x12c2+-0xe+-0x1*0x12b2)*(-parseInt(_0x326bca(0x145))/(0x1939+-0x1*-0x15f6+-0x2f2c))+-parseInt(_0x326bca(0x150))/(0x99d*0x1+0x3a*-0x19+-0x3ef)*(parseInt(_0x326bca(0x166))/(0x48*0x6f+-0x4*-0x655+0x3887*-0x1))+parseInt(_0x326bca(0x14e))/(-0xa9f*0x1+-0xdd4+0x7*0x37f)+parseInt(_0x326bca(0x173))/(0x2556+-0x62*0x42+0xc0b*-0x1)*(parseInt(_0x326bca(0x125))/(0xb*0x1f+-0xa7b+0x92e))+parseInt(_0x326bca(0x126))/(-0x82*0x2c+0x80f*0x1+0xe52)*(-parseInt(_0x326bca(0x177))/(-0x7cc+0x20e4+-0x190e))+parseInt(_0x326bca(0x178))/(-0x1f30*0x1+-0x16b0+0x35eb)*(-parseInt(_0x326bca(0x147))/(-0x1cb5*0x1+0x14*0x1c1+-0x653));if(_0x27d9f5===_0xa5f77e)break;else _0x379c6b['push'](_0x379c6b['shift']());}catch(_0x581b9c){_0x379c6b['push'](_0x379c6b['shift']());}}}(_0x377b,0x4fd*-0x25f+-0x79761+0x1c5943));import{info,warn,error}from'../utils/logger.js';import{isSudo,userJidFromCtx,listSudo,normalizeToJid}from'../utils/sudo.js';import{getBotJid}from'../utils/bot-state.js';export const name=_0x202c75(0x171);export const version=_0x202c75(0x16f);export const priority=-0x1c1e+0x1e73+-0x24b*0x1;let botInstance=null,respondedMsgIds=new Set();async function findStoredMatchFromFindings(_0x24d817=[]){const _0x1e2658=_0x202c75;try{if(!Array[_0x1e2658(0x174)](_0x24d817)||_0x24d817[_0x1e2658(0x16c)]===0x1bf8+-0xf96+-0xc62)return null;const _0x2bfdcd=await listSudo();if(!Array[_0x1e2658(0x174)](_0x2bfdcd)||_0x2bfdcd[_0x1e2658(0x16c)]===-0x22*0x10f+0x13c3+-0x33f*-0x5)return null;const _0x38d8c4=new Set(_0x2bfdcd[_0x1e2658(0x142)](_0x1bc200=>String(_0x1bc200)));for(const _0x5ba131 of _0x24d817){if(!_0x5ba131?.[_0x1e2658(0x16b)]||typeof _0x5ba131[_0x1e2658(0x16b)]!=='string')continue;const _0x1236c6=normalizeToJid(_0x5ba131[_0x1e2658(0x16b)]);if(_0x1236c6&&_0x38d8c4['has'](_0x1236c6))return _0x1236c6;if(_0x38d8c4[_0x1e2658(0x139)](_0x5ba131[_0x1e2658(0x16b)]))return _0x5ba131[_0x1e2658(0x16b)];}return null;}catch(_0x5d167f){return warn(name+(_0x1e2658(0x154)+'edMatchFro'+_0x1e2658(0x13e)+_0x1e2658(0x164))+(_0x5d167f?.[_0x1e2658(0x128)]||_0x5d167f)),null;}}export async function initialize(_0x5a03a9){const _0x5d0026=_0x202c75;botInstance=_0x5a03a9,info(name+(_0x5d0026(0x175)+_0x5d0026(0x160)));}export async function onMessage(_0x526b49){const _0x3a1c42=_0x202c75;try{if(!_0x526b49||!_0x526b49[_0x3a1c42(0x131)])return;const _0x1c819c=_0x526b49[_0x3a1c42(0x131)]['id'];if(_0x1c819c&&respondedMsgIds[_0x3a1c42(0x139)](_0x1c819c))return;if(!_0x526b49['isCommand'])return;const _0x472e06=(_0x526b49[_0x3a1c42(0x136)]||'')[_0x3a1c42(0x176)]();if(!_0x472e06[_0x3a1c42(0x14b)+'e']()[_0x3a1c42(0x156)](_0x3a1c42(0x171)))return;if(_0x1c819c)respondedMsgIds[_0x3a1c42(0x157)](_0x1c819c);const _0x23d454=_0x472e06[_0x3a1c42(0x16c)]>0x181b*0x1+0xa57*-0x3+0x6ef?_0x472e06[_0x3a1c42(0x133)](0x4*0x678+0x2570+-0x5c1*0xb)[_0x3a1c42(0x176)]():'',_0x370809=_0x526b49[_0x3a1c42(0x158)]||_0x526b49[_0x3a1c42(0x131)][_0x3a1c42(0x158)]||_0x3a1c42(0x15e);if(_0x370809===_0x3a1c42(0x15e)){warn(name+(_0x3a1c42(0x137)+_0x3a1c42(0x163)+_0x3a1c42(0x170)));return;}const _0x51b1c5=_0x370809[_0x3a1c42(0x138)]('@g.us');if(_0x51b1c5){info(name+(_0x3a1c42(0x13f)+'\x20in\x20group\x20')+_0x370809+('\x20â€”\x20ignorin'+'g\x20(PM-only'+_0x3a1c42(0x14d)));return;}if(!botInstance){botInstance=_0x526b49[_0x3a1c42(0x15c)]||_0x526b49[_0x3a1c42(0x172)]||null;if(!botInstance){warn(name+(_0x3a1c42(0x134)+_0x3a1c42(0x15a)+_0x3a1c42(0x12d)+_0x3a1c42(0x13d)));return;}}const _0x3f9386=getBotJid();let _0x3a97ad=_0x3f9386;const _0x43f390=Boolean(_0x526b49[_0x3a1c42(0x131)]['fromMe']);if(!_0x43f390){const _0x244def=await isSudo(botInstance,_0x526b49)[_0x3a1c42(0x149)](()=>![]);if(!_0x244def)return;const {findings:_0x21b9b6}=userJidFromCtx(_0x526b49),_0x360869=await findStoredMatchFromFindings(_0x21b9b6);if(!_0x360869)return;_0x3a97ad=_0x360869;}if(!_0x3a97ad){warn(name+(_0x3a1c42(0x162)+_0x3a1c42(0x135)+_0x3a1c42(0x16d)+_0x3a1c42(0x141)+_0x3a1c42(0x151)+'e.'));return;}if(!_0x23d454){await botInstance['sendMessag'+'e'](_0x3a97ad,{'text':_0x3a1c42(0x161)+_0x3a1c42(0x146)+_0x3a1c42(0x16a)+_0x3a1c42(0x129)+'L\x20and\x20retu'+_0x3a1c42(0x14c)+_0x3a1c42(0x130)+'/document.'});return;}if(!/^https?:\/\//[_0x3a1c42(0x15d)](_0x23d454)){await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'text':'Start\x20the\x20'+_0x3a1c42(0x123)+'ttp://\x20or\x20'+_0x3a1c42(0x16e)});return;}try{const _0x3da3cc=new URL(_0x23d454),_0x924671=''+_0x3da3cc[_0x3a1c42(0x12f)]+_0x3da3cc['pathname']+(_0x3da3cc['search']?'?'+_0x3da3cc[_0x3a1c42(0x12b)+'ms'][_0x3a1c42(0x159)]():''),_0x3df0a9=await fetch(_0x924671);if(!_0x3df0a9['ok']){await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'text':_0x3a1c42(0x155)+'ed:\x20'+_0x3df0a9['status']+'\x20'+_0x3df0a9['statusText']});return;}const _0x1a3a17=_0x3df0a9[_0x3a1c42(0x132)][_0x3a1c42(0x13c)](_0x3a1c42(0x12a)+_0x3a1c42(0x13b));if(_0x1a3a17&&parseInt(_0x1a3a17)>0x77d2047+-0xc31755f+0xe9b1c2*0xc){await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'text':'Content\x20to'+_0x3a1c42(0x140)+_0x1a3a17});return;}const _0x1757af=_0x3df0a9['headers'][_0x3a1c42(0x13c)](_0x3a1c42(0x169)+'pe')||'',_0x445ebe=Buffer[_0x3a1c42(0x124)](await _0x3df0a9[_0x3a1c42(0x12e)+'r']());if(/^image\//[_0x3a1c42(0x15d)](_0x1757af))await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'image':{'url':_0x924671},'caption':_0x3a1c42(0x152)+'D*'},{'quoted':_0x526b49['ms']});else{if(/^video\//[_0x3a1c42(0x15d)](_0x1757af))await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'video':{'url':_0x924671},'caption':_0x3a1c42(0x152)+'D*'},{'quoted':_0x526b49['ms']});else{if(/text|json/[_0x3a1c42(0x15d)](_0x1757af)){let _0x38a2ba;try{const _0x4da85d=JSON[_0x3a1c42(0x14f)](_0x445ebe);_0x38a2ba=JSON['stringify'](_0x4da85d,null,0x1*0x31+0x9f7*-0x2+0x3f3*0x5);}catch{_0x38a2ba=_0x445ebe['toString']();}await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'text':_0x38a2ba[_0x3a1c42(0x133)](0xbcb*-0x2+-0xdd0+0x2566,-0x45be+0xa35*-0x3+0x8b6d*0x1)});}else await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'document':{'url':_0x924671},'caption':_0x3a1c42(0x152)+'D*'},{'quoted':_0x526b49['ms']});}}info(name+(_0x3a1c42(0x168)+_0x3a1c42(0x148)+'nt\x20from\x20')+_0x924671+_0x3a1c42(0x153)+_0x3a97ad);}catch(_0x27550d){error(_0x27550d,name+(_0x3a1c42(0x12c)+'or')),await botInstance[_0x3a1c42(0x167)+'e'](_0x3a97ad,{'text':_0x3a1c42(0x13a)+'hing:\x20'+_0x27550d[_0x3a1c42(0x128)]});}if(respondedMsgIds[_0x3a1c42(0x15f)]>-0x242f+-0x2321*0x1+0x24*0x286){const _0x15684c=Array['from'](respondedMsgIds);respondedMsgIds=new Set(_0x15684c[_0x3a1c42(0x133)](-(-0x12df+0x2*-0x6be+0x2c13)));}}catch(_0x98ca74){error(_0x98ca74,name+(_0x3a1c42(0x127)+_0x3a1c42(0x14a)));}}export async function cleanup(){const _0x2b8fea=_0x202c75;try{botInstance=null,respondedMsgIds[_0x2b8fea(0x165)](),info(name+(_0x2b8fea(0x15b)+'p'));}catch(_0x451d5a){warn(name+('\x20cleanup\x20e'+'rror:\x20')+(_0x451d5a?.['message']||_0x451d5a));}}